webpackJsonp([1],{

/***/ 104:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _reactTooltip = __webpack_require__(103);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _Tooltip = __webpack_require__(1954);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Tooltip = function Tooltip(_ref) {
  var children = _ref.children,
      id = _ref.id,
      dontHideMobile = _ref.dontHideMobile,
      place = _ref.place;
  return _react2.default.createElement(
    _react.Fragment,
    null,
    _react2.default.createElement(
      'span',
      { 'data-tip': true, 'data-for': id, styleName: 'tooltip' + (dontHideMobile ? ' tooltip_truesight' : '') },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Tooltip11', defaultMessage: '?' })
    ),
    _react2.default.createElement(
      _reactTooltip2.default,
      (0, _extends3.default)({ id: id, effect: 'solid', type: 'dark', multiline: true }, { place: place }, { styleName: 'r-tooltip' }),
      children
    )
  );
};

exports.default = (0, _reactCssModules2.default)(Tooltip, _Tooltip2.default, { allowMultiple: true });

/***/ }),

/***/ 115:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _InlineLoader = __webpack_require__(1974);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var InlineLoader = function InlineLoader() {
  return _react2.default.createElement(
    'div',
    { styleName: 'ellipsis' },
    _react2.default.createElement('div', null),
    _react2.default.createElement('div', null),
    _react2.default.createElement('div', null),
    _react2.default.createElement('div', null)
  );
};

exports.default = (0, _reactCssModules2.default)(InlineLoader, _InlineLoader2.default);

/***/ }),

/***/ 1186:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(_privateKey, app) {
  _swap2.default.required(app);

  var storageKey = app.network + ':bch:privateKey';
  var privateKey = _privateKey || app.env.storage.getItem(storageKey);
  var account = void 0;

  var network = (app.isMainNet() ? app.env.coininfo.bitcoincash.main : app.env.coininfo.bitcoincash.test).toBitcoinJS();

  if (!privateKey) {
    privateKey = app.env.bitcoincash.ECPair.makeRandom({ network: network }).toWIF();
  }

  account = new app.env.bitcoincash.ECPair.fromWIF(privateKey, network);

  account.getPublicKey = function () {
    return account.getPublicKeyBuffer().toString('hex');
  };
  account.getPrivateKey = function () {
    return privateKey;
  };

  if (!_privateKey) {
    app.env.storage.setItem(storageKey, privateKey);
  }

  return account;
};

var getPublicData = function getPublicData(account, app) {
  return {
    address: app.env.bchaddr.toCashAddress(account.getAddress()),
    publicKey: account.getPublicKey()
  };
};

exports.default = {
  login: login,
  getPublicData: getPublicData
};
module.exports = exports['default'];

/***/ }),

/***/ 1187:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(_privateKey, app) {
  _swap2.default.required(app);

  var storageKey = app.network + ':btc:privateKey';
  var privateKey = _privateKey || app.env.storage.getItem(storageKey);
  var account = void 0;

  var network = app.isMainNet() ? app.env.bitcoin.networks.bitcoin : app.env.bitcoin.networks.testnet;

  if (!privateKey) {
    privateKey = app.env.bitcoin.ECPair.makeRandom({ network: network }).toWIF();
  }

  account = new app.env.bitcoin.ECPair.fromWIF(privateKey, network);

  account.getPublicKey = function () {
    return account.getPublicKeyBuffer().toString('hex');
  };
  account.getPrivateKey = function () {
    return privateKey;
  };

  if (!_privateKey) {
    app.env.storage.setItem(storageKey, privateKey);
  }

  return account;
};

var getPublicData = function getPublicData(account) {
  return {
    address: account.getAddress(),
    publicKey: account.getPublicKey()
  };
};

exports.default = {
  login: login,
  getPublicData: getPublicData
};
module.exports = exports['default'];

/***/ }),

/***/ 1188:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(accountNameKey) {
  return accountNameKey;
};
var getPublicData = function getPublicData(accountNameKey) {
  return {
    address: window.localStorage.getItem(accountNameKey)
  };
};

exports.default = {
  login: login,
  getPublicData: getPublicData
};
module.exports = exports['default'];

/***/ }),

/***/ 1189:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(_privateKey, app) {
  _swap2.default.required(app);

  var storageKey = app.network + ':eth:privateKey';
  var privateKey = _privateKey || app.env.storage.getItem(storageKey);
  var account = void 0;

  if (privateKey) {
    account = app.env.web3.eth.accounts.privateKeyToAccount(privateKey);
  } else {
    account = app.env.web3.eth.accounts.create();
  }

  app.env.web3.eth.accounts.wallet.add(account.privateKey);

  if (!_privateKey) {
    app.env.storage.setItem(storageKey, account.privateKey);
  }

  return account;
};

var getPublicData = function getPublicData(account) {
  return {
    address: account.address,
    publicKey: null
  };
};

exports.default = {
  login: login,
  getPublicData: getPublicData
};
module.exports = exports['default'];

/***/ }),

/***/ 1190:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(_privateKey, app) {
  _swap2.default.required(app);

  var storageKey = app.network + ':ltc:privateKey';
  var privateKey = _privateKey || app.env.storage.getItem(storageKey);
  var account = void 0;

  var network = (app.isMainNet() ? app.env.coininfo.litecoin.main : app.env.coininfo.litecoin.test).toBitcoinJS();

  if (!privateKey) {
    privateKey = app.env.bitcoin.ECPair.makeRandom({ network: network }).toWIF();
  }

  account = new app.env.bitcoin.ECPair.fromWIF(privateKey, network);

  account.getPublicKey = function () {
    return account.getPublicKeyBuffer().toString('hex');
  };
  account.getPrivateKey = function () {
    return privateKey;
  };

  if (!_privateKey) {
    app.env.storage.setItem(storageKey, privateKey);
  }

  return account;
};

var getPublicData = function getPublicData(account) {
  return {
    address: account.getAddress(),
    publicKey: account.getPublicKey()
  };
};

exports.default = {
  login: login,
  getPublicData: getPublicData
};
module.exports = exports['default'];

/***/ }),

/***/ 1191:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _SwapRoom = __webpack_require__(3113);

var _SwapRoom2 = _interopRequireDefault(_SwapRoom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _SwapRoom2.default;
module.exports = exports['default'];

/***/ }),

/***/ 1193:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _swap = __webpack_require__(29);

exports.default = new _swap.Events();
module.exports = exports['default'];

/***/ }),

/***/ 1203:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

var bitcoin = __webpack_require__(151);

var toPaddedHexString = function toPaddedHexString(num, len) {
  var str = num.toString(16);
  return "0".repeat(len - str.length) + str;
};

module.exports = function (amount) {
  var coin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 31;


  var simple_send = ["6f6d6e69", // omni
  "0000", // tx type
  "0000", // version
  // "0000001f", // 31 for Tether
  toPaddedHexString(coin, 8),
  // "000000003B9ACA00" // amount = 10 * 100 000 000 in HEX
  toPaddedHexString(Math.floor(amount * 100000000), 16)].join('');

  var data = Buffer.from(simple_send, "hex");

  var omniOutput = bitcoin.script.compile([bitcoin.opcodes.OP_RETURN,
  // payload for OMNI PROTOCOL:
  data]);

  return omniOutput;
};
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 1204:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

var bitcoin = __webpack_require__(151);
var net = Object({"NODE_ENV":"production","ENTRY":"mainnet","LOCAL":"online","TESTNET":false,"MAINNET":true,"EXTENSION":false}).NETWORK === 'testnet' ? bitcoin.networks.testnet : bitcoin.networks.bitcoin;

/**
* creates an atomic swap bitcoin script
* @param swap_secret_hash hex with secret
* @param Bob_pubkey publicKey
* @param Alice_pubkey publicKey
* @param locktime Int
*/
var createScript = function createScript(swap_secret_hash, Alice_pubkey, Bob_pubkey, locktime) {
  /*
  operation::list SwapScript;
  SwapScript.push_back( operation(opcode::ripemd160) );
  SwapScript.push_back( operation(swap_secret_hash) );
  SwapScript.push_back( operation(opcode::equalverify) );
    SwapScript.push_back( operation(to_chunk(Bob_pubkey)) );
  SwapScript.push_back( operation(opcode::equal) );
    SwapScript.push_back( operation(opcode::if_) );
    SwapScript.push_back( operation(to_chunk(Bob_pubkey)) );
  SwapScript.push_back( operation(opcode::checksig) );
    SwapScript.push_back( operation(opcode::else_) );
  SwapScript.push_back( operation(uint32_to_data_chunk(locktime)) );
  SwapScript.push_back( operation(opcode::checklocktimeverify) );
  SwapScript.push_back( operation(opcode::drop) );
  SwapScript.push_back( operation(to_chunk(Alice_private.to_public().point() )) );
  SwapScript.push_back( operation(opcode::checksig) );
    SwapScript.push_back( operation(opcode::endif) );
  */

  var script = bitcoin.script.compile([bitcoin.opcodes.OP_RIPEMD160, Buffer.from(swap_secret_hash, 'hex'), bitcoin.opcodes.OP_EQUALVERIFY, Buffer.from(Bob_pubkey, 'hex'), bitcoin.opcodes.OP_EQUAL, bitcoin.opcodes.OP_IF, Buffer.from(Bob_pubkey, 'hex'), bitcoin.opcodes.OP_CHECKSIG, bitcoin.opcodes.OP_ELSE, bitcoin.script.number.encode(locktime), bitcoin.opcodes.OP_CHECKLOCKTIMEVERIFY, bitcoin.opcodes.OP_DROP, Buffer.from(Alice_pubkey, 'hex'), bitcoin.opcodes.OP_CHECKSIG, bitcoin.opcodes.OP_ENDIF]);

  var scriptPubKey = bitcoin.script.scriptHash.output.encode(bitcoin.crypto.hash160(script));
  var scriptAddress = bitcoin.address.fromOutputScript(scriptPubKey, net);

  return {
    script: script,
    scriptPubKey: scriptPubKey,
    scriptAddress: scriptAddress
  };
};

module.exports = createScript;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 1211:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "71af1b68ea0f662eb88996ea7a25bf8a.mp4";

/***/ }),

/***/ 1212:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _isInteger = __webpack_require__(297);

var _isInteger2 = _interopRequireDefault(_isInteger);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _dec, _dec2, _class, _class2, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(37);

var _helpers = __webpack_require__(17);

var _helpers2 = _interopRequireDefault(_helpers);

var _reactRouterDom = __webpack_require__(51);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _UserTooltip = __webpack_require__(3222);

var _UserTooltip2 = _interopRequireDefault(_UserTooltip);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _arrowRight = __webpack_require__(3223);

var _arrowRight2 = _interopRequireDefault(_arrowRight);

var _bignumber = __webpack_require__(30);

var _controls = __webpack_require__(46);

var _reactIntl = __webpack_require__(8);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var UserTooltip = (_dec = (0, _redaction.connect)(function (_ref) {
  var _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      bchData = _ref$user.bchData,
      tokensData = _ref$user.tokensData,
      eosData = _ref$user.eosData,
      telosData = _ref$user.telosData,
      nimData = _ref$user.nimData,
      ltcData = _ref$user.ltcData;
  return {
    currenciesData: [ethData, btcData, eosData, telosData, bchData, ltcData /* usdtOmniData, nimData */],
    tokensData: [].concat((0, _toConsumableArray3.default)((0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    })))
  };
}), _dec2 = (0, _reactCssModules2.default)(_UserTooltip2.default), _dec(_class = _dec2(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(UserTooltip, _Component);

  function UserTooltip(_ref2) {
    var tokensData = _ref2.tokensData,
        currenciesData = _ref2.currenciesData;
    (0, _classCallCheck3.default)(this, UserTooltip);

    var _this = (0, _possibleConstructorReturn3.default)(this, (UserTooltip.__proto__ || (0, _getPrototypeOf2.default)(UserTooltip)).call(this));

    _initialiseProps.call(_this);

    var allCurrencyies = currenciesData.concat(tokensData);
    var estimatedFeeValues = {};

    _this.state = {
      allCurrencyies: allCurrencyies,
      estimatedFeeValues: estimatedFeeValues
    };
    return _this;
  }

  (0, _createClass3.default)(UserTooltip, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.setEstimatedFeeValues(this.state.estimatedFeeValues);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          feeds = _props.feeds,
          mePeer = _props.peer;


      var autoAcceptTimeout = _appConfig2.default && _appConfig2.default.isWidgetBuild ? 30 : 3;
      return !!feeds.length && _react2.default.createElement(
        'div',
        { styleName: 'column' },
        feeds.length < 3 ? feeds.map(function (row) {
          var request = row.request,
              _row$content = row.content,
              buyAmount = _row$content.buyAmount,
              buyCurrency = _row$content.buyCurrency,
              sellAmount = _row$content.sellAmount,
              sellCurrency = _row$content.sellCurrency,
              id = row.id,
              ownerPeer = row.peer;

          var currencyBalance = _this2.state.allCurrencyies.find(function (item) {
            return item.currency === sellCurrency;
          }).balance;
          var sellAmountPlusFee = (0, _bignumber.BigNumber)(_this2.state.estimatedFeeValues[sellCurrency.toLowerCase()]).plus(sellAmount);

          // if (BigNumber(sellAmountPlusFee).isGreaterThan(currencyBalance)) {
          //   this.removeOrder(id, request[0].participant.peer)
          //   return console.warn(`Not enought money for the swap, order № ${id} was deleted`)
          // }

          return mePeer === ownerPeer && request.map(function (_ref3) {
            var peer = _ref3.participant.peer,
                reputation = _ref3.reputation;
            return _react2.default.createElement(
              'div',
              { styleName: 'userTooltip' },
              _react2.default.createElement(
                'div',
                { key: peer },
                _react2.default.createElement(
                  'div',
                  { styleName: 'title' },
                  _react2.default.createElement(_reactIntl.FormattedMessage, {
                    id: 'userTooltip43',
                    defaultMessage: 'User ({reputation}) wants to swap',
                    values: { reputation: _react2.default.createElement(
                        'b',
                        null,
                        (0, _isInteger2.default)(reputation) ? reputation : '?'
                      ) }
                  })
                ),
                _react2.default.createElement(
                  'div',
                  { styleName: 'currency' },
                  _react2.default.createElement(
                    'span',
                    null,
                    buyAmount.toFixed(5),
                    ' ',
                    _react2.default.createElement(
                      'span',
                      { styleName: 'coin' },
                      buyCurrency
                    )
                  ),
                  _react2.default.createElement(
                    'span',
                    { styleName: 'arrow' },
                    _react2.default.createElement('img', { src: _arrowRight2.default, alt: '' })
                  ),
                  _react2.default.createElement(
                    'span',
                    null,
                    sellAmount.toFixed(5),
                    ' ',
                    _react2.default.createElement(
                      'span',
                      { styleName: 'coin' },
                      sellCurrency
                    )
                  )
                )
              ),
              _react2.default.createElement('span', { styleName: 'decline', onClick: function onClick() {
                  return _this2.props.declineRequest(id, peer);
                } }),
              _react2.default.createElement('div', { styleName: 'checked', onClick: function onClick() {
                  return _this2.props.acceptRequest(id, peer, _helpers.links.swap + '/' + sellCurrency + '-' + buyCurrency + '/' + id);
                } }),
              _react2.default.createElement(_controls.TimerButton, {
                timeLeft: autoAcceptTimeout,
                isButton: false,
                onClick: function onClick() {
                  return _this2.props.acceptRequest(id, peer, _helpers.links.swap + '/' + sellCurrency + '-' + buyCurrency + '/' + id);
                }
              })
            );
          });
        }) : _react2.default.createElement(
          'div',
          { styleName: 'feed' },
          _react2.default.createElement(
            _reactRouterDom.Link,
            { to: _helpers.links.feed },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'userTooltip71', defaultMessage: 'Go to the feed page' })
          )
        )
      );
    }
  }]);
  return UserTooltip;
}(_react.Component), _class2.propTypes = {
  feeds: _propTypes2.default.array.isRequired,
  peer: _propTypes2.default.string.isRequired,
  declineRequest: _propTypes2.default.func.isRequired,
  acceptRequest: _propTypes2.default.func.isRequired
}, _initialiseProps = function _initialiseProps() {
  var _this3 = this;

  this.setEstimatedFeeValues = function () {
    var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(estimatedFeeValues) {
      var fee;
      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return _helpers2.default.estimateFeeValue.setEstimatedFeeValues({ estimatedFeeValues: estimatedFeeValues });

            case 2:
              fee = _context.sent;
              return _context.abrupt('return', _this3.setState({
                estimatedFeeValues: fee
              }));

            case 4:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, _this3);
    }));

    return function (_x) {
      return _ref4.apply(this, arguments);
    };
  }();

  this.removeOrder = function (id, peer) {
    _this3.props.declineRequest(id, peer);
    _actions2.default.core.deletedPartialCurrency(id);
    _actions2.default.core.removeOrder(id);
    _actions2.default.core.updateCore();
  };
}, _temp)) || _class) || _class);
exports.default = UserTooltip;

/***/ }),

/***/ 1213:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(17);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SignUpButton = __webpack_require__(3224);

var _SignUpButton2 = _interopRequireDefault(_SignUpButton);

var _reactTooltip = __webpack_require__(103);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var handleSignUp = function handleSignUp() {
  _actions2.default.modals.open(_helpers.constants.modals.SignUp, {});
};

var SignUpButton = function SignUpButton(_ref) {
  var mobile = _ref.mobile;
  return _react2.default.createElement(
    'div',
    { styleName: mobile ? 'mobile' : '' },
     false ? _react2.default.createElement(
      _react.Fragment,
      null,
      _react2.default.createElement(
        'a',
        { href: _helpers.links.main, target: '_blank', rel: 'noreferrer noopener', styleName: 'button', 'data-tip': true, 'data-for': 'main' },
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ADDoffer2218', defaultMessage: 'Mainnet' })
      ),
      _react2.default.createElement(
        _reactTooltip2.default,
        { id: 'main', type: 'light', effect: 'solid' },
        _react2.default.createElement(
          'span',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ADDoffer22', defaultMessage: 'Start to real Swap' })
        )
      )
    ) : _react2.default.createElement(
      _react.Fragment,
      null,
      _react2.default.createElement(
        'button',
        { styleName: 'button', 'data-tut': 'reactour__sign-up', onClick: handleSignUp /* eslint-disable-line */, 'data-tip': true, 'data-for': 'sign-up' },
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ADDoffer29', defaultMessage: 'Sign up (get up to 10$ bonus)' })
      ),
      _react2.default.createElement(
        _reactTooltip2.default,
        { id: 'sign-up', type: 'light', effect: 'solid' },
        _react2.default.createElement(
          'span',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ADDoffer33', defaultMessage: 'Get subscribed for the Swap.Online news' })
        )
      ),
      _react2.default.createElement(
        'button',
        { styleName: 'buttonMobile', onClick: handleSignUp /* eslint-disable-line */ },
        _react2.default.createElement('i', { className: 'fa fa-bell', 'aria-hidden': 'true' })
      )
    )
  );
};

exports.default = (0, _reactCssModules2.default)(SignUpButton, _SignUpButton2.default);

/***/ }),

/***/ 1214:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _Logo = __webpack_require__(219);

var _Logo2 = _interopRequireDefault(_Logo);

var _reactTooltip = __webpack_require__(103);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LogoTooltip = function LogoTooltip(props) {
  return _react2.default.createElement(
    _react.Fragment,
    null,
    _react2.default.createElement(_Logo2.default, { withLink: true, isExchange: props.isExchange }),
    _react2.default.createElement(
      _reactTooltip2.default,
      { id: 'logo', type: 'light', effect: 'solid' },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'logo29', defaultMessage: 'Go Home' })
    )
  );
};
exports.default = LogoTooltip;

/***/ }),

/***/ 1217:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(37);

var _helpers = __webpack_require__(17);

var _modals = __webpack_require__(3248);

var _modals2 = _interopRequireDefault(_modals);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _ModalConductor = __webpack_require__(3314);

var _ModalConductor2 = _interopRequireDefault(_ModalConductor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ModalConductor = (_dec = (0, _redaction.connect)({
  modals: 'modals'
}), _dec2 = (0, _reactCssModules2.default)(_ModalConductor2.default), _dec(_class = _dec2(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(ModalConductor, _Component);

  function ModalConductor() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ModalConductor);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ModalConductor.__proto__ || (0, _getPrototypeOf2.default)(ModalConductor)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      offsetTop: 0
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ModalConductor, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(_ref2) {
      var modals = _ref2.modals;
      var offsetTop = this.state.offsetTop;


      var myOffsetTop = (0, _helpers.getPageOffset)().y;

      // When modal is showing add overflow: hidden to body and padding-right: ${scrollWidth}
      // to prevent screen from blinking
      if ((0, _keys2.default)(modals).length) {
        if (myOffsetTop > 0) {
          this.setState({
            offsetTop: myOffsetTop
          });
        }
      } else {
        if (offsetTop > 0) {
          window.scrollTo(0, offsetTop);

          this.setState({
            offsetTop: 0
          });
        }
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var modals = this.props.modals;


      var modalNames = (0, _keys2.default)(modals);
      var areModalsExist = Boolean(modalNames.length);

      return areModalsExist && _react2.default.createElement(
        'div',
        { styleName: 'modalConductor' },
        modalNames.map(function (key) {
          var _modals$key = modals[key],
              name = _modals$key.name,
              _modals$key$data = _modals$key.data,
              data = _modals$key$data === undefined ? {} : _modals$key$data,
              zIndex = _modals$key.zIndex;


          return _react2.default.createElement(_modals2.default[name], {
            key: name,
            name: name,
            data: data,
            style: { zIndex: zIndex }
          });
        })
      );
    }
  }]);
  return ModalConductor;
}(_react.Component), _class2.propTypes = {
  modals: _propTypes2.default.object
}, _temp2)) || _class) || _class);
exports.default = ModalConductor;

/***/ }),

/***/ 1219:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(283);

var _reactDom2 = _interopRequireDefault(_reactDom);

var _routes = __webpack_require__(1226);

var _routes2 = _interopRequireDefault(_routes);

var _store = __webpack_require__(472);

var _store2 = _interopRequireDefault(_store);

var _Root = __webpack_require__(2178);

var _Root2 = _interopRequireDefault(_Root);

var _Loader = __webpack_require__(456);

var _Loader2 = _interopRequireDefault(_Loader);

var _helpers = __webpack_require__(17);

var _ErrorPageNoSSL = __webpack_require__(3341);

var _ErrorPageNoSSL2 = _interopRequireDefault(_ErrorPageNoSSL);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

{
  window.location.protocol === 'http:' && window.location.hostname !== 'localhost' ? _reactDom2.default.render(_react2.default.createElement(_ErrorPageNoSSL2.default, null), document.getElementById('root')) : (0, _helpers.migrate)().finally(function () {
    return setTimeout(function () {
      _reactDom2.default.render(_react2.default.createElement(_Root2.default, { history: _store.history, store: _store2.default, routes: _routes2.default }), document.getElementById('root'));
    }, 1000);
  });
}

/***/ }),

/***/ 1226:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
      value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactRouter = __webpack_require__(110);

var _reactRouterDom = __webpack_require__(51);

var _helpers = __webpack_require__(17);

var _locale = __webpack_require__(50);

var _Swap = __webpack_require__(1774);

var _Swap2 = _interopRequireDefault(_Swap);

var _Home = __webpack_require__(2000);

var _Home2 = _interopRequireDefault(_Home);

var _Wallet = __webpack_require__(2061);

var _Wallet2 = _interopRequireDefault(_Wallet);

var _History = __webpack_require__(2153);

var _History2 = _interopRequireDefault(_History);

var _NotFound = __webpack_require__(2166);

var _NotFound2 = _interopRequireDefault(_NotFound);

var _About = __webpack_require__(2168);

var _About2 = _interopRequireDefault(_About);

var _Currency = __webpack_require__(2169);

var _Currency2 = _interopRequireDefault(_Currency);

var _PartialClosure = __webpack_require__(905);

var _PartialClosure2 = _interopRequireDefault(_PartialClosure);

var _CurrencyWallet = __webpack_require__(2173);

var _CurrencyWallet2 = _interopRequireDefault(_CurrencyWallet);

var _IEO = __webpack_require__(2175);

var _IEO2 = _interopRequireDefault(_IEO);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _ScrollToTop = __webpack_require__(2177);

var _ScrollToTop2 = _interopRequireDefault(_ScrollToTop);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var routes = _react2.default.createElement(
      _ScrollToTop2.default,
      null,
      _react2.default.createElement(
            _reactRouterDom.Switch,
            null,
            _react2.default.createElement(_reactRouter.Route, { path: '' + _locale.localisePrefix + _helpers.links.swap + '/:buy-:sell/:orderId', component: _Swap2.default }),
            _react2.default.createElement(_reactRouter.Route, { path: _locale.localisePrefix + '/:fullName-wallet', component: _CurrencyWallet2.default }),
            _react2.default.createElement(_reactRouter.Route, { path: '' + _locale.localisePrefix + _helpers.links.home + ':buy-:sell/:orderId', component: _Home2.default }),
            _react2.default.createElement(_reactRouter.Route, { path: '' + _locale.localisePrefix + _helpers.links.home + ':buy-:sell', component: _Home2.default }),
            _react2.default.createElement(_reactRouter.Route, { path: '' + _locale.localisePrefix + _helpers.links.exchange + '/:sell-to-:buy', component: _PartialClosure2.default }),
            _react2.default.createElement(_reactRouter.Route, { path: '' + _locale.localisePrefix + _helpers.links.exchange, component: _PartialClosure2.default }),
            _react2.default.createElement(_reactRouter.Route, { path: '' + _locale.localisePrefix + _helpers.links.aboutus, component: _About2.default }),
            _react2.default.createElement(_reactRouter.Route, { path: '' + _locale.localisePrefix + _helpers.links.history, component: _History2.default }),
            _react2.default.createElement(_reactRouter.Route, { path: '' + _locale.localisePrefix + _helpers.links.ieo, component: _IEO2.default }),
            _react2.default.createElement(_reactRouter.Route, { exact: true, path: '' + _locale.localisePrefix + _helpers.links.notFound, component: _NotFound2.default }),
            _react2.default.createElement(_reactRouter.Route, { exact: true, path: '' + _locale.localisePrefix + _helpers.links.home, component: _PartialClosure2.default }),
            _react2.default.createElement(_reactRouter.Route, { path: '' + _locale.localisePrefix + _helpers.links.currencyWallet, component: _Wallet2.default }),
            _react2.default.createElement(_reactRouter.Route, { path: '' + _locale.localisePrefix + _helpers.links.home + ':currency', component: _Currency2.default }),
            _react2.default.createElement(_reactRouter.Route, { component: _NotFound2.default })
      )
);

exports.default = routes;

/***/ }),

/***/ 128:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Timer = __webpack_require__(1926);

var _Timer2 = _interopRequireDefault(_Timer);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Timer = (_dec = (0, _reactCssModules2.default)(_Timer2.default), _dec(_class = (_temp = _class2 = function (_React$Component) {
  (0, _inherits3.default)(Timer, _React$Component);

  function Timer(_ref) {
    var lockTime = _ref.lockTime;
    (0, _classCallCheck3.default)(this, Timer);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Timer.__proto__ || (0, _getPrototypeOf2.default)(Timer)).call(this));

    _this.timer = null;

    _this.tick = function () {
      var timeLeft = _this.state.timeLeft;
      var enabledButton = _this.props.enabledButton;

      var newTimeLeft = timeLeft - 1000;

      if (newTimeLeft <= 0 && typeof enabledButton === 'function') {
        enabledButton();
      } else {
        _this.timer = setTimeout(_this.tick, 1000);
        _this.setState({
          timeLeft: newTimeLeft
        });
      }
    };

    _this.state = {
      lockTime: lockTime,
      timeLeft: null
    };
    return _this;
  }

  (0, _createClass3.default)(Timer, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.tick();
    }
  }, {
    key: 'componentWillMount',
    value: function componentWillMount() {
      var lockTime = this.state.lockTime;


      var dateNow = new Date().getTime();
      var timeLeft = lockTime - dateNow;

      this.setState({
        timeLeft: timeLeft
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var timeLeft = this.state.timeLeft;

      var min = Math.ceil(timeLeft / 1000 / 60);

      return _react2.default.createElement(
        'div',
        { styleName: 'timer' },
        this.props.defaultMessage === false ? _react2.default.createElement(
          'span',
          null,
          min
        ) : min > 0 ? _react2.default.createElement(
          'span',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'timer671',
            defaultMessage: 'minute left for refund',
            values: { min: '' + min }
          })
        ) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'timer68', defaultMessage: 'refund ready' })
      );
    }
  }]);
  return Timer;
}(_react2.default.Component), _class2.propTypes = {
  lockTime: _propTypes2.default.number
}, _temp)) || _class);
exports.default = Timer;

/***/ }),

/***/ 129:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _swValuelink = __webpack_require__(58);

var _classnames = __webpack_require__(72);

var _classnames2 = _interopRequireDefault(_classnames);

var _helpers = __webpack_require__(17);

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

var _reactDeviceDetect = __webpack_require__(53);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Input = __webpack_require__(1947);

var _Input2 = _interopRequireDefault(_Input);

var _TextArea = __webpack_require__(894);

var _TextArea2 = _interopRequireDefault(_TextArea);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Input = (_dec = (0, _reactCssModules2.default)(_Input2.default, { allowMultiple: true }), _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(Input, _Component);

  function Input() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Input);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Input.__proto__ || (0, _getPrototypeOf2.default)(Input)).call.apply(_ref, [this].concat(args))), _this), _this.handleFocus = function () {
      var onFocus = _this.props.onFocus;


      if (onFocus) {
        onFocus();
      }
      _reducers2.default.inputActive.setInputActive(true);
    }, _this.handleBlur = function () {
      var onBlur = _this.props.onBlur;


      if (onBlur) {
        onBlur();
      }
      _reducers2.default.inputActive.setInputActive(false);
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Input, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          className = _props.className,
          inputContainerClassName = _props.inputContainerClassName,
          inputClassName = _props.inputClassName,
          errorStyle = _props.errorStyle,
          error = _props.valueLink.error,
          valueLink = _props.valueLink,
          dontDisplayError = _props.dontDisplayError,
          multiline = _props.multiline,
          focusOnInit = _props.focusOnInit,
          disabled = _props.disabled,
          readOnly = _props.readOnly,
          type = _props.type,
          usd = _props.usd,
          rest = (0, _objectWithoutProperties3.default)(_props, ['className', 'inputContainerClassName', 'inputClassName', 'errorStyle', 'valueLink', 'valueLink', 'dontDisplayError', 'multiline', 'focusOnInit', 'disabled', 'readOnly', 'type', 'usd']);


      var inputContainerStyleName = (0, _classnames2.default)('inputContainer', {
        'withError': error
      });

      var focusEvent = !_reactDeviceDetect.isMobile ? {} : {
        onFocus: this.handleFocus,
        onBlur: this.handleBlur
      };

      return _react2.default.createElement(
        'div',
        { styleName: 'root', className: className },
        _react2.default.createElement(
          'div',
          { styleName: inputContainerStyleName, className: inputContainerClassName },
          _react2.default.createElement(multiline ? _TextArea2.default : _swValuelink.Input, (0, _assign2.default)({}, (0, _helpers.ignoreProps)(rest, 'styles'), {
            styleName: errorStyle ? 'input inputError' : 'input',
            className: inputClassName,
            valueLink: valueLink,
            type: type,
            disabled: disabled || readOnly,
            autoFocus: !!focusOnInit,
            dir: 'auto',
            autoComplete: 'off'
          }, focusEvent)),
          usd > 0 && _react2.default.createElement(
            'p',
            { styleName: 'textUsd' },
            '~' + usd,
            '$'
          )
        ),
        Boolean(error && !dontDisplayError) && _react2.default.createElement(
          'div',
          { styleName: 'error' },
          error
        )
      );
    }
  }]);
  return Input;
}(_react.Component), _class2.propTypes = {
  className: _propTypes2.default.string,
  rootClassName: _propTypes2.default.string,
  inputClassName: _propTypes2.default.string,
  placeholder: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]),
  type: _propTypes2.default.string,
  valueLink: _propTypes2.default.object.isRequired,
  focusOnInit: _propTypes2.default.bool,
  multiline: _propTypes2.default.bool,
  disabled: _propTypes2.default.bool,
  readOnly: _propTypes2.default.bool,
  required: _propTypes2.default.bool,
  icon: _propTypes2.default.bool,
  intl: _propTypes2.default.object
}, _class2.defaultProps = {
  focusOnInit: false,
  multiline: false,
  disabled: false,
  readOnly: false,
  required: false,
  type: 'text'
}, _temp2)) || _class);
exports.default = Input;

/***/ }),

/***/ 1295:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hide = exports.show = exports.initialState = undefined;

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _defineProperty2 = __webpack_require__(123);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {};

var show = exports.show = function show(state, _ref) {
  var name = _ref.name,
      _ref$data = _ref.data,
      data = _ref$data === undefined ? {} : _ref$data;
  return (0, _assign2.default)({}, state, (0, _defineProperty3.default)({}, name, {
    name: name,
    data: data
  }));
};

var hide = function hide(state, name) {
  var closingNotification = state[name],
      otherNotifications = (0, _objectWithoutProperties3.default)(state, [name]);

  return otherNotifications;
};
exports.hide = hide;

/***/ }),

/***/ 1298:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.close = exports.open = exports.initialState = undefined;

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _defineProperty2 = __webpack_require__(123);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// this is necessary to arrange the modals in the opening order, not alphabetical
var zIndex = 305;

var initialState = exports.initialState = {};

var open = exports.open = function open(state, _ref) {
  var name = _ref.name,
      _ref$data = _ref.data,
      data = _ref$data === undefined ? {} : _ref$data;
  return (0, _assign2.default)({}, state, (0, _defineProperty3.default)({}, name, {
    name: name,
    data: data,
    zIndex: ++zIndex
  }));
};

var close = function close(state, name) {
  var closingModal = state[name],
      otherModals = (0, _objectWithoutProperties3.default)(state, [name]);


  zIndex -= 1;

  return otherModals;
};
exports.close = close;

/***/ }),

/***/ 1299:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setSwapHistory = exports.setTransactions = exports.setFilter = exports.initialState = undefined;

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {
  transactions: [],
  filter: 'all',
  swapHistory: {}
};

var setFilter = exports.setFilter = function setFilter(state, payload) {
  return (0, _assign2.default)({}, state, {
    filter: payload
  });
};

var setTransactions = exports.setTransactions = function setTransactions(state, payload) {
  return (0, _assign2.default)({}, state, {
    transactions: [].concat((0, _toConsumableArray3.default)(payload))
  });
};

var setSwapHistory = exports.setSwapHistory = function setSwapHistory(state, payload) {
  return (0, _assign2.default)({}, state, {
    swapHistory: payload
  });
};

/***/ }),

/***/ 1302:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setVisibility = exports.initialState = undefined;

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {
  isVisible: false,
  data: {}
};

var setVisibility = exports.setVisibility = function setVisibility(state, _ref) {
  var isVisible = _ref.isVisible,
      data = _ref.data;
  return (0, _assign2.default)({}, state, {
    isVisible: isVisible,
    data: data
  });
};

/***/ }),

/***/ 1303:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setReputation = exports.setTokenApprove = exports.setTokenBalance = exports.setTokenBalanceError = exports.setBalanceError = exports.setBalance = exports.setTokenAuthData = exports.setAuthData = exports.initialState = undefined;

var _defineProperty2 = __webpack_require__(123);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {
  ethData: {
    balance: 0,
    isBalanceFetched: false,
    currency: 'ETH',
    fullName: 'Ethereum',
    balanceError: null
  },
  btcData: {
    balance: 0,
    isBalanceFetched: false,
    currency: 'BTC',
    fullName: 'Bitcoin',
    balanceError: null
  },
  bchData: {
    balance: 0,
    isBalanceFetched: false,
    currency: 'BCH',
    fullName: 'BitcoinCash',
    balanceError: null
  },
  /*
  xlmData: {
    balance: 0,
    currency: 'XLM',
    fullName: 'Stellar',
    balanceError: null,
  },
  */
  ltcData: {
    balance: 0,
    isBalanceFetched: false,
    currency: 'LTC',
    fullName: 'Litecoin',
    balanceError: null
  },
  /*
  usdtData: {
    address: '0x0',
    publicKey: '0x0',
    balance: 0,
    isBalanceFetched: false,
    currency: 'USDT',
    fullName: 'USDT',
    balanceError: null,
  },
  */
  nimData: {
    balance: 0,
    isBalanceFetched: false,
    currency: 'NIM',
    fullName: 'Nimiq',
    balanceError: null
  },
  eosData: {
    balance: 0,
    address: '',
    isAccountActivated: false,
    isActivationPaymentSent: false,
    isBalanceFetched: true,
    currency: 'EOS',
    fullName: 'Eos',
    balanceError: null
  },
  telosData: {
    balance: 0,
    address: '',
    isBalanceFetched: true,
    currency: 'TLOS',
    fullName: 'Telos',
    balanceError: null
  },
  tokensData: {}
};

var setAuthData = exports.setAuthData = function setAuthData(state, _ref) {
  var name = _ref.name,
      data = _ref.data;
  return (0, _assign2.default)({}, state, (0, _defineProperty3.default)({
    tokensData: (0, _assign2.default)({}, state.tokensData)
  }, name, (0, _assign2.default)({}, state[name], data)));
};

var setTokenAuthData = exports.setTokenAuthData = function setTokenAuthData(state, _ref2) {
  var name = _ref2.name,
      data = _ref2.data;
  return (0, _assign2.default)({}, state, {
    tokensData: (0, _assign2.default)({}, state.tokensData, (0, _defineProperty3.default)({}, name, (0, _assign2.default)({}, state.tokensData[name], data)))
  });
};

var setBalance = exports.setBalance = function setBalance(state, _ref3) {
  var name = _ref3.name,
      amount = _ref3.amount,
      unconfirmedBalance = _ref3.unconfirmedBalance;
  return (0, _assign2.default)({}, state, (0, _defineProperty3.default)({
    tokensData: (0, _assign2.default)({}, state.tokensData)
  }, name, (0, _assign2.default)({}, state[name], {
    balance: Number(amount),
    unconfirmedBalance: unconfirmedBalance,
    isBalanceFetched: true,
    balanceError: false
  })));
};

var setBalanceError = exports.setBalanceError = function setBalanceError(state, _ref4) {
  var name = _ref4.name;
  return (0, _assign2.default)({}, state, (0, _defineProperty3.default)({}, name, (0, _assign2.default)({}, state[name], {
    balanceError: true
  })));
};

var setTokenBalanceError = exports.setTokenBalanceError = function setTokenBalanceError(state, _ref5) {
  var name = _ref5.name;
  return (0, _assign2.default)({}, state, {
    tokensData: (0, _assign2.default)({}, state.tokensData, (0, _defineProperty3.default)({}, name, (0, _assign2.default)({}, state.tokensData[name], {
      balanceError: true
    })))
  });
};

var setTokenBalance = exports.setTokenBalance = function setTokenBalance(state, _ref6) {
  var name = _ref6.name,
      amount = _ref6.amount;
  return (0, _assign2.default)({}, state, {
    tokensData: (0, _assign2.default)({}, state.tokensData, (0, _defineProperty3.default)({}, name, (0, _assign2.default)({}, state.tokensData[name], {
      balance: Number(amount),
      isBalanceFetched: true,
      balanceError: false
    })))
  });
};

var setTokenApprove = exports.setTokenApprove = function setTokenApprove(state, _ref7) {
  var name = _ref7.name,
      approve = _ref7.approve;
  return (0, _assign2.default)({}, state, {
    tokensData: (0, _assign2.default)({}, state.tokensData, (0, _defineProperty3.default)({}, name, (0, _assign2.default)({}, state.tokensData[name], {
      approve: approve
    })))
  });
};

var setReputation = exports.setReputation = function setReputation(state, _ref8) {
  var name = _ref8.name,
      reputation = _ref8.reputation,
      reputationOracleSignature = _ref8.reputationOracleSignature;
  return (0, _assign2.default)({}, state, (0, _defineProperty3.default)({
    tokensData: (0, _assign2.default)({}, state.tokensData)
  }, name, (0, _assign2.default)({}, state[name], {
    reputation: Number(reputation),
    reputationProof: reputationOracleSignature
  })));
};

/***/ }),

/***/ 1304:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.deleteItems = exports.addItems = exports.initialState = undefined;

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {
  items: []
};

var addItems = exports.addItems = function addItems(state, payload) {
  return (0, _assign2.default)({}, state, {
    items: [].concat((0, _toConsumableArray3.default)(payload))
  });
};

var deleteItems = exports.deleteItems = function deleteItems(state, payload) {
  return (0, _assign2.default)({}, state, {
    items: payload
  });
};

/***/ }),

/***/ 1305:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.markCoinAsVisible = exports.markCoinAsHidden = exports.setFilter = exports.getOrders = exports.initialState = undefined;

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {
  orders: [],
  filter: 'btc-swap',
  hiddenCoinsList: JSON.parse(localStorage.getItem('hiddenCoinsList')) || _appConfig2.default.hiddenCoins
};

var getOrders = exports.getOrders = function getOrders(state, _ref) {
  var orders = _ref.orders;
  return (0, _assign2.default)({}, state, {
    orders: orders
  });
};

var setFilter = exports.setFilter = function setFilter(state, _ref2) {
  var filter = _ref2.filter;
  return (0, _assign2.default)({}, state, {
    orders: [].concat((0, _toConsumableArray3.default)(state.orders)),
    filter: filter
  });
};

var markCoinAsHidden = exports.markCoinAsHidden = function markCoinAsHidden(state, coin) {
  return (0, _assign2.default)({}, state, {
    hiddenCoinsList: [].concat((0, _toConsumableArray3.default)(state.hiddenCoinsList), [coin])
  });
};
var markCoinAsVisible = exports.markCoinAsVisible = function markCoinAsVisible(state, coin) {
  return (0, _assign2.default)({}, state, {
    hiddenCoinsList: state.hiddenCoinsList.filter(function (c) {
      return c !== coin;
    })
  });
};

/***/ }),

/***/ 1306:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.allPeersLoaded = exports.userLeft = exports.userJoined = exports.set = exports.initialState = undefined;

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {
  isOnline: false,
  isAllPeersLoaded: false,
  onlineUsers: 0,
  serverAddress: _appConfig2.default.ipfs.server,
  peer: '',
  reputation: null
};

var set = exports.set = function set(state, payload) {
  return (0, _assign2.default)({}, state, payload);
};

/**
 * Событие "Пользователь вошел в сеть".
 */
var userJoined = exports.userJoined = function userJoined(state) {
  return (0, _assign2.default)({}, state, {
    onlineUsers: state.onlineUsers + 1
  });
};

/**
 * Событие "Пользователь вышел из сети".
 */
var userLeft = exports.userLeft = function userLeft(state) {
  return (0, _assign2.default)({}, state, {
    onlineUsers: state.onlineUsers - 1
  });
};

/**
 * Событие "Загрузились все пиры".
 */
var allPeersLoaded = exports.allPeersLoaded = function allPeersLoaded(state) {
  return (0, _assign2.default)({}, state, {
    isAllPeersLoaded: true
  });
};

/***/ }),

/***/ 1307:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setApiServer = exports.setErrors = exports.setChecked = exports.initialState = undefined;

var _defineProperty2 = __webpack_require__(123);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {
  servers: _appConfig2.default.api,
  checked: false,
  errors: null
};

var setChecked = exports.setChecked = function setChecked(state, checked) {
  return (0, _assign2.default)({}, state, {
    checked: checked
  });
};

var setErrors = exports.setErrors = function setErrors(state, errors) {
  return (0, _assign2.default)({}, state, {
    errors: errors,
    checked: true
  });
};

var setApiServer = exports.setApiServer = function setApiServer(state, _ref) {
  var provider = _ref.provider,
      server = _ref.server;
  return (0, _assign2.default)({}, state, {
    servers: (0, _assign2.default)({}, state.servers, (0, _defineProperty3.default)({}, provider, server))
  });
};

/***/ }),

/***/ 1308:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.deletedPartialCurrency = exports.updatePartialItems = exports.addPartialItems = exports.addSelectedItems = exports.initialState = undefined;

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = {
  items: [{
    name: 'EOS',
    title: 'EOS',
    icon: 'eos',
    value: 'eos',
    fullTitle: 'EOS'
  }, {
    name: 'ETH',
    title: 'ETH',
    icon: 'eth',
    value: 'eth',
    fullTitle: 'ethereum'
  }, {
    name: 'LTC',
    title: 'LTC',
    icon: 'ltc',
    value: 'ltc',
    fullTitle: 'litecoin'
  }, {
    name: 'BTC',
    title: 'BTC',
    icon: 'btc',
    value: 'btc',
    fullTitle: 'bitcoin'
  }].concat((0, _toConsumableArray3.default)((0, _keys2.default)(_appConfig2.default.erc20).map(function (key) {
    return {
      name: key.toUpperCase(),
      title: key.toUpperCase(),
      icon: key,
      value: key,
      fullTitle: key
    };
  }))),
  partialItems: [{
    name: 'ETH',
    title: 'ETH',
    icon: 'eth',
    value: 'eth',
    fullTitle: 'ethereum'
  }, {
    name: 'LTC',
    title: 'LTC',
    icon: 'ltc',
    value: 'ltc',
    fullTitle: 'litecoin'
  }, {
    name: 'BTC',
    title: 'BTC',
    icon: 'btc',
    value: 'btc',
    fullTitle: 'bitcoin'
  }, {
    name: 'BCH',
    title: 'BCH',
    icon: 'bch',
    value: 'bch',
    fullTitle: 'bitcoin cash'
  }].concat((0, _toConsumableArray3.default)((0, _keys2.default)(_appConfig2.default.erc20).map(function (key) {
    return {
      name: key.toUpperCase(),
      title: key.toUpperCase(),
      icon: key,
      value: key,
      fullTitle: key
    };
  }))),
  addSelectedItems: [],
  addPartialItems: []
};

if (_appConfig2.default.isWidget) {
  initialState.items = [{
    name: 'BTC',
    title: 'BTC',
    icon: 'btc',
    value: 'btc',
    fullTitle: 'bitcoin'
  }, {
    name: _appConfig2.default.erc20token.toUpperCase(),
    title: _appConfig2.default.erc20token.toUpperCase(),
    icon: _appConfig2.default.erc20token,
    value: _appConfig2.default.erc20token,
    fullTitle: _appConfig2.default.erc20[_appConfig2.default.erc20token].fullName
  }, {
    name: 'ETH',
    title: 'ETH',
    icon: 'eth',
    value: 'eth',
    fullTitle: 'ethereum'
  }];
  initialState.partialItems = [{
    name: 'ETH',
    title: 'ETH',
    icon: 'eth',
    value: 'eth',
    fullTitle: 'ethereum'
  }, {
    name: 'BTC',
    title: 'BTC',
    icon: 'btc',
    value: 'btc',
    fullTitle: 'bitcoin'
  }, {
    name: _appConfig2.default.erc20token.toUpperCase(),
    title: _appConfig2.default.erc20token.toUpperCase(),
    icon: _appConfig2.default.erc20token,
    value: _appConfig2.default.erc20token,
    fullTitle: _appConfig2.default.erc20[_appConfig2.default.erc20token].fullName
  }];

  initialState.addSelectedItems = [{
    name: _appConfig2.default.erc20token.toUpperCase(),
    title: _appConfig2.default.erc20token.toUpperCase(),
    icon: _appConfig2.default.erc20token,
    value: _appConfig2.default.erc20token,
    fullTitle: _appConfig2.default.erc20[_appConfig2.default.erc20token].fullName
  }];
}
// eslint-disable-next-line
// process.env.MAINNET && initialState.items.unshift({
//   name: 'USDT',
//   title: 'USDT',
//   icon: 'usdt',
//   value: 'usdt',
//   fullTitle: 'USD Tether',
// })
// eslint-disable-next-line
false && initialState.items.unshift({
  name: 'BCH',
  title: 'BCH',
  icon: 'bch',
  value: 'bch',
  fullTitle: 'bitcoin cash'
});

var addSelectedItems = function addSelectedItems(state, payload) {
  return (0, _assign2.default)({}, state, {
    addSelectedItems: payload
  });
};

var addPartialItems = function addPartialItems(state, payload) {
  return (0, _assign2.default)({}, state, {
    addPartialItems: payload
  });
};

var updatePartialItems = function updatePartialItems(state, payload) {
  return (0, _assign2.default)({}, state, {
    partialItems: payload
  });
};

var deletedPartialCurrency = function deletedPartialCurrency(state, payload) {
  return (0, _assign2.default)({}, state, {
    partialItems: state.partialItems.filter(function (item) {
      return item.name !== payload;
    })
  });
};

exports.initialState = initialState;
exports.addSelectedItems = addSelectedItems;
exports.addPartialItems = addPartialItems;
exports.updatePartialItems = updatePartialItems;
exports.deletedPartialCurrency = deletedPartialCurrency;

/***/ }),

/***/ 1311:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setIsDisplayingTable = exports.initialState = undefined;

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {
  isDisplayingTable: false
};

var setIsDisplayingTable = exports.setIsDisplayingTable = function setIsDisplayingTable(state, payload) {
  return (0, _assign2.default)({}, state, {
    isDisplayingTable: payload
  });
};

/***/ }),

/***/ 1312:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setSigned = exports.initialState = undefined;

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {
  isSigned: false
};

var setSigned = exports.setSigned = function setSigned(state) {
  return (0, _assign2.default)({}, state, {
    isSigned: true
  });
};

/***/ }),

/***/ 1313:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setInputActive = exports.initialState = undefined;

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = exports.initialState = {
  isSigned: false
};

var setInputActive = exports.setInputActive = function setInputActive(state, value) {
  return (0, _assign2.default)({}, state, {
    isInputActive: value
  });
};

/***/ }),

/***/ 1314:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getOrderIntheProcess = exports.deletedOrders = exports.forgetOrders = exports.savedOrders = exports.initialState = undefined;

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = {
  savedOrders: JSON.parse(localStorage.getItem('savedOrders')) || [],
  deletedOrders: JSON.parse(localStorage.getItem('deletedOrders')) || []
};

var savedOrders = function savedOrders(state, orderId) {
  return {
    savedOrders: [].concat((0, _toConsumableArray3.default)(state.savedOrders), [orderId])
  };
};

var deletedOrders = function deletedOrders(state, orderId) {
  return (0, _assign2.default)({}, state, {
    deletedOrders: [orderId]
  });
};

var forgetOrders = function forgetOrders(state, orderId) {
  return (0, _assign2.default)({}, state, {
    savedOrders: state.savedOrders.filter(function (item) {
      return item !== orderId;
    })
  });
};

var getOrderIntheProcess = function getOrderIntheProcess(state, orderId) {
  return (0, _assign2.default)({}, state, {
    savedOrders: state.savedOrders.filter(function (item) {
      return item === orderId;
    })
  });
};

exports.initialState = initialState;
exports.savedOrders = savedOrders;
exports.forgetOrders = forgetOrders;
exports.deletedOrders = deletedOrders;
exports.getOrderIntheProcess = getOrderIntheProcess;

/***/ }),

/***/ 1315:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.selectiveSaver = exports.saver = undefined;

var _saver = __webpack_require__(1316);

var _selectiveSaver = __webpack_require__(1317);

exports.saver = _saver.saver;
exports.selectiveSaver = _selectiveSaver.selectiveSaver;

/***/ }),

/***/ 1316:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.saver = undefined;

var _jsonStringifySafe = __webpack_require__(727);

var _jsonStringifySafe2 = _interopRequireDefault(_jsonStringifySafe);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var saver = function saver(store) {
  return function (next) {
    return function (action) {
      next(action);

      localStorage['redux-store'] = (0, _jsonStringifySafe2.default)(store.getState(), null, 2);
    };
  };
};

exports.saver = saver;

/***/ }),

/***/ 1317:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.selectiveSaver = undefined;

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _defineProperty2 = __webpack_require__(123);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _jsonStringifySafe = __webpack_require__(727);

var _jsonStringifySafe2 = _interopRequireDefault(_jsonStringifySafe);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var toSaveStates = ['rememberedSwaps', 'user', 'signUp'];

var cleanReduxStore = function cleanReduxStore(reduxStore) {
  return (0, _keys2.default)(reduxStore).reduce(function (result, key) {
    return toSaveStates.includes(key) ? (0, _assign2.default)({}, result, (0, _defineProperty3.default)({}, key, reduxStore[key])) : result;
  }, {});
};

var selectiveSaver = function selectiveSaver(store) {
  return function (next) {
    return function () {
      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(action) {
        var stateName, data, reduxStore;
        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                next(action);

                stateName = action.type.split('.')[0];


                if (toSaveStates.includes(stateName)) {
                  data = store.getState()[stateName];
                  reduxStore = localStorage.getItem('redux-store');


                  if (reduxStore === null) {
                    reduxStore = (0, _defineProperty3.default)({}, stateName, data);
                  } else {
                    reduxStore = cleanReduxStore(JSON.parse(reduxStore));

                    if (stateName in reduxStore) {
                      reduxStore[stateName] = data;
                    } else {
                      reduxStore = (0, _assign2.default)({}, reduxStore, (0, _defineProperty3.default)({}, stateName, data));
                    }
                  }
                  localStorage.setItem('redux-store', (0, _jsonStringifySafe2.default)(reduxStore, null, 2));
                }

              case 3:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, undefined);
      }));

      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }();
  };
};

exports.selectiveSaver = selectiveSaver;

/***/ }),

/***/ 1334:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 1336:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 136:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalContainer = exports.ModalConductor = exports.Modal = undefined;

var _Modal = __webpack_require__(197);

var _Modal2 = _interopRequireDefault(_Modal);

var _ModalConductor = __webpack_require__(1217);

var _ModalConductor2 = _interopRequireDefault(_ModalConductor);

var _ModalContainer = __webpack_require__(3279);

var _ModalContainer2 = _interopRequireDefault(_ModalContainer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.Modal = _Modal2.default;
exports.ModalConductor = _ModalConductor2.default;
exports.ModalContainer = _ModalContainer2.default;

/***/ }),

/***/ 1362:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 1368:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _bitcoinjsLib = __webpack_require__(151);

var _bitcoinjsLib2 = _interopRequireDefault(_bitcoinjsLib);

var _core = __webpack_require__(60);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _constants = __webpack_require__(154);

var _constants2 = _interopRequireDefault(_constants);

var _request = __webpack_require__(308);

var _request2 = _interopRequireDefault(_request);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var network =  true ? _bitcoinjsLib2.default.networks.bitcoin : _bitcoinjsLib2.default.networks.testnet;

var DUST = 546;

var calculateTxSize = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        speed = _ref2.speed,
        unspents = _ref2.unspents,
        address = _ref2.address,
        _ref2$txOut = _ref2.txOut,
        txOut = _ref2$txOut === undefined ? 2 : _ref2$txOut,
        _ref2$method = _ref2.method,
        method = _ref2$method === undefined ? 'send' : _ref2$method,
        fixed = _ref2.fixed;

    var defaultTxSize, txIn, txSize;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            defaultTxSize = _constants2.default.defaultFeeRates.btc.size[method];

            if (!fixed) {
              _context.next = 3;
              break;
            }

            return _context.abrupt('return', defaultTxSize);

          case 3:
            _context.t0 = unspents;

            if (_context.t0) {
              _context.next = 8;
              break;
            }

            _context.next = 7;
            return _actions2.default.btc.fetchUnspents(address);

          case 7:
            _context.t0 = _context.sent;

          case 8:
            unspents = _context.t0;
            txIn = unspents.length;
            txSize = txIn > 0 ? txIn * 146 + txOut * 33 + (15 + txIn - txOut) : defaultTxSize;
            return _context.abrupt('return', txSize);

          case 12:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function calculateTxSize() {
    return _ref.apply(this, arguments);
  };
}();

var estimateFeeValue = function () {
  var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        feeRate = _ref4.feeRate,
        inSatoshis = _ref4.inSatoshis,
        speed = _ref4.speed,
        address = _ref4.address,
        txSize = _ref4.txSize,
        fixed = _ref4.fixed,
        method = _ref4.method;

    var _getState, btcData, calculatedFeeValue, finalFeeValue;

    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _getState = (0, _core.getState)(), btcData = _getState.user.btcData;


            address = address || btcData.address;
            _context2.t0 = txSize;

            if (_context2.t0) {
              _context2.next = 7;
              break;
            }

            _context2.next = 6;
            return calculateTxSize({ address: address, speed: speed, fixed: fixed, method: method });

          case 6:
            _context2.t0 = _context2.sent;

          case 7:
            txSize = _context2.t0;
            _context2.t1 = feeRate;

            if (_context2.t1) {
              _context2.next = 13;
              break;
            }

            _context2.next = 12;
            return estimateFeeRate({ speed: speed });

          case 12:
            _context2.t1 = _context2.sent;

          case 13:
            feeRate = _context2.t1;
            calculatedFeeValue = _bignumber2.default.maximum(DUST, (0, _bignumber2.default)(feeRate).multipliedBy(txSize).div(1024).dp(0, _bignumber2.default.ROUND_HALF_EVEN));

            // Используем комиссию больше рекомендованной на 5 сатоши

            calculatedFeeValue.plus(5);

            finalFeeValue = inSatoshis ? calculatedFeeValue.toString() : calculatedFeeValue.multipliedBy(1e-8).toString();
            return _context2.abrupt('return', finalFeeValue);

          case 18:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, undefined);
  }));

  return function estimateFeeValue() {
    return _ref3.apply(this, arguments);
  };
}();

var estimateFeeRate = function () {
  var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        _ref6$speed = _ref6.speed,
        speed = _ref6$speed === undefined ? 'fast' : _ref6$speed;

    var link, defaultRate, apiResult, apiSpeeds, apiSpeed, apiRate;
    return _regenerator2.default.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            link = _appConfig2.default.feeRates.btc;
            defaultRate = _constants2.default.defaultFeeRates.btc.rate;

            if (link) {
              _context3.next = 4;
              break;
            }

            return _context3.abrupt('return', defaultRate[speed]);

          case 4:
            apiResult = void 0;
            _context3.prev = 5;
            _context3.next = 8;
            return _request2.default.get(link, { cacheResponse: 60000 });

          case 8:
            apiResult = _context3.sent;
            _context3.next = 15;
            break;

          case 11:
            _context3.prev = 11;
            _context3.t0 = _context3['catch'](5);

            console.error('EstimateFeeRate: ' + _context3.t0.message);
            return _context3.abrupt('return', defaultRate[speed]);

          case 15:
            apiSpeeds = {
              slow: 'low_fee_per_kb',
              normal: 'medium_fee_per_kb',
              fast: 'high_fee_per_kb'
            };
            apiSpeed = apiSpeeds[speed] || apiSpeed.normal;
            apiRate = (0, _bignumber2.default)(apiResult[apiSpeed]);
            return _context3.abrupt('return', apiRate.isGreaterThanOrEqualTo(DUST) ? apiRate.toString() : defaultRate[speed]);

          case 19:
          case 'end':
            return _context3.stop();
        }
      }
    }, _callee3, undefined, [[5, 11]]);
  }));

  return function estimateFeeRate() {
    return _ref5.apply(this, arguments);
  };
}();

exports.default = {
  calculateTxSize: calculateTxSize,
  estimateFeeValue: estimateFeeValue,
  estimateFeeRate: estimateFeeRate,
  network: network
};

/***/ }),

/***/ 1390:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var open = function open(name, data) {
  return _reducers2.default.modals.open({ name: name, data: data });
};

var close = function close(name) {
  return _reducers2.default.modals.close(name);
};

exports.default = {
  open: open,
  close: close
};

/***/ }),

/***/ 1391:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var show = function show(isVisible, data) {
  return _reducers2.default.loader.setVisibility({ isVisible: isVisible, data: data });
};
var hide = function hide() {
  return _reducers2.default.loader.setVisibility({});
};

exports.default = {
  show: show,
  hide: hide
};

/***/ }),

/***/ 1392:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var show = function show(name, data) {
  return _reducers2.default.notifications.show({ name: name, data: data });
};

var hide = function hide(name) {
  return _reducers2.default.notifications.hide(name);
};

exports.default = {
  show: show,
  hide: hide
};

/***/ }),

/***/ 1393:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var setSigned = function setSigned() {
  _reducers2.default.signUp.setSigned();
};

exports.default = {
  setSigned: setSigned
};

/***/ }),

/***/ 1394:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _isInteger = __webpack_require__(297);

var _isInteger2 = _interopRequireDefault(_isInteger);

var _slicedToArray2 = __webpack_require__(457);

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _moment = __webpack_require__(250);

var _moment2 = _interopRequireDefault(_moment);

var _helpers = __webpack_require__(17);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _core = __webpack_require__(60);

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var sign = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
    var btcPrivateKey, bchPrivateKey, ltcPrivateKey, ethPrivateKey, ethKeychainActivated, _ethPrivateKey, btcKeychainActivated, eosSign, telosSign, getReputation;

    return _regenerator2.default.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            btcPrivateKey = localStorage.getItem(_helpers.constants.privateKeyNames.btc);
            bchPrivateKey = localStorage.getItem(_helpers.constants.privateKeyNames.bch);
            ltcPrivateKey = localStorage.getItem(_helpers.constants.privateKeyNames.ltc);
            ethPrivateKey = localStorage.getItem(_helpers.constants.privateKeyNames.eth);
            ethKeychainActivated = !!localStorage.getItem(_helpers.constants.privateKeyNames.ethKeychainPublicKey);

            if (!ethKeychainActivated) {
              _context4.next = 11;
              break;
            }

            _context4.next = 8;
            return _actions2.default.eth.loginWithKeychain();

          case 8:
            _context4.t0 = _context4.sent;
            _context4.next = 12;
            break;

          case 11:
            _context4.t0 = _actions2.default.eth.login(ethPrivateKey);

          case 12:
            _ethPrivateKey = _context4.t0;

            // const xlmPrivateKey = localStorage.getItem(constants.privateKeyNames.xlm)

            // actions.xlm.login(xlmPrivateKey)
            btcKeychainActivated = !!localStorage.getItem(_helpers.constants.privateKeyNames.btcKeychainPublicKey);

            if (!btcKeychainActivated) {
              _context4.next = 19;
              break;
            }

            _context4.next = 17;
            return _actions2.default.btc.loginWithKeychain();

          case 17:
            _context4.next = 20;
            break;

          case 19:
            _actions2.default.btc.login(btcPrivateKey);

          case 20:
            _actions2.default.bch.login(bchPrivateKey);
            // actions.usdt.login(btcPrivateKey)
            _actions2.default.ltc.login(ltcPrivateKey);

            // if inside actions.token.login to call web3.eth.accounts.privateKeyToAccount passing public key instead of private key
            // there will not be an error, but the address returned will be wrong
            if (!ethKeychainActivated) {
              (0, _keys2.default)(_appConfig2.default.erc20).forEach(function (name) {
                _actions2.default.token.login(_ethPrivateKey, _appConfig2.default.erc20[name].address, name, _appConfig2.default.erc20[name].decimals, _appConfig2.default.erc20[name].fullName);
              });
            }
            // await actions.nimiq.login(_ethPrivateKey)

            eosSign = function () {
              var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
                var eosActivePrivateKey, eosActivePublicKey, eosAccount;
                return _regenerator2.default.wrap(function _callee$(_context) {
                  while (1) {
                    switch (_context.prev = _context.next) {
                      case 0:
                        eosActivePrivateKey = localStorage.getItem(_helpers.constants.privateKeyNames.eosPrivateKey);
                        eosActivePublicKey = localStorage.getItem(_helpers.constants.privateKeyNames.eosPublicKey);
                        eosAccount = localStorage.getItem(_helpers.constants.privateKeyNames.eosAccount);

                        if (!(eosActivePrivateKey && eosActivePublicKey && eosAccount)) {
                          _context.next = 10;
                          break;
                        }

                        _context.next = 6;
                        return _actions2.default.eos.login(eosAccount, eosActivePrivateKey, eosActivePublicKey);

                      case 6:
                        _context.next = 8;
                        return _actions2.default.eos.waitAccountActivation();

                      case 8:
                        _context.next = 12;
                        break;

                      case 10:
                        _context.next = 12;
                        return _actions2.default.eos.loginWithNewAccount();

                      case 12:
                        _context.next = 14;
                        return _actions2.default.eos.getBalance();

                      case 14:
                      case 'end':
                        return _context.stop();
                    }
                  }
                }, _callee, undefined);
              }));

              return function eosSign() {
                return _ref2.apply(this, arguments);
              };
            }();

            telosSign = function () {
              var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
                var telosActivePrivateKey, telosActivePublicKey, telosAccount;
                return _regenerator2.default.wrap(function _callee2$(_context2) {
                  while (1) {
                    switch (_context2.prev = _context2.next) {
                      case 0:
                        telosActivePrivateKey = localStorage.getItem(_helpers.constants.privateKeyNames.telosPrivateKey);
                        telosActivePublicKey = localStorage.getItem(_helpers.constants.privateKeyNames.telosPublicKey);
                        telosAccount = localStorage.getItem(_helpers.constants.privateKeyNames.telosAccount);


                        if (telosActivePrivateKey && telosActivePublicKey && telosAccount) {
                          _actions2.default.tlos.login(telosAccount, telosActivePrivateKey, telosActivePublicKey);
                        }
                        _context2.next = 6;
                        return _actions2.default.tlos.getBalance();

                      case 6:
                      case 'end':
                        return _context2.stop();
                    }
                  }
                }, _callee2, undefined);
              }));

              return function telosSign() {
                return _ref3.apply(this, arguments);
              };
            }();

            getReputation = function () {
              var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
                return _regenerator2.default.wrap(function _callee3$(_context3) {
                  while (1) {
                    switch (_context3.prev = _context3.next) {
                      case 0:
                        _context3.next = 2;
                        return _actions2.default.user.getReputation();

                      case 2:
                      case 'end':
                        return _context3.stop();
                    }
                  }
                }, _callee3, undefined);
              }));

              return function getReputation() {
                return _ref4.apply(this, arguments);
              };
            }();

            eosSign();
            telosSign();
            getReputation();

          case 29:
          case 'end':
            return _context4.stop();
        }
      }
    }, _callee4, undefined);
  }));

  return function sign() {
    return _ref.apply(this, arguments);
  };
}();

var getReputation = function () {
  var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
    var btcReputationPromise, ethReputationPromise;
    return _regenerator2.default.wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            btcReputationPromise = _actions2.default.btc.getReputation();
            ethReputationPromise = _actions2.default.eth.getReputation();

            _promise2.default.all([btcReputationPromise, ethReputationPromise]).then(function (_ref6) {
              var _ref7 = (0, _slicedToArray3.default)(_ref6, 2),
                  btcReputation = _ref7[0],
                  ethReputation = _ref7[1];

              var totalReputation = Number(btcReputation) + Number(ethReputation);
              if ((0, _isInteger2.default)(totalReputation)) {
                _reducers2.default.ipfs.set({ reputation: totalReputation });
              } else {
                _reducers2.default.ipfs.set({ reputation: null });
              }
            }).catch(function (error) {
              console.error('unknown reputation', error);
            });

          case 3:
          case 'end':
            return _context5.stop();
        }
      }
    }, _callee5, undefined);
  }));

  return function getReputation() {
    return _ref5.apply(this, arguments);
  };
}();

var getBalances = function getBalances() {
  _actions2.default.eth.getBalance();
  _actions2.default.btc.getBalance();
  // actions.xlm.getBalance()
  _actions2.default.bch.getBalance();
  _actions2.default.ltc.getBalance();
  // actions.usdt.getBalance()
  _actions2.default.eos.getBalance();
  _actions2.default.tlos.getBalance();

  (0, _keys2.default)(_appConfig2.default.erc20).forEach(function (name) {
    _actions2.default.token.getBalance(name);
  });
  // actions.nimiq.getBalance()
};

var getDemoMoney =  true ? function () {} : function () {
  // googe bitcoin (or rinkeby) faucet
  _helpers.request.get('https://swap.wpmix.net/demokeys.php', {}).then(function (r) {
    window.localStorage.clear();
    localStorage.setItem(_helpers.constants.privateKeyNames.btc, r[0]);
    localStorage.setItem(_helpers.constants.privateKeyNames.eth, r[1]);
    localStorage.setItem(_helpers.constants.localStorage.demoMoneyReceived, true);
    window.location.reload();
  });
};

var getExchangeRate = function getExchangeRate(sellCurrency, buyCurrency) {
  return new _promise2.default(function (resolve, reject) {
    var url = 'https://api.cryptonator.com/api/full/' + sellCurrency + '-' + buyCurrency;

    _helpers.request.get(url).then(function (_ref8) {
      var exchangeRate = _ref8.ticker.price;

      resolve(exchangeRate);
    }).catch(function () {
      if (_helpers.constants.customEcxchangeRate[sellCurrency.toLowerCase()] !== undefined) {
        resolve(_helpers.constants.customEcxchangeRate[sellCurrency]);
      } else {
        resolve(1);
      }
    });
  });
};

var pullTransactions = function pullTransactions(transactions) {
  var _ref9;

  var data = (_ref9 = []).concat.apply(_ref9, [[]].concat((0, _toConsumableArray3.default)(transactions))).sort(function (a, b) {
    return b.date - a.date;
  });
  _reducers2.default.history.setTransactions(data);
};

var delay = function delay(ms) {
  return new _promise2.default(function (resolve) {
    return setTimeout(function () {
      return resolve(true);
    }, ms);
  });
};

var setTransactions = function () {
  var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8() {
    var mainTokens;
    return _regenerator2.default.wrap(function _callee8$(_context8) {
      while (1) {
        switch (_context8.prev = _context8.next) {
          case 0:
            _context8.prev = 0;
            _context8.next = 3;
            return _promise2.default.all([_actions2.default.btc.getTransaction(), _actions2.default.bch.getTransaction(),
            // actions.usdt.getTransaction(),
            _actions2.default.eth.getTransaction(), _actions2.default.ltc.getTransaction()]);

          case 3:
            mainTokens = _context8.sent;
            _context8.next = 6;
            return new _promise2.default(function () {
              var _ref11 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(resolve) {
                var ercArray;
                return _regenerator2.default.wrap(function _callee7$(_context7) {
                  while (1) {
                    switch (_context7.prev = _context7.next) {
                      case 0:
                        _context7.next = 2;
                        return _promise2.default.all((0, _keys2.default)(_appConfig2.default.erc20).map(function () {
                          var _ref12 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(name, index) {
                            var res;
                            return _regenerator2.default.wrap(function _callee6$(_context6) {
                              while (1) {
                                switch (_context6.prev = _context6.next) {
                                  case 0:
                                    _context6.next = 2;
                                    return delay(650 * index);

                                  case 2:
                                    _context6.next = 4;
                                    return _actions2.default[name].getTransaction(name);

                                  case 4:
                                    res = _context6.sent;
                                    return _context6.abrupt('return', res);

                                  case 6:
                                  case 'end':
                                    return _context6.stop();
                                }
                              }
                            }, _callee6, undefined);
                          }));

                          return function (_x2, _x3) {
                            return _ref12.apply(this, arguments);
                          };
                        }()));

                      case 2:
                        ercArray = _context7.sent;
                        return _context7.abrupt('return', resolve(ercArray));

                      case 4:
                      case 'end':
                        return _context7.stop();
                    }
                  }
                }, _callee7, undefined);
              }));

              return function (_x) {
                return _ref11.apply(this, arguments);
              };
            }()).then(function (ercTokens) {
              pullTransactions([].concat((0, _toConsumableArray3.default)(mainTokens), (0, _toConsumableArray3.default)(ercTokens)));
            });

          case 6:
            _context8.next = 11;
            break;

          case 8:
            _context8.prev = 8;
            _context8.t0 = _context8['catch'](0);

            console.error('getTransError: ', _context8.t0);

          case 11:
          case 'end':
            return _context8.stop();
        }
      }
    }, _callee8, undefined, [[0, 8]]);
  }));

  return function setTransactions() {
    return _ref10.apply(this, arguments);
  };
}();

var getText = function getText() {
  var _getState = (0, _core.getState)(),
      _getState$user = _getState.user,
      ethData = _getState$user.ethData,
      btcData = _getState$user.btcData,
      eosData = _getState$user.eosData,
      telosData = _getState$user.telosData,
      bchData = _getState$user.bchData,
      ltcData = _getState$user.ltcData;

  var text = '\n  You will need this instruction only in case of emergency (if you lost your keys) \r\n\n  please do NOT waste your time and go back to swap.online\r\n\n  \r\n\n  \r\n\n  \r\n\n  \r\n\n' + window.location.hostname + ' emergency only instruction\n\r\n\n#ETHEREUM\n\r\n\nEthereum address: ' + ethData.address + '  \r\n\nPrivate key: ' + ethData.privateKey + '\r\n\n\r\n\nHow to access tokens and ethers: \r\n\n1. Go here https://www.myetherwallet.com/#send-transaction \r\n\n2. Select \'Private key\'\r\n\n3. paste private key to input and click "unlock"\r\n\n\r\n\n# BITCOIN\r\n\n\r\n\nBitcoin address: ' + btcData.address + '\r\n\nPrivate key: ' + btcData.privateKey + '\r\n\n\r\n\n1. Go to blockchain.info\r\n\n2. login\r\n\n3. Go to settings > addresses > import\r\n\n4. paste private key and click "Ok"\r\n\n\r\n\n* We don`t store your private keys and will not be able to restore them!\n\r\n\n#LITECOIN\n\r\n\nLitecoin address: ' + ltcData.address + '  \r\n\nPrivate key: ' + ltcData.privateKey + '\r\n\n\r\n\n1. Go to blockchain.info\r\n\n2. login\r\n\n3. Go to settings > addresses > import\r\n\n4. paste private key and click "Ok"\r\n\n\r\n\n# BITCOINCACHE\r\n\n\r\n\nBitcoinCache address: ' + bchData.address + '\r\n\nPrivate key: ' + bchData.privateKey + '\r\n\n\r\n\n1. Go to blockchain.info\r\n\n2. login\r\n\n3. Go to settings > addresses > import\r\n\n4. paste private key and click "Ok"\r\n\n';
  /*
  # XLM\r\n
  \r\n
  XLM Private Key: ${xlmData.keypair.secret()}\r\n
  Address name: ${xlmData.address}\r\n
  \r\n
  `
  */
  if (eosData.activePrivateKey) {
    text = '\n' + text + '\n# EOS\r\n\n\r\n\nEOS Master Private Key: ' + eosData.activePrivateKey + '\r\n\nAccount name: ' + eosData.address + '\r\n\n\r\n\n# TELOS\r\n\n\r\n\nTELOS Active Private Key: ' + telosData.activePrivateKey + '\r\n\nAccount name: ' + telosData.address + '\r\n';
  }

  return text;
};

var downloadPrivateKeys = function downloadPrivateKeys() {
  var element = document.createElement('a');
  var text = getText();
  var message = 'Check your browser downloads';

  element.setAttribute('href', 'data:text/plaincharset=utf-8,' + encodeURIComponent(text));
  element.setAttribute('download', window.location.hostname + '_keys_' + (0, _moment2.default)().format('DD.MM.YYYY') + '.txt');

  element.style.display = 'none';
  document.body.appendChild(element);
  element.click();
  document.body.removeChild(element);

  _actions2.default.notifications.show(_helpers.constants.notifications.Message, {
    message: message
  });

  localStorage.setItem(_helpers.constants.localStorage.privateKeysSaved, true);
};

window.downloadPrivateKeys = downloadPrivateKeys;

exports.default = {
  sign: sign,
  getBalances: getBalances,
  getDemoMoney: getDemoMoney,
  getExchangeRate: getExchangeRate,
  setTransactions: setTransactions,
  downloadPrivateKeys: downloadPrivateKeys,
  getText: getText,
  getReputation: getReputation
};

/***/ }),

/***/ 1399:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

var _core = __webpack_require__(60);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var addItemToFeed = function addItemToFeed(feeds) {
  var filteredFeeds = feeds.filter(function (f) {
    return f.request.length !== 0;
  });
  _reducers2.default.feeds.addItems(filteredFeeds);
};

var deleteItemToFeed = function deleteItemToFeed(orderId) {
  var _getState = (0, _core.getState)(),
      feeds = _getState.feeds;

  var filteredFeeds = (0, _keys2.default)(feeds).map(function (k) {
    return feeds[k];
  }).filter(function (f) {
    return f.id === orderId;
  });

  _reducers2.default.feeds.deleteItems(filteredFeeds);
};

var getFeedDataFromOrder = function getFeedDataFromOrder(orders) {
  var feeds = orders.map(function (order) {
    return {
      peer: order.owner.peer,
      id: order.id,
      content: {
        sellCurrency: order.sellCurrency,
        buyCurrency: order.buyCurrency,
        sellAmount: order.sellAmount,
        buyAmount: order.buyAmount
      },
      request: order.requests
    };
  });

  addItemToFeed(feeds);
};

exports.default = {
  getFeedDataFromOrder: getFeedDataFromOrder,
  deleteItemToFeed: deleteItemToFeed
};

/***/ }),

/***/ 14:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _modals = __webpack_require__(1390);

var _modals2 = _interopRequireDefault(_modals);

var _loader = __webpack_require__(1391);

var _loader2 = _interopRequireDefault(_loader);

var _notifications = __webpack_require__(1392);

var _notifications2 = _interopRequireDefault(_notifications);

var _firebase = __webpack_require__(1393);

var _firebase2 = _interopRequireDefault(_firebase);

var _user = __webpack_require__(1394);

var _user2 = _interopRequireDefault(_user);

var _feed = __webpack_require__(1399);

var _feed2 = _interopRequireDefault(_feed);

var _core = __webpack_require__(1400);

var _core2 = _interopRequireDefault(_core);

var _filter = __webpack_require__(1424);

var _filter2 = _interopRequireDefault(_filter);

var _btc = __webpack_require__(1425);

var _btc2 = _interopRequireDefault(_btc);

var _bch = __webpack_require__(1461);

var _bch2 = _interopRequireDefault(_bch);

var _ltc = __webpack_require__(1485);

var _ltc2 = _interopRequireDefault(_ltc);

var _eth = __webpack_require__(1486);

var _eth2 = _interopRequireDefault(_eth);

var _keychain = __webpack_require__(1608);

var _keychain2 = _interopRequireDefault(_keychain);

var _eos = __webpack_require__(1609);

var _eos2 = _interopRequireDefault(_eos);

var _tlos = __webpack_require__(1631);

var _tlos2 = _interopRequireDefault(_tlos);

var _token = __webpack_require__(1632);

var _token2 = _interopRequireDefault(_token);

var _nimiq = __webpack_require__(1633);

var _nimiq2 = _interopRequireDefault(_nimiq);

var _api = __webpack_require__(1635);

var _api2 = _interopRequireDefault(_api);

var _pairs = __webpack_require__(1636);

var _pairs2 = _interopRequireDefault(_pairs);

var _referral = __webpack_require__(821);

var _referral2 = _interopRequireDefault(_referral);

var _analytics = __webpack_require__(1637);

var _analytics2 = _interopRequireDefault(_analytics);

var _ipfs = __webpack_require__(1638);

var _ipfs2 = _interopRequireDefault(_ipfs);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import usdt from './usdt'


var tokens = {};
// import xlm from './xlm'


(0, _keys2.default)(_appConfig2.default.erc20).forEach(function (key) {
  tokens[key] = _token2.default;
});

exports.default = (0, _assign2.default)({}, tokens, {
  filter: _filter2.default,
  modals: _modals2.default,
  loader: _loader2.default,
  notifications: _notifications2.default,
  firebase: _firebase2.default,
  user: _user2.default,
  core: _core2.default,
  ltc: _ltc2.default,
  // xlm,
  bch: _bch2.default,
  btc: _btc2.default,
  // usdt,
  eth: _eth2.default,
  keychain: _keychain2.default,
  token: _token2.default,
  nimiq: _nimiq2.default,
  eos: _eos2.default,
  tlos: _tlos2.default,
  feed: _feed2.default,
  analytics: _analytics2.default,
  referral: _referral2.default,
  ipfs: _ipfs2.default,
  api: _api2.default,
  pairs: _pairs2.default
});

/***/ }),

/***/ 1400:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _stringify = __webpack_require__(112);

var _stringify2 = _interopRequireDefault(_stringify);

var _getIterator2 = __webpack_require__(365);

var _getIterator3 = _interopRequireDefault(_getIterator2);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _core = __webpack_require__(60);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(82);

var _swap4 = _interopRequireDefault(_swap3);

var _helpers = __webpack_require__(17);

var _Pair = __webpack_require__(368);

var _Pair2 = _interopRequireDefault(_Pair);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var debug = function debug() {
  var _console;

  return (_console = console).log.apply(_console, arguments);
};

var getOrders = function getOrders(orders) {
  _reducers2.default.core.getOrders({ orders: orders });
  _actions2.default.core.addCurrencyFromOrders(orders);
};

var addCurrencyFromOrders = function addCurrencyFromOrders(orders) {
  if (_appConfig2.default && _appConfig2.default.isWidget) return; // НЕ добавляем валюты из ордеров в режиме виджета

  var currenciesGetState = (0, _core.getState)().currencies;
  var allCurrencyies = currenciesGetState.items.map(function (item) {
    return item.name;
  }); // все валюты достпуные в клиенте
  var partialCurrency = currenciesGetState.partialItems; // получаем все премиальные валюты

  var sellOrderArray = orders.map(function (item) {
    return item.sellCurrency;
  }); // получаем из ордерова валюты на продажу
  var buyOrderArray = orders.map(function (item) {
    return item.buyCurrency;
  }); // получаем из ордерова валюты на покупку

  var sortedArray = [].concat((0, _toConsumableArray3.default)(sellOrderArray)); // записываем sellOrderArray в массив

  // terators/generators require regenerator-runtime
  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    for (var _iterator = (0, _getIterator3.default)(sellOrderArray), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      var sellCurrency = _step.value;
      // eslint-disable-line
      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = undefined;

      try {
        for (var _iterator2 = (0, _getIterator3.default)(buyOrderArray), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
          var buyCurrency = _step2.value;
          // eslint-disable-line
          if (sellCurrency !== buyCurrency) {
            if (!sellOrderArray.includes(sellCurrency)) {
              if (allCurrencyies.includes(sellCurrency)) {
                // не пускаю валюты не существующие в клиенте
                sortedArray.push(sellCurrency);
              }
            } else if (!sellOrderArray.includes(buyCurrency)) {
              if (allCurrencyies.includes(buyCurrency)) {
                // не пускаю валюты не существующие в клиенте
                sortedArray.push(buyCurrency);
              }
            }
          }
        }
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2.return) {
            _iterator2.return();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator.return) {
        _iterator.return();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }

  sortedArray.forEach(function (item) {
    // добавляем объект в дроп, еще раз проверяя, на совпадения
    if (!partialCurrency.map(function (item) {
      return item.name;
    }).includes(item)) {
      partialCurrency.push({
        name: item.toUpperCase(),
        title: item.toUpperCase(),
        icon: item.toLowerCase(),
        value: item.toLowerCase()
      });
    }
  });
  _reducers2.default.currencies.updatePartialItems(partialCurrency);
};

var getSwapById = function getSwapById(id) {
  return new _swap4.default(id, _swap2.default.shared());
};

var getUserData = function getUserData(currency) {
  switch (currency.toUpperCase()) {
    case 'BTC':
      return (0, _core.getState)().user.btcData;

    case 'ETH':
      return (0, _core.getState)().user.ethData;

    default:
      return {};
  }
};

var setFilter = function setFilter(filter) {
  _reducers2.default.core.setFilter({ filter: filter });
};

var acceptRequest = function acceptRequest(orderId, participantPeer) {
  var order = _swap2.default.shared().services.orders.getByKey(orderId);
  order.acceptRequest(participantPeer);
};

var declineRequest = function declineRequest(orderId, participantPeer) {
  var order = _swap2.default.shared().services.orders.getByKey(orderId);
  order.declineRequest(participantPeer);
};

var rememberOrder = function rememberOrder(orderId) {
  _reducers2.default.rememberedOrders.savedOrders(orderId);
  localStorage.setItem(_helpers.constants.localStorage.savedOrders, (0, _stringify2.default)((0, _core.getState)().rememberedOrders.savedOrders));
};

var saveDeletedOrder = function saveDeletedOrder(orderId) {
  _reducers2.default.rememberedOrders.deletedOrders(orderId);
  localStorage.setItem(_helpers.constants.localStorage.deletedOrders, (0, _stringify2.default)((0, _core.getState)().rememberedOrders.deletedOrders));
};

var forgetOrders = function forgetOrders(orderId) {
  _reducers2.default.rememberedOrders.forgetOrders(orderId);
  localStorage.setItem(_helpers.constants.localStorage.savedOrders, (0, _stringify2.default)((0, _core.getState)().rememberedOrders.savedOrders));
};

var removeOrder = function removeOrder(orderId) {
  _actions2.default.feed.deleteItemToFeed(orderId);
  _swap2.default.shared().services.orders.remove(orderId);
  _actions2.default.core.updateCore();
};

var showMyOrders = function showMyOrders() {
  _swap2.default.shared().services.orders.showMyOrders();
};

var hideMyOrders = function hideMyOrders() {
  _swap2.default.shared().services.orders.hideMyOrders();
};

var deletedPartialCurrency = function deletedPartialCurrency(orderId) {
  var deletedOrder = _swap2.default.shared().services.orders.getByKey(orderId);
  var deletedOrderSellCurrency = deletedOrder.sellCurrency;
  var deletedOrderBuyCurrency = deletedOrder.buyCurrency;
  var orders = _swap2.default.shared().services.orders.items;

  var deletedOrderSell = orders.filter(function (item) {
    return item.sellCurrency.toUpperCase() === deletedOrderSellCurrency;
  });
  var deletedOrderBuy = orders.filter(function (item) {
    return item.buyCurrency.toUpperCase() === deletedOrderBuyCurrency;
  });

  var premiumCurrencies = ['BTC', 'ETH', 'SWAP']; // валюты, которые всегда должны быть в дропе

  if (deletedOrderSell.length === 1 && !premiumCurrencies.includes(deletedOrderSellCurrency)) {
    _reducers2.default.currencies.deletedPartialCurrency(deletedOrderSellCurrency);
  } else if (deletedOrderBuy.length === 1 && !premiumCurrencies.includes(deletedOrderBuyCurrency)) {
    _reducers2.default.currencies.deletedPartialCurrency(deletedOrderBuyCurrency);
  }
};

var hasHiddenOrders = function hasHiddenOrders() {
  return _swap2.default.shared().services.orders.hasHiddenOrders();
};

var sendRequest = function sendRequest(orderId) {
  var destination = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var callback = arguments[2];
  var destinationAddress = destination.address;


  var order = _swap2.default.shared().services.orders.getByKey(orderId);

  var userCurrencyData = getUserData(order.buyCurrency);

  var _getUserData = getUserData(order.buyCurrency),
      address = _getUserData.address,
      reputation = _getUserData.reputation,
      reputationProof = _getUserData.reputationProof;

  var requestOptions = {
    address: destinationAddress,
    participantMetadata: {
      address: address,
      reputation: reputation,
      reputationProof: reputationProof
    }
  };

  order.sendRequest(callback, requestOptions);
};

var sendRequestForPartial = function sendRequestForPartial(orderId, newValues) {
  var destination = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var callback = arguments[3];
  var destinationAddress = destination.address;


  var order = _swap2.default.shared().services.orders.getByKey(orderId);

  var _getUserData2 = getUserData(order.buyCurrency),
      address = _getUserData2.address,
      reputation = _getUserData2.reputation,
      reputationProof = _getUserData2.reputationProof;

  var requestOptions = {
    address: destinationAddress,
    participantMetadata: {
      address: address,
      reputation: reputation,
      reputationProof: reputationProof
    }
  };

  order.sendRequestForPartial(newValues, requestOptions, function (newOrder, isAccepted) {
    console.error('newOrder', newOrder);
    console.error('newOrder', isAccepted);

    callback(newOrder, isAccepted);
  }, function (oldOrder, newOrder) {
    var oldPrice = _Pair2.default.fromOrder(oldOrder).price;
    var newPrice = _Pair2.default.fromOrder(newOrder).price;

    console.log('prices', oldPrice.toString(), newPrice.toString());
    // | new - old | / old < 5%
    return newPrice.minus(oldPrice).abs().div(oldPrice).isLessThanOrEqualTo(0.05);
  });
};

var createOrder = function createOrder(data) {
  var isPartial = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  var order = _swap2.default.shared().services.orders.create(data);
  if (!isPartial) {
    return order;
  }

  _actions2.default.core.setupPartialOrder(order);
  return order;
};

var setupPartialOrder = function setupPartialOrder(order) {
  var pairData = _Pair2.default.fromOrder(order);
  if (!pairData || !pairData.price) return;
  var price = pairData.price;


  order.setRequestHandlerForPartial('sellAmount', function (_ref, oldOrder) {
    var sellAmount = _ref.sellAmount;

    var oldPair = _Pair2.default.fromOrder(oldOrder);

    debug('oldPair', oldPair);

    // if BID, then
    // price == buyAmount / sellAmount

    var buyAmount = oldPair.isBid() ? sellAmount.div(price) : sellAmount.times(price);

    debug('newBuyAmount', buyAmount);

    var newOrder = { sellAmount: sellAmount, buyAmount: buyAmount };

    debug('newOrder', newOrder);

    return newOrder;
  });

  order.setRequestHandlerForPartial('buyAmount', function (_ref2, oldOrder) {
    var buyAmount = _ref2.buyAmount;

    var oldPair = _Pair2.default.fromOrder(oldOrder);

    debug('oldPair', oldPair);
    // BUY [main] = SELL [base] CURRENCY
    // price = [main]/[base] = [buy]/[sell]

    // BUY 10 ETH = SELL 1 BTC
    // price = 10 = buyAmount / sellAmount
    // newSellAmount = buyAmount / price

    var sellAmount = oldPair.isBid() ? buyAmount.times(price) : buyAmount.div(price);

    debug('newSellAmount', sellAmount);

    var newOrder = { sellAmount: sellAmount, buyAmount: buyAmount };

    debug('newOrder', newOrder);

    return newOrder;
  });
};

var initPartialOrders = function initPartialOrders() {
  _swap2.default.shared().services.orders.items.forEach(function (order) {
    if (order && order.isMy && order.isPartial) {
      _actions2.default.core.setupPartialOrder(order);
    }
  });
};

var requestToPeer = function requestToPeer(event, peer, data, callback) {
  _swap2.default.shared().services.orders.requestToPeer(event, peer, data, callback);
};

var updateCore = function updateCore() {
  var orders = _swap2.default.shared().services.orders.items;

  getOrders(orders);

  _actions2.default.feed.getFeedDataFromOrder(orders);
};

var getSwapHistory = function getSwapHistory() {
  var swapId = JSON.parse(localStorage.getItem('swapId'));

  if (swapId === null || swapId.length === 0) {
    return;
  }

  var historySwap = swapId.map(function (item) {
    return getInformationAboutSwap(item);
  });

  _reducers2.default.history.setSwapHistory(historySwap);
};

var getInformationAboutSwap = function getInformationAboutSwap(swapId) {
  if (swapId.length > 0 && typeof swapId === 'string') {
    return (0, _assign2.default)({}, _swap2.default.shared().env.storage.getItem('swap.' + swapId), _swap2.default.shared().env.storage.getItem('flow.' + swapId));
  }
};

var markCoinAsHidden = function markCoinAsHidden(coin) {
  var list = (0, _core.getState)().core.hiddenCoinsList || [];
  if (!list.includes(coin)) {
    _reducers2.default.core.markCoinAsHidden(coin);
    localStorage.setItem(_helpers.constants.localStorage.hiddenCoinsList, (0, _stringify2.default)((0, _core.getState)().core.hiddenCoinsList));
  }
};

var markCoinAsVisible = function markCoinAsVisible(coin) {
  _reducers2.default.core.markCoinAsVisible(coin);
  localStorage.setItem(_helpers.constants.localStorage.hiddenCoinsList, (0, _stringify2.default)((0, _core.getState)().core.hiddenCoinsList));
};

exports.default = {
  rememberOrder: rememberOrder,
  forgetOrders: forgetOrders,
  getSwapById: getSwapById,
  getOrders: getOrders,
  setFilter: setFilter,
  createOrder: createOrder,
  getSwapHistory: getSwapHistory,
  updateCore: updateCore,
  sendRequest: sendRequest,
  sendRequestForPartial: sendRequestForPartial,
  acceptRequest: acceptRequest,
  declineRequest: declineRequest,
  removeOrder: removeOrder,
  markCoinAsHidden: markCoinAsHidden,
  markCoinAsVisible: markCoinAsVisible,
  requestToPeer: requestToPeer,
  getInformationAboutSwap: getInformationAboutSwap,
  saveDeletedOrder: saveDeletedOrder,
  hideMyOrders: hideMyOrders,
  showMyOrders: showMyOrders,
  hasHiddenOrders: hasHiddenOrders,
  setupPartialOrder: setupPartialOrder,
  initPartialOrders: initPartialOrders,
  deletedPartialCurrency: deletedPartialCurrency,
  addCurrencyFromOrders: addCurrencyFromOrders
};

/***/ }),

/***/ 1405:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ETH_TOKEN_PRECISION = exports.NATIVE_PRECISION = undefined;

var _defineProperty2 = __webpack_require__(123);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _extends3 = __webpack_require__(41);

var _extends4 = _interopRequireDefault(_extends3);

var _values = __webpack_require__(251);

var _values2 = _interopRequireDefault(_values);

var _COINS = __webpack_require__(498);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var NATIVE_PRECISION = exports.NATIVE_PRECISION = {
  BTC: 8,
  BCH: 8,
  ETH: 18,
  LTC: 8,
  USDT: 8
};

var ETH_TOKEN_PRECISION = exports.ETH_TOKEN_PRECISION = (0, _values2.default)(_COINS.ETH_TOKENS).reduce(function (acc, token) {
  return (0, _extends4.default)({}, acc, (0, _defineProperty3.default)({}, token, 18));
}, {});

exports.default = (0, _extends4.default)({}, ETH_TOKEN_PRECISION, NATIVE_PRECISION);

/***/ }),

/***/ 1406:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  eos: 'eos',
  web3: 'web3',
  bitcoin: 'bitcoin',
  bitcoincash: 'bitcoincash',
  coininfo: 'coininfo',
  bchaddr: 'bchaddr',
  Ipfs: 'Ipfs',
  IpfsRoom: 'IpfsRoom',
  storage: 'storage',
  sessionStorage: 'sessionStorage',
  swapsExplorer: 'swapsExplorer'
};
module.exports = exports['default'];

/***/ }),

/***/ 1407:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  auth: 'auth',
  room: 'room',
  orders: 'orders',
  swaps: 'swaps'
};
module.exports = exports['default'];

/***/ }),

/***/ 1408:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  MAINNET: 'mainnet',
  TESTNET: 'testnet',
  LOCALNET: 'localnet'
};
module.exports = exports['default'];

/***/ }),

/***/ 1409:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _stringify = __webpack_require__(112);

var _stringify2 = _interopRequireDefault(_stringify);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var StorageFactory = function () {
  function StorageFactory(storage) {
    (0, _classCallCheck3.default)(this, StorageFactory);

    this.prefix = 'swap:';
    this.storage = storage || global.localStorage;

    try {
      this.storage.setItem('test', 'test');
      this.storage.getItem('test');
      this.storage.removeItem('test');
    } catch (err) {
      throw new Error('SwapApp.env.StorageFactory: ' + err);
    }
  }

  (0, _createClass3.default)(StorageFactory, [{
    key: 'setItem',
    value: function setItem(key, value) {
      this.storage.setItem('' + this.prefix + key, (0, _stringify2.default)(value));
    }
  }, {
    key: 'getItem',
    value: function getItem(key) {
      var value = this.storage.getItem('' + this.prefix + key);

      try {
        return JSON.parse(value);
      } catch (err) {
        console.error('SwapApp.env.storage.getItem(' + key + ') parse error. Looks like the value was created w/o setItem method');
        console.error(err);
        return undefined;
      }
    }
  }, {
    key: 'removeItem',
    value: function removeItem(key) {
      return this.storage.removeItem('' + this.prefix + key);
    }
  }]);
  return StorageFactory;
}();

exports.default = StorageFactory;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(12)))

/***/ }),

/***/ 1410:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _SwapApp = __webpack_require__(762);

var _SwapApp2 = _interopRequireDefault(_SwapApp);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ServiceInterface = function () {
  (0, _createClass3.default)(ServiceInterface, [{
    key: '_constructor',


    // _constructor for aggregation
    value: function _constructor() {
      // service name, within it will be stored in this.app.services
      this._serviceName = null;
      this._dependsOn = null;
      this._spyHandlers = [];
    }
  }]);

  function ServiceInterface() {
    (0, _classCallCheck3.default)(this, ServiceInterface);

    this._constructor();
  }

  (0, _createClass3.default)(ServiceInterface, [{
    key: '_attachSwapApp',
    value: function _attachSwapApp(app) {
      _SwapApp2.default.required(app);

      this.app = app;
    }
  }, {
    key: '_waitRelationsResolve',
    value: function _waitRelationsResolve() {
      var _this = this;

      _SwapApp2.default.required(this.app);

      if (this._dependsOn && this._dependsOn.length) {
        var dependsOnMap = {};

        this._dependsOn.forEach(function (Service) {
          dependsOnMap[Service.name] = {
            initialized: false
          };

          _this.app.services[Service.name]._addWaitRelationHandler(function () {
            dependsOnMap[Service.name].initialized = true;

            var areAllExpectsInitialized = (0, _keys2.default)(dependsOnMap).every(function (serviceName) {
              return dependsOnMap[serviceName].initialized;
            });

            if (areAllExpectsInitialized) {
              _this.initService();
            }
          });
        });
      }
    }
  }, {
    key: '_addWaitRelationHandler',
    value: function _addWaitRelationHandler(handler) {
      this._spyHandlers.push(handler);
    }
  }, {
    key: '_tryInitService',
    value: function _tryInitService() {
      // init service on SwapApp mounting
      _SwapApp2.default.required(this.app);

      if (!this._dependsOn || !this._dependsOn.length) {
        this.initService();
        this._spyHandlers.forEach(function (handler) {
          return handler();
        });
        this._spyHandlers = [];
      }
    }
  }, {
    key: 'initService',
    value: function initService() {
      // init service on SwapApp mounting
    }
  }]);
  return ServiceInterface;
}();

exports.default = ServiceInterface;
module.exports = exports['default'];

/***/ }),

/***/ 1411:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SwapInterface = function () {
  function SwapInterface() {
    (0, _classCallCheck3.default)(this, SwapInterface);

    // service name, within it will be stored in this.app.swaps
    this._swapName = null;
  }

  (0, _createClass3.default)(SwapInterface, [{
    key: '_initSwap',
    value: function _initSwap(app) {
      // init service on SwapApp mounting
      _swap2.default.required(app);

      this.accounts = app.services.auth.accounts;
    }
  }]);
  return SwapInterface;
}();

exports.default = SwapInterface;
module.exports = exports['default'];

/***/ }),

/***/ 1412:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Collection = function () {
  (0, _createClass3.default)(Collection, [{
    key: "_constructor",


    // _constructor for aggregation
    value: function _constructor() {
      this.items = [];
      this.itemIds = {};
    }
  }]);

  function Collection() {
    (0, _classCallCheck3.default)(this, Collection);

    this._constructor();
  }

  /**
   * Add item at the start of current collection
   * @param item
   * @param key {string|number}
   * @returns {*}
   */


  (0, _createClass3.default)(Collection, [{
    key: "prepend",
    value: function prepend(item, key) {
      this.items.unshift(item);
      if (key) {
        for (var _key in this.itemIds) {
          if (this.itemIds.hasOwnProperty(_key)) {
            this.itemIds[_key] += 1;
          }
        }
        this.itemIds[key] = 0;
      }
      return item;
    }

    /**
     * Add item at the end of current collection
     * @param item
     * @param key {string|number}
     * @returns {*}
     */

  }, {
    key: "append",
    value: function append(item, key) {
      this.items.push(item);
      if (key) {
        this.itemIds[key] = this.items.length - 1;
      }
      return item;
    }

    /**
     * Remove item by index from current collection
     * @param index
     * @returns {*}
     */

  }, {
    key: "removeByIndex",
    value: function removeByIndex(index) {
      this.items = this.items.splice(index, 1);
    }

    /**
     * Remove item by key [id] from current collection
     * @param key {string|number}
     * @returns {*}
     */

  }, {
    key: "removeByKey",
    value: function removeByKey(key) {
      var _this = this;

      var index = this.itemIds[key];

      if (index !== undefined) {
        this.items.splice(index, 1);
        delete this.itemIds[key];

        (0, _keys2.default)(this.itemIds).forEach(function (key) {
          if (_this.itemIds[key] > index) {
            _this.itemIds[key]--;
          }
        });
      }
    }

    /**
     * Get index of item in current collection
     * @param item
     * @returns {number}
     */

  }, {
    key: "indexOf",
    value: function indexOf(item) {
      return this.items.indexOf(item);
    }

    /**
     * Get item by index from current collection
     * @param index
     * @returns {*}
     */

  }, {
    key: "getByIndex",
    value: function getByIndex(index) {
      return this.items[index];
    }

    /**
     * Get item by key [id] from current collection
     * @param key {string|number}
     * @returns {*}
     */

  }, {
    key: "getByKey",
    value: function getByKey(key) {
      return this.items[this.itemIds[key]];
    }
  }, {
    key: "isExist",
    value: function isExist(item) {
      return this.items.includes(item);
    }

    /**
     * Check if item with such name exists in current collection
     * @param key {string|number}
     * @returns {boolean}
     */

  }, {
    key: "isExistByKey",
    value: function isExistByKey(key) {
      return Boolean(this.getByKey(key));
    }
  }]);
  return Collection;
}();

exports.default = Collection;
module.exports = exports["default"];

/***/ }),

/***/ 1413:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.events = undefined;

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Event = function () {

  /**
   *
   * @param name {string}
   */
  function Event(name) {
    (0, _classCallCheck3.default)(this, Event);

    this.name = name;
    this.handlers = [];
  }

  /**
   * Add handler to current Event
   *
   * @param handler {function}
   */


  (0, _createClass3.default)(Event, [{
    key: 'addHandler',
    value: function addHandler(handler) {
      var _this = this;

      this.handlers.push(handler.bind({
        unsubscribe: function unsubscribe() {
          _this.removeHandler(handler);
        }
      }));
    }

    /**
     * Remove handler from current Event
     *
     * @param handler {function}
     * @returns {Array.<T>|*}
     */

  }, {
    key: 'removeHandler',
    value: function removeHandler(handler) {
      var handlerIndex = this.handlers.indexOf(handler);

      this.handlers.splice(handlerIndex, 1);
    }

    /**
     * Call all handlers in all priorities of current Event
     *
     * @param eventArgs {...array}
     */

  }, {
    key: 'call',
    value: function call() {
      for (var _len = arguments.length, eventArgs = Array(_len), _key = 0; _key < _len; _key++) {
        eventArgs[_key] = arguments[_key];
      }

      this.handlers.forEach(function (handler) {
        try {
          handler.apply(undefined, eventArgs);
        } catch (err) {
          console.error(err);
        }
      });
    }
  }]);
  return Event;
}();

var EventAggregator = function () {
  function EventAggregator() {
    (0, _classCallCheck3.default)(this, EventAggregator);

    this.events = {};
  }

  /**
   * Get Event by name
   *
   * @param name
   * @returns {*}
   */


  (0, _createClass3.default)(EventAggregator, [{
    key: 'getEvent',
    value: function getEvent(name) {
      var event = this.events[name];

      if (!event) {
        event = new Event(name);
        this.events[name] = event;
      }

      return event;
    }

    /**
     *
     * @param name {string}
     * @param handler {function}
     * @returns {{ event: *, handler: * }}
     */

  }, {
    key: 'subscribe',
    value: function subscribe(name, handler) {
      var event = this.getEvent(name);

      event.addHandler(handler);

      return { event: event, handler: handler };
    }

    /**
     *
     * @param eventName {string}
     * @param handler {function}
     */

  }, {
    key: 'unsubscribe',
    value: function unsubscribe(eventName, handler) {
      var event = this.getEvent(eventName);

      event.removeHandler(handler);
    }

    /**
     *
     * @param name {string}
     * @param eventArgs {...array}
     */

  }, {
    key: 'dispatch',
    value: function dispatch(name) {
      var event = this.getEvent(name);

      if (event) {
        (0, _debug2.default)('swap.verbose:events')('dispatch event', name);

        for (var _len2 = arguments.length, eventArgs = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
          eventArgs[_key2 - 1] = arguments[_key2];
        }

        event.call.apply(event, eventArgs);
      }
    }

    /**
     * Subscribe to Event and unsubscribe after call
     *
     * @param eventName {string}
     * @param handler {function}
     * @returns {{ event: *, handlerWrapper: (function(...[*])) }}
     */

  }, {
    key: 'once',
    value: function once(eventName, handler) {
      var event = this.getEvent(eventName);

      var handlerWrapper = function handlerWrapper() {
        var result = handler.apply(undefined, arguments);
        if (result) {
          event.removeHandler(handlerWrapper);
        }
      };

      event.addHandler(handlerWrapper);

      return { event: event, handlerWrapper: handlerWrapper };
    }
  }]);
  return EventAggregator;
}();

var events = new EventAggregator();

exports.default = EventAggregator;
exports.events = events;

/***/ }),

/***/ 1415:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var pullProps = function pullProps(obj) {
  for (var _len = arguments.length, props = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    props[_key - 1] = arguments[_key];
  }

  var result = {};

  props.forEach(function (propName) {
    result[propName] = obj[propName];
  });

  return result;
};

exports.default = pullProps;
module.exports = exports["default"];

/***/ }),

/***/ 1416:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ignoreProps = function ignoreProps() {
  for (var _len = arguments.length, ignored = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    ignored[_key - 1] = arguments[_key];
  }

  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

  var list = {};

  (0, _keys2.default)(props).forEach(function (key) {
    if (!ignored.includes(key)) {
      list[key] = props[key];
    }
  });

  return list;
};

exports.default = ignoreProps;
module.exports = exports["default"];

/***/ }),

/***/ 1417:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @param {function} action
 * @param {number} delay
 * @returns {Promise<any>}
 */
var repeatAsyncUntilResult = function repeatAsyncUntilResult(action) {
  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10 * 1000;
  return new _promise2.default(function () {
    var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(resolve) {
      var isStoped, stop, iteration;
      return _regenerator2.default.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              isStoped = false;

              stop = function stop() {
                isStoped = true;
              };

              iteration = function () {
                var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
                  var result;
                  return _regenerator2.default.wrap(function _callee$(_context) {
                    while (1) {
                      switch (_context.prev = _context.next) {
                        case 0:
                          _context.next = 2;
                          return action(stop);

                        case 2:
                          result = _context.sent;


                          if (!isStoped && (!result || result === 0 || typeof result === 'undefined' || result === null || result === '0x0000000000000000000000000000000000000000')) {
                            setTimeout(iteration, delay);
                          } else {
                            resolve(result);
                          }

                        case 4:
                        case 'end':
                          return _context.stop();
                      }
                    }
                  }, _callee, undefined);
                }));

                return function iteration() {
                  return _ref2.apply(this, arguments);
                };
              }();

              iteration();

            case 4:
            case 'end':
              return _context2.stop();
          }
        }
      }, _callee2, undefined);
    }));

    return function (_x2) {
      return _ref.apply(this, arguments);
    };
  }());
};

exports.default = {
  repeatAsyncUntilResult: repeatAsyncUntilResult
};
module.exports = exports['default'];

/***/ }),

/***/ 1418:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _constants = __webpack_require__(367);

var _constants2 = _interopRequireDefault(_constants);

var _typeforce = __webpack_require__(298);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var register = function register(code, precision) {
  _constants2.default.COINS[code] = code.toUpperCase();
  _constants2.default.COINS_PRECISION[code.toUpperCase()] = precision;
  _typeforce.isCoinAddress[code.toUpperCase()] = _typeforce.isCoinAddress.ETH;
  _typeforce.isPublicKey[code.toUpperCase()] = _typeforce.isPublicKey.ETH;
};

exports.default = {
  register: register
};
module.exports = exports['default'];

/***/ }),

/***/ 1419:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _Room = __webpack_require__(765);

var _Room2 = _interopRequireDefault(_Room);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Swap = function () {
  function Swap(id, app, order) {
    var _this = this;

    (0, _classCallCheck3.default)(this, Swap);

    this.id = null;
    this.isMy = null;
    this.owner = null;
    this.participant = null;
    this.buyCurrency = null;
    this.sellCurrency = null;
    this.buyAmount = null;
    this.sellAmount = null;
    this.ownerSwap = null;
    this.participantSwap = null;
    this.destinationBuyAddress = null;
    this.destinationSellAddress = null;
    this.app = null;
    this.createUnixTimeStamp = Math.floor(new Date().getTime() / 1000);

    this._attachSwapApp(app);

    var data = this.app.env.storage.getItem('swap.' + id);

    if (!data) {
      order = order || this.app.services.orders.getByKey(id);

      data = this._getDataFromOrder(order);
    }

    this.update(data);

    this.events = new _swap.Events();

    this.room = new _Room2.default(app, {
      swapId: id,
      participantPeer: this.participant.peer
    });

    this.ownerSwap = this.app.swaps[data.buyCurrency.toUpperCase()];
    this.participantSwap = this.app.swaps[data.sellCurrency.toUpperCase()];

    var Flow = this.app.flows[data.sellCurrency.toUpperCase() + '2' + data.buyCurrency.toUpperCase()];

    if (!Flow) {
      throw new Error('Flow with name "' + data.sellCurrency.toUpperCase() + '2' + data.buyCurrency.toUpperCase() + '" not found in SwapApp.flows');
    }

    this.flow = new Flow(this);

    // Change destination address on run time
    this.room.on('set destination buy address', function (data) {
      (0, _debug2.default)('swap.core:swap')("Other side change destination buy address", data);
      _this.update({
        destinationSellAddress: data.address
      });
    });
    this.room.on('set destination sell address', function (data) {
      (0, _debug2.default)('swap.core:swap')("Other side change destination sell address", data);
      _this.update({
        destinationBuyAddress: data.address
      });
    });
  }

  (0, _createClass3.default)(Swap, [{
    key: '_attachSwapApp',
    value: function _attachSwapApp(app) {
      _swap2.default.required(app);

      this.app = app;
    }
  }, {
    key: '_getDataFromOrder',
    value: function _getDataFromOrder(order) {
      // TODO add check order format (typeforce)

      var data = _swap.util.pullProps(order, 'id', 'isMy', 'owner', 'participant', 'buyCurrency', 'sellCurrency', 'buyAmount', 'sellAmount', 'destination');

      var isMy = data.isMy,
          buyCurrency = data.buyCurrency,
          sellCurrency = data.sellCurrency,
          buyAmount = data.buyAmount,
          sellAmount = data.sellAmount,
          destination = data.destination,
          rest = (0, _objectWithoutProperties3.default)(data, ['isMy', 'buyCurrency', 'sellCurrency', 'buyAmount', 'sellAmount', 'destination']);
      var ownerAddress = destination.ownerAddress,
          participantAddress = destination.participantAddress;


      var swap = (0, _extends3.default)({}, rest, {
        isMy: isMy,
        buyCurrency: isMy ? buyCurrency : sellCurrency,
        sellCurrency: isMy ? sellCurrency : buyCurrency,
        buyAmount: isMy ? buyAmount : sellAmount,
        sellAmount: isMy ? sellAmount : buyAmount,
        destinationBuyAddress: isMy ? ownerAddress : participantAddress,
        destinationSellAddress: isMy ? participantAddress : ownerAddress
      });

      if (!swap.participant && !isMy) {
        swap.participant = swap.owner;
      }

      return swap;
    }
  }, {
    key: '_pullRequiredData',
    value: function _pullRequiredData(data) {
      return _swap.util.pullProps(data, 'id', 'isMy', 'owner', 'participant', 'buyCurrency', 'sellCurrency', 'buyAmount', 'sellAmount', 'destinationBuyAddress', 'destinationSellAddress', 'createUnixTimeStamp');
    }
  }, {
    key: '_saveState',
    value: function _saveState() {
      var data = this._pullRequiredData(this);

      this.app.env.storage.setItem('swap.' + this.id, data);
    }
  }, {
    key: 'checkTimeout',
    value: function checkTimeout(timeoutUTS) {
      // return true if timeout passed
      return !(this.createUnixTimeStamp + timeoutUTS > Math.floor(new Date().getTime() / 1000));
    }
  }, {
    key: 'setDestinationBuyAddress',
    value: function setDestinationBuyAddress(address) {
      this.update({
        destinationBuyAddress: address
      });

      this.room.sendMessage({
        event: 'set destination buy address',
        data: {
          address: address
        }
      });
    }
  }, {
    key: 'setDestinationSellAddress',
    value: function setDestinationSellAddress(address) {
      this.update({
        destinationSellAddress: address
      });

      this.room.sendMessage({
        event: 'set destination sell address',
        data: {
          address: address
        }
      });
    }
  }, {
    key: 'update',
    value: function update(values) {
      var _this2 = this;

      (0, _keys2.default)(values).forEach(function (key) {
        if (key === 'buyAmount' || key === 'sellAmount') {
          _this2[key] = new _bignumber2.default(String(values[key]));
        } else {
          _this2[key] = values[key];
        }
      });
      this._saveState();
    }
  }, {
    key: 'on',
    value: function on(eventName, handler) {
      this.events.subscribe(eventName, handler);
    }
  }, {
    key: 'off',
    value: function off(eventName, handler) {
      this.events.unsubscribe(eventName, handler);
    }
  }], [{
    key: 'read',
    value: function read(app) {
      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
          id = _ref.id;

      _swap2.default.required(app);

      if (!id) {
        (0, _debug2.default)('swap.core:swap')('SwapReadError: id not given: ' + id);
        return {};
      }

      var data = app.env.storage.getItem('swap.' + id);

      if (!data) {
        (0, _debug2.default)('swap.core:swap')('SwapReadError: No swap with id=' + id);
        return {};
      }

      var Flow = app.flows[data.sellCurrency.toUpperCase() + '2' + data.buyCurrency.toUpperCase()];

      if (!Flow) {
        throw new Error('Flow with name "' + data.sellCurrency.toUpperCase() + '2' + data.buyCurrency.toUpperCase() + '" not found in SwapApp.flows');
      }

      data.flow = Flow.read(app, data);

      return data;
    }
  }]);
  return Swap;
}();

exports.default = Swap;
module.exports = exports['default'];

/***/ }),

/***/ 1420:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _swap2 = __webpack_require__(29);

var _swap3 = _interopRequireDefault(_swap2);

var _Room = __webpack_require__(765);

var _Room2 = _interopRequireDefault(_Room);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Flow = function () {
  function Flow(swap) {
    (0, _classCallCheck3.default)(this, Flow);

    this.swap = swap;
    this.steps = [];
    this.app = null;

    this.stepNumbers = {};

    this.state = {
      step: 0,
      isWaitingForOwner: false
    };

    this._attachSwapApp(swap.app);
  }

  (0, _createClass3.default)(Flow, [{
    key: '_attachSwapApp',
    value: function _attachSwapApp(app) {
      _swap3.default.required(app);

      this.app = app;
    }
  }, {
    key: '_persistState',
    value: function _persistState() {
      var _this = this;

      var state = Flow.read(this.app, this.swap);

      if (state) {
        this.state = (0, _extends3.default)({}, this.state, state);
      }

      this.swap.room.on('persist state', function (values) {
        _this.setState(values, true);
      });
    }
  }, {
    key: '_persistSteps',
    value: function _persistSteps() {
      var _this2 = this;

      this.steps = [].concat((0, _toConsumableArray3.default)(this._getInitialSteps()), (0, _toConsumableArray3.default)(this._getSteps()));

      // wait events placed
      setTimeout(function () {
        if (_this2.state.step >= _this2.steps.length) return;else _this2.goStep(_this2.state.step);
      }, 0);
    }
  }, {
    key: '_getInitialSteps',
    value: function _getInitialSteps() {
      var _this3 = this;

      var flow = this;

      return [

      // Check if order exists

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        var _swap, orderId, owner;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _swap = _this3.swap, orderId = _swap.id, owner = _swap.owner;

                // TODO how can we don't know who is participant???
                // TODO if there is no participant in `order` then no need to create Flow...
                // if there is no order it orderCollection that means owner is offline, so `swap.owner` will be undefined

                if (!owner) {
                  flow.setState({
                    isWaitingForOwner: true
                  });

                  _this3.app.services.room.on('new orders', function (_ref2) {
                    var orders = _ref2.orders;

                    var order = orders.find(function (_ref3) {
                      var id = _ref3.id;
                      return id === orderId;
                    });

                    if (order) {
                      this.unsubscribe();

                      var _order = orders.getByKey(orderId);

                      // TODO move this to Swap.js
                      flow.swap.room = new _Room2.default({
                        participantPeer: _order.owner.peer
                      });
                      flow.swap.update((0, _extends3.default)({}, _order, {
                        participant: _order.owner
                      }));
                      flow.finishStep({
                        isWaitingForOwner: false
                      });
                    }
                  });
                } else {
                  flow.finishStep();
                }

              case 2:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, _this3);
      }))];
    }
  }, {
    key: '_getSteps',
    value: function _getSteps() {
      return [];
    }
  }, {
    key: '_saveState',
    value: function _saveState() {
      this.app.env.storage.setItem('flow.' + this.swap.id, this.state);
    }
  }, {
    key: 'finishStep',
    value: function finishStep(data, constraints) {
      (0, _debug2.default)('swap.core:swap')('on step ' + this.state.step + ', constraints =', constraints);

      if (constraints) {
        var step = constraints.step,
            silentError = constraints.silentError;


        var n_step = this.stepNumbers[step];
        (0, _debug2.default)('swap.core:swap')('trying to finish step ' + step + ' = ' + n_step + ' when on step ' + this.state.step);

        if (step && this.state.step != n_step) {
          if (silentError) {
            console.error('Cant finish step ' + step + ' = ' + n_step + ' when on step ' + this.state.step);
            return;
          } else {
            throw new Error('Cant finish step ' + step + ' = ' + n_step + ' when on step ' + this.state.step);
            return;
          }
        }
      }

      (0, _debug2.default)('swap.core:swap')('proceed to step ' + (this.state.step + 1) + ', data=', data);

      this.goNextStep(data);
    }
  }, {
    key: 'goNextStep',
    value: function goNextStep(data) {
      var step = this.state.step;

      var newStep = step + 1;

      this.swap.events.dispatch('leave step', step);

      this.setState((0, _extends3.default)({
        step: newStep
      }, data || {}), true);

      if (this.steps.length > newStep) this.goStep(newStep);
    }
  }, {
    key: 'goStep',
    value: function goStep(index) {
      this.swap.events.dispatch('enter step', index);
      this.steps[index]();
    }
  }, {
    key: 'setState',
    value: function setState(values, save) {
      this.state = (0, _extends3.default)({}, this.state, values);

      if (save) {
        this._saveState();
      }

      this.swap.events.dispatch('state update', this.state, values);
    }
  }, {
    key: 'sendMessageAboutClose',
    value: function sendMessageAboutClose() {
      this.swap.room.sendMessage({
        event: 'swap was canceled' // сее сообщение нужно для получение инфорамации о заверщении свапа в реакте
      });

      this.swap.room.sendMessage({
        event: 'swap was canceled for core' // сее сообщение нужно для изменения стейта и получения информации о заверщении свапа в коре
      });
      console.warn('swap ' + this.swap.id + ' was stoped');
    }
  }], [{
    key: 'read',
    value: function read(app) {
      var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
          id = _ref4.id;

      _swap3.default.required(app);

      if (!id) {
        (0, _debug2.default)('swap.core:swap')('FlowReadError: id not given: ' + id);
        return {};
      }

      return app.env.storage.getItem('flow.' + id);
    }
  }]);
  return Flow;
}();

exports.default = Flow;
module.exports = exports['default'];

/***/ }),

/***/ 1424:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var setFilter = function setFilter(filter) {
  _reducers2.default.history.setFilter(filter);
};

var ordersFilter = function ordersFilter(filter) {
  _reducers2.default.orders.ordersFilter(filter);
};

exports.default = {
  setFilter: setFilter,
  ordersFilter: ordersFilter
};

/***/ }),

/***/ 1425:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _bigi = __webpack_require__(68);

var _bigi2 = _interopRequireDefault(_bigi);

var _bignumber = __webpack_require__(30);

var _bitcoinjsLib = __webpack_require__(151);

var _bitcoinjsLib2 = _interopRequireDefault(_bitcoinjsLib);

var _bitcoinjsMessage = __webpack_require__(500);

var _bitcoinjsMessage2 = _interopRequireDefault(_bitcoinjsMessage);

var _core = __webpack_require__(60);

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

var _helpers = __webpack_require__(17);

var _keychain = __webpack_require__(300);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(privateKey) {
  var keyPair = void 0;

  if (privateKey) {
    var hash = _bitcoinjsLib2.default.crypto.sha256(privateKey);
    var d = _bigi2.default.fromBuffer(hash);

    keyPair = new _bitcoinjsLib2.default.ECPair(d, null, { network: _helpers.btc.network });
  } else {
    console.info('Created account Bitcoin ...');
    keyPair = _bitcoinjsLib2.default.ECPair.makeRandom({ network: _helpers.btc.network });
    privateKey = keyPair.toWIF();
  }

  localStorage.setItem(_helpers.constants.privateKeyNames.btc, privateKey);

  var account = new _bitcoinjsLib2.default.ECPair.fromWIF(privateKey, _helpers.btc.network); // eslint-disable-line
  var address = account.getAddress();
  var publicKey = account.getPublicKeyBuffer().toString('hex');

  var data = {
    account: account,
    keyPair: keyPair,
    address: address,
    privateKey: privateKey,
    publicKey: publicKey
  };

  window.getBtcAddress = function () {
    return data.address;
  };

  console.info('Logged in with Bitcoin', data);
  _reducers2.default.user.setAuthData({ name: 'btcData', data: data });
};

var loginWithKeychain = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var selectedKey, pubkey, keyPair, address, data;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return _actions2.default.keychain.login('BTC');

          case 2:
            selectedKey = _context.sent;
            pubkey = Buffer.from('03' + selectedKey.substr(0, 64), 'hex');
            keyPair = _bitcoinjsLib2.default.ECPair.fromPublicKeyBuffer(pubkey, _helpers.btc.network);
            address = keyPair.getAddress();
            data = {
              address: address,
              publicKey: selectedKey
            };


            window.getBtcAddress = function () {
              return data.address;
            };

            console.info('Logged in with Bitcoin', data);
            _reducers2.default.user.setAuthData({ name: 'btcData', data: data });
            localStorage.setItem(_helpers.constants.privateKeyNames.btcKeychainPublicKey, selectedKey);
            localStorage.removeItem(_helpers.constants.privateKeyNames.btc);
            _context.next = 14;
            return getBalance();

          case 14:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function loginWithKeychain() {
    return _ref.apply(this, arguments);
  };
}();

var getBalance = function getBalance() {
  var _getState = (0, _core.getState)(),
      address = _getState.user.btcData.address;

  return _helpers.request.get(_helpers.api.getApiServer('bitpay') + '/addr/' + address).then(function (_ref2) {
    var balance = _ref2.balance,
        unconfirmedBalance = _ref2.unconfirmedBalance;

    console.log('BTC Balance: ', balance);
    console.log('BTC unconfirmedBalance Balance: ', unconfirmedBalance);
    _reducers2.default.user.setBalance({ name: 'btcData', amount: balance, unconfirmedBalance: unconfirmedBalance });
    return balance;
  }).catch(function (e) {
    _reducers2.default.user.setBalanceError({ name: 'btcData' });
  });
};

var fetchBalance = function fetchBalance(address) {
  return _helpers.request.get(_helpers.api.getApiServer('bitpay') + '/addr/' + address).then(function (_ref3) {
    var balance = _ref3.balance;
    return balance;
  });
};

var fetchTx = function fetchTx(hash) {
  return _helpers.request.get(_helpers.api.getApiServer('bitpay') + '/tx/' + hash).then(function (_ref4) {
    var fees = _ref4.fees,
        rest = (0, _objectWithoutProperties3.default)(_ref4, ['fees']);
    return (0, _assign2.default)({
      fees: (0, _bignumber.BigNumber)(fees).multipliedBy(1e8)
    }, rest);
  });
};

var fetchTxInfo = function fetchTxInfo(hash) {
  return fetchTx(hash).then(function (_ref5) {
    var vin = _ref5.vin,
        rest = (0, _objectWithoutProperties3.default)(_ref5, ['vin']);
    return (0, _assign2.default)({
      senderAddress: vin ? vin[0].addr : null
    }, rest);
  });
};

var getTransaction = function getTransaction() {
  return new _promise2.default(function (resolve) {
    var _getState2 = (0, _core.getState)(),
        address = _getState2.user.btcData.address;

    var url = _helpers.api.getApiServer('bitpay') + '/txs/?address=' + address;

    return _helpers.request.get(url).then(function (res) {
      var transactions = res.txs.map(function (item) {
        var direction = item.vin[0].addr !== address ? 'in' : 'out';
        var isSelf = direction === 'out' && item.vout.filter(function (item) {
          return item.scriptPubKey.addresses[0] === address;
        }).length === item.vout.length;

        return {
          type: 'btc',
          hash: item.txid,
          confirmations: item.confirmations,
          value: isSelf ? item.fees : item.vout.filter(function (item) {
            var currentAddress = item.scriptPubKey.addresses[0];

            return direction === 'in' ? currentAddress === address : currentAddress !== address;
          })[0].value,
          date: item.time * 1000,
          direction: isSelf ? 'self' : direction
        };
      });
      resolve(transactions);
    }).catch(function () {
      resolve([]);
    });
  });
};

var send = function () {
  var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        from = _ref7.from,
        to = _ref7.to,
        amount = _ref7.amount,
        feeValue = _ref7.feeValue,
        speed = _ref7.speed;

    var tx, unspents, fundValue, totalUnspent, skipValue, keychainActivated, txRaw;
    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.t0 = feeValue;

            if (_context2.t0) {
              _context2.next = 5;
              break;
            }

            _context2.next = 4;
            return _helpers.btc.estimateFeeValue({ inSatoshis: true, speed: speed });

          case 4:
            _context2.t0 = _context2.sent;

          case 5:
            feeValue = _context2.t0;
            tx = new _bitcoinjsLib2.default.TransactionBuilder(_helpers.btc.network);
            _context2.next = 9;
            return fetchUnspents(from);

          case 9:
            unspents = _context2.sent;
            fundValue = new _bignumber.BigNumber(String(amount)).multipliedBy(1e8).integerValue().toNumber();
            totalUnspent = unspents.reduce(function (summ, _ref8) {
              var satoshis = _ref8.satoshis;
              return summ + satoshis;
            }, 0);
            skipValue = totalUnspent - fundValue - feeValue;


            unspents.forEach(function (_ref9) {
              var txid = _ref9.txid,
                  vout = _ref9.vout;
              return tx.addInput(txid, vout, 0xfffffffe);
            });
            tx.addOutput(to, fundValue);

            if (skipValue > 546) {
              tx.addOutput(from, skipValue);
            }

            keychainActivated = !!localStorage.getItem(_helpers.constants.privateKeyNames.btcKeychainPublicKey);

            if (!keychainActivated) {
              _context2.next = 23;
              break;
            }

            _context2.next = 20;
            return signAndBuildKeychain(tx, unspents);

          case 20:
            _context2.t1 = _context2.sent;
            _context2.next = 24;
            break;

          case 23:
            _context2.t1 = signAndBuild(tx);

          case 24:
            txRaw = _context2.t1;
            _context2.next = 27;
            return broadcastTx(txRaw.toHex());

          case 27:
            return _context2.abrupt('return', txRaw);

          case 28:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, undefined);
  }));

  return function send() {
    return _ref6.apply(this, arguments);
  };
}();

var signAndBuild = function signAndBuild(transactionBuilder) {
  var _getState3 = (0, _core.getState)(),
      privateKey = _getState3.user.btcData.privateKey;

  var keyPair = _bitcoinjsLib2.default.ECPair.fromWIF(privateKey, _helpers.btc.network);

  transactionBuilder.inputs.forEach(function (input, index) {
    transactionBuilder.sign(index, keyPair);
  });
  return transactionBuilder.buildIncomplete();
};

var signAndBuildKeychain = function () {
  var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(transactionBuilder, unspents) {
    var txRaw, keychain, rawHex;
    return _regenerator2.default.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            txRaw = transactionBuilder.buildIncomplete();

            unspents.forEach(function (_ref11, index) {
              var scriptPubKey = _ref11.scriptPubKey;
              return txRaw.ins[index].script = Buffer.from(scriptPubKey, 'hex');
            });
            _context3.next = 4;
            return _keychain.Keychain.create();

          case 4:
            keychain = _context3.sent;
            _context3.next = 7;
            return keychain.signTrx(txRaw.toHex(), localStorage.getItem(_helpers.constants.privateKeyNames.btcKeychainPublicKey), 'bitcoin');

          case 7:
            rawHex = _context3.sent;
            return _context3.abrupt('return', (0, _assign2.default)({}, txRaw, { toHex: function toHex() {
                return rawHex.result;
              } }));

          case 9:
          case 'end':
            return _context3.stop();
        }
      }
    }, _callee3, undefined);
  }));

  return function signAndBuildKeychain(_x2, _x3) {
    return _ref10.apply(this, arguments);
  };
}();

var fetchUnspents = function fetchUnspents(address) {
  return _helpers.request.get(_helpers.api.getApiServer('bitpay') + '/addr/' + address + '/utxo', { cacheResponse: 5000 });
};

var broadcastTx = function broadcastTx(txRaw) {
  return _helpers.request.post(_helpers.api.getApiServer('bitpay') + '/tx/send', {
    body: {
      rawtx: txRaw
    }
  });
};

var signMessage = function signMessage(message, encodedPrivateKey) {
  var keyPair = _bitcoinjsLib2.default.ECPair.fromWIF(encodedPrivateKey, [_bitcoinjsLib2.default.networks.bitcoin, _bitcoinjsLib2.default.networks.testnet]);
  var privateKey = keyPair.d.toBuffer(32);

  var signature = _bitcoinjsMessage2.default.sign(message, privateKey, keyPair.compressed);

  return signature.toString('base64');
};

var getReputation = function getReputation() {
  return new _promise2.default(function () {
    var _ref12 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(resolve, reject) {
      var _getState4, _getState4$user$btcDa, address, privateKey, addressOwnerSignature;

      return _regenerator2.default.wrap(function _callee4$(_context4) {
        while (1) {
          switch (_context4.prev = _context4.next) {
            case 0:
              _getState4 = (0, _core.getState)(), _getState4$user$btcDa = _getState4.user.btcData, address = _getState4$user$btcDa.address, privateKey = _getState4$user$btcDa.privateKey;
              addressOwnerSignature = signMessage(address, privateKey);


              _helpers.request.post(_helpers.api.getApiServer('swapsExplorer') + '/reputation', {
                json: true,
                body: {
                  address: address,
                  addressOwnerSignature: addressOwnerSignature
                }
              }).then(function (response) {
                var reputation = response.reputation,
                    reputationOracleSignature = response.reputationOracleSignature;


                _reducers2.default.user.setReputation({ name: 'btcData', reputation: reputation, reputationOracleSignature: reputationOracleSignature });
                resolve(reputation);
              }).catch(function (error) {
                reject(error);
              });

            case 3:
            case 'end':
              return _context4.stop();
          }
        }
      }, _callee4, undefined);
    }));

    return function (_x4, _x5) {
      return _ref12.apply(this, arguments);
    };
  }());
};

exports.default = {
  login: login,
  loginWithKeychain: loginWithKeychain,
  getBalance: getBalance,
  getTransaction: getTransaction,
  send: send,
  fetchUnspents: fetchUnspents,
  broadcastTx: broadcastTx,
  fetchTx: fetchTx,
  fetchTxInfo: fetchTxInfo,
  fetchBalance: fetchBalance,
  signMessage: signMessage,
  getReputation: getReputation
};
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 1431:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 1461:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _bigi = __webpack_require__(68);

var _bigi2 = _interopRequireDefault(_bigi);

var _bignumber = __webpack_require__(30);

var _bitcoinjsMessage = __webpack_require__(500);

var _bitcoinjsMessage2 = _interopRequireDefault(_bitcoinjsMessage);

var _bitcoincashjsLib = __webpack_require__(777);

var _bitcoincashjsLib2 = _interopRequireDefault(_bitcoincashjsLib);

var _bchaddrjs = __webpack_require__(783);

var _bchaddrjs2 = _interopRequireDefault(_bchaddrjs);

var _core = __webpack_require__(60);

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

var _helpers = __webpack_require__(17);

var _keychain = __webpack_require__(300);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(privateKey) {
  var keyPair = void 0;

  if (privateKey) {
    var hash = _bitcoincashjsLib2.default.crypto.sha256(privateKey);
    var d = _bigi2.default.fromBuffer(hash);

    keyPair = new _bitcoincashjsLib2.default.ECPair(d, null, { network: _helpers.bch.network });
  } else {
    console.info('Created account Bitcoin Cash ...');
    keyPair = _bitcoincashjsLib2.default.ECPair.makeRandom({ network: _helpers.bch.network });
    privateKey = keyPair.toWIF();
  }

  localStorage.setItem(_helpers.constants.privateKeyNames.bch, privateKey);

  var account = new _bitcoincashjsLib2.default.ECPair.fromWIF(privateKey, _helpers.bch.network); // eslint-disable-line
  var address = _bchaddrjs2.default.toCashAddress(account.getAddress());
  var publicKey = account.getPublicKeyBuffer().toString('hex');

  var data = {
    account: account,
    keyPair: keyPair,
    address: address,
    currency: 'BCH',
    fullName: 'BitcoinCash',
    privateKey: privateKey,
    publicKey: publicKey
  };

  window.getBchAddress = function () {
    return data.address;
  };

  console.info('Logged in with Bitcoin Cash', data);
  _reducers2.default.user.setAuthData({ name: 'bchData', data: data });
};

var getBalance = function getBalance() {
  var _getState = (0, _core.getState)(),
      address = _getState.user.bchData.address;

  return _helpers.request.get(_helpers.api.getApiServer('bch') + '/address/details/' + address).then(function (_ref) {
    var balance = _ref.balance,
        unconfirmedBalance = _ref.unconfirmedBalance;

    console.log('BCH Balance: ', balance);
    console.log('BCH unconfirmedBalance Balance: ', unconfirmedBalance);
    _reducers2.default.user.setBalance({ name: 'bchData', amount: balance, unconfirmedBalance: unconfirmedBalance });
    return balance;
  }).catch(function (e) {
    _reducers2.default.user.setBalanceError({ name: 'bchData' });
  });
};

var fetchBalance = function fetchBalance(address) {
  return _helpers.request.get(_helpers.api.getApiServer('bch') + '/address/details/' + address).then(function (_ref2) {
    var balance = _ref2.balance;
    return balance;
  });
};

var fetchTx = function fetchTx(hash) {
  return _helpers.request.get(_helpers.api.getApiServer('bch') + '/transaction/details/' + hash).then(function (_ref3) {
    var fees = _ref3.fees,
        rest = (0, _objectWithoutProperties3.default)(_ref3, ['fees']);
    return (0, _assign2.default)({
      fees: (0, _bignumber.BigNumber)(fees).multipliedBy(1e8)
    }, rest);
  });
};

var fetchTxInfo = function fetchTxInfo(hash) {
  return fetchTx(hash).then(function (_ref4) {
    var vin = _ref4.vin,
        rest = (0, _objectWithoutProperties3.default)(_ref4, ['vin']);
    return (0, _assign2.default)({
      senderAddress: vin ? vin[0].addr : null
    }, rest);
  });
};

var getTransaction = function getTransaction() {
  return new _promise2.default(function (resolve) {
    var _getState2 = (0, _core.getState)(),
        address = _getState2.user.bchData.address;

    var url = _helpers.api.getApiServer('bch') + '/address/transactions/' + address;
    var legacyAddress = _bchaddrjs2.default.toLegacyAddress(address);

    return _helpers.request.get(url).then(function (res) {
      var transactions = res.txs.map(function (item) {
        console.warn('item', item);
        var direction = item.vin[0].addr !== legacyAddress ? 'in' : 'out';
        var isSelf = direction === 'out' && item.vout.filter(function (item) {
          return item.scriptPubKey.addresses[0] === legacyAddress;
        }).length === item.vout.length;
        var value = isSelf ? item.fees : item.vout.filter(function (item) {
          var currentAddress = item.scriptPubKey.addresses[0];

          return direction === 'in' ? currentAddress === legacyAddress : currentAddress !== legacyAddress;
        })[0].value;

        console.warn('direction', direction);
        console.warn('isSelf', isSelf);
        console.warn('value', value);

        return {
          type: 'bch',
          hash: item.txid,
          confirmations: item.confirmations,
          value: value,
          date: item.time * 1000,
          direction: isSelf ? 'self' : direction
        };
      });
      resolve(transactions);
    }).catch(function () {
      resolve([]);
    });
  });
};

var send = function () {
  var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        from = _ref6.from,
        to = _ref6.to,
        amount = _ref6.amount,
        feeValue = _ref6.feeValue,
        speed = _ref6.speed;

    var tx, unspents, fundValue, totalUnspent, skipValue, txRaw;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.t0 = feeValue;

            if (_context.t0) {
              _context.next = 5;
              break;
            }

            _context.next = 4;
            return _helpers.bch.estimateFeeValue({ inSatoshis: true, speed: speed });

          case 4:
            _context.t0 = _context.sent;

          case 5:
            feeValue = _context.t0;
            tx = new _bitcoincashjsLib2.default.TransactionBuilder(_helpers.bch.network);
            _context.next = 9;
            return fetchUnspents(from);

          case 9:
            unspents = _context.sent;
            fundValue = new _bignumber.BigNumber(String(amount)).multipliedBy(1e8).integerValue().toNumber();
            totalUnspent = unspents.reduce(function (summ, _ref7) {
              var satoshis = _ref7.satoshis;
              return summ + satoshis;
            }, 0);
            skipValue = totalUnspent - fundValue - feeValue;


            unspents.forEach(function (_ref8) {
              var txid = _ref8.txid,
                  vout = _ref8.vout;
              return tx.addInput(txid, vout, 0xffffffff);
            });
            tx.addOutput(_bchaddrjs2.default.toLegacyAddress(to), fundValue);

            if (skipValue > 546) {
              tx.addOutput(_bchaddrjs2.default.toLegacyAddress(from), skipValue);
            }

            txRaw = signAndBuild(tx, unspents);
            _context.next = 19;
            return broadcastTx(txRaw.toHex());

          case 19:
            return _context.abrupt('return', txRaw);

          case 20:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function send() {
    return _ref5.apply(this, arguments);
  };
}();

var signAndBuild = function signAndBuild(transactionBuilder, unspents) {
  var _getState3 = (0, _core.getState)(),
      privateKey = _getState3.user.bchData.privateKey;

  var keyPair = _bitcoincashjsLib2.default.ECPair.fromWIF(privateKey, _helpers.bch.network);

  transactionBuilder.inputs.forEach(function (input, index) {
    var amount = unspents[index].satoshis;

    transactionBuilder.sign(index, keyPair, null, _bitcoincashjsLib2.default.Transaction.SIGHASH_ALL, amount);
  });
  return transactionBuilder.build();
};

var fetchUnspents = function fetchUnspents(address) {
  return _helpers.request.get(_helpers.api.getApiServer('bch') + '/address/utxo/' + address, { cacheResponse: 5000 }).then(function (_ref9) {
    var utxos = _ref9.utxos;
    return utxos;
  });
};

var broadcastTx = function broadcastTx(txRaw) {
  return _helpers.request.post(_helpers.api.getApiServer('bch') + '/rawtransactions/sendRawTransaction', {
    body: {
      hexes: [txRaw]
    }
  });
};

var signMessage = function signMessage(message, encodedPrivateKey) {
  var keyPair = _bitcoincashjsLib2.default.ECPair.fromWIF(encodedPrivateKey, _helpers.bch.network);
  var privateKey = keyPair.d.toBuffer(32);

  var signature = _bitcoinjsMessage2.default.sign(message, privateKey, keyPair.compressed);

  return signature.toString('base64');
};

var getReputation = function getReputation() {
  return new _promise2.default(function () {
    var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(resolve, reject) {
      var _getState4, _getState4$user$bchDa, address, privateKey, addressOwnerSignature;

      return _regenerator2.default.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              _getState4 = (0, _core.getState)(), _getState4$user$bchDa = _getState4.user.bchData, address = _getState4$user$bchDa.address, privateKey = _getState4$user$bchDa.privateKey;
              addressOwnerSignature = signMessage(address, privateKey);


              _helpers.request.post(_helpers.api.getApiServer('swapsExplorer') + '/reputation', {
                json: true,
                body: {
                  address: address,
                  addressOwnerSignature: addressOwnerSignature
                }
              }).then(function (response) {
                var reputation = response.reputation,
                    reputationOracleSignature = response.reputationOracleSignature;


                _reducers2.default.user.setReputation({ name: 'bchData', reputation: reputation, reputationOracleSignature: reputationOracleSignature });
                resolve(reputation);
              }).catch(function (error) {
                reject(error);
              });

            case 3:
            case 'end':
              return _context2.stop();
          }
        }
      }, _callee2, undefined);
    }));

    return function (_x2, _x3) {
      return _ref10.apply(this, arguments);
    };
  }());
};

exports.default = {
  login: login,
  getBalance: getBalance,
  getTransaction: getTransaction,
  send: send,
  fetchUnspents: fetchUnspents,
  broadcastTx: broadcastTx,
  fetchTx: fetchTx,
  fetchTxInfo: fetchTxInfo,
  fetchBalance: fetchBalance,
  signMessage: signMessage,
  getReputation: getReputation
};

/***/ }),

/***/ 1485:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _bigi = __webpack_require__(68);

var _bigi2 = _interopRequireDefault(_bigi);

var _bignumber = __webpack_require__(30);

var _bitcoinjsLib = __webpack_require__(151);

var _bitcoinjsLib2 = _interopRequireDefault(_bitcoinjsLib);

var _bitcoinjsMessage = __webpack_require__(500);

var _bitcoinjsMessage2 = _interopRequireDefault(_bitcoinjsMessage);

var _core = __webpack_require__(60);

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

var _helpers = __webpack_require__(17);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(privateKey) {
  var keyPair = void 0;

  if (privateKey) {
    var hash = _bitcoinjsLib2.default.crypto.sha256(privateKey);
    var d = _bigi2.default.fromBuffer(hash);

    keyPair = new _bitcoinjsLib2.default.ECPair(d, null, { network: _helpers.ltc.network });
  } else {
    console.info('Created account Litecoin ...');
    keyPair = _bitcoinjsLib2.default.ECPair.makeRandom({ network: _helpers.ltc.network });
    privateKey = keyPair.toWIF();
  }

  localStorage.setItem(_helpers.constants.privateKeyNames.ltc, privateKey);

  var account = new _bitcoinjsLib2.default.ECPair.fromWIF(privateKey, _helpers.ltc.network); // eslint-disable-line
  var address = account.getAddress();
  var publicKey = account.getPublicKeyBuffer().toString('hex');

  var data = {
    account: account,
    keyPair: keyPair,
    address: address,
    privateKey: privateKey,
    publicKey: publicKey
  };

  window.getLtcAddress = function () {
    return data.address;
  };

  console.info('Logged in with Litecoin', data);
  _reducers2.default.user.setAuthData({ name: 'ltcData', data: data });
};

var getBalance = function getBalance() {
  var _getState = (0, _core.getState)(),
      address = _getState.user.ltcData.address;

  return _helpers.request.get(_helpers.api.getApiServer('ltc') + '/addr/' + address).then(function (_ref) {
    var balance = _ref.balance,
        unconfirmedBalance = _ref.unconfirmedBalance;

    console.log('LTC Balance: ', balance);
    console.log('LTC unconfirmedBalance Balance: ', unconfirmedBalance);
    _reducers2.default.user.setBalance({ name: 'ltcData', amount: balance, unconfirmedBalance: unconfirmedBalance });
    return balance;
  }).catch(function (e) {
    _reducers2.default.user.setBalanceError({ name: 'ltcData' });
  });
};

var fetchBalance = function fetchBalance(address) {
  return _helpers.request.get(_helpers.api.getApiServer('ltc') + '/addr/' + address).then(function (_ref2) {
    var balance = _ref2.balance;
    return balance;
  });
};

var fetchTx = function fetchTx(hash) {
  return _helpers.request.get(_helpers.api.getApiServer('ltc') + '/tx/' + hash).then(function (_ref3) {
    var fees = _ref3.fees,
        rest = (0, _objectWithoutProperties3.default)(_ref3, ['fees']);
    return (0, _assign2.default)({
      fees: (0, _bignumber.BigNumber)(fees).multipliedBy(1e8)
    }, rest);
  });
};

var fetchTxInfo = function fetchTxInfo(hash) {
  return fetchTx(hash).then(function (_ref4) {
    var vin = _ref4.vin,
        rest = (0, _objectWithoutProperties3.default)(_ref4, ['vin']);
    return (0, _assign2.default)({
      senderAddress: vin ? vin[0].addr : null
    }, rest);
  });
};

var getTransaction = function getTransaction() {
  return new _promise2.default(function (resolve) {
    var _getState2 = (0, _core.getState)(),
        address = _getState2.user.ltcData.address;

    var url = _helpers.api.getApiServer('ltc') + '/txs/?address=' + address;

    function getValue(item) {
      if (item.vin.filter(function (item) {
        return item.addr === address;
      }).length === item.vin.length && item.vout.filter(function (item) {
        return item.scriptPubKey.addresses[0] === address;
      }).length === item.vout.length) {
        return (parseFloat(item.valueIn) - parseFloat(item.valueOut)).toFixed(8); // eslint-disable-next-line
      } else {
        return item.vin.filter(function (item) {
          return item.addr === address;
        }).length > 0 ? item.vout.filter(function (item) {
          return item.scriptPubKey.addresses[0] !== address;
        }).reduce(function (sum, current) {
          return sum + parseFloat(current.value);
        }, 0) : item.vout.filter(function (item) {
          return item.scriptPubKey.addresses[0] === address;
        }).reduce(function (sum, current) {
          return sum + parseFloat(current.value);
        }, 0);
      }
    }

    return _helpers.request.get(url).then(function (res) {
      var transactions = res.txs.map(function (item) {
        var direction = item.vin[0].addr !== address ? 'in' : 'out';
        var isSelf = direction === 'out' && item.vout.filter(function (item) {
          return item.scriptPubKey.addresses[0] === address;
        }).length === item.vout.length;

        return {
          type: 'ltc',
          hash: item.txid,
          confirmations: item.confirmations,
          value: isSelf ? item.fees : item.vout.filter(function (item) {
            var currentAddress = item.scriptPubKey.addresses[0];

            return direction === 'in' ? currentAddress === address : currentAddress !== address;
          })[0].value,
          date: item.time * 1000,
          direction: isSelf ? 'self' : direction
        };
      });
      resolve(transactions);
    }).catch(function () {
      resolve([]);
    });
  });
};

var send = function () {
  var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        from = _ref6.from,
        to = _ref6.to,
        amount = _ref6.amount,
        feeValue = _ref6.feeValue,
        speed = _ref6.speed;

    var _getState3, privateKey, keyPair, tx, unspents, fundValue, totalUnspent, skipValue, txRaw;

    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _getState3 = (0, _core.getState)(), privateKey = _getState3.user.ltcData.privateKey;
            keyPair = _bitcoinjsLib2.default.ECPair.fromWIF(privateKey, _helpers.ltc.network);
            _context.t0 = feeValue;

            if (_context.t0) {
              _context.next = 7;
              break;
            }

            _context.next = 6;
            return _helpers.ltc.estimateFeeValue({ inSatoshis: true, speed: speed });

          case 6:
            _context.t0 = _context.sent;

          case 7:
            feeValue = _context.t0;
            tx = new _bitcoinjsLib2.default.TransactionBuilder(_helpers.ltc.network);
            _context.next = 11;
            return fetchUnspents(from);

          case 11:
            unspents = _context.sent;
            fundValue = new _bignumber.BigNumber(String(amount)).multipliedBy(1e8).integerValue().toNumber();
            totalUnspent = unspents.reduce(function (summ, _ref7) {
              var satoshis = _ref7.satoshis;
              return summ + satoshis;
            }, 0);
            skipValue = totalUnspent - fundValue - feeValue;


            unspents.forEach(function (_ref8) {
              var txid = _ref8.txid,
                  vout = _ref8.vout;
              return tx.addInput(txid, vout, 0xfffffffe);
            });
            tx.addOutput(to, fundValue);

            if (skipValue > 546) {
              tx.addOutput(from, skipValue);
            }

            tx.inputs.forEach(function (input, index) {
              tx.sign(index, keyPair);
            });

            txRaw = tx.buildIncomplete();
            _context.next = 22;
            return broadcastTx(txRaw.toHex());

          case 22:
            return _context.abrupt('return', txRaw);

          case 23:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function send() {
    return _ref5.apply(this, arguments);
  };
}();

var fetchUnspents = function fetchUnspents(address) {
  return _helpers.request.get(_helpers.api.getApiServer('ltc') + '/addr/' + address + '/utxo');
};

var broadcastTx = function broadcastTx(txRaw) {
  return _helpers.request.post(_helpers.api.getApiServer('ltc') + '/tx/send', {
    body: {
      rawtx: txRaw
    }
  });
};

var signMessage = function signMessage(message, encodedPrivateKey) {
  var keyPair = _bitcoinjsLib2.default.ECPair.fromWIF(encodedPrivateKey, [_bitcoinjsLib2.default.networks.bitcoin, _bitcoinjsLib2.default.networks.testnet]);
  var privateKey = keyPair.d.toBuffer(32);

  var signature = _bitcoinjsMessage2.default.sign(message, privateKey, keyPair.compressed);

  return signature.toString('base64');
};

var getReputation = function getReputation() {
  return new _promise2.default(function () {
    var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(resolve, reject) {
      var _getState4, _getState4$user$ltcDa, address, privateKey, addressOwnerSignature;

      return _regenerator2.default.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              _getState4 = (0, _core.getState)(), _getState4$user$ltcDa = _getState4.user.ltcData, address = _getState4$user$ltcDa.address, privateKey = _getState4$user$ltcDa.privateKey;
              addressOwnerSignature = signMessage(address, privateKey);


              _helpers.request.post(_helpers.api.getApiServer('swapsExplorer') + '/reputation', {
                json: true,
                body: {
                  address: address,
                  addressOwnerSignature: addressOwnerSignature
                }
              }).then(function (response) {
                var reputation = response.reputation,
                    reputationOracleSignature = response.reputationOracleSignature;


                _reducers2.default.user.setReputation({ name: 'ltcData', reputation: reputation, reputationOracleSignature: reputationOracleSignature });
                resolve(reputation);
              }).catch(function (error) {
                reject(error);
              });

            case 3:
            case 'end':
              return _context2.stop();
          }
        }
      }, _callee2, undefined);
    }));

    return function (_x2, _x3) {
      return _ref9.apply(this, arguments);
    };
  }());
};

exports.default = {
  login: login,
  getBalance: getBalance,
  getTransaction: getTransaction,
  send: send,
  fetchUnspents: fetchUnspents,
  broadcastTx: broadcastTx,
  fetchTx: fetchTx,
  fetchTxInfo: fetchTxInfo,
  fetchBalance: fetchBalance,
  signMessage: signMessage,
  getReputation: getReputation
};

/***/ }),

/***/ 1486:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _helpers = __webpack_require__(17);

var _helpers2 = _interopRequireDefault(_helpers);

var _core = __webpack_require__(60);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _web = __webpack_require__(304);

var _web2 = _interopRequireDefault(_web);

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _referral = __webpack_require__(821);

var _referral2 = _interopRequireDefault(_referral);

var _keychain = __webpack_require__(300);

var _ethereumjsUtil = __webpack_require__(503);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(privateKey) {
  var data = void 0;

  if (privateKey) {
    data = _web2.default.eth.accounts.privateKeyToAccount(privateKey);
  } else {
    console.info('Created account Ethereum ...');
    data = _web2.default.eth.accounts.create();
  }

  localStorage.setItem(_helpers.constants.privateKeyNames.eth, data.privateKey);

  _web2.default.eth.accounts.wallet.add(data.privateKey);
  _reducers2.default.user.setAuthData({ name: 'ethData', data: data });

  window.getEthAddress = function () {
    return data.address;
  };
  _referral2.default.newReferral(data.address);

  console.info('Logged in with Ethereum', data);

  return data.privateKey;
};

var loginWithKeychain = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var web3OverrideFunctions, selectedKey, data;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            web3OverrideFunctions = (0, _keychain.web3Override)(_web2.default);

            _web2.default.eth.accounts.sign = web3OverrideFunctions.sign;
            _web2.default.eth.accounts.signTransaction = web3OverrideFunctions.signTransaction;

            _context.next = 5;
            return _actions2.default.keychain.login('ETH');

          case 5:
            selectedKey = _context.sent;

            if (selectedKey) {
              _context.next = 8;
              break;
            }

            return _context.abrupt('return', null);

          case 8:
            data = { privateKey: selectedKey, address: '0x' + (0, _ethereumjsUtil.pubToAddress)('0x' + selectedKey).toString('hex') };


            _reducers2.default.user.setAuthData({ name: 'ethData', data: data });
            localStorage.setItem(_helpers.constants.privateKeyNames.ethKeychainPublicKey, selectedKey);
            localStorage.removeItem(_helpers.constants.privateKeyNames.eth);

            window.getEthAddress = function () {
              return data.address;
            };

            console.info('Logged in with Ethereum', data);

            _context.next = 16;
            return getBalance();

          case 16:
            _context.next = 18;
            return getReputation();

          case 18:
            return _context.abrupt('return', selectedKey);

          case 19:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function loginWithKeychain() {
    return _ref.apply(this, arguments);
  };
}();

var getBalance = function getBalance() {
  var _getState = (0, _core.getState)(),
      address = _getState.user.ethData.address;

  var balanceInCache = (0, _helpers.cacheStorageGet)('currencyBalances', 'eth_' + address);
  if (balanceInCache !== false) return balanceInCache;

  return _web2.default.eth.getBalance(address).then(function (result) {
    var amount = _web2.default.utils.fromWei(result);

    (0, _helpers.cacheStorageSet)('currencyBalances', 'eth_' + address, amount, 30);
    _reducers2.default.user.setBalance({ name: 'ethData', amount: amount });
    return amount;
  }).catch(function (e) {
    _reducers2.default.user.setBalanceError({ name: 'ethData' });
  });
};

var getReputation = function getReputation() {
  return new _promise2.default(function () {
    var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(resolve, reject) {
      var _getState2, _getState2$user$ethDa, address, privateKey, addressOwnerSignature;

      return _regenerator2.default.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              _getState2 = (0, _core.getState)(), _getState2$user$ethDa = _getState2.user.ethData, address = _getState2$user$ethDa.address, privateKey = _getState2$user$ethDa.privateKey;
              addressOwnerSignature = _web2.default.eth.accounts.sign(address, privateKey);


              _helpers.request.post(_helpers.api.getApiServer('swapsExplorer') + '/reputation', {
                json: true,
                body: {
                  address: address,
                  addressOwnerSignature: addressOwnerSignature
                }
              }).then(function (response) {
                var reputation = response.reputation,
                    reputationOracleSignature = response.reputationOracleSignature;


                _reducers2.default.user.setReputation({ name: 'ethData', reputation: reputation, reputationOracleSignature: reputationOracleSignature });
                resolve(reputation);
              }).catch(function (error) {
                reject(error);
              });

            case 3:
            case 'end':
              return _context2.stop();
          }
        }
      }, _callee2, undefined);
    }));

    return function (_x, _x2) {
      return _ref2.apply(this, arguments);
    };
  }());
};

var fetchBalance = function fetchBalance(address) {
  return _web2.default.eth.getBalance(address).then(function (result) {
    return Number(_web2.default.utils.fromWei(result));
  }).catch(function (e) {
    console.log('Web3 doesn\'t work please again later ', e.error);
  });
};

var getTransaction = function getTransaction() {
  return new _promise2.default(function (resolve) {
    var _getState3 = (0, _core.getState)(),
        address = _getState3.user.ethData.address;

    var url = _helpers.api.getApiServer('etherscan') + '?module=account&action=txlist&address=' + address + '&startblock=0&endblock=99999999&sort=asc&apikey=RHHFPNMAZMD6I4ZWBZBF6FA11CMW9AXZNM';

    return _helpers.request.get(url).then(function (res) {
      var transactions = res.result.filter(function (item) {
        return item.value > 0;
      }).map(function (item) {
        return {
          type: 'eth',
          confirmations: item.confirmations,
          hash: item.hash,
          status: item.blockHash != null ? 1 : 0,
          value: _web2.default.utils.fromWei(item.value),
          address: item.to,
          date: item.timeStamp * 1000,
          direction: address.toLowerCase() === item.to.toLowerCase() ? 'in' : 'out'
        };
      });

      resolve(transactions);
    }).catch(function () {
      resolve([]);
    });
  });
};

var send = function send() {
  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      to = _ref3.to,
      amount = _ref3.amount,
      gasPrice = _ref3.gasPrice,
      gasLimit = _ref3.gasLimit,
      speed = _ref3.speed;

  return new _promise2.default(function () {
    var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(resolve, reject) {
      var _getState4, privateKey, params, result, receipt;

      return _regenerator2.default.wrap(function _callee3$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              _getState4 = (0, _core.getState)(), privateKey = _getState4.user.ethData.privateKey;
              _context3.t0 = gasPrice;

              if (_context3.t0) {
                _context3.next = 6;
                break;
              }

              _context3.next = 5;
              return _helpers2.default.eth.estimateGasPrice({ speed: speed });

            case 5:
              _context3.t0 = _context3.sent;

            case 6:
              gasPrice = _context3.t0;

              gasLimit = gasLimit || _helpers.constants.defaultFeeRates.eth.limit.send;

              params = {
                to: String(to).trim(),
                gasPrice: gasPrice,
                gas: gasLimit,
                value: _web2.default.utils.toWei(String(amount))
              };
              _context3.next = 11;
              return _web2.default.eth.accounts.signTransaction(params, privateKey);

            case 11:
              result = _context3.sent;
              receipt = _web2.default.eth.sendSignedTransaction(result.rawTransaction).on('transactionHash', function (hash) {
                var txId = _appConfig2.default.link.etherscan + '/tx/' + hash;
                console.log('tx', txId);
                _actions2.default.loader.show(true, { txId: txId });
              }).on('error', function (err) {
                reject(err);
              });


              resolve(receipt);

            case 14:
            case 'end':
              return _context3.stop();
          }
        }
      }, _callee3, undefined);
    }));

    return function (_x4, _x5) {
      return _ref4.apply(this, arguments);
    };
  }());
};

exports.default = {
  send: send,
  login: login,
  loginWithKeychain: loginWithKeychain,
  getBalance: getBalance,
  fetchBalance: fetchBalance,
  getTransaction: getTransaction,
  getReputation: getReputation
};

/***/ }),

/***/ 15:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
// resolve object in webpack
exports.default = {"propENV":"mainnet.prod","paths":{},"publicPath":"https://swap.online/","http":{"host":"localhost","port":9001},"i18nDate":{"month":"long","day":"numeric","hour":"numeric","minute":"numeric"},"env":"production","entry":"mainnet","local":"online","dir":"mainnet","base":"https://swap.online/","web3":{"provider":"https://mainnet.infura.io/5lcMmHUURYg8F20GLGSr"},"link":{"xlm":"http://stellarchain.io","bitpay":"https://insight.bitpay.com","blockcypher":"https://live.blockcypher.com/","etherscan":"https://etherscan.io","eos":"https://eospark.com/MainNet","tlos":"http://testnet.telosfoundation.io","omniexplorer":"https://www.omniexplorer.info","bch":"https://explorer.bitcoin.com/bch","ltc":"https://insight.litecore.io"},"api":{"horizon":"https://horizon.stellar.org","blocktrail":"https://api.blocktrail.com/v1/BTC","bitpay":"https://insight.bitpay.com/api","etherscan":"https://api.etherscan.io/api","bch":"https://rest.bitcoin.com/v2","ltc":"https://insight.litecore.io/api","eos":{"chainId":"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906","httpEndpoint":"https://api.eosnewyork.io","registerEndpoint":"https://seven.swap.online/eos-mainnet/buyaccount","buyAccountPriceInBTC":0.01,"buyAccountPaymentRecipient":"1DVC5SrPjXkkcCUbBwQcTsrBprXJEpEneG"},"telos":{"chainId":"4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11","httpEndpoint":"https://api.eos.miami","registerEndpoint":"https://seven.swap.online/telos-testnet/newaccount"},"swapsExplorer":"https://seven.swap.online/swaps-testnet/state","faucet":"https://seven.swap.online/faucet/mainnet/faucet/"},"ipfs":{"swarm":"/dns4/discovery.libp2p.array.io/tcp/9091/wss/p2p-websocket-star/","server":"discovery.libp2p.array.io"},"erc20":{"swap":{"address":"0x14a52cf6B4F68431bd5D9524E4fcD6F41ce4ADe9","decimals":18,"fullName":"SWAP"},"hdp":{"address":"0xc4d5545392f5fc57eba3af8981815669bb7e2a48","decimals":4,"fullName":"HDP"},"scro":{"address":"0x0a133dfA1f65Ff6f834205ED43D66344306Fa02C","decimals":18,"fullName":"SCRO"},"xeur":{"address":"0xC31C61cf55fB5E646684AD8E8517793ec9A22c5e","decimals":0,"fullName":"XEUR"},"eurs":{"address":"0xdb25f211ab05b1c97d595516f45794528a807ad8","decimals":2,"fullName":"EURS"},"pbl":{"address":"0x55648de19836338549130b1af587f16bea46f66b","decimals":18,"fullName":"Publica"},"xsat":{"address":"0x0d9e614937a308438337a2999acf64fc86bf098a","decimals":18,"fullName":"XSAT"},"noxon":{"address":"0x9E4AD79049282F942c1b4c9b418F0357A0637017","decimals":0,"fullName":"noxon"},"usdt":{"address":"0xdac17f958d2ee523a2206206994597c13d831ec7","decimals":6,"fullName":"usdt"}},"swapContract":{"erc20":"0x426efE2d38F8f27787a7B77baE4EfA6F1e33ee04","eth":"0xC4D43AF0518C4AC875B01848F1087c435C42659B","eos":"swaponline43","reputationOracle":"0x6260B5ef52d72732674fF4BDE3B37a4222dB1785"},"feeRates":{"eth":"https://www.etherchain.org/api/gasPriceOracle","btc":"https://wiki.swap.online/blockcyper.php","ltc":"https://api.blockcypher.com/v1/ltc/main"},"hiddenCoins":["TLOS","DEB","YUP","JOT","NOXON","BXB","DCN","MBRS","SCT","BTRM","BNTY","PBL","SENC","STAR","LOC","KEY","DAI","AVT","HBT","VIEW","CS","PIX","GEN","GAI","EMTV","CGC","VITE","MOT","DOV","XBX","LIF","TIME","MTH","CBT","DDM","WBTC","ABYSS","XSAT","HEDPAY","HDP","SATX","SCRO","XEUR","KN","GUSD","ARN","SYC2","LEV","GUSD"],"noExchangeCoins":["LTC","EOS"]};

/***/ }),

/***/ 154:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _localStorage = __webpack_require__(1618);

var _localStorage2 = _interopRequireDefault(_localStorage);

var _privateKeyNames = __webpack_require__(1619);

var _privateKeyNames2 = _interopRequireDefault(_privateKeyNames);

var _notifications = __webpack_require__(1620);

var _notifications2 = _interopRequireDefault(_notifications);

var _modals = __webpack_require__(1621);

var _modals2 = _interopRequireDefault(_modals);

var _TRADE_TICKERS = __webpack_require__(499);

var _TRADE_TICKERS2 = _interopRequireDefault(_TRADE_TICKERS);

var _TOKEN_DECIMALS = __webpack_require__(766);

var _TOKEN_DECIMALS2 = _interopRequireDefault(_TOKEN_DECIMALS);

var _PAIR_TYPES = __webpack_require__(369);

var _PAIR_TYPES2 = _interopRequireDefault(_PAIR_TYPES);

var _DEFAULT_FEE_RATES = __webpack_require__(1622);

var _DEFAULT_FEE_RATES2 = _interopRequireDefault(_DEFAULT_FEE_RATES);

var _minAmount = __webpack_require__(824);

var _minAmount2 = _interopRequireDefault(_minAmount);

var _minAmountOffer = __webpack_require__(521);

var _minAmountOffer2 = _interopRequireDefault(_minAmountOffer);

var _coinsWithDynamicFee = __webpack_require__(376);

var _coinsWithDynamicFee2 = _interopRequireDefault(_coinsWithDynamicFee);

var _customEcxchangeRate = __webpack_require__(1623);

var _customEcxchangeRate2 = _interopRequireDefault(_customEcxchangeRate);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  localStorage: _localStorage2.default,
  tradeTicker: _TRADE_TICKERS2.default,
  privateKeyNames: _privateKeyNames2.default,
  tokenDecimals: _TOKEN_DECIMALS2.default,
  notifications: _notifications2.default,
  pairTypes: _PAIR_TYPES2.default,
  defaultFeeRates: _DEFAULT_FEE_RATES2.default,
  modals: _modals2.default,
  minAmount: _minAmount2.default,
  minAmountOffer: _minAmountOffer2.default,
  coinsWithDynamicFee: _coinsWithDynamicFee2.default,
  customEcxchangeRate: _customEcxchangeRate2.default
};

/***/ }),

/***/ 158:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"swap":"_1OFzqh","swapMobile":"_1h1OJV","swapContainer":"JS_rhH","swapDepositWindow":"_3YVgEZ","unfinishedHref":"_3zP59B","reloadText":"_2RQRKt","swapContainerInfo":"_ITmcO","linkText":"_28tV_B","canceled":"_5xW6Il","refHex":"oEjzK1","included":"_2hIua_","swapInfo":"pXd5mI","swapInfoMobile":"v0t6Ur","swapGoNumber":"_3X45JT","swapWrapper":"GuOxbk","bitcoinScript":"_3F9PlO","onlineIndicator":"_3cBRgY","showingScript":"_2xwj7W","online":"U41sEV","offline":"_8SXFQx","loaderHolder":"_37QXwX","topUpLink":"_7j0Ve-","top":"_1z3mgP","qrImg":"_26apRC","message":"Qg8ORP","btcMessage":"_2EMKvn","qr":"_2Fqejd","linkTransactions":"_2umJCa","sendMessage":"_22hgX9","infoWrapper":"_2eEL9s","logHide":"BFFAuo","lockTime":"_2PUfKJ","copyText":"_3lqhzC","swapText":"E1Odx-","cardsContainer":"_1aSrkK","pressCtrlText":"_2wkMdg","pressCtrlTextActive":"_2WGT5A","linkAddress":"_1CfD7l","buyWithCard":"_3lwUrD","fa-copy-in":"qt9xGL","comingSoon":"AN2bY9","yourBalance":"_3zrhbd","fromClient":"_3ec2h9","unconfBalance":"_3qplti","gohome-holder":"_1QN132","button":"oy_EJJ","transaction":"_2FgXed","information":"_1ZlGua","swapInfoOpen":"_3DH2Ix","icon":"_2Fl7GR"};

/***/ }),

/***/ 159:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SubTitle = __webpack_require__(2004);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SubTitle = function SubTitle(_ref) {
  var children = _ref.children;
  return _react2.default.createElement(
    'h1',
    { styleName: 'subTitle' },
    children
  );
};

exports.default = (0, _reactCssModules2.default)(SubTitle, _SubTitle2.default);

/***/ }),

/***/ 160:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactDeviceDetect = __webpack_require__(53);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Table = __webpack_require__(260);

var _Table2 = _interopRequireDefault(_Table);

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Table = (_dec = (0, _reactCssModules2.default)(_Table2.default, { allowMultiple: true }), _dec(_class = function (_React$Component) {
  (0, _inherits3.default)(Table, _React$Component);

  function Table() {
    (0, _classCallCheck3.default)(this, Table);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Table.__proto__ || (0, _getPrototypeOf2.default)(Table)).call(this));

    _this.handleSelectId = function (id) {
      _this.setState(function () {
        return { selectId: id };
      });
    };

    _this.handleResponsiveTable = function () {
      var tdLink = _this.linkOnTableBody,
          thLink = _this.linkOnTableHead;


      var th = thLink.children[0].cells;
      var td = tdLink.children[0].cells;

      for (var i = 0; i < th.length; i++) {
        th[i].style.width = td[i].offsetWidth + 'px';
      }
    };

    _this.state = {
      selectId: 0
    };
    return _this;
  }

  (0, _createClass3.default)(Table, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      if (this.props.id === 'table-wallet') {
        window.addEventListener('resize', this.handleResponsiveTable);
        this.handleResponsiveTable();
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      if (this.props.id === 'table-wallet') {
        window.removeEventListener('resize', this.handleResponsiveTable);
      }
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      var _props = this.props,
          rows = _props.rows,
          isLoading = _props.isLoading;

      return isLoading !== nextProps.isLoading || rows !== nextProps.rows || this.state.selectId !== nextState.selectId;
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props2 = this.props,
          titles = _props2.titles,
          rows = _props2.rows,
          rowRender = _props2.rowRender,
          textIfEmpty = _props2.textIfEmpty,
          isLoading = _props2.isLoading,
          loadingText = _props2.loadingText,
          className = _props2.className;

      return _react2.default.createElement(
        'table',
        { styleName: 'table', className: className, ref: function ref(table) {
            return _this2.linkOnTable = table;
          } },
        _react2.default.createElement(
          'thead',
          { ref: function ref(thead) {
              return _this2.linkOnTableHead = thead;
            } },
          _react2.default.createElement(
            'tr',
            null,
            titles.filter(function (title) {
              return !!title;
            }).map(function (title, index) {
              return _react2.default.createElement(
                'th',
                { key: index },
                title
              );
            })
          )
        ),
        _react2.default.createElement(
          'tbody',
          { ref: function ref(tbody) {
              return _this2.linkOnTableBody = tbody;
            } },
          isLoading && _react2.default.createElement(
            'tr',
            null,
            _react2.default.createElement(
              'td',
              { styleName: 'color' },
              loadingText
            )
          ),
          !isLoading && !rows.length && _react2.default.createElement(
            'tr',
            null,
            _react2.default.createElement(
              'td',
              { styleName: 'color' },
              textIfEmpty
            )
          ),
          !isLoading && !!rows.length && rows.map(function (row, rowIndex) {
            if (typeof rowRender === 'function') {
              return rowRender(row, rowIndex, _this2.state.selectId, _this2.handleSelectId);
            }
          })
        )
      );
    }
  }]);
  return Table;
}(_react2.default.Component)) || _class);
exports.default = Table;


Table.defaultProps = {
  textIfEmpty: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Table95', defaultMessage: 'The table is empty' }),
  loadingText: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Table96', defaultMessage: 'Loading...' })
};

/***/ }),

/***/ 1608:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _helpers = __webpack_require__(17);

var _keychain = __webpack_require__(300);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getLocalStorageName = function getLocalStorageName(currency) {
  return currency === 'ETH' ? _helpers.constants.privateKeyNames.ethKeychainPublicKey : _helpers.constants.privateKeyNames.btcKeychainPublicKey;
};

var login = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(currency) {
    var localStorageName, keychainKey, keychain, selectKeyResult;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            localStorageName = getLocalStorageName(currency);
            keychainKey = localStorage.getItem(localStorageName);

            if (keychainKey) {
              _context.next = 10;
              break;
            }

            _context.next = 5;
            return _keychain.Keychain.create();

          case 5:
            keychain = _context.sent;
            _context.next = 8;
            return keychain.selectKey();

          case 8:
            selectKeyResult = _context.sent;
            return _context.abrupt('return', selectKeyResult.result);

          case 10:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function login(_x) {
    return _ref.apply(this, arguments);
  };
}();

var deactivate = function () {
  var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(currency) {
    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            localStorage.removeItem(getLocalStorageName(currency));

          case 1:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, undefined);
  }));

  return function deactivate(_x2) {
    return _ref2.apply(this, arguments);
  };
}();

exports.default = {
  login: login,
  deactivate: deactivate
};

/***/ }),

/***/ 1609:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _parseFloat = __webpack_require__(375);

var _parseFloat2 = _interopRequireDefault(_parseFloat);

var _stringify = __webpack_require__(112);

var _stringify2 = _interopRequireDefault(_stringify);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _parseInt = __webpack_require__(823);

var _parseInt2 = _interopRequireDefault(_parseInt);

var _isNan = __webpack_require__(520);

var _isNan2 = _interopRequireDefault(_isNan);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _core = __webpack_require__(60);

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

var _constants = __webpack_require__(154);

var _constants2 = _interopRequireDefault(_constants);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _eos = __webpack_require__(354);

var _eosjsKeygen = __webpack_require__(825);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var sleep = function sleep(ms) {
  return new _promise2.default(function (resolve) {
    return setTimeout(resolve, ms);
  });
};

var generateAccountName = function generateAccountName(publicKey) {
  var account = Array.prototype.map.call(publicKey.substr(0, 12).toLowerCase(), function (char) {
    return (0, _isNan2.default)((0, _parseInt2.default)(char, 10)) || char < 5 ? char : char - 4;
  }).join('');

  return account;
};

var updateActivationStatus = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var _getState, _getState$user$eosDat, address, activePublicKey, eosInstance, _ref2, permissions, accountActivePublicKey;

    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _getState = (0, _core.getState)(), _getState$user$eosDat = _getState.user.eosData, address = _getState$user$eosDat.address, activePublicKey = _getState$user$eosDat.activePublicKey;
            _context.next = 3;
            return _eos.eos.getInstance();

          case 3:
            eosInstance = _context.sent;
            _context.next = 6;
            return eosInstance.getAccount(address);

          case 6:
            _ref2 = _context.sent;
            permissions = _ref2.permissions;
            accountActivePublicKey = permissions.find(function (item) {
              return item.perm_name === 'active';
            }).required_auth.keys[0].key;


            if (accountActivePublicKey === activePublicKey) {
              localStorage.setItem(_constants2.default.localStorage.eosAccountActivated, true);
              _reducers2.default.user.setAuthData({ name: 'eosData', data: { isAccountActivated: true } });
            } else {
              localStorage.setItem(_constants2.default.localStorage.eosAccountActivated, false);
              _reducers2.default.user.setAuthData({ name: 'eosData', data: { isAccountActivated: false } });
            }

          case 10:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function updateActivationStatus() {
    return _ref.apply(this, arguments);
  };
}();

var register = function () {
  var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(accountName, activePrivateKey) {
    var eosInstance, eccInstance, _ref4, permissions, activePublicKey, requiredPublicKey;

    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return _eos.eos.getInstance();

          case 2:
            eosInstance = _context2.sent;
            _context2.next = 5;
            return _eos.ecc.getInstance();

          case 5:
            eccInstance = _context2.sent;
            _context2.next = 8;
            return eosInstance.getAccount(accountName);

          case 8:
            _ref4 = _context2.sent;
            permissions = _ref4.permissions;
            activePublicKey = eccInstance.privateToPublic(activePrivateKey);
            requiredPublicKey = permissions.find(function (item) {
              return item.perm_name === 'active';
            }).required_auth.keys[0].key;

            if (!(activePublicKey !== requiredPublicKey)) {
              _context2.next = 14;
              break;
            }

            throw new Error(activePublicKey + ' is not equal to ' + requiredPublicKey);

          case 14:

            localStorage.setItem(_constants2.default.privateKeyNames.eosPrivateKey, activePrivateKey);
            localStorage.setItem(_constants2.default.privateKeyNames.eosPublicKey, activePublicKey);
            localStorage.setItem(_constants2.default.privateKeyNames.eosAccount, accountName);
            localStorage.setItem(_constants2.default.localStorage.eosAccountActivated, true);

            _context2.next = 20;
            return login(accountName, activePrivateKey, activePublicKey);

          case 20:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, undefined);
  }));

  return function register(_x, _x2) {
    return _ref3.apply(this, arguments);
  };
}();

var loginWithNewAccount = function () {
  var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
    var keys, activePrivateKey, activePublicKey, accountName;
    return _regenerator2.default.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.next = 2;
            return _eosjsKeygen.Keygen.generateMasterKeys();

          case 2:
            keys = _context3.sent;
            activePrivateKey = keys.privateKeys.active, activePublicKey = keys.publicKeys.active;
            accountName = generateAccountName(activePublicKey);


            localStorage.setItem(_constants2.default.privateKeyNames.eosPrivateKey, activePrivateKey);
            localStorage.setItem(_constants2.default.privateKeyNames.eosPublicKey, activePublicKey);
            localStorage.setItem(_constants2.default.privateKeyNames.eosAccount, accountName);
            localStorage.setItem(_constants2.default.localStorage.eosAccountActivated, false);

            _context3.next = 11;
            return login(accountName, activePrivateKey, activePublicKey);

          case 11:
            return _context3.abrupt('return', { accountName: accountName, activePrivateKey: activePrivateKey, activePublicKey: activePublicKey });

          case 12:
          case 'end':
            return _context3.stop();
        }
      }
    }, _callee3, undefined);
  }));

  return function loginWithNewAccount() {
    return _ref5.apply(this, arguments);
  };
}();

var login = function () {
  var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(accountName, activePrivateKey, activePublicKey) {
    var isAccountActivated, isActivationPaymentSent;
    return _regenerator2.default.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            isAccountActivated = localStorage.getItem(_constants2.default.localStorage.eosAccountActivated) === 'true';
            isActivationPaymentSent = !!localStorage.getItem(_constants2.default.localStorage.eosActivationPayment);

            _reducers2.default.user.setAuthData({ name: 'eosData', data: { activePrivateKey: activePrivateKey, activePublicKey: activePublicKey, address: accountName, isAccountActivated: isAccountActivated, isActivationPaymentSent: isActivationPaymentSent } });

          case 3:
          case 'end':
            return _context4.stop();
        }
      }
    }, _callee4, undefined);
  }));

  return function login(_x3, _x4, _x5) {
    return _ref6.apply(this, arguments);
  };
}();

var waitAccountActivation = function () {
  var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
    var eosAccountActivated;
    return _regenerator2.default.wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            eosAccountActivated = localStorage.getItem(_constants2.default.localStorage.eosAccountActivated) === 'true';

          case 1:
            if (eosAccountActivated) {
              _context5.next = 11;
              break;
            }

            console.log('check eos activation...');

            // eslint-disable-next-line no-await-in-loop
            _context5.next = 5;
            return _actions2.default.eos.updateActivationStatus();

          case 5:
            eosAccountActivated = localStorage.getItem(_constants2.default.localStorage.eosAccountActivated) === 'true';

            if (eosAccountActivated) {
              _context5.next = 9;
              break;
            }

            _context5.next = 9;
            return sleep(5000);

          case 9:
            _context5.next = 1;
            break;

          case 11:
          case 'end':
            return _context5.stop();
        }
      }
    }, _callee5, undefined);
  }));

  return function waitAccountActivation() {
    return _ref7.apply(this, arguments);
  };
}();

var buyAccount = function () {
  var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {
    var eosPrivateKey, accountName, paymentTx, eccInstance, eosPublicKey, _getState2, btcData, btcAddress, btcPrivateKey, message, signature, activationTx;

    return _regenerator2.default.wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            eosPrivateKey = localStorage.getItem(_constants2.default.privateKeyNames.eosPrivateKey);
            accountName = localStorage.getItem(_constants2.default.privateKeyNames.eosAccount);
            paymentTx = localStorage.getItem(_constants2.default.localStorage.eosActivationPayment);
            _context6.next = 5;
            return _eos.ecc.getInstance();

          case 5:
            eccInstance = _context6.sent;
            eosPublicKey = eccInstance.privateToPublic(eosPrivateKey);
            _getState2 = (0, _core.getState)(), btcData = _getState2.user.btcData;
            btcAddress = btcData.address;
            btcPrivateKey = btcData.privateKey;

            if (paymentTx) {
              _context6.next = 17;
              break;
            }

            _context6.next = 13;
            return sendActivationPayment({ from: btcAddress });

          case 13:
            paymentTx = _context6.sent;

            localStorage.setItem(_constants2.default.localStorage.eosActivationPayment, paymentTx);
            _reducers2.default.user.setAuthData({ name: 'eosData', data: { isActivationPaymentSent: true } });
            _actions2.default.eos.waitAccountActivation();

          case 17:
            message = accountName + ':' + eosPublicKey;
            _context6.next = 20;
            return _actions2.default.btc.signMessage(message, btcPrivateKey);

          case 20:
            signature = _context6.sent;
            _context6.next = 23;
            return activateAccount({
              accountName: accountName, eosPublicKey: eosPublicKey, btcAddress: btcAddress, signature: signature, paymentTx: paymentTx
            });

          case 23:
            activationTx = _context6.sent;


            if (activationTx) {
              console.log('eos account activated', activationTx);
            } else {
              console.log('eos account seems to be already activated');
            }

          case 25:
          case 'end':
            return _context6.stop();
        }
      }
    }, _callee6, undefined);
  }));

  return function buyAccount() {
    return _ref8.apply(this, arguments);
  };
}();

var sendActivationPayment = function () {
  var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(_ref10) {
    var from = _ref10.from;

    var _getState3, balance, _config$api$eos, buyAccountPriceInBTC, buyAccountPaymentRecipient, txid;

    return _regenerator2.default.wrap(function _callee7$(_context7) {
      while (1) {
        switch (_context7.prev = _context7.next) {
          case 0:
            _getState3 = (0, _core.getState)(), balance = _getState3.user.btcData.balance;
            _config$api$eos = _appConfig2.default.api.eos, buyAccountPriceInBTC = _config$api$eos.buyAccountPriceInBTC, buyAccountPaymentRecipient = _config$api$eos.buyAccountPaymentRecipient;

            if (!(balance < buyAccountPriceInBTC)) {
              _context7.next = 4;
              break;
            }

            throw new Error('Not enough balance to activate account');

          case 4:
            _context7.next = 6;
            return _actions2.default.btc.send({
              from: from,
              buyAccountPaymentRecipient: buyAccountPaymentRecipient,
              buyAccountPriceInBTC: buyAccountPriceInBTC
            });

          case 6:
            txid = _context7.sent;
            return _context7.abrupt('return', txid.getId());

          case 8:
          case 'end':
            return _context7.stop();
        }
      }
    }, _callee7, undefined);
  }));

  return function sendActivationPayment(_x6) {
    return _ref9.apply(this, arguments);
  };
}();

var activateAccount = function () {
  var _ref11 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8(_ref12) {
    var accountName = _ref12.accountName,
        eosPublicKey = _ref12.eosPublicKey,
        btcAddress = _ref12.btcAddress,
        signature = _ref12.signature,
        paymentTx = _ref12.paymentTx;
    var registerEndpoint, transactionId, response;
    return _regenerator2.default.wrap(function _callee8$(_context8) {
      while (1) {
        switch (_context8.prev = _context8.next) {
          case 0:
            registerEndpoint = _appConfig2.default.api.eos.registerEndpoint;
            transactionId = -1;
            _context8.prev = 2;
            _context8.next = 5;
            return fetch(registerEndpoint, {
              method: 'POST',
              headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
              },
              body: (0, _stringify2.default)({
                publicKey: eosPublicKey,
                accountName: accountName,
                address: btcAddress,
                signature: signature,
                txid: paymentTx
              })
            });

          case 5:
            response = _context8.sent;


            transactionId = response.json().transactionId;
            _context8.next = 12;
            break;

          case 9:
            _context8.prev = 9;
            _context8.t0 = _context8['catch'](2);

            console.error(_context8.t0);

          case 12:
            return _context8.abrupt('return', transactionId);

          case 13:
          case 'end':
            return _context8.stop();
        }
      }
    }, _callee8, undefined, [[2, 9]]);
  }));

  return function activateAccount(_x7) {
    return _ref11.apply(this, arguments);
  };
}();

var getBalance = function () {
  var _ref13 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9() {
    var _getState4, address, eosAccountActivated, eosInstance, balance, amount;

    return _regenerator2.default.wrap(function _callee9$(_context9) {
      while (1) {
        switch (_context9.prev = _context9.next) {
          case 0:
            _getState4 = (0, _core.getState)(), address = _getState4.user.eosData.address;
            eosAccountActivated = localStorage.getItem(_constants2.default.localStorage.eosAccountActivated) === 'true';

            if (!(typeof address !== 'string' || !eosAccountActivated)) {
              _context9.next = 4;
              break;
            }

            return _context9.abrupt('return');

          case 4:
            _context9.next = 6;
            return _eos.eos.getInstance();

          case 6:
            eosInstance = _context9.sent;
            _context9.prev = 7;
            _context9.next = 10;
            return eosInstance.getCurrencyBalance({
              code: 'eosio.token',
              symbol: 'EOS',
              account: address
            });

          case 10:
            balance = _context9.sent;
            amount = (0, _parseFloat2.default)(balance[0]) || 0;

            _reducers2.default.user.setBalance({ name: 'eosData', amount: amount });
            return _context9.abrupt('return', amount);

          case 16:
            _context9.prev = 16;
            _context9.t0 = _context9['catch'](7);

            _reducers2.default.user.setBalanceError({ name: 'eosData' });

          case 19:
          case 'end':
            return _context9.stop();
        }
      }
    }, _callee9, undefined, [[7, 16]]);
  }));

  return function getBalance() {
    return _ref13.apply(this, arguments);
  };
}();

var send = function () {
  var _ref14 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee10() {
    var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        from = _ref15.from,
        to = _ref15.to,
        amount = _ref15.amount;

    var _getState5, address, eosInstance, transfer;

    return _regenerator2.default.wrap(function _callee10$(_context10) {
      while (1) {
        switch (_context10.prev = _context10.next) {
          case 0:
            _getState5 = (0, _core.getState)(), address = _getState5.user.eosData.address;

            if (!(typeof address !== 'string')) {
              _context10.next = 3;
              break;
            }

            return _context10.abrupt('return');

          case 3:
            _context10.next = 5;
            return _eos.eos.getInstance();

          case 5:
            eosInstance = _context10.sent;
            _context10.next = 8;
            return eosInstance.transaction({
              actions: [{
                account: 'eosio.token',
                name: 'transfer',
                authorization: [{
                  actor: from,
                  permission: 'active'
                }],
                data: {
                  from: from,
                  to: to.trim(),
                  quantity: amount + '.0000 EOS',
                  memo: ''
                }
              }]
            });

          case 8:
            transfer = _context10.sent;

          case 9:
          case 'end':
            return _context10.stop();
        }
      }
    }, _callee10, undefined);
  }));

  return function send() {
    return _ref14.apply(this, arguments);
  };
}();

exports.default = {
  login: login,
  loginWithNewAccount: loginWithNewAccount,
  updateActivationStatus: updateActivationStatus,
  waitAccountActivation: waitAccountActivation,
  register: register,
  getBalance: getBalance,
  send: send,
  buyAccount: buyAccount
};

/***/ }),

/***/ 1618:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  enter: 'enter',
  reject: 'reject',
  wasOnWallet: 'wasOnWallet',
  didWalletCreated: 'didWalletCreated',
  savedOrders: 'savedOrders',
  deletedOrders: 'deletedOrders',
  didWidgetsDataSend: 'didWidgetsDataSend',
  activeTabId: 'activeTabId',
  testnetSkip: 'testnetSkip',
  storageRevision: '_revision',
  wasCautionPassed: 'wasCautionPassed',
  hiddenCoinsList: 'hiddenCoinsList',
  privateKeysSaved: 'privateKeysSaved',
  telosRegistrated: 'telosRegistrated',
  demoMoneyReceived: 'demoMoneyReceived',
  wasOnExchange: 'wasOnExchange',
  didOpenSignUpModal: 'didOpenSignUpModal',
  eosAccountActivated: "mainnet" + ':eos:activationFlag',
  telosAccountActivated: "mainnet" + ':telos:activationFlag',
  eosActivationPayment: "mainnet" + ':eos:activationPayment',
  lastCheckBalance: 'lastCheckBalance',
  IEO_signed: 'IEO_signed',
  startSwap: 'startSwap'
};

/***/ }),

/***/ 1619:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  eth: "mainnet" + ":eth:privateKey",
  btc: "mainnet" + ":btc:privateKey",
  ethKeychainPublicKey: "mainnet" + ":eth:keychainPublicKey",
  btcKeychainPublicKey: "mainnet" + ":btc:keychainPublicKey",
  // xlm: `${process.env.ENTRY}:xlm:privateKey`,
  bch: "mainnet" + ":bch:privateKey",
  ltc: "mainnet" + ":ltc:privateKey",
  eosPrivateKey: "mainnet" + ":eos:privateKey",
  eosPublicKey: "mainnet" + ":eos:publicKey",
  eosAccount: "mainnet" + ":eos:account",
  telosPrivateKey: "mainnet" + ":telos:privateKey",
  telosPublicKey: "mainnet" + ":telos:publicKey",
  telosAccount: "mainnet" + ":telos:account"
};

/***/ }),

/***/ 1620:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  SuccessWithdraw: 'SuccessWithdraw',
  Message: 'Message',
  ErrorNotification: 'ErrorNotification'
};

/***/ }),

/***/ 1621:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  SignUp: 'SignUpModal',
  Withdraw: 'WithdrawModal',
  Offer: 'OfferModal',
  PrivateKeys: 'PrivateKeysModal',
  EosRegister: 'EosRegisterModal',
  EosBuyAccount: 'EosBuyAccountModal',
  TelosChangeAccount: 'TelosChangeAccountModal',
  Approve: 'Approve',
  ImportKeys: 'ImportKeys',
  ShowMoreCoins: 'ShowMoreCoins',
  EthChecker: 'EthChecker',
  Keychain: 'Keychain',
  ReceiveModal: 'ReceiveModal',
  DownloadModal: 'DownloadModal',
  Confirm: 'Confirm',
  DeclineOrdersModal: 'DeclineOrdersModal',
  IncompletedSwaps: 'IncompletedSwaps',
  MobMenu: 'MobMenu',
  ConfirmBeginSwap: 'ConfirmBeginSwap'
};

/***/ }),

/***/ 1622:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  eth: {
    limit: {
      send: 21 * 1e3,
      swap: 150 * 1e3
    },
    price: {
      slow: 0.1 * 1e9,
      normal: 1 * 1e9,
      fast: 2 * 1e9
    }
  },
  ethToken: {
    limit: {
      send: 100 * 1e3,
      swap: 300 * 1e3
    },
    price: {
      slow: 0.1 * 1e9,
      normal: 1 * 1e9,
      fast: 2 * 1e9
    }
  },
  bch: {
    size: {
      send: 226,
      swap: 1024
    },
    rate: {
      slow: 10 * 1e3,
      normal: 50 * 1e3,
      fast: 100 * 1e3
    }
  },
  btc: {
    size: {
      send: 226,
      swap: 400
    },
    rate: {
      slow: 5 * 1e3,
      normal: 15 * 1e3,
      fast: 30 * 1e3
    }
  },
  ltc: {
    size: {
      send: 226,
      swap: 1024
    },
    rate: {
      slow: 5 * 1e3,
      normal: 50 * 1e3,
      fast: 100 * 1e3
    }
  }
};

/***/ }),

/***/ 1623:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var customEcxchangeRate = {
  p2ps: 3
};

exports.default = customEcxchangeRate;

/***/ }),

/***/ 1631:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _stringify = __webpack_require__(112);

var _stringify2 = _interopRequireDefault(_stringify);

var _parseFloat = __webpack_require__(375);

var _parseFloat2 = _interopRequireDefault(_parseFloat);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _parseInt = __webpack_require__(823);

var _parseInt2 = _interopRequireDefault(_parseInt);

var _isNan = __webpack_require__(520);

var _isNan2 = _interopRequireDefault(_isNan);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _core = __webpack_require__(60);

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

var _constants = __webpack_require__(154);

var _constants2 = _interopRequireDefault(_constants);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _eos = __webpack_require__(354);

var _eosjsKeygen = __webpack_require__(825);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var generateAccountName = function generateAccountName(publicKey) {
  var account = Array.prototype.map.call(publicKey.substr(0, 12).toLowerCase(), function (char) {
    return (0, _isNan2.default)((0, _parseInt2.default)(char, 10)) || char < 5 ? char : char - 4;
  }).join('');

  return account;
};

var privateToPublic = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(privateKey) {
    var eccInstance;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return _eos.ecc.getInstance();

          case 2:
            eccInstance = _context.sent;
            return _context.abrupt('return', eccInstance.privateToPublic(privateKey, 'TLOS'));

          case 4:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function privateToPublic(_x) {
    return _ref.apply(this, arguments);
  };
}();

var register = function () {
  var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(accountName, activePrivateKey) {
    var telosInstance, _ref3, permissions, activePublicKey, requiredPublicKey;

    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return _eos.telos.getInstance();

          case 2:
            telosInstance = _context2.sent;
            _context2.next = 5;
            return telosInstance.getAccount(accountName);

          case 5:
            _ref3 = _context2.sent;
            permissions = _ref3.permissions;
            _context2.next = 9;
            return privateToPublic(activePrivateKey);

          case 9:
            activePublicKey = _context2.sent;
            requiredPublicKey = permissions.find(function (item) {
              return item.perm_name === 'active';
            }).required_auth.keys[0].key;

            if (!(activePublicKey !== requiredPublicKey)) {
              _context2.next = 13;
              break;
            }

            throw new Error(activePublicKey + ' is not equal to ' + requiredPublicKey);

          case 13:

            localStorage.setItem(_constants2.default.privateKeyNames.telosPrivateKey, activePrivateKey);
            localStorage.setItem(_constants2.default.privateKeyNames.telosPublicKey, activePublicKey);
            localStorage.setItem(_constants2.default.privateKeyNames.telosAccount, accountName);
            localStorage.setItem(_constants2.default.privateKeyNames.telosAccountActivated, true);

            _reducers2.default.user.setAuthData({ name: 'telosData', data: { activePrivateKey: activePrivateKey, activePublicKey: activePublicKey, address: accountName } });

          case 18:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, undefined);
  }));

  return function register(_x2, _x3) {
    return _ref2.apply(this, arguments);
  };
}();

var login = function login(accountName, activePrivateKey, activePublicKey) {
  _reducers2.default.user.setAuthData({ name: 'telosData', data: { activePrivateKey: activePrivateKey, activePublicKey: activePublicKey, address: accountName } });
};

var getBalance = function () {
  var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
    var _getState, address, telosAccountActivated, telosInstance, balance, amount;

    return _regenerator2.default.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _getState = (0, _core.getState)(), address = _getState.user.telosData.address;
            telosAccountActivated = localStorage.getItem(_constants2.default.localStorage.telosAccountActivated) === 'true';

            if (!(typeof address !== 'string' || !telosAccountActivated)) {
              _context3.next = 4;
              break;
            }

            return _context3.abrupt('return');

          case 4:
            _context3.prev = 4;
            _context3.next = 7;
            return _eos.telos.getInstance();

          case 7:
            telosInstance = _context3.sent;
            _context3.next = 10;
            return telosInstance.getCurrencyBalance({
              code: 'eosio.token',
              symbol: 'TLOS',
              account: address
            });

          case 10:
            balance = _context3.sent;
            amount = (0, _parseFloat2.default)(balance[0]) || 0;

            _reducers2.default.user.setBalance({ name: 'telosData', amount: amount });
            return _context3.abrupt('return', amount);

          case 16:
            _context3.prev = 16;
            _context3.t0 = _context3['catch'](4);

            _reducers2.default.user.setBalanceError({ name: 'telosData' });

          case 19:
          case 'end':
            return _context3.stop();
        }
      }
    }, _callee3, undefined, [[4, 16]]);
  }));

  return function getBalance() {
    return _ref4.apply(this, arguments);
  };
}();

var send = function () {
  var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        from = _ref6.from,
        to = _ref6.to,
        amount = _ref6.amount;

    var _getState2, address, telosInstance, transfer;

    return _regenerator2.default.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _getState2 = (0, _core.getState)(), address = _getState2.user.telosData.address;

            if (!(typeof address !== 'string')) {
              _context4.next = 3;
              break;
            }

            return _context4.abrupt('return');

          case 3:
            _context4.next = 5;
            return _eos.telos.getInstance();

          case 5:
            telosInstance = _context4.sent;
            _context4.next = 8;
            return telosInstance.transaction({
              actions: [{
                account: 'eosio.token',
                name: 'transfer',
                authorization: [{
                  actor: from,
                  permission: 'active'
                }],
                data: {
                  from: from,
                  to: to.trim(),
                  quantity: amount + '.0000 TLOS',
                  memo: ''
                }
              }]
            });

          case 8:
            transfer = _context4.sent;

          case 9:
          case 'end':
            return _context4.stop();
        }
      }
    }, _callee4, undefined);
  }));

  return function send() {
    return _ref5.apply(this, arguments);
  };
}();

var loginWithNewAccount = function () {
  var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
    var keys, activePrivateKey, publicKeys, activePublicKey, accountName;
    return _regenerator2.default.wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            _context5.next = 2;
            return _eosjsKeygen.Keygen.generateMasterKeys();

          case 2:
            keys = _context5.sent;
            activePrivateKey = keys.privateKeys.active, publicKeys = keys.publicKeys;
            activePublicKey = publicKeys.active.toString().replace('EOS', 'TLOS');
            accountName = generateAccountName(activePublicKey);


            localStorage.setItem(_constants2.default.privateKeyNames.telosPrivateKey, activePrivateKey);
            localStorage.setItem(_constants2.default.privateKeyNames.telosPublicKey, activePublicKey);
            localStorage.setItem(_constants2.default.privateKeyNames.telosAccount, accountName);
            localStorage.setItem(_constants2.default.localStorage.telosAccountActivated, false);

            login(accountName, activePrivateKey, activePublicKey);

            return _context5.abrupt('return', { accountName: accountName, activePrivateKey: activePrivateKey, activePublicKey: activePublicKey });

          case 12:
          case 'end':
            return _context5.stop();
        }
      }
    }, _callee5, undefined);
  }));

  return function loginWithNewAccount() {
    return _ref7.apply(this, arguments);
  };
}();

var activateAccount = function () {
  var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(accountName, activePrivateKey, activePublicKey) {
    var registerEndpoint, response;
    return _regenerator2.default.wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            registerEndpoint = _appConfig2.default.api.telos.registerEndpoint;
            _context6.prev = 1;
            _context6.next = 4;
            return fetch(registerEndpoint, {
              method: 'POST',
              headers: {
                'Accept': 'application/json',

                'Content-Type': 'application/json'
              },
              body: (0, _stringify2.default)({
                publicKey: activePublicKey,
                accountName: accountName
              })
            });

          case 4:
            response = _context6.sent;


            if (response.ok) {
              localStorage.setItem(_constants2.default.localStorage.telosAccountActivated, true);
            } else {
              console.error('tlos activation error');
            }
            _context6.next = 11;
            break;

          case 8:
            _context6.prev = 8;
            _context6.t0 = _context6['catch'](1);

            console.error('tlos network error', _context6.t0);

          case 11:
          case 'end':
            return _context6.stop();
        }
      }
    }, _callee6, undefined, [[1, 8]]);
  }));

  return function activateAccount(_x5, _x6, _x7) {
    return _ref8.apply(this, arguments);
  };
}();

module.exports = {
  register: register, login: login, getBalance: getBalance, send: send, loginWithNewAccount: loginWithNewAccount, activateAccount: activateAccount
};

/***/ }),

/***/ 1632:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _humanStandardTokenAbi = __webpack_require__(828);

var _humanStandardTokenAbi2 = _interopRequireDefault(_humanStandardTokenAbi);

var _helpers = __webpack_require__(17);

var _helpers2 = _interopRequireDefault(_helpers);

var _core = __webpack_require__(60);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _web = __webpack_require__(304);

var _web2 = _interopRequireDefault(_web);

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(30);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var login = function login(privateKey, contractAddress, nameContract, decimals, fullName) {
  var data = void 0;
  if (privateKey) {
    data = _web2.default.eth.accounts.privateKeyToAccount(privateKey);
  } else {
    console.info('Created account ETH Token ...');
    data = _web2.default.eth.accounts.create();
    _web2.default.eth.accounts.wallet.add(data);
  }

  _web2.default.eth.accounts.wallet.add(data.privateKey);
  console.info('Logged in with ETH Token', data);

  setupContract(data.address, contractAddress, nameContract, decimals, fullName);
};

var setupContract = function setupContract(ethAddress, contractAddress, nameContract, decimals, fullName) {
  if (!_web2.default.eth.accounts.wallet[ethAddress]) {
    throw new Error('web3 does not have given address');
  }

  var data = {
    address: ethAddress,
    balance: 0,
    name: nameContract.toLowerCase(),
    fullName: fullName,
    currency: nameContract.toUpperCase(),
    contractAddress: contractAddress,
    decimals: decimals
  };

  _reducers2.default.user.setTokenAuthData({ name: data.name, data: data });
};

var getBalance = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(currency) {
    var _getState, tokensData, balanceInCache, _tokensData$currency$, address, contractAddress, decimals, name, ERC20, result, amount;

    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _getState = (0, _core.getState)(), tokensData = _getState.user.tokensData;

            if (!(currency === undefined)) {
              _context.next = 3;
              break;
            }

            return _context.abrupt('return');

          case 3:
            balanceInCache = (0, _helpers.cacheStorageGet)('currencyBalances', 'token_' + currency);

            if (!(balanceInCache !== false)) {
              _context.next = 6;
              break;
            }

            return _context.abrupt('return', balanceInCache);

          case 6:
            _tokensData$currency$ = tokensData[currency.toLowerCase()], address = _tokensData$currency$.address, contractAddress = _tokensData$currency$.contractAddress, decimals = _tokensData$currency$.decimals, name = _tokensData$currency$.name;
            ERC20 = new _web2.default.eth.Contract(_humanStandardTokenAbi2.default, contractAddress);
            _context.prev = 8;
            _context.next = 11;
            return ERC20.methods.balanceOf(address).call();

          case 11:
            result = _context.sent;

            console.log('result get balance', result);
            amount = new _bignumber.BigNumber(String(result)).dividedBy(new _bignumber.BigNumber(String(10)).pow(decimals)).toString();

            _reducers2.default.user.setTokenBalance({ name: name, amount: amount });
            (0, _helpers.cacheStorageSet)('currencyBalances', 'token_' + currency, amount, 60);
            return _context.abrupt('return', amount);

          case 19:
            _context.prev = 19;
            _context.t0 = _context['catch'](8);

            _reducers2.default.user.setTokenBalanceError({ name: name });

          case 22:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined, [[8, 19]]);
  }));

  return function getBalance(_x) {
    return _ref.apply(this, arguments);
  };
}();

var fetchBalance = function () {
  var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(address, contractAddress, decimals) {
    var ERC20, result, amount;
    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            ERC20 = new _web2.default.eth.Contract(_humanStandardTokenAbi2.default, contractAddress);
            _context2.next = 3;
            return ERC20.methods.balanceOf(address).call();

          case 3:
            result = _context2.sent;
            amount = new _bignumber.BigNumber(String(result)).dividedBy(new _bignumber.BigNumber(String(10)).pow(decimals)).toString();
            return _context2.abrupt('return', amount);

          case 6:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, undefined);
  }));

  return function fetchBalance(_x2, _x3, _x4) {
    return _ref2.apply(this, arguments);
  };
}();

var getTransaction = function getTransaction(currency) {
  return new _promise2.default(function (resolve) {
    var _getState2 = (0, _core.getState)(),
        tokensData = _getState2.user.tokensData;

    if (currency === undefined) {
      return;
    }

    var _tokensData$currency$2 = tokensData[currency.toLowerCase()],
        address = _tokensData$currency$2.address,
        contractAddress = _tokensData$currency$2.contractAddress;


    console.log('currency', address, contractAddress);

    var url = [_appConfig2.default.api.etherscan + '?module=account&action=tokentx', '&contractaddress=' + contractAddress, '&address=' + address, '&startblock=0&endblock=99999999', '&sort=asc&apikey=RHHFPNMAZMD6I4ZWBZBF6FA11CMW9AXZNM'].join('');

    return _helpers.request.get(url).then(function (res) {
      var transactions = res.result.filter(function (item) {
        return item.value > 0;
      }).map(function (item) {
        return {
          confirmations: item.confirmations,
          type: item.tokenSymbol,
          hash: item.hash,
          contractAddress: item.contractAddress,
          status: item.blockHash != null ? 1 : 0,
          value: new _bignumber.BigNumber(String(item.value)).dividedBy(new _bignumber.BigNumber(10).pow(Number(item.tokenDecimal))).toNumber(),
          address: item.to,
          date: item.timeStamp * 1000,
          direction: address.toLowerCase() === item.to.toLowerCase() ? 'in' : 'out'
        };
      });
      resolve(transactions);
    }).catch(function () {
      resolve([]);
    });
  });
};

var withToken = function withToken(name) {
  if (!name) {
    throw new Error('send: name is undefined');
  }

  name = name.toLowerCase();

  var _getState3 = (0, _core.getState)(),
      address = _getState3.user.tokensData[name].address;

  var _config$erc20$name = _appConfig2.default.erc20[name],
      contractAddress = _config$erc20$name.address,
      decimals = _config$erc20$name.decimals;


  var tokenContract = new _web2.default.eth.Contract(_humanStandardTokenAbi2.default, contractAddress, { from: address });

  var toWei = function toWei(amount) {
    return (0, _bignumber.BigNumber)(amount).times((0, _bignumber.BigNumber)(10).pow(decimals)).integerValue();
  };
  var fromWei = function fromWei(wei) {
    return (0, _bignumber.BigNumber)(wei).div((0, _bignumber.BigNumber)(10).pow(decimals));
  };

  return { tokenContract: tokenContract, decimals: decimals, toWei: toWei, fromWei: fromWei };
};

var fetchFees = function () {
  var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        gasPrice = _ref4.gasPrice,
        gasLimit = _ref4.gasLimit,
        speed = _ref4.speed;

    return _regenerator2.default.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.t0 = gasPrice;

            if (_context3.t0) {
              _context3.next = 5;
              break;
            }

            _context3.next = 4;
            return _helpers2.default.eth.estimateGasPrice({ speed: speed });

          case 4:
            _context3.t0 = _context3.sent;

          case 5:
            gasPrice = _context3.t0;

            gasLimit = gasLimit || _helpers.constants.defaultFeeRates.ethToken.limit.send;

            return _context3.abrupt('return', {
              gas: gasLimit,
              gasPrice: gasPrice
            });

          case 8:
          case 'end':
            return _context3.stop();
        }
      }
    }, _callee3, undefined);
  }));

  return function fetchFees() {
    return _ref3.apply(this, arguments);
  };
}();

var sendTransaction = function sendTransaction(_ref5) {
  var contract = _ref5.contract,
      method = _ref5.method;

  var _ref6 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      args = _ref6.args,
      _ref6$params = _ref6.params,
      params = _ref6$params === undefined ? {} : _ref6$params;

  var callback = arguments[2];
  return new _promise2.default(function () {
    var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(resolve, reject) {
      var _contract$methods;

      var receipt;
      return _regenerator2.default.wrap(function _callee4$(_context4) {
        while (1) {
          switch (_context4.prev = _context4.next) {
            case 0:
              _context4.next = 2;
              return (_contract$methods = contract.methods)[method].apply(_contract$methods, (0, _toConsumableArray3.default)(args)).send(params).on('transactionHash', function (hash) {
                // eslint-disable-next-line
                callback && callback(hash);
              }).catch(function (error) {
                reject(error);
              });

            case 2:
              receipt = _context4.sent;


              resolve(receipt);

            case 4:
            case 'end':
              return _context4.stop();
          }
        }
      }, _callee4, undefined);
    }));

    return function (_x7, _x8) {
      return _ref7.apply(this, arguments);
    };
  }());
};

var send = function () {
  var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {
    var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var name = _ref8.name,
        to = _ref8.to,
        amount = _ref8.amount,
        feeConfig = (0, _objectWithoutProperties3.default)(_ref8, ['name', 'to', 'amount']);

    var _withToken, tokenContract, toWei, params, newAmount, callMethod;

    return _regenerator2.default.wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            _withToken = withToken(name), tokenContract = _withToken.tokenContract, toWei = _withToken.toWei;
            _context6.next = 3;
            return fetchFees((0, _assign2.default)({}, feeConfig));

          case 3:
            params = _context6.sent;
            newAmount = toWei(amount);
            callMethod = { contract: tokenContract, method: 'transfer'

              // return sendTransaction(
              //   { contract: tokenContract, method: 'transfer' },
              //   { args: [ to, newAmount ], params },
              //   (hash) => {
              //     const txId = `${config.link.etherscan}/tx/${hash}`
              //     actions.loader.show(true, { txId })
              //   })

            };
            return _context6.abrupt('return', new _promise2.default(function () {
              var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(resolve, reject) {
                var receipt;
                return _regenerator2.default.wrap(function _callee5$(_context5) {
                  while (1) {
                    switch (_context5.prev = _context5.next) {
                      case 0:
                        _context5.next = 2;
                        return tokenContract.methods.transfer(to, newAmount).send(params).on('transactionHash', function (hash) {
                          var txId = _appConfig2.default.link.etherscan + '/tx/' + hash;
                          _actions2.default.loader.show(true, { txId: txId });
                        }).on('error', function (err) {
                          reject(err);
                        });

                      case 2:
                        receipt = _context5.sent;


                        resolve(receipt);

                      case 4:
                      case 'end':
                        return _context5.stop();
                    }
                  }
                }, _callee5, undefined);
              }));

              return function (_x10, _x11) {
                return _ref10.apply(this, arguments);
              };
            }()));

          case 7:
          case 'end':
            return _context6.stop();
        }
      }
    }, _callee6, undefined);
  }));

  return function send() {
    return _ref9.apply(this, arguments);
  };
}();

var approve = function () {
  var _ref12 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7() {
    var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var name = _ref11.name,
        to = _ref11.to,
        amount = _ref11.amount,
        feeConfig = (0, _objectWithoutProperties3.default)(_ref11, ['name', 'to', 'amount']);

    var _withToken2, tokenContract, toWei, params, newAmount;

    return _regenerator2.default.wrap(function _callee7$(_context7) {
      while (1) {
        switch (_context7.prev = _context7.next) {
          case 0:
            _withToken2 = withToken(name), tokenContract = _withToken2.tokenContract, toWei = _withToken2.toWei;
            _context7.next = 3;
            return fetchFees((0, _assign2.default)({}, feeConfig));

          case 3:
            params = _context7.sent;
            newAmount = toWei(amount);
            return _context7.abrupt('return', sendTransaction({ contract: tokenContract, method: 'approve' }, { args: [to, newAmount], params: params }));

          case 6:
          case 'end':
            return _context7.stop();
        }
      }
    }, _callee7, undefined);
  }));

  return function approve() {
    return _ref12.apply(this, arguments);
  };
}();

var setAllowanceForToken = function () {
  var _ref14 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8(_ref13) {
    var name = _ref13.name,
        to = _ref13.to,
        targetAllowance = _ref13.targetAllowance,
        config = (0, _objectWithoutProperties3.default)(_ref13, ['name', 'to', 'targetAllowance']);

    var _withToken3, tokenContract, toWei, _getState4, address, allowance, newTargetAllowance;

    return _regenerator2.default.wrap(function _callee8$(_context8) {
      while (1) {
        switch (_context8.prev = _context8.next) {
          case 0:
            _withToken3 = withToken(name), tokenContract = _withToken3.tokenContract, toWei = _withToken3.toWei;


            name = name.toLowerCase();

            _getState4 = (0, _core.getState)(), address = _getState4.user.tokensData[name].address;
            _context8.next = 5;
            return tokenContract.methods.allowance(address, to).call();

          case 5:
            allowance = _context8.sent;

            if (!toWei(targetAllowance).isLessThanOrEqualTo(allowance)) {
              _context8.next = 8;
              break;
            }

            return _context8.abrupt('return', _promise2.default.resolve());

          case 8:
            // but if not, set allowance to 1 billion (or requested target allowance, if it's bigger than 1 billion)

            newTargetAllowance = _bignumber.BigNumber.max(1e9, targetAllowance);
            return _context8.abrupt('return', approve((0, _assign2.default)({ name: name, to: to, amount: newTargetAllowance }, config)));

          case 10:
          case 'end':
            return _context8.stop();
        }
      }
    }, _callee8, undefined);
  }));

  return function setAllowanceForToken(_x13) {
    return _ref14.apply(this, arguments);
  };
}();

exports.default = {
  login: login,
  getBalance: getBalance,
  getTransaction: getTransaction,
  send: send,
  approve: approve,
  setAllowanceForToken: setAllowanceForToken,
  fetchBalance: fetchBalance
};

/***/ }),

/***/ 1633:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var initWallet = function () {
  var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(privateKey) {
    var keyPair;
    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            keyPair = (0, _nimiq.ethKeyToKeyPair)(privateKey);
            return _context2.abrupt('return', new window.Nimiq.Wallet(keyPair));

          case 2:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, this);
  }));

  return function initWallet(_x) {
    return _ref2.apply(this, arguments);
  };
}();

var init = function () {
  var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
    var _this = this;

    return _regenerator2.default.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _context4.next = 2;
            return initNimiq();

          case 2:
            if (!initPromise) {
              _context4.next = 6;
              break;
            }

            return _context4.abrupt('return', initPromise);

          case 6:
            if (!isInitialized) {
              _context4.next = 8;
              break;
            }

            return _context4.abrupt('return', _promise2.default.resolve());

          case 8:

            initPromise = new _promise2.default(function () {
              var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(resolve) {
                return _regenerator2.default.wrap(function _callee3$(_context3) {
                  while (1) {
                    switch (_context3.prev = _context3.next) {
                      case 0:
                        window.nim = $;

                        _context3.next = 3;
                        return window.Nimiq.Consensus.nano();

                      case 3:
                        $.consensus = _context3.sent;

                        $.blockchain = $.consensus.blockchain;
                        $.accounts = $.blockchain.accounts;
                        $.mempool = $.consensus.mempool;
                        $.network = $.consensus.network;

                        $.consensus.on('established', function () {
                          window.Nimiq.Log.i('Consensus', 'Current state: height=' + $.blockchain.height + ', headHash=' + $.blockchain.headHash);
                          resolve();
                        });
                        $.network.connect();

                      case 10:
                      case 'end':
                        return _context3.stop();
                    }
                  }
                }, _callee3, _this);
              }));

              return function (_x2) {
                return _ref4.apply(this, arguments);
              };
            }());

            return _context4.abrupt('return', initPromise);

          case 10:
          case 'end':
            return _context4.stop();
        }
      }
    }, _callee4, this);
  }));

  return function init() {
    return _ref3.apply(this, arguments);
  };
}();

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _nimiq = __webpack_require__(1634);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var $ = {};
var initNimiqPromise = void 0;
var isNimiqInitialized = false;
var initPromise = void 0;
var isInitialized = false;

var NETWORK = _appConfig2.default.entry === 'mainnet' ? 'main' : 'test';

var initNimiq = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            if (!initNimiqPromise) {
              _context.next = 4;
              break;
            }

            return _context.abrupt('return', initNimiqPromise);

          case 4:
            if (!isNimiqInitialized) {
              _context.next = 6;
              break;
            }

            return _context.abrupt('return', _promise2.default.resolve());

          case 6:

            initNimiqPromise = new _promise2.default(function (resolve, reject) {
              if (!window.Nimiq) {
                console.error('Nimiq not present, add from CDN: https://cdn.nimiq.com/nimiq.js');
                reject();
              } else {
                window.Nimiq.init(function () {
                  isNimiqInitialized = true;
                  window.Nimiq.GenesisConfig.init(window.Nimiq.GenesisConfig.CONFIGS[NETWORK]);
                  resolve();
                });
              }
            });

            return _context.abrupt('return', initNimiqPromise);

          case 8:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function initNimiq() {
    return _ref.apply(this, arguments);
  };
}();

var login = function () {
  var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(ethPrivateKey) {
    var data;
    return _regenerator2.default.wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            _context5.next = 2;
            return init();

          case 2:
            _context5.next = 4;
            return initWallet(ethPrivateKey);

          case 4:
            $.wallet = _context5.sent;
            data = {
              balance: 0,
              address: $.wallet.address.toUserFriendlyAddress()
            };


            window.getNimAddress = function () {
              return data.address;
            };

            console.info('Logged in with Nimiq', data);
            _reducers2.default.user.setAuthData({ name: 'nimData', data: data });

            return _context5.abrupt('return', data);

          case 10:
          case 'end':
            return _context5.stop();
        }
      }
    }, _callee5, undefined);
  }));

  return function login(_x3) {
    return _ref5.apply(this, arguments);
  };
}();

var getBalance = function () {
  var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {
    var account, amount;
    return _regenerator2.default.wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            _context6.next = 2;
            return init();

          case 2:
            _context6.next = 4;
            return $.consensus.getAccount($.wallet.address);

          case 4:
            account = _context6.sent;
            amount = window.Nimiq.Policy.satoshisToCoins(account.balance).toFixed(0);


            _reducers2.default.user.setBalance({ name: 'nimData', amount: amount });

            return _context6.abrupt('return', amount);

          case 8:
          case 'end':
            return _context6.stop();
        }
      }
    }, _callee6, undefined);
  }));

  return function getBalance() {
    return _ref6.apply(this, arguments);
  };
}();

var getTransaction = function getTransaction() {};

var send = function () {
  var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(from, address, amount) {
    var _prepareTransaction, addr, value, fee, height, tx;

    return _regenerator2.default.wrap(function _callee7$(_context7) {
      while (1) {
        switch (_context7.prev = _context7.next) {
          case 0:
            _context7.next = 2;
            return init();

          case 2:
            _prepareTransaction = (0, _nimiq.prepareTransaction)($, address, amount), addr = _prepareTransaction.addr, value = _prepareTransaction.value, fee = _prepareTransaction.fee, height = _prepareTransaction.height;
            tx = $.wallet.createTransaction(addr, value, fee, height);


            $.consensus.relayTransaction(tx);
            $.consensus.subscribeAccounts([tx.recipient]);

            window.Nimiq.Log.i('TX', 'Waiting for Nimiq transaction [' + tx.hash().toHex() + '] to confirm, please wait...');

            (0, _nimiq.followTransaction)($, tx).then(function () {
              return window.Nimiq.Log.i('TX', 'Nimiq transaction [' + tx.hash().toHex() + '] confirmed!');
            }).then(function () {
              return getBalance();
            });

            return _context7.abrupt('return', tx);

          case 9:
          case 'end':
            return _context7.stop();
        }
      }
    }, _callee7, undefined);
  }));

  return function send(_x4, _x5, _x6) {
    return _ref7.apply(this, arguments);
  };
}();

exports.default = {
  login: login,
  getBalance: getBalance,
  getTransaction: getTransaction,
  send: send
};

/***/ }),

/***/ 1634:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.prepareTransaction = exports.followTransaction = exports.ethKeyToKeyPair = undefined;

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ethKeyToKeyPair = function ethKeyToKeyPair(ethKey) {
  if (!window.Nimiq) throw new Error('include Nimiq from CDN');

  var raw = ethKey.slice(0, 2) === '0x' ? ethKey.substring(2) : ethKey;
  var buf = Buffer.from(raw, 'hex');
  var privKey = new window.Nimiq.PrivateKey(buf);
  var publicKey = window.Nimiq.PublicKey.derive(privKey);

  return new window.Nimiq.KeyPair(privKey, publicKey);
};

var followTransaction = function followTransaction($, tx) {
  return new _promise2.default(function (resolve) {
    var id = $.mempool.on('transaction-mined', function (tx2) {
      if (tx.equals(tx2)) {
        $.mempool.off('transaction-mined', id);
        resolve();
      }
    });
  });
};

var prepareTransaction = function prepareTransaction($, address, amount) {
  var height = $.blockchain.height + 1;
  var addr = window.Nimiq.Address.fromUserFriendlyAddress(address);
  var value = window.Nimiq.Policy.coinsToSatoshis(amount);
  var fee = window.Nimiq.Policy.coinsToSatoshis(0);

  return { addr: addr, value: value, fee: fee, height: height };
};

exports.ethKeyToKeyPair = ethKeyToKeyPair;
exports.followTransaction = followTransaction;
exports.prepareTransaction = prepareTransaction;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 1635:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var checkServers = function checkServers() {
  _reducers2.default.api.setChecked(false);
  return _promise2.default.all((0, _keys2.default)(_appConfig2.default.apiAlternatives).map(function (provider) {
    return _promise2.default.race(_appConfig2.default.apiAlternatives[provider].map(function (server) {
      return new _promise2.default(function (resolve, reject) {
        fetch(server + '/status').then(function () {
          return resolve(server);
        }).catch(function (e) {
          return reject(e);
        });
      });
    })).then(function (chosen) {
      _reducers2.default.api.setApiServer(provider, chosen);
      console.log('[' + provider + '] ' + chosen + ' is OK, using it');
    });
  })).then(function () {
    _reducers2.default.api.setChecked(true);
    console.log('All servers is OK.');
  }).catch(function (e) {
    return _reducers2.default.api.setErrors(true);
  });
};

exports.default = {
  checkServers: checkServers
};

/***/ }),

/***/ 1636:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _core = __webpack_require__(60);

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _Pair = __webpack_require__(368);

var _TRADE_TICKERS = __webpack_require__(499);

var _TRADE_TICKERS2 = _interopRequireDefault(_TRADE_TICKERS);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var filter = function filter(value, tikers, items) {
  var selectedPairsBase = tikers.map(function (ticker) {
    return (0, _Pair.parsePair)(ticker);
  }).filter(function (_ref) {
    var BASE = _ref.BASE;
    return BASE.toLowerCase() === value;
  }).map(function (_ref2) {
    var MAIN = _ref2.MAIN,
        BASE = _ref2.BASE;
    return MAIN;
  });

  var selectedPairsMain = tikers.map(function (ticker) {
    return (0, _Pair.parsePair)(ticker);
  }).filter(function (_ref3) {
    var MAIN = _ref3.MAIN;
    return MAIN.toLowerCase() === value;
  }).map(function (_ref4) {
    var MAIN = _ref4.MAIN,
        BASE = _ref4.BASE;
    return BASE;
  });

  var pairs = selectedPairsBase.concat(selectedPairsMain);
  var selectedItems = items.filter(function (item) {
    return pairs.includes(item.name);
  }).concat(items.filter(function (item) {
    return item.value === value;
  }));

  return selectedItems;
};

var selectPair = function selectPair(value) {
  // addOffer drop down
  var _getState = (0, _core.getState)(),
      items = _getState.currencies.items;

  var pairs = _actions2.default.pairs.filter(value, _TRADE_TICKERS2.default, items);
  _reducers2.default.currencies.addSelectedItems(pairs);

  return pairs;
};

var selectPairPartial = function selectPairPartial(value) {
  // partial drop down
  var partialItems = (0, _core.getState)().currencies.partialItems; // eslint-disable-line

  var pairs = _actions2.default.pairs.filter(value, _TRADE_TICKERS2.default, partialItems);
  _reducers2.default.currencies.addPartialItems(pairs);

  return pairs;
};

exports.default = {
  selectPair: selectPair,
  filter: filter,
  selectPairPartial: selectPairPartial
};

/***/ }),

/***/ 1637:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var getGtag = function getGtag() {
  return window.gtag || null;
};

var dataEvent = function dataEvent() {
  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      action = _ref.action,
      label = _ref.label;

  var gtag = getGtag();

  if (!action || !gtag) {
    return;
  }

  gtag('event', action, {
    'label': label
  });
};

var balanceEvent = function balanceEvent() {
  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      action = _ref2.action,
      currency = _ref2.currency,
      balance = _ref2.balance;

  var gtag = getGtag();

  if (!action || !gtag) {
    return;
  }

  gtag('event', 'balance-' + action, {
    'currency': currency,
    'balance': balance
  });
};

var signUpEvent = function signUpEvent() {
  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      action = _ref3.action,
      type = _ref3.type;

  var gtag = getGtag();

  if (!action || !gtag) {
    return;
  }

  gtag('event', 'signUp-' + action, {
    'type': type
  });
};

var errorEvent = function errorEvent(eventAction) {
  var gtag = getGtag();

  if (!gtag) {
    return;
  }

  return null; // TODO: add gtag for errorEvent
};

var swapEvent = function swapEvent(eventAction, eventLabel) {
  var gtag = getGtag();

  if (!gtag) {
    return;
  }

  return null; // TODO: add gtag for swapEvent
};

var getTracker = function getTracker() {
  if (!window.ga) {
    return;
  }

  try {
    return window.ga.getAll()[0];
  } catch (error) {
    console.error(error);
  }
  return null;
};

var getClientId = function getClientId() {
  var tracker = getTracker();

  if (!tracker) {
    return;
  }
  return tracker.get('clientId');
};

exports.default = {
  getTracker: getTracker,
  getClientId: getClientId,
  dataEvent: dataEvent,
  errorEvent: errorEvent,
  swapEvent: swapEvent,
  balanceEvent: balanceEvent,
  signUpEvent: signUpEvent
};

/***/ }),

/***/ 1638:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var set = function set(payload) {
  _reducers2.default.ipfs.set(payload);
};

var userJoined = function userJoined() {
  _reducers2.default.ipfs.userJoined();
};

var userLeft = function userLeft() {
  _reducers2.default.ipfs.userLeft();
};

var allPeersLoaded = function allPeersLoaded() {
  _reducers2.default.ipfs.allPeersLoaded();
};

exports.default = {
  set: set,
  userJoined: userJoined,
  userLeft: userLeft,
  allPeersLoaded: allPeersLoaded
};

/***/ }),

/***/ 1644:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _eth = __webpack_require__(830);

var _eth2 = _interopRequireDefault(_eth);

var _constants = __webpack_require__(154);

var _constants2 = _interopRequireDefault(_constants);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var isEthToken = function isEthToken(_ref) {
  var name = _ref.name;
  return (0, _keys2.default)(_appConfig2.default.erc20).includes(name.toLowerCase());
};
var isEthOrEthToken = function isEthOrEthToken(_ref2) {
  var name = _ref2.name;
  return (0, _keys2.default)(_appConfig2.default.erc20).concat('eth').includes(name.toLowerCase());
};

var estimateFeeValue = function () {
  var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        _ref4$method = _ref4.method,
        method = _ref4$method === undefined ? 'send' : _ref4$method,
        speed = _ref4.speed;

    var gasPrice, feeValue;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return estimateGasPrice({ speed: speed });

          case 2:
            gasPrice = _context.sent;
            feeValue = new _bignumber2.default(_constants2.default.defaultFeeRates.ethToken.limit[method]).multipliedBy(gasPrice).multipliedBy(1e-18).toString();
            return _context.abrupt('return', feeValue);

          case 5:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function estimateFeeValue() {
    return _ref3.apply(this, arguments);
  };
}();

var estimateGasPrice = function estimateGasPrice() {
  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      speed = _ref5.speed;

  return _eth2.default.estimateGasPrice({ speed: speed });
};

exports.default = {
  estimateFeeValue: estimateFeeValue,
  estimateGasPrice: estimateGasPrice,
  isEthToken: isEthToken,
  isEthOrEthToken: isEthOrEthToken
};

/***/ }),

/***/ 1645:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _coininfo = __webpack_require__(524);

var _coininfo2 = _interopRequireDefault(_coininfo);

var _core = __webpack_require__(60);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _constants = __webpack_require__(154);

var _constants2 = _interopRequireDefault(_constants);

var _request = __webpack_require__(308);

var _request2 = _interopRequireDefault(_request);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var networkCoininfo =  true ? _coininfo2.default.bitcoincash.main : _coininfo2.default.bitcoincash.test;
var network = networkCoininfo.toBitcoinJS();

var calculateTxSize = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        speed = _ref2.speed,
        unspents = _ref2.unspents,
        address = _ref2.address,
        _ref2$txOut = _ref2.txOut,
        txOut = _ref2$txOut === undefined ? 2 : _ref2$txOut,
        _ref2$method = _ref2.method,
        method = _ref2$method === undefined ? 'send' : _ref2$method,
        fixed = _ref2.fixed;

    var defaultTxSize, txIn, txSize;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            defaultTxSize = _constants2.default.defaultFeeRates.bch.size[method];

            if (!fixed) {
              _context.next = 3;
              break;
            }

            return _context.abrupt('return', defaultTxSize);

          case 3:
            _context.t0 = unspents;

            if (_context.t0) {
              _context.next = 8;
              break;
            }

            _context.next = 7;
            return _actions2.default.bch.fetchUnspents(address);

          case 7:
            _context.t0 = _context.sent;

          case 8:
            unspents = _context.t0;
            txIn = unspents.length;
            txSize = txIn > 0 ? txIn * 146 + txOut * 33 + (15 + txIn - txOut) : defaultTxSize;
            return _context.abrupt('return', txSize);

          case 12:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function calculateTxSize() {
    return _ref.apply(this, arguments);
  };
}();

var estimateFeeValue = function () {
  var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        feeRate = _ref4.feeRate,
        inSatoshis = _ref4.inSatoshis,
        speed = _ref4.speed,
        address = _ref4.address,
        txSize = _ref4.txSize,
        fixed = _ref4.fixed,
        method = _ref4.method;

    var DUST, _getState, bchData, calculatedFeeValue, finalFeeValue;

    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            DUST = 546;
            _getState = (0, _core.getState)(), bchData = _getState.user.bchData;


            address = address || bchData.address;
            _context2.t0 = txSize;

            if (_context2.t0) {
              _context2.next = 8;
              break;
            }

            _context2.next = 7;
            return calculateTxSize({ address: address, speed: speed, fixed: fixed, method: method });

          case 7:
            _context2.t0 = _context2.sent;

          case 8:
            txSize = _context2.t0;
            _context2.t1 = feeRate;

            if (_context2.t1) {
              _context2.next = 14;
              break;
            }

            _context2.next = 13;
            return estimateFeeRate({ speed: speed });

          case 13:
            _context2.t1 = _context2.sent;

          case 14:
            feeRate = _context2.t1;
            calculatedFeeValue = _bignumber2.default.maximum(DUST, (0, _bignumber2.default)(feeRate).multipliedBy(txSize).div(1024).dp(0, _bignumber2.default.ROUND_HALF_EVEN));
            finalFeeValue = inSatoshis ? calculatedFeeValue.toString() : calculatedFeeValue.multipliedBy(1e-8).toString();
            return _context2.abrupt('return', finalFeeValue);

          case 18:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, undefined);
  }));

  return function estimateFeeValue() {
    return _ref3.apply(this, arguments);
  };
}();

var estimateFeeRate = function () {
  var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        _ref6$speed = _ref6.speed,
        speed = _ref6$speed === undefined ? 'fast' : _ref6$speed;

    var link, defaultRate, apiResult, apiSpeeds, apiSpeed, apiRate;
    return _regenerator2.default.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            link = _appConfig2.default.feeRates.bch;
            defaultRate = _constants2.default.defaultFeeRates.bch.rate;

            if (link) {
              _context3.next = 4;
              break;
            }

            return _context3.abrupt('return', defaultRate[speed]);

          case 4:
            apiResult = void 0;
            _context3.prev = 5;
            _context3.next = 8;
            return _request2.default.get(link, { cacheResponse: 60000 });

          case 8:
            apiResult = _context3.sent;
            _context3.next = 15;
            break;

          case 11:
            _context3.prev = 11;
            _context3.t0 = _context3['catch'](5);

            console.error('EstimateFeeRate: ' + _context3.t0.message);
            return _context3.abrupt('return', defaultRate[speed]);

          case 15:
            apiSpeeds = {
              slow: 'low_fee_per_kb',
              normal: 'medium_fee_per_kb',
              fast: 'high_fee_per_kb'
            };
            apiSpeed = apiSpeeds[speed] || apiSpeed.normal;
            apiRate = (0, _bignumber2.default)(apiResult[apiSpeed]);
            return _context3.abrupt('return', apiRate.isGreaterThanOrEqualTo(defaultRate.slow) ? apiRate.toString() : defaultRate[speed]);

          case 19:
          case 'end':
            return _context3.stop();
        }
      }
    }, _callee3, undefined, [[5, 11]]);
  }));

  return function estimateFeeRate() {
    return _ref5.apply(this, arguments);
  };
}();

exports.default = {
  calculateTxSize: calculateTxSize,
  estimateFeeValue: estimateFeeValue,
  estimateFeeRate: estimateFeeRate,
  network: network
};

/***/ }),

/***/ 166:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TextArea = exports.Input = exports.FieldLabel = undefined;

var _FieldLabel = __webpack_require__(196);

var _FieldLabel2 = _interopRequireDefault(_FieldLabel);

var _Input = __webpack_require__(129);

var _Input2 = _interopRequireDefault(_Input);

var _TextArea = __webpack_require__(894);

var _TextArea2 = _interopRequireDefault(_TextArea);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.FieldLabel = _FieldLabel2.default;
exports.Input = _Input2.default;
exports.TextArea = _TextArea2.default;

/***/ }),

/***/ 1665:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _coininfo = __webpack_require__(524);

var _coininfo2 = _interopRequireDefault(_coininfo);

var _core = __webpack_require__(60);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _constants = __webpack_require__(154);

var _constants2 = _interopRequireDefault(_constants);

var _request = __webpack_require__(308);

var _request2 = _interopRequireDefault(_request);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var networkCoininfo =  true ? _coininfo2.default.litecoin.main : _coininfo2.default.litecoin.test;
var network = networkCoininfo.toBitcoinJS();

var calculateTxSize = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        speed = _ref2.speed,
        unspents = _ref2.unspents,
        address = _ref2.address,
        _ref2$txOut = _ref2.txOut,
        txOut = _ref2$txOut === undefined ? 2 : _ref2$txOut,
        _ref2$method = _ref2.method,
        method = _ref2$method === undefined ? 'send' : _ref2$method,
        fixed = _ref2.fixed;

    var defaultTxSize, txIn, txSize;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            defaultTxSize = _constants2.default.defaultFeeRates.ltc.size[method];

            if (!fixed) {
              _context.next = 3;
              break;
            }

            return _context.abrupt('return', defaultTxSize);

          case 3:
            _context.t0 = unspents;

            if (_context.t0) {
              _context.next = 8;
              break;
            }

            _context.next = 7;
            return _actions2.default.ltc.fetchUnspents(address);

          case 7:
            _context.t0 = _context.sent;

          case 8:
            unspents = _context.t0;
            txIn = unspents.length;
            txSize = txIn > 0 ? txIn * 146 + txOut * 33 + (15 + txIn - txOut) : defaultTxSize;
            return _context.abrupt('return', txSize);

          case 12:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function calculateTxSize() {
    return _ref.apply(this, arguments);
  };
}();

var estimateFeeValue = function () {
  var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        feeRate = _ref4.feeRate,
        inSatoshis = _ref4.inSatoshis,
        speed = _ref4.speed,
        address = _ref4.address,
        txSize = _ref4.txSize,
        fixed = _ref4.fixed,
        method = _ref4.method;

    var DUST, _getState, ltcData, calculatedFeeValue, finalFeeValue;

    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            DUST = 546;
            _getState = (0, _core.getState)(), ltcData = _getState.user.ltcData;


            address = address || ltcData.address;
            _context2.t0 = txSize;

            if (_context2.t0) {
              _context2.next = 8;
              break;
            }

            _context2.next = 7;
            return calculateTxSize({ address: address, speed: speed, fixed: fixed, method: method });

          case 7:
            _context2.t0 = _context2.sent;

          case 8:
            txSize = _context2.t0;
            _context2.t1 = feeRate;

            if (_context2.t1) {
              _context2.next = 14;
              break;
            }

            _context2.next = 13;
            return estimateFeeRate({ speed: speed });

          case 13:
            _context2.t1 = _context2.sent;

          case 14:
            feeRate = _context2.t1;
            calculatedFeeValue = _bignumber2.default.maximum(DUST, (0, _bignumber2.default)(feeRate).multipliedBy(txSize).div(1024).dp(0, _bignumber2.default.ROUND_HALF_EVEN));
            finalFeeValue = inSatoshis ? calculatedFeeValue.toString() : calculatedFeeValue.multipliedBy(1e-8).toString();
            return _context2.abrupt('return', finalFeeValue);

          case 18:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, undefined);
  }));

  return function estimateFeeValue() {
    return _ref3.apply(this, arguments);
  };
}();

var estimateFeeRate = function () {
  var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        _ref6$speed = _ref6.speed,
        speed = _ref6$speed === undefined ? 'fast' : _ref6$speed;

    var link, defaultRate, apiResult, apiSpeeds, apiSpeed, apiRate;
    return _regenerator2.default.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            link = _appConfig2.default.feeRates.ltc;
            defaultRate = _constants2.default.defaultFeeRates.ltc.rate;

            if (link) {
              _context3.next = 4;
              break;
            }

            return _context3.abrupt('return', defaultRate[speed]);

          case 4:
            apiResult = void 0;
            _context3.prev = 5;
            _context3.next = 8;
            return _request2.default.get(link, { cacheResponse: 60000 });

          case 8:
            apiResult = _context3.sent;
            _context3.next = 15;
            break;

          case 11:
            _context3.prev = 11;
            _context3.t0 = _context3['catch'](5);

            console.error('EstimateFeeRate: ' + _context3.t0.message);
            return _context3.abrupt('return', defaultRate[speed]);

          case 15:
            apiSpeeds = {
              slow: 'low_fee_per_kb',
              normal: 'medium_fee_per_kb',
              fast: 'high_fee_per_kb'
            };
            apiSpeed = apiSpeeds[speed] || apiSpeed.normal;
            apiRate = (0, _bignumber2.default)(apiResult[apiSpeed]);
            return _context3.abrupt('return', apiRate.isGreaterThanOrEqualTo(defaultRate.slow) ? apiRate.toString() : defaultRate[speed]);

          case 19:
          case 'end':
            return _context3.stop();
        }
      }
    }, _callee3, undefined, [[5, 11]]);
  }));

  return function estimateFeeRate() {
    return _ref5.apply(this, arguments);
  };
}();

exports.default = {
  calculateTxSize: calculateTxSize,
  estimateFeeValue: estimateFeeValue,
  estimateFeeRate: estimateFeeRate,
  network: network
};

/***/ }),

/***/ 1666:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _stringify = __webpack_require__(112);

var _stringify2 = _interopRequireDefault(_stringify);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var isLocalStorageEnabled = void 0;

try {
  window.localStorage.setItem('test', 'test');
  window.localStorage.removeItem('test');
  isLocalStorageEnabled = true;
} catch (e) {
  isLocalStorageEnabled = false;
}

var setItem = function setItem(key, value) {
  if (isLocalStorageEnabled) {
    window.localStorage.setItem(key, (0, _stringify2.default)(value));
  }
};

var getItem = function getItem(key) {
  if (isLocalStorageEnabled) {
    var value = window.localStorage.getItem(key);

    try {
      return JSON.parse(value);
    } catch (err) {
      return value;
    }
  }
  return undefined;
};

var removeItem = function removeItem(key) {
  if (isLocalStorageEnabled) {
    return window.localStorage.removeItem(key);
  }
};

var clear = function clear() {
  if (isLocalStorageEnabled) {
    window.localStorage.clear();
  }
};

var subscribe = function subscribe(key, originalListener) {
  var listener = function listener(event) {
    if (event.storageArea === window.localStorage && event.key === key) {
      originalListener(event.newValue, event.oldValue);
    }
  };
  window.addEventListener('storage', listener, false);
  return listener;
};

var unsubscribe = function unsubscribe(listener) {
  window.removeEventListener('storage', listener, false);
};

exports.default = {
  setItem: setItem,
  getItem: getItem,
  removeItem: removeItem,
  clear: clear,
  subscribe: subscribe,
  unsubscribe: unsubscribe
};

/***/ }),

/***/ 1667:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _core = __webpack_require__(60);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getApiServer = function getApiServer(provider) {
  var _getState = (0, _core.getState)(),
      servers = _getState.api.servers;

  return (servers || {})[provider] || _appConfig2.default.api[provider];
};

exports.default = {
  getApiServer: getApiServer
};

/***/ }),

/***/ 1668:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var tips = {
  loader: ['Do not forget to save your private keys!']
};

var getRandomTip = function getRandomTip(sectionName) {
  return tips[sectionName][Math.floor(Math.random() * tips[sectionName].length)];
};

exports.default = getRandomTip;

/***/ }),

/***/ 1669:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ignoreProps = function ignoreProps() {
  for (var _len = arguments.length, ignored = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    ignored[_key - 1] = arguments[_key];
  }

  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

  var list = {};

  (0, _keys2.default)(props).forEach(function (key) {
    if (!ignored.includes(key)) {
      list[key] = props[key];
    }
  });

  return list;
};

exports.default = ignoreProps;

/***/ }),

/***/ 1670:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _moment = __webpack_require__(250);

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getSwapByIdSafe = function getSwapByIdSafe(swapID) {
  try {
    var returnedSwap = _actions2.default.core.getSwapById(swapID);
    return returnedSwap;
  } catch (noFlowError) {
    return false;
  }
};
var getDeclinedExistedSwapIndex = function getDeclinedExistedSwapIndex(_ref) {
  var currency = _ref.currency,
      decline = _ref.decline;


  var date = Date.now() / 1000;

  var indexOfDecline = decline.length - 1;
  var declineSwap = getSwapByIdSafe(decline[indexOfDecline]);

  if (!declineSwap) return false;

  var itemState = declineSwap.flow.state;
  var values = itemState.btcScriptValues || itemState.bchScriptValues || itemState.ltcScriptValues
  // || itemState.usdtOmniScriptValues
  || itemState.scriptValues;

  if (values === undefined) {
    return false;
  }

  var lockTime = _moment2.default.unix(values.lockTime || date)._i / 1000;
  var timeSinceLock = date - lockTime;

  for (var i = 0; i <= indexOfDecline; i++) {
    if (declineSwap.flow.state.isFinished === true || timeSinceLock > 259200) {
      // 259200 3 дня в секундах
      _actions2.default.core.forgetOrders(decline[i]);
    } else if (declineSwap.sellCurrency === currency.toUpperCase() && !declineSwap.isSwapExist && !declineSwap.isMy) {
      return indexOfDecline;
    } else {
      return false;
    }
  }
  return false;
};

exports.default = {
  getDeclinedExistedSwapIndex: getDeclinedExistedSwapIndex
};

/***/ }),

/***/ 17:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.cacheStorageSet = exports.cacheStorageGet = exports.getUnixTimeStamp = exports.paddingForSwapList = exports.getScrollBarWidth = exports.getPageOffset = exports.firebase = exports.handleGoTrade = exports.ignoreProps = exports.migrate = exports.api = exports.swapsExplorer = exports.localStorage = exports.constants = exports.request = exports.links = exports.utils = exports.web3 = exports.user = exports.ltc = exports.ethToken = exports.eth = exports.btc = exports.tips = exports.bch = exports.eos = undefined;

var _eos = __webpack_require__(354);

var _eos2 = _interopRequireDefault(_eos);

var _btc = __webpack_require__(1368);

var _btc2 = _interopRequireDefault(_btc);

var _eth = __webpack_require__(830);

var _eth2 = _interopRequireDefault(_eth);

var _ethToken = __webpack_require__(1644);

var _ethToken2 = _interopRequireDefault(_ethToken);

var _bch = __webpack_require__(1645);

var _bch2 = _interopRequireDefault(_bch);

var _ltc = __webpack_require__(1665);

var _ltc2 = _interopRequireDefault(_ltc);

var _user = __webpack_require__(831);

var _user2 = _interopRequireDefault(_user);

var _web = __webpack_require__(304);

var _web2 = _interopRequireDefault(_web);

var _links = __webpack_require__(214);

var _links2 = _interopRequireDefault(_links);

var _request = __webpack_require__(308);

var _request2 = _interopRequireDefault(_request);

var _constants = __webpack_require__(154);

var _constants2 = _interopRequireDefault(_constants);

var _localStorage = __webpack_require__(1666);

var _localStorage2 = _interopRequireDefault(_localStorage);

var _swapsExplorer = __webpack_require__(832);

var _swapsExplorer2 = _interopRequireDefault(_swapsExplorer);

var _api = __webpack_require__(1667);

var _api2 = _interopRequireDefault(_api);

var _tips = __webpack_require__(1668);

var _tips2 = _interopRequireDefault(_tips);

var _utils = __webpack_require__(833);

var utils = _interopRequireWildcard(_utils);

var _ignoreProps = __webpack_require__(1669);

var _ignoreProps2 = _interopRequireDefault(_ignoreProps);

var _handleGoTrade = __webpack_require__(1670);

var _handleGoTrade2 = _interopRequireDefault(_handleGoTrade);

var _firebase = __webpack_require__(835);

var _firebase2 = _interopRequireDefault(_firebase);

var _getPageOffset = __webpack_require__(1767);

var _getPageOffset2 = _interopRequireDefault(_getPageOffset);

var _getScrollBarWidth = __webpack_require__(1768);

var _getScrollBarWidth2 = _interopRequireDefault(_getScrollBarWidth);

var _paddingForSwapList = __webpack_require__(315);

var _paddingForSwapList2 = _interopRequireDefault(_paddingForSwapList);

var _estimateFeeValue = __webpack_require__(1769);

var _estimateFeeValue2 = _interopRequireDefault(_estimateFeeValue);

var _migrations = __webpack_require__(1771);

var _getUnixTimeStamp = __webpack_require__(859);

var _getUnixTimeStamp2 = _interopRequireDefault(_getUnixTimeStamp);

var _cache = __webpack_require__(1773);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Methods

// import xlm from './xlm'
exports.default = {
  eos: _eos2.default,
  // xlm,
  bch: _bch2.default,
  btc: _btc2.default,
  eth: _eth2.default,
  ethToken: _ethToken2.default,
  ltc: _ltc2.default,
  handleGoTrade: _handleGoTrade2.default,
  estimateFeeValue: _estimateFeeValue2.default
};
// Getters

exports.eos = _eos2.default;
exports.bch = _bch2.default;
exports.tips = _tips2.default;
exports.btc = _btc2.default;
exports.eth = _eth2.default;
exports.ethToken = _ethToken2.default;
exports.ltc = _ltc2.default;
exports.user = _user2.default;
exports.web3 = _web2.default;
exports.utils = utils;
exports.links = _links2.default;
exports.request = _request2.default;
exports.constants = _constants2.default;
exports.localStorage = _localStorage2.default;
exports.swapsExplorer = _swapsExplorer2.default;
exports.api = _api2.default;
exports.migrate = _migrations.migrate;
exports.ignoreProps = _ignoreProps2.default;
exports.handleGoTrade = _handleGoTrade2.default;
exports.firebase = _firebase2.default;
exports.getPageOffset = _getPageOffset2.default;
exports.getScrollBarWidth = _getScrollBarWidth2.default;
exports.paddingForSwapList = _paddingForSwapList2.default;
exports.getUnixTimeStamp = _getUnixTimeStamp2.default;
exports.cacheStorageGet = _cache.cacheStorageGet;
exports.cacheStorageSet = _cache.cacheStorageSet;

/***/ }),

/***/ 1747:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var config = exports.config = {
  apiKey: 'AIzaSyCLDnjBviZvVS3X2CosmvxJTmtxAtXCB04',
  authDomain: 'swap155-212716.firebaseapp.com',
  databaseURL: 'https://swap155-212716.firebaseio.com',
  projectId: 'swap155-212716',
  storageBucket: 'swap155-212716.appspot.com',
  messagingSenderId: '681929431956',
  appId: '1:681929431956:web:e0a287270620750f'
};

/***/ }),

/***/ 1766:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var clientConfig = {
  apiKey: 'AIzaSyD-k8E9opfx9kgEa8XK8f19GmrVG5ozl60',
  authDomain: 'ninth-archway-195817.firebaseapp.com',
  databaseURL: 'https://ninth-archway-195817.firebaseio.com',
  projectId: 'ninth-archway-195817',
  storageBucket: '',
  messagingSenderId: '1083972351463'
  // now it's me
};exports.default = clientConfig;

/***/ }),

/***/ 1767:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var getPageOffset = function getPageOffset() {
  // isCSS1Compat for old browsers support like IE < 9,
  // which do not have window.pageYOffset and window.scrollY
  // For more info check https://developer.mozilla.org/ru/docs/Web/API/Window/scrollY
  var isCSS1Compat = (document.compatMode || '') === 'CSS1Compat';
  var isSupportPageOffset = window.pageXOffset !== undefined;

  if (isSupportPageOffset) {

    return {
      x: window.pageXOffset,
      y: window.pageYOffset
    };
  }

  return {
    x: isCSS1Compat ? document.documentElement.scrollLeft : document.body.scrollLeft,
    y: isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop
  };
};

exports.default = getPageOffset;

/***/ }),

/***/ 1768:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var getScrollBarWidth = function getScrollBarWidth() {
  var outer = document.createElement('div');

  outer.style.visibility = 'hidden';
  outer.style.width = '100px';
  outer.style.msOverflowStyle = 'scrollbar'; // needed for WinJS apps

  document.body.appendChild(outer);

  var widthNoScroll = outer.offsetWidth;

  // force scrollbars
  outer.style.overflow = 'scroll';

  // add innerdiv
  var inner = document.createElement('div');

  inner.style.width = '100%';
  outer.appendChild(inner);

  var widthWithScroll = inner.offsetWidth;

  // remove divs
  outer.parentNode.removeChild(outer);

  return widthNoScroll - widthWithScroll;
};

exports.default = getScrollBarWidth;

/***/ }),

/***/ 1769:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _asyncIterator2 = __webpack_require__(1770);

var _asyncIterator3 = _interopRequireDefault(_asyncIterator2);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _helpers = __webpack_require__(17);

var _helpers2 = _interopRequireDefault(_helpers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var setEstimatedFeeValues = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(_ref2) {
    var estimatedFeeValues = _ref2.estimatedFeeValues;

    var newEstimatedFeeValues, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, _value, item, newValue;

    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            newEstimatedFeeValues = (0, _assign2.default)({}, estimatedFeeValues);
            _iteratorNormalCompletion = true;
            _didIteratorError = false;
            _iteratorError = undefined;
            _context.prev = 4;
            _iterator = (0, _asyncIterator3.default)(_helpers.constants.coinsWithDynamicFee);

          case 6:
            _context.next = 8;
            return _iterator.next();

          case 8:
            _step = _context.sent;
            _iteratorNormalCompletion = _step.done;
            _context.next = 12;
            return _step.value;

          case 12:
            _value = _context.sent;

            if (_iteratorNormalCompletion) {
              _context.next = 28;
              break;
            }

            item = _value;
            _context.prev = 15;
            _context.next = 18;
            return _helpers2.default[item].estimateFeeValue({ method: 'swap', speed: 'fast' });

          case 18:
            newValue = _context.sent;

            if (newValue) {
              newEstimatedFeeValues[item] = newValue;
            }
            _context.next = 25;
            break;

          case 22:
            _context.prev = 22;
            _context.t0 = _context['catch'](15);

            console.warn('Set Estimated Fee Values in for error: ', _context.t0);

          case 25:
            _iteratorNormalCompletion = true;
            _context.next = 6;
            break;

          case 28:
            _context.next = 34;
            break;

          case 30:
            _context.prev = 30;
            _context.t1 = _context['catch'](4);
            _didIteratorError = true;
            _iteratorError = _context.t1;

          case 34:
            _context.prev = 34;
            _context.prev = 35;

            if (!(!_iteratorNormalCompletion && _iterator.return)) {
              _context.next = 39;
              break;
            }

            _context.next = 39;
            return _iterator.return();

          case 39:
            _context.prev = 39;

            if (!_didIteratorError) {
              _context.next = 42;
              break;
            }

            throw _iteratorError;

          case 42:
            return _context.finish(39);

          case 43:
            return _context.finish(34);

          case 44:
            return _context.abrupt('return', newEstimatedFeeValues);

          case 45:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined, [[4, 30, 34, 44], [15, 22], [35,, 39, 43]]);
  }));

  return function setEstimatedFeeValues(_x) {
    return _ref.apply(this, arguments);
  };
}();

exports.default = {
  setEstimatedFeeValues: setEstimatedFeeValues
};

/***/ }),

/***/ 1771:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.migrate = undefined;

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _helpers = __webpack_require__(17);

var _initMigration = __webpack_require__(1772);

var _initMigration2 = _interopRequireDefault(_initMigration);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var migrations = [_initMigration2.default];

var migrate = exports.migrate = function migrate() {
  var revision = parseInt(_helpers.localStorage.getItem(_helpers.constants.localStorage.storageRevision), 10) || 0;
  if (migrations.length === revision) {
    console.log('Your storage is up-to-date');
    return _promise2.default.resolve();
  }
  console.log('Your current storage revision is ' + revision + ', need to run ' + (migrations.length - revision) + ' migrations');
  return migrations.splice(revision).reduce(function (queue, migration) {
    return queue.then(function () {
      return new _promise2.default(function (resolve, reject) {
        try {
          migration.run().then(function () {
            console.log('Migration "' + migration.name + '" (#' + (revision + 1) + ') successfully done.');
            revision++;
            resolve();
          }).catch(function (e) {
            console.error(e);
            reject('Migration "' + migration.name + '" (#' + (revision + 1) + ') is failed.');
          });
        } catch (e) {
          console.error(e);
          reject('Migration "' + migration.name + '" (#' + (revision + 1) + ') is failed.');
        }
      });
    });
  }, _promise2.default.resolve()).then(function () {
    console.log('All migrations done.');
  }).catch(function (e) {
    return console.error(e);
  }).finally(function () {
    _helpers.localStorage.setItem(_helpers.constants.localStorage.storageRevision, revision);
  });
};

/***/ }),

/***/ 1772:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _helpers = __webpack_require__(17);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var name = 'Initial migration';
var run = function run() {
  _helpers.localStorage.setItem(_helpers.constants.localStorage.hiddenCoinsList, []);
  return _promise2.default.resolve();
};

exports.default = {
  name: name,
  run: run
};

/***/ }),

/***/ 1773:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.cacheStorageClearPart = exports.cacheStorageClear = exports.cacheStorageSet = exports.cacheStorageGet = undefined;

var _getUnixTimeStamp = __webpack_require__(859);

var _getUnixTimeStamp2 = _interopRequireDefault(_getUnixTimeStamp);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var cacheStorage = {};

var cacheStorageGet = function cacheStorageGet(cachePart, cacheKey) {
  if (cacheStorage[cachePart] && cacheStorage[cachePart][cacheKey] && cacheStorage[cachePart][cacheKey].timeout > (0, _getUnixTimeStamp2.default)()) {
    return cacheStorage[cachePart][cacheKey].value;
  }
  return false;
};

var cacheStorageSet = function cacheStorageSet(cachePart, cacheKey, cacheValue, cacheTimeout) {
  if (!cacheStorage[cachePart]) cacheStorage[cachePart] = {};
  cacheStorage[cachePart][cacheKey] = {
    timeout: (0, _getUnixTimeStamp2.default)() + cacheTimeout,
    value: cacheValue
  };
};

var cacheStorageClear = function cacheStorageClear(cachePart, cacheKey) {
  if (cacheStorage[cachePart]) {
    cacheStorage[cachePart][cacheKey] = false;
  }
};

var cacheStorageClearPart = function cacheStorageClearPart(cachePart) {
  cacheStorage[cachePart] = false;
};

exports.cacheStorageGet = cacheStorageGet;
exports.cacheStorageSet = cacheStorageSet;
exports.cacheStorageClear = cacheStorageClear;
exports.cacheStorageClearPart = cacheStorageClearPart;

/***/ }),

/***/ 1774:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _stringify = __webpack_require__(112);

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _dec, _dec2, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _swap = __webpack_require__(82);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(29);

var _swap4 = _interopRequireDefault(_swap3);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Swap = __webpack_require__(158);

var _Swap2 = _interopRequireDefault(_Swap);

var _redaction = __webpack_require__(37);

var _helpers = __webpack_require__(17);

var _helpers2 = _interopRequireDefault(_helpers);

var _reactDeviceDetect = __webpack_require__(53);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _reactRouterDom = __webpack_require__(51);

var _swaps = __webpack_require__(1899);

var _Share = __webpack_require__(1994);

var _Share2 = _interopRequireDefault(_Share);

var _EmergencySave = __webpack_require__(1996);

var _EmergencySave2 = _interopRequireDefault(_EmergencySave);

var _reactIntl = __webpack_require__(8);

var _locale = __webpack_require__(50);

var _DeleteSwapAfterEnd = __webpack_require__(1998);

var _DeleteSwapAfterEnd2 = _interopRequireDefault(_DeleteSwapAfterEnd);

var _controls = __webpack_require__(46);

var _ShowBtcScript = __webpack_require__(1999);

var _ShowBtcScript2 = _interopRequireDefault(_ShowBtcScript);

var _reactCopyToClipboard = __webpack_require__(130);

var _reactCopyToClipboard2 = _interopRequireDefault(_reactCopyToClipboard);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var isWidgetBuild = _appConfig2.default && _appConfig2.default.isWidget;

var SwapComponent = (_dec = (0, _redaction.connect)(function (_ref) {
  var _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      bchData = _ref$user.bchData,
      tokensData = _ref$user.tokensData,
      eosData = _ref$user.eosData,
      telosData = _ref$user.telosData,
      nimData = _ref$user.nimData,
      ltcData = _ref$user.ltcData,
      peer = _ref.ipfs.peer,
      rememberedOrders = _ref.rememberedOrders;
  return {
    items: [ethData, btcData, eosData, telosData, bchData, ltcData /* nimData, usdtOmniData */],
    tokenItems: [].concat((0, _toConsumableArray3.default)((0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    }))),
    currenciesData: [ethData, btcData, eosData, telosData, bchData, ltcData /* nimData, usdtOmniData */],
    tokensData: [].concat((0, _toConsumableArray3.default)((0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    }))),
    errors: 'api.errors',
    checked: 'api.checked',
    decline: rememberedOrders.savedOrders,
    deletedOrders: rememberedOrders.deletedOrders,
    peer: peer
  };
}), _dec2 = (0, _reactCssModules2.default)(_Swap2.default, { allowMultiple: true }), (0, _reactIntl.injectIntl)(_class = _dec(_class = _dec2(_class = function (_PureComponent) {
  (0, _inherits3.default)(SwapComponent, _PureComponent);

  function SwapComponent() {
    (0, _classCallCheck3.default)(this, SwapComponent);

    var _this = (0, _possibleConstructorReturn3.default)(this, (SwapComponent.__proto__ || (0, _getPrototypeOf2.default)(SwapComponent)).call(this));

    _this.checkStoppedSwap = function () {
      var _this$state$swap = _this.state.swap,
          id = _this$state$swap.id,
          isStoppedSwap = _this$state$swap.flow.state.isStoppedSwap;


      if (!isStoppedSwap) {
        return false;
      }

      _this.deleteThisSwap(id);

      _this.setState(function () {
        return {
          hideAll: true
        };
      });

      return true;
    };

    _this.checkIsFinished = function () {
      var _this$state$swap2 = _this.state.swap,
          id = _this$state$swap2.id,
          _this$state$swap2$flo = _this$state$swap2.flow.state,
          isFinished = _this$state$swap2$flo.isFinished,
          step = _this$state$swap2$flo.step,
          isRefunded = _this$state$swap2$flo.isRefunded;


      if (isFinished || step > 7 || isRefunded) {
        _this.deleteThisSwap(id);
        return true;
      }

      return false;
    };

    _this.saveThisSwap = function (orderId) {
      _actions2.default.core.rememberOrder(orderId);
    };

    _this.deleteThisSwap = function (orderId) {
      _actions2.default.core.saveDeletedOrder(orderId);
      _actions2.default.core.forgetOrders(orderId);
      window.swap = null;
    };

    _this.setSaveSwapId = function (orderId) {
      var swapsId = JSON.parse(localStorage.getItem('swapId'));

      if (swapsId === null || swapsId.length === 0) {
        swapsId = [];
      }
      if (!swapsId.includes(orderId)) {
        swapsId.push(orderId);
      }
      localStorage.setItem('swapId', (0, _stringify2.default)(swapsId));
    };

    _this.isBalanceEnough = function () {
      var swap = _this.state.swap;
      var flow = swap.flow,
          sellCurrency = swap.sellCurrency;
      var _flow$state = flow.state,
          step = _flow$state.step,
          balance = _flow$state.balance,
          isBalanceEnough = _flow$state.isBalanceEnough;


      var isSellCurrencyEthOrEthToken = _helpers2.default.ethToken.isEthOrEthToken({ name: sellCurrency });
      var stepForCheckBalance = isSellCurrencyEthOrEthToken ? 4 : 3;

      if (!isBalanceEnough && step === stepForCheckBalance) {
        _this.setState(function () {
          return { enoughBalance: false };
        });
      } else {
        _this.setState(function () {
          return { enoughBalance: true };
        });
      }
    };

    _this.requestingWithdrawFee = function () {
      var _this$state$swap$flow = _this.state.swap.flow.state,
          requireWithdrawFee = _this$state$swap$flow.requireWithdrawFee,
          requireWithdrawFeeSended = _this$state$swap$flow.requireWithdrawFeeSended,
          withdrawRequestIncoming = _this$state$swap$flow.withdrawRequestIncoming,
          withdrawRequestAccepted = _this$state$swap$flow.withdrawRequestAccepted;


      if (requireWithdrawFee && !requireWithdrawFeeSended) {
        if (_this.state.swap && _this.state.swap.flow) {
          _this.state.swap.flow.sendWithdrawRequest();
          _this.setState({
            waitWithdrawOther: true
          });
          window.setTimeout(function () {
            _this.setState({
              waitWithdrawOther: false
            });
          }, 1000 * 60 * 2);
        }
      }

      if (withdrawRequestIncoming && !withdrawRequestAccepted) {
        if (_this.state.swap && _this.state.swap.flow) {
          _this.state.swap.flow.acceptWithdrawRequest();
        }
      }
    };

    _this.sendRequestToFaucet = function () {
      var _this$state = _this.state,
          _this$state$swap3 = _this$state.swap,
          owner = _this$state$swap3.owner,
          buyCurrency = _this$state$swap3.buyCurrency,
          buyAmount = _this$state$swap3.buyAmount,
          sellCurrency = _this$state$swap3.sellCurrency,
          sellAmount = _this$state$swap3.sellAmount,
          isFaucetRequested = _this$state.isFaucetRequested,
          continueSwap = _this$state.continueSwap;


      if (isFaucetRequested) {
        return;
      }

      _this.setState(function () {
        return {
          isFaucetRequested: true
        };
      });

      _helpers.request.post('' + _appConfig2.default.api.faucet, {
        body: {
          eth: _this.state.ethAddress,
          buyCurrency: buyCurrency,
          buyAmount: buyAmount.toString(),
          sellCurrency: sellCurrency,
          sellAmount: sellAmount.toString()
        }
      }).then(function (rv) {
        console.info('faucet answered', rv.txid);
        _this.setState(function () {
          return {
            continueSwap: true
          };
        });
      }).catch(function (error) {
        console.warn('faucet error:', error);
        _this.setState(function () {
          return {
            continueSwap: false
          };
        });
      });
    };

    _this.checkFailSwap = function () {
      var _this$state2 = _this.state,
          isFailedTransaction = _this$state2.swap.flow.state.isFailedTransaction,
          continueSwap = _this$state2.continueSwap;


      if (!isFailedTransaction) {
        return;
      }

      _this.setState(function () {
        return {
          continueSwap: false
        };
      });
    };

    _this.checkEnoughFee = function () {
      var _this$state3 = _this.state,
          _this$state3$swap = _this$state3.swap,
          participantSwap = _this$state3$swap.participantSwap,
          canCreateEthTransaction = _this$state3$swap.flow.state.canCreateEthTransaction,
          currency = _this$state3.currencyData.currency;


      if (canCreateEthTransaction === false && _helpers2.default.ethToken.isEthOrEthToken({ name: currency })) {
        _this.sendRequestToFaucet();
      } else {
        _this.setState(function () {
          return {
            continueSwap: true
          };
        });
      }
    };

    _this.toggleInfo = function (a, b) {
      _this.setState({
        isShowDevInformation: !a,
        isShowingBitcoinScript: !b
      });
    };

    _this.goWallet = function () {
      var locale = _this.props.intl.locale;

      _this.props.history.push((0, _locale.localisedUrl)(locale, '/'));
    };

    _this.handleCopyAddress = function (e) {
      _this.setState({
        isAddressCopied: true
      }, function () {
        setTimeout(function () {
          _this.setState({
            isAddressCopied: false
          });
        }, 500);
      });
    };

    _this.state = {
      isAddressCopied: false,
      stepToHide: 0,
      swap: null,
      isMy: false,
      hideAll: false,
      ethBalance: null,
      currencyData: null,
      isAmountMore: null,
      SwapComponent: null,
      continueSwap: true,
      enoughBalance: true,
      depositWindow: false,
      isShowingBitcoinScript: false,
      isShowDevInformation: false,
      shouldStopCheckSendingOfRequesting: false,
      waitWithdrawOther: false,
      isFaucetRequested: false
    };
    return _this;
  }

  (0, _createClass3.default)(SwapComponent, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var _this2 = this;

      var _props = this.props,
          items = _props.items,
          tokenItems = _props.tokenItems,
          currenciesData = _props.currenciesData,
          tokensData = _props.tokensData,
          locale = _props.intl.locale,
          deletedOrders = _props.deletedOrders;
      var _props2 = this.props,
          orderId = _props2.match.params.orderId,
          history = _props2.history,
          pathname = _props2.location.pathname;


      if (!!window.performance && window.performance.navigation.type === 2) {
        window.location.reload();
      }

      if (!orderId) {
        history.push((0, _locale.localisedUrl)(_helpers.links.exchange));
        return;
      }

      this.wallets = {};
      currenciesData.forEach(function (item) {
        _this2.wallets[item.currency] = item.address;
      });
      tokensData.forEach(function (item) {
        _this2.wallets[item.currency] = item.address;
      });

      try {
        var swap = new _swap2.default(orderId, _swap4.default.shared());

        var _SwapComponent = _swaps.swapComponents[swap.flow._flowName];
        var ethData = items.filter(function (item) {
          return item.currency === 'ETH';
        });
        var currencyData = items.concat(tokenItems).filter(function (item) {
          return item.currency === swap.sellCurrency.toUpperCase();
        })[0];
        var currencies = [{
          currency: swap.sellCurrency,
          amount: swap.sellAmount
        }, {
          currency: swap.buyCurrency,
          amount: swap.buyAmount
        }];

        currencies.forEach(function (item) {
          _actions2.default.user.getExchangeRate(item.currency, 'usd').then(function (exRate) {
            var amount = exRate * Number(item.amount);

            if (Number(amount) >= 50) {
              _this2.setState(function () {
                return { isAmountMore: 'enable' };
              });
            } else {
              _this2.setState(function () {
                return { isAmountMore: 'disable' };
              });
            }
          });
        });

        window.swap = swap;

        this.setState(function () {
          return {
            swap: swap,
            ethData: ethData,
            SwapComponent: _SwapComponent,
            currencyData: currencyData,
            ethAddress: ethData[0].address
          };
        });

        /* hide my orders */
        // disable for now TODO
        // actions.core.hideMyOrders()
      } catch (error) {
        console.error(error);
        _actions2.default.notifications.show(_helpers.constants.notifications.ErrorNotification, { error: 'Sorry, but this order do not exsit already' });
        this.props.history.push((0, _locale.localisedUrl)(_helpers.links.exchange));
      }

      if (!this.props.decline.includes(orderId)) {
        this.setSaveSwapId(orderId);
      }
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this3 = this;

      var _state = this.state,
          swap = _state.swap,
          deletedOrders = _state.deletedOrders;
      var id = swap.id,
          flow = swap.flow;
      var _flow$state2 = flow.state,
          canCreateEthTransaction = _flow$state2.canCreateEthTransaction,
          requireWithdrawFeeSended = _flow$state2.requireWithdrawFeeSended,
          step = _flow$state2.step,
          isRefunded = _flow$state2.isRefunded;
      var _props3 = this.props,
          orderId = _props3.match.params.orderId,
          decline = _props3.decline;


      if (step >= 4 && !decline.includes(orderId)) {
        this.saveThisSwap(orderId);
      }

      if (swap !== null) {
        var checkingCycle = setInterval(function () {
          var isFinallyFinished = _this3.checkIsFinished();
          var isStoppedSwap = _this3.checkStoppedSwap();

          if (isFinallyFinished || isStoppedSwap) {
            clearInterval(checkingCycle);
            return;
          }

          _this3.checkEnoughFee();
          _this3.requestingWithdrawFee();
          _this3.isBalanceEnough();
          _this3.checkFailSwap();
        }, 5000);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this4 = this;

      var _props4 = this.props,
          peer = _props4.peer,
          tokenItems = _props4.tokenItems,
          history = _props4.history,
          locale = _props4.intl.locale;
      var _state2 = this.state,
          hideAll = _state2.hideAll,
          swap = _state2.swap,
          SwapComponent = _state2.SwapComponent,
          currencyData = _state2.currencyData,
          isAmountMore = _state2.isAmountMore,
          ethData = _state2.ethData,
          continueSwap = _state2.continueSwap,
          enoughBalance = _state2.enoughBalance,
          depositWindow = _state2.depositWindow,
          ethAddress = _state2.ethAddress,
          isShowingBitcoinScript = _state2.isShowingBitcoinScript,
          isShowDevInformation = _state2.isShowDevInformation,
          requestToFaucetSended = _state2.requestToFaucetSended,
          stepToHide = _state2.stepToHide,
          isAddressCopied = _state2.isAddressCopied,
          waitWithdrawOther = _state2.waitWithdrawOther;


      if (!swap || !SwapComponent || !peer || !isAmountMore) {
        return null;
      }

      var isFinished = swap.flow.state.step >= swap.flow.steps.length - 1;

      return _react2.default.createElement(
        _react.Fragment,
        null,
        hideAll ? _react2.default.createElement(
          'div',
          null,
          _react2.default.createElement(
            'h3',
            { styleName: 'canceled' /* eslint-disable-line */, onClick: this.goWallet },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'swappropgress327', defaultMessage: 'this Swap is canceled' })
          ),
          _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(
              'h3',
              { styleName: 'refHex' },
              _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'swappropgress400',
                defaultMessage: 'Refund is taking automatically'
              })
            )
          )
        ) : _react2.default.createElement(
          'div',
          { styleName: _reactDeviceDetect.isMobile ? 'swap swapMobile' : 'swap' },
          _react2.default.createElement(
            SwapComponent,
            {
              tokenItems: tokenItems,
              depositWindow: depositWindow,
              disabledTimer: isAmountMore === 'enable',
              history: history,
              swap: swap,
              ethAddress: ethAddress,
              currencyData: currencyData,
              styles: _Swap2.default,
              enoughBalance: enoughBalance,
              ethData: ethData,
              continueSwap: continueSwap,
              requestToFaucetSended: requestToFaucetSended,
              waitWithdrawOther: waitWithdrawOther,
              locale: locale,
              wallets: this.wallets
            },
            _react2.default.createElement(
              'p',
              { styleName: 'reloadText', title: 'reload the page', role: 'presentation', onClick: function onClick() {
                  return window.location.reload();
                } },
              _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'swapprogressDONTLEAVE22',
                defaultMessage: 'The swap was stuck? Try to reload page'
              })
            ),
            _react2.default.createElement(_Share2.default, { flow: swap.flow }),
            _react2.default.createElement(_EmergencySave2.default, { flow: swap.flow, onClick: function onClick() {
                return _this4.toggleInfo(isShowDevInformation, true);
              }, isShowDevInformation: isShowDevInformation }),
            _react2.default.createElement(_ShowBtcScript2.default, {
              btcScriptValues: swap.flow.state.btcScriptValues,
              onClick: function onClick() {
                return _this4.toggleInfo(!false, isShowingBitcoinScript);
              },
              isShowingBitcoinScript: isShowingBitcoinScript }),
            peer === swap.owner.peer && _react2.default.createElement(_DeleteSwapAfterEnd2.default, { swap: swap })
          )
        )
      );
    }
  }]);
  return SwapComponent;
}(_react.PureComponent)) || _class) || _class) || _class);
exports.default = SwapComponent;

/***/ }),

/***/ 1899:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.swapComponents = undefined;

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _BtcToEth = __webpack_require__(1900);

var _BtcToEth2 = _interopRequireDefault(_BtcToEth);

var _EthToBtc = __webpack_require__(1980);

var _EthToBtc2 = _interopRequireDefault(_EthToBtc);

var _LtcToEth = __webpack_require__(1981);

var _LtcToEth2 = _interopRequireDefault(_LtcToEth);

var _EthToLtc = __webpack_require__(1982);

var _EthToLtc2 = _interopRequireDefault(_EthToLtc);

var _BtcToLtc = __webpack_require__(1983);

var _BtcToLtc2 = _interopRequireDefault(_BtcToLtc);

var _LtcToBtc = __webpack_require__(1984);

var _LtcToBtc2 = _interopRequireDefault(_LtcToBtc);

var _EthToBch = __webpack_require__(1985);

var _EthToBch2 = _interopRequireDefault(_EthToBch);

var _BchToEth = __webpack_require__(1986);

var _BchToEth2 = _interopRequireDefault(_BchToEth);

var _BtcToEos = __webpack_require__(1987);

var _BtcToEos2 = _interopRequireDefault(_BtcToEos);

var _EosToBtc = __webpack_require__(1989);

var _EosToBtc2 = _interopRequireDefault(_EosToBtc);

var _EthTokenToBtc = __webpack_require__(1990);

var _EthTokenToBtc2 = _interopRequireDefault(_EthTokenToBtc);

var _BtcToEthToken = __webpack_require__(1993);

var _BtcToEthToken2 = _interopRequireDefault(_BtcToEthToken);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import EthTokenToUsdt from '../EthTokenToUsdt'
// import UsdtToEthToken from '../UsdtToEthToken'


var swapComponents = {
  'BTC2ETH': _BtcToEth2.default,
  'ETH2BTC': _EthToBtc2.default,

  'LTC2ETH': _LtcToEth2.default,
  'ETH2LTC': _EthToLtc2.default,

  'BTC2LTC': _BtcToLtc2.default,
  'LTC2BTC': _LtcToBtc2.default,

  'ETH2BCH': _EthToBch2.default,
  'BCH2ETH': _BchToEth2.default,

  'BTC2EOS': _BtcToEos2.default,
  'EOS2BTC': _EosToBtc2.default,

  'SWAP2BTC': _EthTokenToBtc2.default,
  'BTC2SWAP': _BtcToEthToken2.default

  // 'SWAP2USDT': EthTokenToUsdt,
  // 'USDT2SWAP': UsdtToEthToken,
};

(0, _keys2.default)(_appConfig2.default.erc20).forEach(function (key) {
  swapComponents[key.toUpperCase() + '2BTC'] = _EthTokenToBtc2.default;
  swapComponents['BTC2' + key.toUpperCase()] = _BtcToEthToken2.default;

  // swapComponents[`${key.toUpperCase()}2USDT`] = EthTokenToUsdt
  // swapComponents[`USDT2${key.toUpperCase()}`] = UsdtToEthToken
});

exports.swapComponents = swapComponents;

/***/ }),

/***/ 1900:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _crypto = __webpack_require__(101);

var _crypto2 = _interopRequireDefault(_crypto);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Swap = __webpack_require__(158);

var _Swap2 = _interopRequireDefault(_Swap);

var _reactDeviceDetect = __webpack_require__(53);

var _reactIntl = __webpack_require__(8);

var _bignumber = __webpack_require__(30);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _SwapProgress = __webpack_require__(400);

var _SwapProgress2 = _interopRequireDefault(_SwapProgress);

var _DepositWindow = __webpack_require__(319);

var _DepositWindow2 = _interopRequireDefault(_DepositWindow);

var _FeeControler = __webpack_require__(403);

var _FeeControler2 = _interopRequireDefault(_FeeControler);

var _SwapList = __webpack_require__(404);

var _SwapList2 = _interopRequireDefault(_SwapList);

var _paddingForSwapList = __webpack_require__(315);

var _paddingForSwapList2 = _interopRequireDefault(_paddingForSwapList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BtcToEth = (_dec = (0, _reactCssModules2.default)(_Swap2.default), _dec(_class = function (_Component) {
  (0, _inherits3.default)(BtcToEth, _Component);

  function BtcToEth(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData;
    (0, _classCallCheck3.default)(this, BtcToEth);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BtcToEth.__proto__ || (0, _getPrototypeOf2.default)(BtcToEth)).call(this));

    _this.updateWindowDimensions = function () {
      _this.setState({ windowWidth: window.innerWidth });
    };

    _this.submitSecret = function () {
      var secret = _this.state.secret;

      _this.swap.flow.submitSecret(secret);
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
    };

    _this.changePaddingValue = function () {
      var step = _this.state.flow.step;

      _this.setState(function () {
        return {
          paddingContainerValue: (0, _paddingForSwapList2.default)({ step: step })
        };
      });
    };

    _this.handleFlowStateUpdate = function (values) {

      var stepNumbers = {
        1: 'sign',
        2: 'submit-secret',
        3: 'sync-balance',
        4: 'lock-btc',
        5: 'wait-lock-eth',
        6: 'withdraw-eth',
        7: 'finish',
        8: 'end'

        // actions.analytics.swapEvent(stepNumbers[values.step], 'BTC2ETH')

      };_this.setState({
        flow: values
      });

      _this.changePaddingValue();
    };

    _this.confirmAddress = function () {
      _this.swap.setDestinationBuyAddress(_this.state.destinationBuyAddress);
      _this.setState({ destinationAddressTimer: false });
    };

    _this.submitSecret = function () {
      var secret = _this.state.secret;

      _this.swap.flow.submitSecret(secret);
    };

    _this.updateBalance = function () {
      _this.swap.flow.syncBalance();
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
      _this.setState(function () {
        return { enabledButton: false };
      });
    };

    _this.getRefundTxHex = function () {
      var flow = _this.state.flow;


      if (flow.refundTxHex) {
        return flow.refundTxHex;
      } else if (flow.btcScriptValues) {
        _this.swap.flow.getRefundTxHex();
      }
    };

    _this.swap = swap;

    _this.state = {
      currencyData: currencyData,
      enabledButton: false,
      flow: _this.swap.flow.state,
      paddingContainerValue: 60,
      currencyAddress: currencyData.address,
      secret: _crypto2.default.randomBytes(32).toString('hex')
    };

    _this.ParticipantTimer = null;

    return _this;
  }

  (0, _createClass3.default)(BtcToEth, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      var _state$flow = this.state.flow,
          isSignFetching = _state$flow.isSignFetching,
          isMeSigned = _state$flow.isMeSigned,
          step = _state$flow.step,
          isParticipantSigned = _state$flow.isParticipantSigned;

      window.addEventListener('resize', this.updateWindowDimensions);
      this.updateWindowDimensions();
      this.changePaddingValue();
      this.ParticipantTimer = setInterval(function () {
        if (_this2.state.flow.isParticipantSigned && _this2.state.destinationBuyAddress) {
          _this2.submitSecret();
        } else {
          clearInterval(_this2.ParticipantTimer);
        }
      }, 3000);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      var _state = this.state,
          swap = _state.swap,
          isMeSigned = _state.flow.isMeSigned;

      window.removeEventListener('resize', this.updateWindowDimensions);
      this.swap.off('state update', this.handleFlowStateUpdate);
      clearInterval(this.timer);
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate(prevProps, prevState) {
      if (prevState.flow !== this.state.flow) {
        this.changePaddingValue();
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          continueSwap = _props.continueSwap,
          enoughBalance = _props.enoughBalance,
          swap = _props.swap,
          history = _props.history,
          tokenItems = _props.tokenItems,
          ethAddress = _props.ethAddress,
          children = _props.children,
          onClickCancelSwap = _props.onClickCancelSwap,
          locale = _props.locale,
          wallets = _props.wallets;
      var _state2 = this.state,
          flow = _state2.flow,
          isShowingBitcoinScript = _state2.isShowingBitcoinScript,
          currencyData = _state2.currencyData,
          paddingContainerValue = _state2.paddingContainerValue,
          windowWidth = _state2.windowWidth;

      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'div',
          { styleName: 'swapContainer', style: _reactDeviceDetect.isMobile && windowWidth < 569 ? { paddingTop: paddingContainerValue } : { paddingTop: 0 } },
          _react2.default.createElement(
            'div',
            { styleName: 'swapInfo' },
            this.swap.id && _react2.default.createElement(
              'strong',
              null,
              this.swap.sellAmount.toFixed(6),
              ' ',
              this.swap.sellCurrency,
              ' \u27F6 ',
              ' ',
              this.swap.buyAmount.toFixed(6),
              ' ',
              this.swap.buyCurrency
            )
          ),
          !enoughBalance && flow.step === 3 ? _react2.default.createElement(
            'div',
            { styleName: 'swapDepositWindow' },
            _react2.default.createElement(_DepositWindow2.default, { currencyData: currencyData, swap: swap, flow: flow, tokenItems: tokenItems })
          ) : _react2.default.createElement(
            _react.Fragment,
            null,
            !continueSwap ? _react2.default.createElement(_FeeControler2.default, { ethAddress: ethAddress }) : _react2.default.createElement(_SwapProgress2.default, { flow: flow, name: 'BtcToEth', swap: swap, history: history, locale: locale, wallets: wallets, tokenItems: tokenItems })
          ),
          _react2.default.createElement(_SwapList2.default, { enoughBalance: enoughBalance, flow: flow, onClickCancelSwap: onClickCancelSwap, windowWidth: windowWidth, name: swap.sellCurrency, swap: swap }),
          _react2.default.createElement(
            'div',
            { styleName: 'swapContainerInfo' },
            children
          )
        )
      );
    }
  }]);
  return BtcToEth;
}(_react.Component)) || _class);
exports.default = BtcToEth;

/***/ }),

/***/ 1901:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 1909:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 1916:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 1919:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.NumberInput = exports.Checkbox = exports.Radio = exports.Select = exports.TextArea = exports.Input = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _defineProperty2 = __webpack_require__(123);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactInputMask = __webpack_require__(1920);

var _reactInputMask2 = _interopRequireDefault(_reactInputMask);

var _classnames = __webpack_require__(72);

var _classnames2 = _interopRequireDefault(_classnames);

var _helpers = __webpack_require__(17);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var setValue = function setValue(x, e) {
  return e.target.value;
};
var setBoolValue = function setBoolValue(x, e) {
  return Boolean(e.target.checked);
};

var validationClasses = function validationClasses(_ref, value, error) {
  var className = _ref.className,
      invalidClass = _ref.invalidClass,
      requiredClass = _ref.requiredClass;

  var _cx;

  return (0, _classnames2.default)(className, (_cx = {}, (0, _defineProperty3.default)(_cx, invalidClass || 'invalid', Boolean(error)), (0, _defineProperty3.default)(_cx, requiredClass || 'required', Boolean(error && value === '')), _cx));
};

var Input = function Input(props) {
  var valueLink = props.valueLink,
      checkedLink = props.checkedLink,
      pattern = props.pattern,
      mask = props.mask,
      maskChar = props.maskChar,
      maskReplace = props.maskReplace,
      rest = (0, _objectWithoutProperties3.default)(props, ['valueLink', 'checkedLink', 'pattern', 'mask', 'maskChar', 'maskReplace']);

  var link = valueLink || checkedLink;

  switch (props.type) {
    case 'checkbox':
      return _react2.default.createElement('input', (0, _extends3.default)({}, rest, {
        checked: Boolean(link.value),
        onChange: link.action(setBoolValue)
      }));
    case 'radio':
      return _react2.default.createElement('input', (0, _extends3.default)({}, rest, {
        checked: link.value === props.value,
        onChange: function onChange(e) {
          if (e.target.checked) {
            link.set(props.value);
          }
        }
      }));
    default:
      var className = validationClasses(rest, valueLink.value, valueLink.error);
      var node = Boolean(mask) ? _reactInputMask2.default : 'input';

      var nodeProps = (0, _assign2.default)({}, rest, {
        className: className,
        value: typeof valueLink.value !== 'undefined' ? String(valueLink.value) : '',
        onChange: valueLink.action(function (x, e) {
          var val = e.target.value;

          if (pattern && val) {
            val = val.replace(new RegExp('[^' + pattern + ']+', 'g'), '');
          }

          if (mask && val) {
            if (maskReplace) {
              return val.replace(maskReplace, '');
            } else if (maskReplace !== null && maskReplace !== false) {
              return val.replace(/[^0-9]+/g, '');
            }
          }
          return val;
        })
      });

      if (mask) {
        nodeProps.mask = mask;
        nodeProps.maskChar = maskChar;
      }

      return _react2.default.createElement(node, nodeProps);
  }
};

var NumberInput = function (_Component) {
  (0, _inherits3.default)(NumberInput, _Component);

  function NumberInput() {
    (0, _classCallCheck3.default)(this, NumberInput);

    var _this = (0, _possibleConstructorReturn3.default)(this, (NumberInput.__proto__ || (0, _getPrototypeOf2.default)(NumberInput)).apply(this, arguments));

    _this.onChange = function (e) {
      var value = e.target.value;

      var asNumber = Number(value);

      _this.setValue(value);

      if (value && !isNaN(asNumber)) {
        _this.props.valueLink.update(function (x) {
          // Update link if value is changed
          if (asNumber !== Number(x)) {
            return asNumber;
          }
        });
      }
    };

    _this.onKeyPress = function (event) {
      var _this$props = _this.props,
          integer = _this$props.integer,
          positive = _this$props.positive;
      var charCode = event.charCode,
          ctrlKey = event.ctrlKey;


      var allowedCharCodes = (positive ? [] : [45]).concat(integer ? [] : [46]);

      if (ctrlKey) {
        return;
      }

      if (charCode && (charCode < 48 || charCode > 57) && allowedCharCodes.indexOf(charCode) < 0) {
        event.preventDefault();
      }
    };
    return _this;
  }

  (0, _createClass3.default)(NumberInput, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.setAndConvert(this.props.valueLink.value);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      var next = nextProps.valueLink;


      if (Number(next.value) !== Number(this.value)) {
        this.setAndConvert(next.value); // keep state being synced
      }
    }
  }, {
    key: 'setValue',
    value: function setValue(x) {
      // We're not using native state in order to avoid race condition.
      this.value = String(x);
      this.error = this.value === '' || isNaN(Number(x));

      this.forceUpdate();
    }
  }, {
    key: 'setAndConvert',
    value: function setAndConvert(x) {
      var value = Number(x);

      if (this.props.positive) {
        value = Math.abs(x);
      }
      if (this.props.integer) {
        value = Math.round(value);
      }

      this.setValue(value);
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          valueLink = _props.valueLink,
          props = (0, _objectWithoutProperties3.default)(_props, ['valueLink']);

      var error = valueLink.error || this.error;

      return _react2.default.createElement('input', (0, _extends3.default)({}, (0, _helpers.ignoreProps)(props, 'positive', 'integer'), {
        type: 'text',
        className: validationClasses(props, this.value, error),
        value: this.value,
        onKeyPress: this.onKeyPress,
        onChange: this.onChange
      }));
    }
  }]);
  return NumberInput;
}(_react.Component);

/**
 * Wrapper for standard <textarea/> to be compliant with React 0.14 valueLink semantic.
 * Simple supports for link validation - adds 'invalid' class if link has an error.
 *
 *     <TextArea valueLink={ linkToText } />
 */


var TextArea = function TextArea(_ref2) {
  var valueLink = _ref2.valueLink,
      props = (0, _objectWithoutProperties3.default)(_ref2, ['valueLink']);
  return _react2.default.createElement('textarea', (0, _extends3.default)({}, props, {
    className: validationClasses(props, valueLink.value, valueLink.error),
    value: valueLink.value,
    onChange: valueLink.action(setValue)
  }));
};

/**
 * Wrapper for standard <select/> to be compliant with React 0.14 valueLink semantic.
 * Regular <option/> tags must be used:
 *
 *     <Select valueLink={ linkToSelectedValue }>
 *         <option value="a">A</option>
 *         <option value="b">B</option>
 *     </Select>
 */
var Select = function Select(_ref3) {
  var valueLink = _ref3.valueLink,
      children = _ref3.children,
      props = (0, _objectWithoutProperties3.default)(_ref3, ['valueLink', 'children']);
  return _react2.default.createElement(
    'select',
    (0, _extends3.default)({}, props, {
      value: valueLink.value,
      onChange: valueLink.action(setValue)
    }),
    children
  );
};

/**
 * Simple custom <Radio/> tag implementation. Can be easily styled.
 * Intended to be used with offhand bool link:
 *
 *    <Radio checkedLink={ linkToValue.equals( optionValue ) />
 */
var Radio = function Radio(_ref4) {
  var _ref4$className = _ref4.className,
      className = _ref4$className === undefined ? 'radio' : _ref4$className,
      checkedLink = _ref4.checkedLink,
      children = _ref4.children;
  return _react2.default.createElement(
    'div',
    {
      className: (0, _classnames2.default)(className, { 'selected': checkedLink.value }),
      onClick: checkedLink.action(function () {
        return true;
      })
    },
    children
  );
};

/**
 * Simple custom <Checkbox /> tag implementation.
 * Takes any type of boolean link. Can be easily styled.
 *
 *     <Checkbox checkedLink={ boolLink } />
 */
var Checkbox = function Checkbox(_ref5) {
  var _ref5$className = _ref5.className,
      className = _ref5$className === undefined ? 'checkbox' : _ref5$className,
      checkedLink = _ref5.checkedLink,
      children = _ref5.children;
  return _react2.default.createElement(
    'div',
    {
      className: (0, _classnames2.default)(className, { 'selected': checkedLink.value }),
      onClick: checkedLink.action(function (x) {
        return !x;
      })
    },
    children
  );
};

exports.Input = Input;
exports.TextArea = TextArea;
exports.Select = Select;
exports.Radio = Radio;
exports.Checkbox = Checkbox;
exports.NumberInput = NumberInput;

/***/ }),

/***/ 1926:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"timer":"_2BgcuX"};

/***/ }),

/***/ 1927:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"logo":"_3ywc1I","whiteFill":"_3g_978","mobile":"_2DCkE1"};

/***/ }),

/***/ 1928:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/logo-colored_2cd869.svg";

/***/ }),

/***/ 1929:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"Switch":"bVd8P8"};

/***/ }),

/***/ 1930:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_2LQ20V","fullWidth":"_3JAxiX","brand":"_3sxX__","green":"_1luSAS","white":"_2p_RXB","gray":"_2TQbbx","disabled":"_2fO4Kf"};

/***/ }),

/***/ 1931:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"Switching":"_1kcRAA","noneBorder":"_1OPt_0"};

/***/ }),

/***/ 1932:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"trade-panel__change":"_1RiAD5"};

/***/ }),

/***/ 1933:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _RemoveButton = __webpack_require__(1934);

var _RemoveButton2 = _interopRequireDefault(_RemoveButton);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var RemoveButton = function RemoveButton(_ref) {
  var className = _ref.className,
      onClick = _ref.onClick;
  return _react2.default.createElement('button', { styleName: 'removeButton', className: className, onClick: onClick });
};

RemoveButton.propTypes = {
  className: _propTypes2.default.string,
  onClick: _propTypes2.default.func.isRequired
};

exports.default = (0, _reactCssModules2.default)(RemoveButton, _RemoveButton2.default);

/***/ }),

/***/ 1934:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"removeButton":"fB7PZP","icon":"_5T1Sn4"};

/***/ }),

/***/ 1935:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"withdrawButton":"_2XoYtt","disable":"_1arq9k"};

/***/ }),

/***/ 1947:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"root":"_2B8dk-","inputContainer":"_2MfSxb","disabled":"_34MQUG","withError":"_1bE9ra","input":"_2HgfFS","label":"n728cD","textUsd":"R_jiSj","inputError":"_3ZQNfi","error":"_1KSgUc"};

/***/ }),

/***/ 1949:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"title":"_2DXQm_"};

/***/ }),

/***/ 195:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _classnames = __webpack_require__(72);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _WidthContainer = __webpack_require__(1952);

var _WidthContainer2 = _interopRequireDefault(_WidthContainer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var WidthContainer = function WidthContainer(_ref) {
  var children = _ref.children,
      className = _ref.className,
      main = _ref.main,
      fullHeight = _ref.fullHeight,
      relative = _ref.relative,
      contentCentering = _ref.contentCentering,
      rest = (0, _objectWithoutProperties3.default)(_ref, ['children', 'className', 'main', 'fullHeight', 'relative', 'contentCentering']);

  var containerStyleName = (0, _classnames2.default)('widthContainer', {
    'main': main,
    'fullHeight': fullHeight,
    'centeringContent': contentCentering
  });

  if (fullHeight || relative) {
    var containerInStyleName = (0, _classnames2.default)('widthContainerIn', {
      'fullHeight': fullHeight,
      'relative': relative
    });

    return _react2.default.createElement(
      'div',
      (0, _extends3.default)({ styleName: containerStyleName, className: className }, rest),
      _react2.default.createElement(
        'div',
        { styleName: containerInStyleName },
        children
      )
    );
  }

  return _react2.default.createElement(
    'div',
    (0, _extends3.default)({ styleName: containerStyleName, className: className }, rest),
    children
  );
};

WidthContainer.propTypes = {
  children: _propTypes2.default.node,
  main: _propTypes2.default.bool, // uses for main container between header and footer with vertical paddings
  fullHeight: _propTypes2.default.bool,
  relative: _propTypes2.default.bool,
  contentCentering: _propTypes2.default.bool,
  className: _propTypes2.default.string
};

exports.default = (0, _reactCssModules2.default)(WidthContainer, _WidthContainer2.default, { allowMultiple: true });

/***/ }),

/***/ 1950:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_3DuKEL","whiteColor":"_1cHfwF","icon":"IZktJv","brandColor":"LyalG8"};

/***/ }),

/***/ 1951:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactIntl = __webpack_require__(8);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Swap = __webpack_require__(158);

var _Swap2 = _interopRequireDefault(_Swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SwapController = (_dec = (0, _reactCssModules2.default)(_Swap2.default), _dec(_class = function (_React$PureComponent) {
  (0, _inherits3.default)(SwapController, _React$PureComponent);

  function SwapController(_ref) {
    var swap = _ref.swap;
    (0, _classCallCheck3.default)(this, SwapController);

    var _this = (0, _possibleConstructorReturn3.default)(this, (SwapController.__proto__ || (0, _getPrototypeOf2.default)(SwapController)).call(this));

    _this.dispatchEvent = function (event) {
      _this.swap.events.dispatch(event);
    };

    _this.checkStatusUser = function () {
      var online = _this.state.online;

      var status = _this.swap.room.getOnlineParticipant();

      _this.setState(function () {
        return {
          online: status
        };
      });
    };

    _this.swap = swap;

    _this.mount = true;

    _this.state = {
      online: true
    };
    return _this;
  }

  (0, _createClass3.default)(SwapController, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      this.swap.events.subscribe('check status', this.checkStatusUser);
      this.dispatchEvent('check status');

      var checkStatusUserTimer = setInterval(function () {
        if (!_this2.mount) {
          clearInterval(checkStatusUserTimer);
          return;
        }

        _this2.checkStatusUser();
      }, 5000);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.dispatchEvent('check status');
      this.swap.events.unsubscribe('check status', this.checkStatusUser);
      this.mount = false;
    }
  }, {
    key: 'render',
    value: function render() {
      var online = this.state.online;


      return _react2.default.createElement(
        'div',
        { styleName: 'onlineIndicator' },
        online ? _react2.default.createElement(
          'p',
          { styleName: 'online' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapController54', defaultMessage: 'Another participant is online' })
        ) : _react2.default.createElement(
          'p',
          { styleName: 'offline' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapController60', defaultMessage: 'Another participant is offline' })
        )
      );
    }
  }]);
  return SwapController;
}(_react2.default.PureComponent)) || _class);
exports.default = SwapController;

/***/ }),

/***/ 1952:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"widthContainer":"_2MQxGl","widthContainerIn":"_3YeKUt","relative":"_1za6i8","fullHeight":"p3bGwA","centeringContent":"_2hBTXS","main":"_7Imqyr"};

/***/ }),

/***/ 1953:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactIntl = __webpack_require__(8);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Tooltip = __webpack_require__(104);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _SwapProgress = __webpack_require__(258);

var _SwapProgress2 = _interopRequireDefault(_SwapProgress);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PleaseDontLeaveWrapper = function PleaseDontLeaveWrapper(props) {
  var children = props.children,
      isBTC = props.isBTC;

  return _react2.default.createElement(
    _react.Fragment,
    null,
    children,
    _react2.default.createElement(
      'span',
      { styleName: 'dontLeave' },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'swapprogressDONTLEAVE', defaultMessage: 'Please do not leave this page ' }),
      _react2.default.createElement(
        _Tooltip2.default,
        {
          id: 'swapjsdontleave',
          dontHideMobile: true
        },
        _react2.default.createElement(
          'p',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'swapjsdontleave',
            defaultMessage: 'The exchange requires signing with private keys that only your browser knows.' })
        ),
        isBTC && _react2.default.createElement(
          'p',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'swapjsdontleavesavesecret',
            defaultMessage: 'If you want to leave this page please save the secret.' })
        )
      ),
      isBTC && _react2.default.createElement(
        'strong',
        { styleName: 'saveSecretKey' },
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'swapprogressDONTLEAVEBTC', defaultMessage: 'Or save this information before you leave:' }),
        _react2.default.createElement(
          'em',
          null,
          isBTC
        )
      )
    )
  );
};

exports.default = (0, _reactCssModules2.default)(PleaseDontLeaveWrapper, _SwapProgress2.default, { allowMultiple: true });

/***/ }),

/***/ 1954:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"tooltip":"_28P3DA","r-tooltip":"_1GsjvL","tooltip_truesight":"RwqgFB"};

/***/ }),

/***/ 1955:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _SwapProgress = __webpack_require__(258);

var _SwapProgress2 = _interopRequireDefault(_SwapProgress);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BtcToEth = (_dec = (0, _reactCssModules2.default)(_SwapProgress2.default), _dec(_class = function (_Component) {
  (0, _inherits3.default)(BtcToEth, _Component);

  function BtcToEth() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, BtcToEth);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = BtcToEth.__proto__ || (0, _getPrototypeOf2.default)(BtcToEth)).call.apply(_ref, [this].concat(args))), _this), _this.BtcToEth = function (step) {

      switch (step) {
        case 1:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapProgress93', defaultMessage: 'The order creator is offline. Waiting for him..' });
        case 2:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapProgress99', defaultMessage: 'Create a secret key' });
        case 3:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapProgress105', defaultMessage: 'Checking balance..' });
        case 4:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapProgress111', defaultMessage: 'Creating Bitcoin Script.{br}It can take a few minutes', values: { br: _react2.default.createElement('br', null) } });
        case 5:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapProgress117', defaultMessage: 'Your BTC are now depositing. It may require one confirmation from Bitcoin Network. Waiting for other participant to deposit ETH.' });
        case 6:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapProgress123', defaultMessage: 'ETH Contract created and charged. Requesting withdrawal from ETH Contract.' });
        case 7:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapProgress129', defaultMessage: 'ETH was transferred to your wallet. Check the balance.' });
        case 8:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapProgress135', defaultMessage: 'Thank you for using Swap.Onlinde!' });
        default:
          return null;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(BtcToEth, [{
    key: 'render',
    value: function render() {

      return this.BtcToEth(this.props.step);
    }
  }]);
  return BtcToEth;
}(_react.Component)) || _class);
exports.default = BtcToEth;

/***/ }),

/***/ 1956:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _SwapProgress = __webpack_require__(258);

var _SwapProgress2 = _interopRequireDefault(_SwapProgress);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BtcToEthTokens = (_dec = (0, _reactCssModules2.default)(_SwapProgress2.default), _dec(_class = function (_Component) {
  (0, _inherits3.default)(BtcToEthTokens, _Component);

  function BtcToEthTokens() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, BtcToEthTokens);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = BtcToEthTokens.__proto__ || (0, _getPrototypeOf2.default)(BtcToEthTokens)).call.apply(_ref, [this].concat(args))), _this), _this.BtcToEthTokens = function (step) {

      switch (step) {
        case 1:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BitcoinBuyText17', defaultMessage: 'Confirmation processing' });
        case 2:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthToken20', defaultMessage: 'Create a secret key' });
        case 3:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BitcoinBuyText29', defaultMessage: 'Checking balance..' });
        case 4:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BitcoinBuyText33', defaultMessage: 'Creating Bitcoin Script.{br}It can take a few minutes', values: { br: _react2.default.createElement('br', null) } });
        case 5:
          return _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'BitcoinBuyText37',
            defaultMessage: '{buyCurrency} Owner received Bitcoin Script and Secret Hash. Waiting when he creates {buyCurrency} Contract',
            values: { buyCurrency: '' + _this.props.swap.buyCurrency } });
        case 6:
          return _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'BitcoinBuyText41',
            defaultMessage: '{buyCurrency} Contract created and charged. Requesting withdrawal from {buyCurrency} Contract.',
            values: { buyCurrency: '' + _this.props.swap.buyCurrency } });
        case 7:
          return _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'BitcoinBuyText45',
            defaultMessage: '{buyCurrency} tokens was transferred to your wallet. Check the balance.',
            values: { buyCurrency: '' + _this.props.swap.buyCurrency } });
        case 8:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BitcoinBuyText49', defaultMessage: 'Thank you for using Swap.Online' });
        case 9:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BitcoinBuyText53', defaultMessage: 'Thank you for using Swap.Online!' });
        default:
          return null;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(BtcToEthTokens, [{
    key: 'render',
    value: function render() {

      return this.BtcToEthTokens(this.props.step);
    }
  }]);
  return BtcToEthTokens;
}(_react.Component)) || _class);
exports.default = BtcToEthTokens;

/***/ }),

/***/ 1957:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _SwapProgress = __webpack_require__(258);

var _SwapProgress2 = _interopRequireDefault(_SwapProgress);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EthToBtc = (_dec = (0, _reactCssModules2.default)(_SwapProgress2.default), _dec(_class = function (_Component) {
  (0, _inherits3.default)(EthToBtc, _Component);

  function EthToBtc() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, EthToBtc);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = EthToBtc.__proto__ || (0, _getPrototypeOf2.default)(EthToBtc)).call.apply(_ref, [this].concat(args))), _this), _this.EthToBtc = function (step) {

      switch (step) {
        case 1:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ethToBtcText26', defaultMessage: 'Confirmation processing' });
        case 2:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ethToBtcText20', defaultMessage: 'Waiting for BTC Owner to create Secret Key, create BTC Script and charge it' });
        case 3:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ethToBtcText25', defaultMessage: 'The bitcoin Script was created and charged. Check the information below' });
        case 4:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ethToBtcText28', defaultMessage: 'Checking balance..' });
        case 5:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ethToBtcText32', defaultMessage: 'Creating Ethereum Contract.{br}It can take a few minutes', values: { br: _react2.default.createElement('br', null) } });
        case 6:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ethToBtcText36', defaultMessage: 'Waiting for BTC Owner to add a Secret Key to ETH Contact' });
        case 7:
          return _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'ethToBtcText40'
            // eslint-disable
            , defaultMessage: 'The funds from ETH contract was successfully transferred to BTC owner.\r BTC owner left a secret key. Requesting withdrawal from BTC script.'
          })
          // eslint-enable
          ;
        case 8:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ethToBtcText44', defaultMessage: 'Thank you for using Swap.Online' });
        case 9:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ethToBtcText48', defaultMessage: 'Thank you for using Swap.Online!' });
        default:
          return null;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(EthToBtc, [{
    key: 'render',
    value: function render() {

      return this.EthToBtc(this.props.step);
    }
  }]);
  return EthToBtc;
}(_react.Component)) || _class);
exports.default = EthToBtc;

/***/ }),

/***/ 1958:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _SwapProgress = __webpack_require__(258);

var _SwapProgress2 = _interopRequireDefault(_SwapProgress);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EthTokensToBtc = (_dec = (0, _reactCssModules2.default)(_SwapProgress2.default), _dec(_class = function (_Component) {
  (0, _inherits3.default)(EthTokensToBtc, _Component);

  function EthTokensToBtc() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, EthTokensToBtc);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = EthTokensToBtc.__proto__ || (0, _getPrototypeOf2.default)(EthTokensToBtc)).call.apply(_ref, [this].concat(args))), _this), _this.EthTokensToBtc = function (step) {

      switch (step) {
        case 1:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokensToBtc16', defaultMessage: 'Confirmation processing' });
        case 2:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokensToBtc20', defaultMessage: 'Waiting for BTC Owner to create Secret Key, create BTC Script and charge it' });
        case 3:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokensToBtc24', defaultMessage: 'The bitcoin Script was created and charged. Check the information below' });
        case 4:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokensToBtc28', defaultMessage: 'Checking balance..' });
        case 5:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokensToBtc32', defaultMessage: 'Creating Ethereum Contract. {br} It can take a few minutes', values: { br: _react2.default.createElement('br', null) } });
        case 6:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokensToBtc36', defaultMessage: 'Waiting for BTC Owner to add a Secret Key to ETH Contact' });
        case 7:
          return _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'EthTokensToBtc40',
            defaultMessage: 'The funds from ETH contract was successfully transferred to BTC owner'
          });
        case 8:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokensToBtc44', defaultMessage: 'Thank you for using Swap.Online' });
        case 9:
          return _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthTokensToBtc48', defaultMessage: 'Thank you for using Swap.Online!' });
        default:
          return null;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(EthTokensToBtc, [{
    key: 'render',
    value: function render() {

      return this.EthTokensToBtc(this.props.step);
    }
  }]);
  return EthTokensToBtc;
}(_react.Component)) || _class);
exports.default = EthTokensToBtc;

/***/ }),

/***/ 1959:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.icon9 = exports.icon8 = exports.icon7 = exports.icon6 = exports.icon5 = exports.icon4 = exports.icon3 = exports.icon2 = exports.icon1 = exports.icon0 = undefined;

var _icon = __webpack_require__(1960);

var _icon2 = _interopRequireDefault(_icon);

var _icon3 = __webpack_require__(1961);

var _icon4 = _interopRequireDefault(_icon3);

var _icon5 = __webpack_require__(1962);

var _icon6 = _interopRequireDefault(_icon5);

var _icon7 = __webpack_require__(1963);

var _icon8 = _interopRequireDefault(_icon7);

var _icon9 = __webpack_require__(1964);

var _icon10 = _interopRequireDefault(_icon9);

var _icon11 = __webpack_require__(1965);

var _icon12 = _interopRequireDefault(_icon11);

var _icon13 = __webpack_require__(1966);

var _icon14 = _interopRequireDefault(_icon13);

var _icon15 = __webpack_require__(1967);

var _icon16 = _interopRequireDefault(_icon15);

var _icon17 = __webpack_require__(1968);

var _icon18 = _interopRequireDefault(_icon17);

var _icon19 = __webpack_require__(1969);

var _icon20 = _interopRequireDefault(_icon19);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.icon0 = _icon2.default;
exports.icon1 = _icon4.default;
exports.icon2 = _icon6.default;
exports.icon3 = _icon8.default;
exports.icon4 = _icon10.default;
exports.icon5 = _icon12.default;
exports.icon6 = _icon14.default;
exports.icon7 = _icon16.default;
exports.icon8 = _icon18.default;
exports.icon9 = _icon20.default;

/***/ }),

/***/ 196:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _classnames = __webpack_require__(72);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _FieldLabel = __webpack_require__(2039);

var _FieldLabel2 = _interopRequireDefault(_FieldLabel);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var FieldLabel = function FieldLabel(_ref) {
  var children = _ref.children,
      inRow = _ref.inRow,
      inDropDown = _ref.inDropDown;
  return _react2.default.createElement(
    'div',
    { styleName: (0, _classnames2.default)('label', { 'inRow': inRow }, { 'inDropDown': inDropDown }) },
    children
  );
};

FieldLabel.propTypes = {
  inRow: _propTypes2.default.bool
};

exports.default = (0, _reactCssModules2.default)(FieldLabel, _FieldLabel2.default, { allowMultiple: true });

/***/ }),

/***/ 1960:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/icon0_54ffca.gif";

/***/ }),

/***/ 1961:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/icon1_54ffca.gif";

/***/ }),

/***/ 1962:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/icon2_3f7e5d.gif";

/***/ }),

/***/ 1963:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/icon3_085724.gif";

/***/ }),

/***/ 1964:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/icon4_085724.gif";

/***/ }),

/***/ 1965:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/icon5_0c46bf.gif";

/***/ }),

/***/ 1966:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/icon6_35467e.gif";

/***/ }),

/***/ 1967:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/icon7_261d80.gif";

/***/ }),

/***/ 1968:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/icon8_261d80.gif";

/***/ }),

/***/ 1969:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/icon9_261d80.gif";

/***/ }),

/***/ 197:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _classnames = __webpack_require__(72);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Modal = __webpack_require__(2148);

var _Modal2 = _interopRequireDefault(_Modal);

var _WidthContainer = __webpack_require__(195);

var _WidthContainer2 = _interopRequireDefault(_WidthContainer);

var _CloseIcon = __webpack_require__(259);

var _CloseIcon2 = _interopRequireDefault(_CloseIcon);

var _Overlay = __webpack_require__(560);

var _Overlay2 = _interopRequireDefault(_Overlay);

var _Center = __webpack_require__(322);

var _Center2 = _interopRequireDefault(_Center);

var _Logo = __webpack_require__(219);

var _Logo2 = _interopRequireDefault(_Logo);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Modal = (_dec = (0, _reactCssModules2.default)(_Modal2.default, { allowMultiple: true }), _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(Modal, _Component);

  function Modal() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Modal);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Modal.__proto__ || (0, _getPrototypeOf2.default)(Modal)).call.apply(_ref, [this].concat(args))), _this), _this.close = function () {
      var _this$props = _this.props,
          name = _this$props.name,
          data = _this$props.data,
          onClose = _this$props.onClose,
          disableClose = _this$props.disableClose;


      if (name === 'OfferModal') {
        // actions.analytics.dataEvent('orderbook-addoffer-click-exit-button')
      }

      if (!disableClose) {
        _actions2.default.modals.close(name);

        if (typeof onClose === 'function') {
          onClose();
        }

        if (typeof data.onClose === 'function') {
          data.onClose();
        }
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Modal, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          className = _props.className,
          whiteLogo = _props.whiteLogo,
          showLogo = _props.showLogo,
          title = _props.title,
          showCloseButton = _props.showCloseButton,
          disableClose = _props.disableClose,
          children = _props.children,
          titleUppercase = _props.titleUppercase,
          name = _props.name,
          shouldCenterHorizontally = _props.shouldCenterHorizontally,
          shouldCenterVertically = _props.shouldCenterVertically,
          styleName = _props.styleName,
          delayClose = _props.delayClose,
          data = _props.data;


      window.addEventListener('popstate', function (e) {
        _actions2.default.modals.close(name);
      }); // eslint-disable-line

      var titleStyleName = (0, _classnames2.default)('title', {
        'uppercase': titleUppercase
      });

      return _react2.default.createElement(
        _Overlay2.default,
        { styleName: styleName },
        _react2.default.createElement(
          'div',
          { styleName: 'modal', className: className },
          Boolean(title || showCloseButton) && _react2.default.createElement(
            'div',
            { styleName: 'header' },
            _react2.default.createElement(
              _WidthContainer2.default,
              { styleName: 'headerContent' },
              showLogo && _react2.default.createElement(_Logo2.default, { isColored: !whiteLogo }),
              _react2.default.createElement(
                'div',
                { styleName: titleStyleName, role: 'title' },
                title
              ),
              showCloseButton && !disableClose && _react2.default.createElement(_CloseIcon2.default, { styleName: 'closeButton' + (delayClose ? ' delayClose' : ''), onClick: this.close, 'data-testid': 'modalCloseIcon' })
            )
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'contentContainer' },
            _react2.default.createElement(
              _Center2.default,
              { scrollable: true, centerHorizontally: shouldCenterHorizontally, centerVertically: shouldCenterVertically },
              _react2.default.createElement(
                'div',
                { styleName: 'content' },
                children
              )
            )
          )
        )
      );
    }
  }]);
  return Modal;
}(_react.Component), _class2.propTypes = {
  children: _propTypes2.default.node,
  name: _propTypes2.default.string.isRequired,
  title: _propTypes2.default.any,
  showCloseButton: _propTypes2.default.bool,
  data: _propTypes2.default.object,
  disableClose: _propTypes2.default.bool,
  titleUppercase: _propTypes2.default.bool,
  onClose: _propTypes2.default.func,
  shouldCenterVertically: _propTypes2.default.bool,
  shouldCenterHorizontally: _propTypes2.default.bool,
  whiteLogo: _propTypes2.default.bool,
  showLogo: _propTypes2.default.bool
}, _class2.defaultProps = {
  data: {},
  whiteLogo: false,
  showLogo: true,
  showCloseButton: true,
  fullWidth: false,
  disableClose: false,
  disableCloseOverlay: false,
  uppercase: false,
  shouldCenterVertically: true,
  shouldCenterHorizontally: true
}, _temp2)) || _class);
exports.default = Modal;

/***/ }),

/***/ 1970:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/finish_bdb885.svg";

/***/ }),

/***/ 1974:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"ellipsis":"_1LrCrR","ellipsis1":"_3E5_Fc","ellipsis2":"_2eaqSt","ellipsis3":"_3fsiCh"};

/***/ }),

/***/ 1975:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"main":"_2Dkg10","feeHeading":"dYbOlT","warning":"_1__gZW","button":"_34eYxt","address":"_2A9eqn"};

/***/ }),

/***/ 1976:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SwapList = __webpack_require__(320);

var _SwapList2 = _interopRequireDefault(_SwapList);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var FirstStep = function FirstStep(_ref) {
  var step = _ref.step,
      first = _ref.first,
      second = _ref.second;
  return _react2.default.createElement(
    'div',
    { styleName: step === first && 'stepItem active' || step < second && 'stepItem' || 'stepItem active checked' },
    _react2.default.createElement(
      'span',
      { styleName: 'stepNumber' },
      step < second ? 1 : _react2.default.createElement('i', { className: 'fas fa-check' })
    ),
    _react2.default.createElement(
      'p',
      { styleName: 'stepText' },
      _react2.default.createElement(_reactIntl.FormattedMessage, {
        id: 'Confirmation14',
        defaultMessage: 'Confirmation' })
    )
  );
};

exports.default = (0, _reactCssModules2.default)(FirstStep, _SwapList2.default, { allowMultiple: true });

/***/ }),

/***/ 1977:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SwapList = __webpack_require__(320);

var _SwapList2 = _interopRequireDefault(_SwapList);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _reactDeviceDetect = __webpack_require__(53);

var _Tooltip = __webpack_require__(104);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SecondStep = function SecondStep(props) {
  var step = props.step,
      fifth = props.fifth,
      fourth = props.fourth,
      second = props.second,
      sixth = props.sixth,
      windowWidth = props.windowWidth,
      _props$swap = props.swap,
      sellCurrency = _props$swap.sellCurrency,
      buyCurrency = _props$swap.buyCurrency,
      _props$swap$flow$stat = _props$swap.flow.state,
      btcScriptCreatingTransactionHash = _props$swap$flow$stat.btcScriptCreatingTransactionHash,
      ethSwapCreationTransactionHash = _props$swap$flow$stat.ethSwapCreationTransactionHash;


  var currencyStep = sellCurrency === 'BTC' ? fifth : fourth;
  var stepItemActive = step >= second && step < sixth;
  var stepItemDefault = step < sixth;
  return _react2.default.createElement(
    'div',
    {
      styleName: stepItemActive && 'stepItem active' || stepItemDefault && 'stepItem' || 'stepItem active checked' },
    _react2.default.createElement(
      'span',
      { styleName: 'stepNumber' },
      !_reactDeviceDetect.isMobile ? stepItemDefault ? 2 : _react2.default.createElement('i', { className: 'fas fa-check' }) : stepItemDefault ? 1 : _react2.default.createElement('i', { className: 'fas fa-check' })
    ),
    _react2.default.createElement(
      'p',
      { styleName: 'stepText' },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthToken24', defaultMessage: 'Deposit' })
    ),
    btcScriptCreatingTransactionHash && _react2.default.createElement(
      'strong',
      { styleName: 'transactionInStep' },
      _react2.default.createElement(
        'a',
        {
          alt: _appConfig2.default.link.bitpay + '/tx/' + btcScriptCreatingTransactionHash,
          title: _appConfig2.default.link.bitpay + '/tx/' + btcScriptCreatingTransactionHash,
          href: _appConfig2.default.link.bitpay + '/tx/' + btcScriptCreatingTransactionHash,
          target: '_blank',
          rel: 'noreferrer noopener'
        },
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FourthStep36', defaultMessage: '({btcTx} tx)', values: { btcTx: 'btc' } }),
        _react2.default.createElement('i', { className: 'fas fa-link' })
      )
    ),
    ethSwapCreationTransactionHash && _react2.default.createElement(
      'strong',
      { styleName: 'transactionInStep' },
      _react2.default.createElement(
        'a',
        {
          href: _appConfig2.default.link.etherscan + '/tx/' + ethSwapCreationTransactionHash,
          target: '_blank',
          rel: 'noreferrer noopener'
        },
        _react2.default.createElement(_reactIntl.FormattedMessage, {
          id: 'FourthStep52',
          defaultMessage: '({otherCurrency} tx)',
          values: { otherCurrency: sellCurrency === 'BTC' ? buyCurrency.toLowerCase() : sellCurrency.toLowerCase() }
        }),
        _react2.default.createElement('i', { className: 'fas fa-link' })
      )
    ),
    _react2.default.createElement(
      'div',
      { styleName: 'tooltip' },
      _react2.default.createElement(
        _Tooltip2.default,
        { id: 'SecondStep' },
        _react2.default.createElement(_reactIntl.FormattedMessage, {
          id: 'SecondStep',
          defaultMessage: 'On this step, the crypto goes not to your wallet {br}or to the wallet of your counterparty but directly to the swap contract',
          values: { br: _react2.default.createElement('br', null) }
        })
      )
    )
  );
};
exports.default = (0, _reactCssModules2.default)(SecondStep, _SwapList2.default, { allowMultiple: true });

/***/ }),

/***/ 1978:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SwapList = __webpack_require__(320);

var _SwapList2 = _interopRequireDefault(_SwapList);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _reactDeviceDetect = __webpack_require__(53);

var _Tooltip = __webpack_require__(104);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ThirdStep = function ThirdStep(_ref) {
  var step = _ref.step,
      sixth = _ref.sixth,
      seventh = _ref.seventh,
      eighth = _ref.eighth,
      windowWidth = _ref.windowWidth,
      _ref$swap = _ref.swap,
      sellCurrency = _ref$swap.sellCurrency,
      buyCurrency = _ref$swap.buyCurrency,
      _ref$swap$flow$state = _ref$swap.flow.state,
      ethSwapWithdrawTransactionHash = _ref$swap$flow$state.ethSwapWithdrawTransactionHash,
      btcSwapWithdrawTransactionHash = _ref$swap$flow$state.btcSwapWithdrawTransactionHash;


  var currencyStep = sellCurrency === 'BTC' ? seventh : eighth;
  var stepItemActive = step >= sixth && step < currencyStep;
  var stepItemDefault = step < currencyStep;
  var thirdStepPadding = stepItemActive && _reactDeviceDetect.isMobile && windowWidth < 569 || !stepItemDefault && !stepItemActive && _reactDeviceDetect.isMobile && windowWidth < 569 ? 50 : 0;

  return _react2.default.createElement(
    'div',
    {
      styleName: stepItemActive && 'stepItem active' || stepItemDefault && 'stepItem' || 'stepItem active checked' },
    _react2.default.createElement(
      'span',
      { styleName: 'stepNumber' },
      !_reactDeviceDetect.isMobile ? step < currencyStep ? 3 : _react2.default.createElement('i', { className: 'fas fa-check' }) : step < currencyStep ? 2 : _react2.default.createElement('i', { className: 'fas fa-check' })
    ),
    _react2.default.createElement(
      'p',
      { styleName: 'stepText' },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'thirdStep24', defaultMessage: 'WITHDRAW' })
    ),
    ethSwapWithdrawTransactionHash && _react2.default.createElement(
      'strong',
      { styleName: 'transactionInStep' },
      _react2.default.createElement(
        'a',
        {
          href: _appConfig2.default.link.etherscan + '/tx/' + ethSwapWithdrawTransactionHash,
          target: '_blank',
          rel: 'noreferrer noopener'
        },
        _react2.default.createElement(_reactIntl.FormattedMessage, {
          id: 'FourthStep34',
          defaultMessage: '({sell} tx)',
          values: { sell: sellCurrency === 'BTC' ? buyCurrency.toLowerCase() : sellCurrency.toLowerCase() }
        }),
        _react2.default.createElement('i', { className: 'fas fa-link' })
      )
    ),
    btcSwapWithdrawTransactionHash && _react2.default.createElement(
      'strong',
      { styleName: 'transactionInStep' },
      _react2.default.createElement(
        'a',
        {
          href: _appConfig2.default.link.bitpay + '/tx/' + btcSwapWithdrawTransactionHash,
          target: '_blank',
          rel: 'noreferrer noopener'
        },
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FourthStep36', defaultMessage: '({btcTx} tx)', values: { btcTx: 'btc' } }),
        _react2.default.createElement('i', { className: 'fas fa-link' })
      )
    ),
    _react2.default.createElement(
      'div',
      { styleName: 'tooltip' },
      _react2.default.createElement(
        _Tooltip2.default,
        { id: 'thirdStep' },
        _react2.default.createElement(_reactIntl.FormattedMessage, {
          id: 'thirdStep',
          defaultMessage: '\u041En this step crypto is transferred from {br}the contract to your wallet and to the wallet {br} of your counterparty {br}',
          values: { br: _react2.default.createElement('br', null) }
        })
      )
    )
  );
};

exports.default = (0, _reactCssModules2.default)(ThirdStep, _SwapList2.default, { allowMultiple: true });

/***/ }),

/***/ 1979:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SwapList = __webpack_require__(320);

var _SwapList2 = _interopRequireDefault(_SwapList);

var _reactDeviceDetect = __webpack_require__(53);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var FourthStep = function FourthStep(_ref) {
  var step = _ref.step,
      swap = _ref.swap,
      seventh = _ref.seventh,
      eighth = _ref.eighth;


  var currencyStep = swap.sellCurrency === 'BTC' ? seventh : eighth;
  var fourthStepPadding = step >= currencyStep && _reactDeviceDetect.isMobile ? 150 : 0;

  return _react2.default.createElement(
    'div',
    {
      style: { paddingTop: fourthStepPadding },
      styleName: step >= currencyStep ? 'stepItem active checked' : 'stepItem' },
    _react2.default.createElement(
      'span',
      { styleName: 'stepNumber' },
      step >= currencyStep ? _react2.default.createElement('i', { className: 'fas fa-check' }) : 4
    ),
    _react2.default.createElement(
      'p',
      { styleName: 'stepText' },
      _react2.default.createElement(_reactIntl.FormattedMessage, {
        id: 'BtcToEthToken123',
        defaultMessage: 'The swap is finish!' })
    )
  );
};

exports.default = (0, _reactCssModules2.default)(FourthStep, _SwapList2.default, { allowMultiple: true });

/***/ }),

/***/ 1980:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(17);

var _helpers2 = _interopRequireDefault(_helpers);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Swap = __webpack_require__(158);

var _Swap2 = _interopRequireDefault(_Swap);

var _reactDeviceDetect = __webpack_require__(53);

var _reactIntl = __webpack_require__(8);

var _bignumber = __webpack_require__(30);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _FeeControler = __webpack_require__(403);

var _FeeControler2 = _interopRequireDefault(_FeeControler);

var _SwapProgress = __webpack_require__(400);

var _SwapProgress2 = _interopRequireDefault(_SwapProgress);

var _SwapList = __webpack_require__(404);

var _SwapList2 = _interopRequireDefault(_SwapList);

var _DepositWindow = __webpack_require__(319);

var _DepositWindow2 = _interopRequireDefault(_DepositWindow);

var _paddingForSwapList = __webpack_require__(315);

var _paddingForSwapList2 = _interopRequireDefault(_paddingForSwapList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EthToBtc = (_dec = (0, _reactCssModules2.default)(_Swap2.default), _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(EthToBtc, _Component);

  function EthToBtc(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData,
        depositWindow = _ref.depositWindow,
        enoughBalance = _ref.enoughBalance;
    (0, _classCallCheck3.default)(this, EthToBtc);

    var _this = (0, _possibleConstructorReturn3.default)(this, (EthToBtc.__proto__ || (0, _getPrototypeOf2.default)(EthToBtc)).call(this));

    _initialiseProps.call(_this);

    _this.swap = swap;

    _this.state = {
      swap: swap,
      currencyData: currencyData,
      enoughBalance: enoughBalance,
      signed: false,
      depositWindow: depositWindow,
      paddingContainerValue: 0,
      enabledButton: false,
      isAddressCopied: false,
      flow: _this.swap.flow.state,
      isShowingBitcoinScript: false,
      currencyAddress: currencyData.address
    };

    _this.signTimer = null;
    _this.confirmBtcTimer = null;

    return _this;
  }

  (0, _createClass3.default)(EthToBtc, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      var _state = this.state,
          swap = _state.swap,
          _state$flow = _state.flow,
          isSignFetching = _state$flow.isSignFetching,
          isMeSigned = _state$flow.isMeSigned,
          step = _state$flow.step;

      this.changePaddingValue();
      window.addEventListener('resize', this.updateWindowDimensions);
      this.updateWindowDimensions();
      this.signTimer = setInterval(function () {
        if (!_this2.state.flow.isMeSigned) {
          _this2.signSwap();
        } else {
          clearInterval(_this2.signTimer);
        }
      }, 3000);

      this.confirmBtcTimer = setInterval(function () {
        if (_this2.state.flow.step === 3) {
          _this2.confirmBTCScriptChecked();
        } else {
          clearInterval(_this2.confirmBtcTimer);
        }
      }, 3000);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
      window.removeEventListener('resize', this.updateWindowDimensions);
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate(prevProps, prevState) {
      if (prevState.flow !== this.state.flow) {
        this.changePaddingValue();
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          tokenItems = _props.tokenItems,
          continueSwap = _props.continueSwap,
          enoughBalance = _props.enoughBalance,
          history = _props.history,
          ethAddress = _props.ethAddress,
          children = _props.children,
          requestToFaucetSended = _props.requestToFaucetSended,
          onClickCancelSwap = _props.onClickCancelSwap,
          locale = _props.locale,
          wallets = _props.wallets;
      var _state2 = this.state,
          currencyAddress = _state2.currencyAddress,
          flow = _state2.flow,
          isShowingBitcoinScript = _state2.isShowingBitcoinScript,
          swap = _state2.swap,
          currencyData = _state2.currencyData,
          signed = _state2.signed,
          paddingContainerValue = _state2.paddingContainerValue,
          buyCurrency = _state2.buyCurrency,
          sellCurrency = _state2.sellCurrency,
          windowWidth = _state2.windowWidth;

      var stepse = flow.step;

      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'div',
          { styleName: 'swapContainer', style: _reactDeviceDetect.isMobile && windowWidth < 569 ? { paddingTop: paddingContainerValue } : { paddingTop: 0 } },
          _react2.default.createElement(
            'div',
            { styleName: 'swapInfo' },
            this.swap.id && _react2.default.createElement(
              'strong',
              null,
              this.swap.sellAmount.toFixed(6),
              ' ',
              this.swap.sellCurrency,
              ' \u27F6 ',
              ' ',
              this.swap.buyAmount.toFixed(6),
              ' ',
              this.swap.buyCurrency
            )
          ),
          !enoughBalance && flow.step === 4 ? _react2.default.createElement(
            'div',
            { styleName: 'swapDepositWindow' },
            _react2.default.createElement(_DepositWindow2.default, { currencyData: currencyData, swap: swap, flow: flow, tokenItems: tokenItems })
          ) : _react2.default.createElement(
            _react.Fragment,
            null,
            !continueSwap ? _react2.default.createElement(_FeeControler2.default, { ethAddress: ethAddress, requestToFaucetSended: requestToFaucetSended }) : _react2.default.createElement(_SwapProgress2.default, { flow: flow, name: 'EthToBtc', swap: swap, history: history, signed: signed, locale: locale, wallets: wallets, tokenItems: tokenItems })
          ),
          _react2.default.createElement(_SwapList2.default, { enoughBalance: enoughBalance, flow: flow, name: swap.sellCurrency, windowWidth: windowWidth, onClickCancelSwap: onClickCancelSwap, swap: swap }),
          _react2.default.createElement(
            'div',
            { styleName: 'swapContainerInfo' },
            children
          )
        )
      );
    }
  }]);
  return EthToBtc;
}(_react.Component), _initialiseProps = function _initialiseProps() {
  var _this3 = this;

  this.updateWindowDimensions = function () {
    _this3.setState({ windowWidth: window.innerWidth });
  };

  this.changePaddingValue = function () {
    var step = _this3.state.flow.step;

    _this3.setState(function () {
      return {
        paddingContainerValue: (0, _paddingForSwapList2.default)({ step: step })
      };
    });
  };

  this.confirmBTCScriptChecked = function () {
    _this3.swap.flow.verifyBtcScript();
  };

  this.handleFlowStateUpdate = function (values) {
    var _state3 = _this3.state,
        swap = _state3.swap,
        isMeSigned = _state3.flow.isMeSigned;

    var stepNumbers = {
      1: 'sign',
      2: 'wait-lock-btc',
      3: 'verify-script',
      4: 'sync-balance',
      5: 'lock-eth',
      6: 'wait-withdraw-eth',
      7: 'withdraw-btc',
      8: 'finish',
      9: 'end'

      // actions.analytics.swapEvent(stepNumbers[values.step], 'ETH-BTC')

    };_this3.setState({
      flow: values
    });

    _this3.changePaddingValue();
  };

  this.signSwap = function () {
    _this3.swap.flow.sign();
    _this3.setState(function () {
      return {
        signed: true
      };
    });
  };

  this.toggleBitcoinScript = function () {
    _this3.setState({
      isShowingBitcoinScript: !_this3.state.isShowingBitcoinScript
    });
  };
}, _temp)) || _class);
exports.default = EthToBtc;

/***/ }),

/***/ 1981:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _crypto = __webpack_require__(101);

var _crypto2 = _interopRequireDefault(_crypto);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(30);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _Timer = __webpack_require__(128);

var _Timer2 = _interopRequireDefault(_Timer);

var _InlineLoader = __webpack_require__(115);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _controls = __webpack_require__(46);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LtcToEth = function (_Component) {
  (0, _inherits3.default)(LtcToEth, _Component);

  function LtcToEth(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData;
    (0, _classCallCheck3.default)(this, LtcToEth);

    var _this = (0, _possibleConstructorReturn3.default)(this, (LtcToEth.__proto__ || (0, _getPrototypeOf2.default)(LtcToEth)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      var stepNumbers = {
        1: 'sign',
        2: 'submit-secret',
        3: 'sync-balance',
        4: 'lock-ltc',
        5: 'wait-lock-eth',
        6: 'withdraw-eth',
        7: 'finish',
        8: 'end'

        // actions.analytics.swapEvent(stepNumbers[values.step], 'LTC2ETH')

      };_this.setState({
        flow: values
      });
    };

    _this.overProgress = function (_ref2) {
      var flow = _ref2.flow,
          length = _ref2.length;

      _actions2.default.loader.show(true, '', '', true, { flow: flow, length: length, name: 'LTC2ETH' });
    };

    _this.submitSecret = function () {
      var secret = _this.state.secret;


      _this.swap.flow.submitSecret(secret);
    };

    _this.updateBalance = function () {
      _this.swap.flow.syncBalance();
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
      _this.setState(function () {
        return { enabledButton: false };
      });
    };

    _this.getRefundTxHex = function () {
      var flow = _this.state.flow;


      if (flow.refundTxHex) {
        return flow.refundTxHex;
      } else if (flow.ltcScriptValues) {
        _this.swap.flow.getRefundTxHex();
      }
    };

    _this.swap = swap;

    _this.state = {
      currencyAddress: currencyData.address,
      flow: _this.swap.flow.state,
      secret: _crypto2.default.randomBytes(32).toString('hex'),
      enabledButton: false
    };
    return _this;
  }

  (0, _createClass3.default)(LtcToEth, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          children = _props.children,
          disabledTimer = _props.disabledTimer;
      var _state = this.state,
          currencyAddress = _state.currencyAddress,
          secret = _state.secret,
          flow = _state.flow,
          enabledButton = _state.enabledButton;


      return _react2.default.createElement(
        'div',
        null,
        this.swap.id && _react2.default.createElement(
          'strong',
          null,
          this.swap.sellAmount.toNumber(),
          ' ',
          this.swap.sellCurrency,
          ' \u27F6 ',
          this.swap.buyAmount.toNumber(),
          ' ',
          this.swap.buyCurrency
        ),
        !this.swap.id && (this.swap.isMy ? _react2.default.createElement(
          'h3',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth101', defaultMessage: 'This order doesn\'t have a buyer' })
        ) : _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcToEth.orderCreatorIsOffline', defaultMessage: 'The order creator is offline. Waiting for him..' })
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        )),
        !flow.isParticipantSigned && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'LtcTOeth117',
              defaultMessage: 'Waiting for a market maker. If the market maker does not appear within 5 minutes, the swap will be canceled automatically.' })
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        ),
        flow.isParticipantSigned && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth127', defaultMessage: '2. Create a secret key' })
          ),
          !flow.secretHash ? _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement('input', { type: 'text', placeholder: 'Secret Key', defaultValue: secret }),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _controls.TimerButton,
              { disabledTimer: disabledTimer, timeLeft: 5, brand: true, onClick: this.submitSecret },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth136', defaultMessage: 'Confirm' })
            )
          ) : _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth142', defaultMessage: 'Save the secret key! Otherwise there will be a chance you loose your money!' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth145', defaultMessage: 'Secret Key: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secret
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth148', defaultMessage: 'Secret Hash: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash
              )
            )
          ),
          flow.step === 3 && !flow.isBalanceEnough && !flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth158', defaultMessage: 'Not enough money for this swap. Please charge the balance' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth162', defaultMessage: 'Your balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  flow.balance
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth165', defaultMessage: 'Required balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  this.swap.sellAmount.toNumber()
                ),
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth168', defaultMessage: 'Your address: ' }),
                _react2.default.createElement(
                  'a',
                  { href: _appConfig2.default.link.ltc + '/address/' + currencyAddress, target: '_blank', el: 'noopener noreferrer' },
                  currencyAddress
                )
              ),
              _react2.default.createElement('hr', null),
              _react2.default.createElement(
                'span',
                null,
                flow.address
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _controls.Button,
              { brand: true, onClick: this.updateBalance },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth175', defaultMessage: 'Continue' })
            )
          ),
          flow.step === 3 && flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth184', defaultMessage: 'Checking balance..' }),
              this.swap.flow.myLtcAddress
            ),
            _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step === 4 || flow.ltcScriptValues) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth195', defaultMessage: '3. Creating Litecoin Script.{br}Please wait, it can take a few minutes', values: { br: _react2.default.createElement('br', null) } }),
              this.swap.flow.myLtcAddress
            ),
            flow.ltcScriptCreatingTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth200', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.ltc + '/tx/' + flow.ltcScriptCreatingTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.ltcScriptCreatingTransactionHash
                )
              )
            ),
            !flow.ltcScriptValues && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          flow.ltcScriptValues && !flow.isFinished && !flow.isEthWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement('br', null),
            !flow.refundTxHex && _react2.default.createElement(
              _controls.Button,
              { brand: true, onClick: this.getRefundTxHex },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth227', defaultMessage: 'Create refund hex' })
            ),
            flow.refundTxHex && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: 'https://wiki.swap.online/faq/my-swap-got-stuck-and-my-bitcoin-has-been-withdrawn-what-to-do/',
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth234', defaultMessage: 'How refund your money ?' })
              ),
              'Refund hex transaction:',
              _react2.default.createElement(
                'code',
                null,
                flow.refundTxHex
              )
            )
          ),
          (flow.step === 5 || flow.isEthContractFunded) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth254', defaultMessage: '4. ETH Owner received Litecoin Script and Secret Hash. Waiting when he creates ETH Contract' })
            ),
            !flow.isEthContractFunded && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          flow.ethSwapCreationTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth267', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapCreationTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.ethSwapCreationTransactionHash
              )
            )
          ),
          (flow.step === 6 || flow.isEthWithdrawn) && _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth283', defaultMessage: '5. ETH Contract created and charged. Requesting withdrawal from ETH Contract. Please wait' })
          ),
          flow.ethSwapWithdrawTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth290', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapWithdrawTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                flow.ethSwapWithdrawTransactionHash
              )
            )
          ),
          flow.step === 6 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.isEthWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth313', defaultMessage: '6. ETH was transferred to your wallet. Check the balance.' })
            ),
            _react2.default.createElement(
              'h2',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth315', defaultMessage: 'Thank you for using Swap.Online!' })
            )
          ),
          flow.step >= 5 && !flow.isFinished && _react2.default.createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center' } },
            enabledButton && !flow.isEthWithdrawn && _react2.default.createElement(
              _controls.Button,
              { brand: true, onClick: this.tryRefund },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth326', defaultMessage: 'TRY REFUND' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_Timer2.default, { lockTime: flow.ltcScriptValues.lockTime * 1000, enabledButton: function enabledButton() {
                  return _this2.setState({ enabledButton: true });
                } })
            )
          ),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcTOeth338', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.ltc + '/tx/' + flow.refundTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                flow.refundTransactionHash
              )
            )
          )
        ),
        _react2.default.createElement('br', null),
        children
      );
    }
  }]);
  return LtcToEth;
}(_react.Component);

exports.default = LtcToEth;

/***/ }),

/***/ 1982:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(30);

var _InlineLoader = __webpack_require__(115);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _TimerButton = __webpack_require__(401);

var _TimerButton2 = _interopRequireDefault(_TimerButton);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _Timer = __webpack_require__(128);

var _Timer2 = _interopRequireDefault(_Timer);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EthToLtc = function (_Component) {
  (0, _inherits3.default)(EthToLtc, _Component);

  function EthToLtc(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData;
    (0, _classCallCheck3.default)(this, EthToLtc);

    var _this = (0, _possibleConstructorReturn3.default)(this, (EthToLtc.__proto__ || (0, _getPrototypeOf2.default)(EthToLtc)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      var stepNumbers = {
        1: 'sign',
        2: 'wait-lock-ltc',
        3: 'verify-script',
        4: 'sync-balance',
        5: 'lock-eth',
        6: 'wait-withdraw-eth',
        7: 'withdraw-ltc',
        8: 'finish',
        9: 'end'

        // actions.analytics.swapEvent(stepNumbers[values.step], 'ETH-LTC')

      };_this.setState({
        flow: values
      });
    };

    _this.overProgress = function (_ref2) {
      var flow = _ref2.flow,
          length = _ref2.length;

      _actions2.default.loader.show(true, '', '', true, { flow: flow, length: length, name: 'ETH2LTC' });
    };

    _this.signSwap = function () {
      _this.swap.flow.sign();
    };

    _this.confirmLTCScriptChecked = function () {
      _this.swap.flow.verifyLtcScript();
    };

    _this.updateBalance = function () {
      _this.swap.flow.syncBalance();
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
      _this.setState(function () {
        return { enabledButton: false };
      });
    };

    _this.toggleLitecoinScript = function () {
      _this.setState({
        isShowingLitecoinScript: !_this.state.isShowingLitecoinScript
      });
    };

    _this.swap = swap;

    _this.state = {
      currencyAddress: currencyData.address,
      flow: _this.swap.flow.state,
      enabledButton: false,
      isShowingLitecoinScript: false
    };
    return _this;
  }

  (0, _createClass3.default)(EthToLtc, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          children = _props.children,
          disabledTimer = _props.disabledTimer;
      var _state = this.state,
          currencyAddress = _state.currencyAddress,
          flow = _state.flow,
          enabledButton = _state.enabledButton,
          isShowingLitecoinScript = _state.isShowingLitecoinScript;


      return _react2.default.createElement(
        'div',
        null,
        this.swap.id && _react2.default.createElement(
          'strong',
          null,
          this.swap.sellAmount.toNumber(),
          ' ',
          this.swap.sellCurrency,
          ' \u27F6 ',
          this.swap.buyAmount.toNumber(),
          ' ',
          this.swap.buyCurrency
        ),
        !this.swap.id && (this.swap.isMy ? _react2.default.createElement(
          'h3',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc99', defaultMessage: 'This order doesn\'t have a buyer' })
        ) : _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc104', defaultMessage: 'The order creator is offline. Waiting for him..' })
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        )),
        flow.isWaitingForOwner && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc115', defaultMessage: 'Waiting for other user when he connect to the order' })
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        ),
        flow.step === 1 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'EthToLtc125',
              defaultMessage: 'Confirmation of the transaction is necessary for crediting the reputation. If a user does not bring the deal to the end he gets a negative credit to his reputation.' // eslint-disable-line
            })
          ),
          _react2.default.createElement(
            _TimerButton2.default,
            { disabledTimer: disabledTimer, timeLeft: 5, brand: true, onClick: this.signSwap },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc128', defaultMessage: 'Sign' })
          ),
          (flow.isSignFetching || flow.signTransactionHash) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h4',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc134', defaultMessage: 'Please wait. Confirmation processing' })
            ),
            flow.signTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc139', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.etherscan + '/tx/' + flow.signTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.signTransactionHash
                )
              )
            ),
            flow.isSignFetching && _react2.default.createElement(_InlineLoader2.default, null)
          )
        ),
        flow.isMeSigned && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc167', defaultMessage: '2. Waiting for LTC Owner to create a Secret Key, create LTC Script and charge it' })
          ),
          flow.step === 2 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.secretHash && flow.ltcScriptValues && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc179', defaultMessage: '3. Litecoin Script created and charged. Please check the information below' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc182', defaultMessage: 'Secret Hash: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc185', defaultMessage: 'Script address: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.ltcScriptCreatingTransactionHash && _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.ltc + '/tx/' + flow.ltcScriptCreatingTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.ltcScriptCreatingTransactionHash
                )
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _react.Fragment,
              null,
              flow.ltcScriptValues && _react2.default.createElement(
                'span',
                { onClick: this.toggleLitecoinScript },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc204', defaultMessage: 'Show litecoin script' })
              ),
              isShowingLitecoinScript && _react2.default.createElement(
                'pre',
                null,
                _react2.default.createElement(
                  'code',
                  null,
                  '\n  bitcoinjs.script.compile([\n    bitcoin.core.opcodes.OP_RIPEMD160,\n    Buffer.from(\'' + flow.ltcScriptValues.secretHash + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_EQUALVERIFY,\n\n    Buffer.from(\'' + flow.ltcScriptValues.recipientPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_EQUAL,\n    bitcoin.core.opcodes.OP_IF,\n\n    Buffer.from(\'' + flow.ltcScriptValues.recipientPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n\n    bitcoin.core.opcodes.OP_ELSE,\n\n    bitcoin.core.script.number.encode(' + flow.ltcScriptValues.lockTime + '),\n    bitcoin.core.opcodes.OP_CHECKLOCKTIMEVERIFY,\n    bitcoin.core.opcodes.OP_DROP,\n    Buffer.from(\'' + flow.ltcScriptValues.ownerPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n\n    bitcoin.core.opcodes.OP_ENDIF,\n  ])\n                      '
                )
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement('br', null),
            flow.step === 3 && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                _TimerButton2.default,
                { disabledTimer: disabledTimer, timeLeft: 5, brand: true, onClick: this.confirmLTCScriptChecked },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc247', defaultMessage: 'Everything is OK. Continue' })
              )
            )
          ),
          flow.step === 4 && !flow.isBalanceEnough && !flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc260', defaultMessage: 'Not enough money for this swap. Please fund the balance' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc264', defaultMessage: 'Your balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  flow.balance
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc267', defaultMessage: 'Required balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  this.swap.sellAmount.toNumber()
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc270', defaultMessage: 'Your address: ' }),
                _react2.default.createElement(
                  'a',
                  { href: _appConfig2.default.link.etherscan + '/address/' + currencyAddress, target: '_blank', el: 'noopener noreferrer' },
                  currencyAddress
                )
              ),
              _react2.default.createElement('hr', null),
              _react2.default.createElement(
                'span',
                null,
                flow.address
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _Button2.default,
              { brand: true, onClick: this.updateBalance },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc277', defaultMessage: 'Continue' })
            )
          ),
          flow.step === 4 && flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc286', defaultMessage: 'Checking balance..' })
            ),
            _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step >= 5 || flow.isEthContractFunded) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc297', defaultMessage: '4. Creating Ethereum Contract.{br}Please wait, it can take a few minutes', values: { br: _react2.default.createElement('br', null) } })
            )
          ),
          flow.ethSwapCreationTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc305', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapCreationTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.ethSwapCreationTransactionHash
              )
            )
          ),
          flow.step === 5 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc326', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.etherscan + '/tx/' + flow.refundTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.refundTransactionHash
              )
            )
          ),
          (flow.step === 6 || flow.isEthWithdrawn) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc343', defaultMessage: '5. Waiting LTC Owner adds Secret Key to ETH Contact' })
            ),
            !flow.isEthWithdrawn && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step === 7 || flow.isLtcWithdrawn) && _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'EthToLtc357',
              defaultMessage: '6. LTC Owner successfully took money from ETH Contract and left Secret Key. Requesting withdrawal from LTC Script. Please wait' })
          ),
          flow.ltcSwapWithdrawTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc364', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                { href: _appConfig2.default.link.ltc + '/tx/' + flow.ltcSwapWithdrawTransactionHash, target: '_blank', rel: 'noopener noreferrer' },
                flow.ltcSwapWithdrawTransactionHash
              )
            )
          ),
          flow.step === 7 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.isLtcWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc386', defaultMessage: '7. LTC was transferred to your wallet. Check the balance.' })
            ),
            _react2.default.createElement(
              'h2',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc389', defaultMessage: 'Thank you for using Swap.Online!' })
            )
          ),
          flow.step >= 6 && !flow.isFinished && _react2.default.createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center' } },
            enabledButton && !flow.isLtcWithdrawn && _react2.default.createElement(
              _Button2.default,
              { brand: true, onClick: this.tryRefund },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc399', defaultMessage: 'TRY REFUND' })
            ),
            _react2.default.createElement(_Timer2.default, {
              lockTime: (flow.ltcScriptValues.lockTime - 5400) * 1000,
              enabledButton: function enabledButton() {
                return _this2.setState({ enabledButton: true });
              }
            })
          ),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToLtc412', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.ltc + '/tx/' + flow.refundTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                flow.refundTransactionHash
              )
            )
          )
        ),
        _react2.default.createElement('br', null),
        children
      );
    }
  }]);
  return EthToLtc;
}(_react.Component);

exports.default = EthToLtc;

/***/ }),

/***/ 1983:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _crypto = __webpack_require__(101);

var _crypto2 = _interopRequireDefault(_crypto);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(30);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _Timer = __webpack_require__(128);

var _Timer2 = _interopRequireDefault(_Timer);

var _InlineLoader = __webpack_require__(115);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _controls = __webpack_require__(46);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BtcToLtc = function (_Component) {
  (0, _inherits3.default)(BtcToLtc, _Component);

  function BtcToLtc(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData;
    (0, _classCallCheck3.default)(this, BtcToLtc);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BtcToLtc.__proto__ || (0, _getPrototypeOf2.default)(BtcToLtc)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      var stepNumbers = {
        1: 'sign',
        2: 'submit-secret',
        3: 'sync-balance',
        4: 'lock-btc',
        5: 'wait-lock-ltc',
        6: 'withdraw-ltc',
        7: 'finish',
        8: 'end'

        // actions.analytics.swapEvent(stepNumbers[values.step], 'BTC2LTC')

      };_this.setState({
        flow: values
      });
    };

    _this.overProgress = function (_ref2) {
      var flow = _ref2.flow,
          length = _ref2.length;

      _actions2.default.loader.show(true, '', '', true, { flow: flow, length: length, name: 'BTC2LTC' });
    };

    _this.submitSecret = function () {
      var secret = _this.state.secret;


      _this.swap.flow.submitSecret(secret);
    };

    _this.updateBalance = function () {
      _this.swap.flow.syncBalance();
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
      _this.setState(function () {
        return { enabledButton: false };
      });
    };

    _this.getRefundTxHex = function () {
      var flow = _this.state.flow;


      if (flow.refundTxHex) {
        return flow.refundTxHex;
      } else if (flow.btcScriptValues) {
        _this.swap.flow.getRefundTxHex();
      }
    };

    _this.toggleLitecoinScript = function () {
      _this.setState({
        isShowingLitecoinScript: !_this.state.isShowingLitecoinScript
      });
    };

    _this.swap = swap;

    _this.state = {
      enabledButton: false,
      flow: _this.swap.flow.state,
      isShowingBitcoinScript: false,
      currencyAddress: currencyData.address,
      secret: _crypto2.default.randomBytes(32).toString('hex')
    };
    return _this;
  }

  (0, _createClass3.default)(BtcToLtc, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          children = _props.children,
          disabledTimer = _props.disabledTimer;
      var _state = this.state,
          currencyAddress = _state.currencyAddress,
          secret = _state.secret,
          flow = _state.flow,
          enabledButton = _state.enabledButton,
          isShowingLitecoinScript = _state.isShowingLitecoinScript;


      return _react2.default.createElement(
        'div',
        null,
        this.swap.id && _react2.default.createElement(
          'strong',
          null,
          this.swap.sellAmount.toNumber(),
          ' ',
          this.swap.sellCurrency,
          ' \u27F6 ',
          this.swap.buyAmount.toNumber(),
          ' ',
          this.swap.buyCurrency
        ),
        !this.swap.id && (this.swap.isMy ? _react2.default.createElement(
          'h3',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'doesn\'t', defaultMessage: 'This order doesn\'t have a buyer' })
        ) : _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'offline', defaultMessage: 'The order creator is offline. Waiting for him..' })
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        )),
        !flow.isParticipantSigned && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Waiting', defaultMessage: 'Waiting for other user when he connect to the order' })
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        ),
        flow.isParticipantSigned && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BTCTOLTC132', defaultMessage: '2. Create a secret key' })
          ),
          !flow.secretHash ? _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement('input', { type: 'text', placeholder: 'Secret Key', defaultValue: secret }),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _controls.TimerButton,
              { disabledTimer: disabledTimer, timeLeft: 5, brand: true, onClick: this.submitSecret },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToLtc.Confirm', defaultMessage: 'Confirm' })
            )
          ) : _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LTCTOBTC147', defaultMessage: 'Save the secret key! Otherwise there will be a chance you loose your money!' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LTCTOBTC150', defaultMessage: 'Secret Key: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secret
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SecretHash', defaultMessage: 'Secret Hash: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash
              )
            )
          ),
          flow.step === 3 && !flow.isBalanceEnough && !flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Notenough', defaultMessage: 'Not enough money for this swap. Please fund the balance' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'balance', defaultMessage: 'Your balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  flow.balance
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Required', defaultMessage: 'Required balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  this.swap.sellAmount.toNumber()
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'address', defaultMessage: 'Your address: ' }),
                _react2.default.createElement(
                  'a',
                  { href: _appConfig2.default.link.bitpay + '/address/' + currencyAddress, target: '_blank', el: 'noopener noreferrer' },
                  currencyAddress
                )
              ),
              _react2.default.createElement('hr', null),
              _react2.default.createElement(
                'span',
                null,
                flow.address
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _controls.Button,
              { brand: true, onClick: this.updateBalance },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Continue', defaultMessage: 'Continue' })
            )
          ),
          flow.step === 3 && flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Checkingbalance', defaultMessage: 'Checking balance..' })
            ),
            _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step === 4 || flow.btcScriptValues) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToLtc205', defaultMessage: '3. Creating Bitcoin Script.{br}Please wait, it can take a few minutes', values: { br: _react2.default.createElement('br', null) } })
            ),
            flow.btcScriptCreatingTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Transaction', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.bitpay + '/tx/' + flow.btcScriptCreatingTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.btcScriptCreatingTransactionHash
                )
              )
            ),
            !flow.btcScriptValues && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          flow.btcScriptValues && !flow.isFinished && !flow.isLtcWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement('br', null),
            !flow.refundTxHex && _react2.default.createElement(
              _controls.Button,
              { brand: true, onClick: this.getRefundTxHex },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BTCtoLTC236', defaultMessage: 'Create refund hex' })
            ),
            flow.refundTxHex && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: 'https://wiki.swap.online/faq/my-swap-got-stuck-and-my-bitcoin-has-been-withdrawn-what-to-do/',
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BTCtoLTC246', defaultMessage: 'How refund your money ?' })
              ),
              'Refund hex transaction:',
              _react2.default.createElement(
                'code',
                null,
                flow.refundTxHex
              )
            )
          ),
          (flow.step === 5 || flow.isLtcScriptFunded) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BTCtoLTC262', defaultMessage: '4. LTC Owner received Bitcoin Script and Secret Hash. Waiting when he creates LTC Script' })
            ),
            !flow.isLtcScriptFunded && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step === 6 || flow.isLtcWithdrawn) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BTCtoLTC276', defaultMessage: '5. Litecoin Script created and charged. Please check the information below' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SecretHash', defaultMessage: 'Secret Hash: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Scriptaddress:', defaultMessage: 'Script address: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.ltcSwapCreationTransactionHash && _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.ltc + '/tx/' + flow.ltcSwapCreationTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.ltcSwapCreationTransactionHash
                )
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _react.Fragment,
              null,
              flow.ltcScriptValues && _react2.default.createElement(
                'span',
                { onClick: this.toggleLitecoinScript },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BTCtoLTC301', defaultMessage: 'Show litecoin script' })
              ),
              isShowingLitecoinScript && _react2.default.createElement(
                'pre',
                null,
                _react2.default.createElement(
                  'code',
                  null,
                  '\n  bitcoinjs.script.compile([\n    bitcoin.core.opcodes.OP_RIPEMD160,\n    Buffer.from(\'' + flow.ltcScriptValues.secretHash + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_EQUALVERIFY,\n    Buffer.from(\'' + flow.ltcScriptValues.recipientPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_EQUAL,\n    bitcoin.core.opcodes.OP_IF,\n    Buffer.from(\'' + flow.ltcScriptValues.recipientPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n    bitcoin.core.opcodes.OP_ELSE,\n    bitcoin.core.script.number.encode(' + flow.ltcScriptValues.lockTime + '),\n    bitcoin.core.opcodes.OP_CHECKLOCKTIMEVERIFY,\n    bitcoin.core.opcodes.OP_DROP,\n    Buffer.from(\'' + flow.ltcScriptValues.ownerPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n    bitcoin.core.opcodes.OP_ENDIF,\n  ])\n                      '
                )
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement('br', null)
          ),
          flow.ltcSwapWithdrawTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Transaction', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.ltc + '/tx/' + flow.ltcSwapWithdrawTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                flow.ltcSwapWithdrawTransactionHash
              )
            )
          ),
          flow.step === 6 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.isLtcWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'MoneyWasTransferred', defaultMessage: '6. LTC was transferred to your wallet. Check the balance.' })
            ),
            _react2.default.createElement(
              'h2',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Thank', defaultMessage: 'Thank you for using Swap.Online!' })
            )
          ),
          flow.step >= 5 && !flow.isFinished && _react2.default.createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center' } },
            enabledButton && !flow.isLtcWithdrawn && _react2.default.createElement(
              _controls.Button,
              { brand: true, onClick: this.tryRefund },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'REFUND', defaultMessage: 'TRY REFUND' })
            ),
            _react2.default.createElement(_Timer2.default, {
              lockTime: flow.btcScriptValues.lockTime * 1000,
              enabledButton: function enabledButton() {
                return _this2.setState({ enabledButton: true });
              }
            })
          ),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Transaction', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.bitpay + '/tx/' + flow.refundTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                flow.refundTransactionHash
              )
            )
          )
        ),
        _react2.default.createElement('br', null),
        children
      );
    }
  }]);
  return BtcToLtc;
}(_react.Component);

exports.default = BtcToLtc;

/***/ }),

/***/ 1984:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(30);

var _InlineLoader = __webpack_require__(115);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _TimerButton = __webpack_require__(401);

var _TimerButton2 = _interopRequireDefault(_TimerButton);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _Timer = __webpack_require__(128);

var _Timer2 = _interopRequireDefault(_Timer);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LtcToBtc = function (_Component) {
  (0, _inherits3.default)(LtcToBtc, _Component);

  function LtcToBtc(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData;
    (0, _classCallCheck3.default)(this, LtcToBtc);

    var _this = (0, _possibleConstructorReturn3.default)(this, (LtcToBtc.__proto__ || (0, _getPrototypeOf2.default)(LtcToBtc)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      var stepNumbers = {
        1: 'sign',
        2: 'wait-lock-btc',
        3: 'verify-script',
        4: 'sync-balance',
        5: 'lock-ltc',
        6: 'wait-withdraw-ltc',
        7: 'withdraw-btc',
        8: 'finish',
        9: 'end'

        // actions.analytics.swapEvent(stepNumbers[values.step], 'LTC-BTC')

      };_this.setState({
        flow: values
      });
    };

    _this.overProgress = function (_ref2) {
      var flow = _ref2.flow,
          length = _ref2.length;

      _actions2.default.loader.show(true, '', '', true, { flow: flow, length: length, name: 'LTC2BTC' });
    };

    _this.signSwap = function () {
      _this.swap.flow.sign();
    };

    _this.confirmBTCScriptChecked = function () {
      _this.swap.flow.verifyBtcScript();
    };

    _this.updateBalance = function () {
      _this.swap.flow.syncBalance();
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
      _this.setState(function () {
        return { enabledButton: false };
      });
    };

    _this.getRefundTxHex = function () {
      var flow = _this.state.flow;


      if (flow.refundTxHex) {
        return flow.refundTxHex;
      } else if (flow.ltcScriptValues) {
        _this.swap.flow.getRefundTxHex();
      }
    };

    _this.toggleBitcoinScript = function () {
      _this.setState({
        isShowingBitcoinScript: !_this.state.isShowingBitcoinScript
      });
    };

    _this.swap = swap;

    _this.state = {
      currencyAddress: currencyData.address,
      flow: _this.swap.flow.state,
      enabledButton: false,
      isShowingBitcoinScript: false
    };
    return _this;
  }

  (0, _createClass3.default)(LtcToBtc, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          children = _props.children,
          disabledTimer = _props.disabledTimer;
      var _state = this.state,
          currencyAddress = _state.currencyAddress,
          flow = _state.flow,
          enabledButton = _state.enabledButton,
          isShowingBitcoinScript = _state.isShowingBitcoinScript;


      return _react2.default.createElement(
        'div',
        null,
        this.swap.id && _react2.default.createElement(
          'strong',
          null,
          this.swap.sellAmount.toNumber(),
          ' ',
          this.swap.sellCurrency,
          ' \u27F6 ',
          this.swap.buyAmount.toNumber(),
          ' ',
          this.swap.buyCurrency
        ),
        !this.swap.id && (this.swap.isMy ? _react2.default.createElement(
          'h3',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'doesn&apos', defaultMessage: 'This order doesn\'t have a buyer' })
        ) : _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'offline', defaultMessage: 'The order creator is offline. Waiting for him..' })
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        )),
        flow.isWaitingForOwner && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Waiting', defaultMessage: 'Waiting for other user when he connect to the order' })
          ),
          _react2.default.createElement(_InlineLoader2.default, null)
        ),
        flow.step === 1 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'Confirmation' // eslint-disable-next-line
              , defaultMessage: 'Confirmation of the transaction is necessary for crediting the reputation. If a user does not bring the deal to the end he gets a negative credit to his reputation.' })
          ),
          _react2.default.createElement(
            _TimerButton2.default,
            { disabledTimer: disabledTimer, timeLeft: 5, brand: true, onClick: this.signSwap },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Sign', defaultMessage: 'Sign' })
          ),
          (flow.isSignFetching || flow.signTransactionHash) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h4',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PleaseWaitConfirmationProcessing', defaultMessage: 'Please wait. Confirmation processing' })
            ),
            flow.signTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Transaction', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.ltc + '/tx/' + flow.signTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.signTransactionHash
                )
              )
            ),
            flow.isSignFetching && _react2.default.createElement(_InlineLoader2.default, null)
          )
        ),
        flow.isMeSigned && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcToBtc.Confirm', defaultMessage: '2. Waiting for BTC Owner to create Secret Key, create BTC Script and charge it' })
          ),
          flow.step === 2 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.secretHash && flow.btcScriptValues && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LTCTOBTC191', defaultMessage: '3. The bitcoin Script was created and charged. Please check the information below' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SecretHash', defaultMessage: 'Secret Hash: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Scriptaddress', defaultMessage: 'Script address: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.btcScriptCreatingTransactionHash && _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.bitpay + '/tx/' + flow.btcScriptCreatingTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.btcScriptCreatingTransactionHash
                )
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _react.Fragment,
              null,
              flow.btcScriptValues && _react2.default.createElement(
                'span',
                { onClick: this.toggleBitcoinScript },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LTCTOBTC216', defaultMessage: 'Show bitcoin script' })
              ),
              isShowingBitcoinScript && _react2.default.createElement(
                'pre',
                null,
                _react2.default.createElement(
                  'code',
                  null,
                  '\n  bitcoinjs.script.compile([\n    bitcoin.core.opcodes.OP_RIPEMD160,\n    Buffer.from(\'' + flow.btcScriptValues.secretHash + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_EQUALVERIFY,\n    Buffer.from(\'' + flow.btcScriptValues.recipientPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_EQUAL,\n    bitcoin.core.opcodes.OP_IF,\n    Buffer.from(\'' + flow.btcScriptValues.recipientPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n    bitcoin.core.opcodes.OP_ELSE,\n    bitcoin.core.script.number.encode(' + flow.btcScriptValues.lockTime + '),\n    bitcoin.core.opcodes.OP_CHECKLOCKTIMEVERIFY,\n    bitcoin.core.opcodes.OP_DROP,\n    Buffer.from(\'' + flow.btcScriptValues.ownerPublicKey + '\', \'hex\'),\n    bitcoin.core.opcodes.OP_CHECKSIG,\n    bitcoin.core.opcodes.OP_ENDIF,\n  ])\n                      '
                )
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement('br', null),
            flow.step === 3 && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                _TimerButton2.default,
                { disabledTimer: disabledTimer, timeLeft: 5, brand: true, onClick: this.confirmBTCScriptChecked },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'OK', defaultMessage: 'Everything is OK. Continue' })
              )
            )
          ),
          flow.step === 4 && !flow.isBalanceEnough && !flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Notenough', defaultMessage: 'Not enough money for this swap. Please fund the balance' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'balance', defaultMessage: 'Your balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  flow.balance
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Required', defaultMessage: 'Required balance: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  this.swap.sellAmount.toNumber()
                ),
                ' ',
                this.swap.sellCurrency
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'address', defaultMessage: 'Your address: ' }),
                _react2.default.createElement(
                  'a',
                  { href: _appConfig2.default.link.ltc + '/address/' + currencyAddress, target: '_blank', el: 'noopener noreferrer' },
                  currencyAddress
                )
              ),
              _react2.default.createElement('hr', null),
              _react2.default.createElement(
                'span',
                null,
                flow.address
              )
            ),
            _react2.default.createElement('br', null),
            _react2.default.createElement(
              _Button2.default,
              { brand: true, onClick: this.updateBalance },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Continue', defaultMessage: 'Continue' })
            )
          ),
          flow.step === 4 && flow.isBalanceFetching && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Checkingbalance', defaultMessage: 'Checking balance..' })
            ),
            _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step >= 5 || flow.isLtcScriptFunded) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LtcToBtc205', defaultMessage: '4. Creating LTC Script.{br}Please wait, it can take a few minutes', values: { br: _react2.default.createElement('br', null) } })
            )
          ),
          flow.ltcSwapCreationTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Transaction', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.ltc + '/tx/' + flow.ltcSwapCreationTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.ltcSwapCreationTransactionHash
              )
            )
          ),
          flow.step === 5 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Transaction', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.ltc + '/tx/' + flow.refundTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.refundTransactionHash
              )
            )
          ),
          (flow.step === 6 || flow.isLtcWithdrawn) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LTCTOBTC350', defaultMessage: '5. Waiting for BTC Owner to add a Secret Key to LTC Contact' })
            ),
            !flow.isLtcWithdrawn && _react2.default.createElement(_InlineLoader2.default, null)
          ),
          (flow.step === 7 || flow.isBtcWithdrawn) && _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'LTCTOBTC365',
              defaultMessage: '6. BTC Owner successfully took money from LTC Script and left Secret Key. Requesting withdrawal from BTC Script. Please wait' })
          ),
          flow.btcSwapWithdrawTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Transaction', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.bitpay + '/tx/' + flow.btcSwapWithdrawTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                flow.btcSwapWithdrawTransactionHash
              )
            )
          ),
          flow.step === 7 && _react2.default.createElement(_InlineLoader2.default, null),
          flow.isBtcWithdrawn && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'LTCTOBTC396', defaultMessage: '7. BTC was transferred to your wallet. Check the balance.' })
            ),
            _react2.default.createElement(
              'h2',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Thank', defaultMessage: 'Thank you for using Swap.Online!' })
            )
          ),
          flow.step >= 6 && !flow.isFinished && _react2.default.createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center' } },
            enabledButton && !flow.isBtcWithdrawn && _react2.default.createElement(
              _Button2.default,
              { brand: true, onClick: this.tryRefund },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'REFUND', defaultMessage: 'TRY REFUND' })
            ),
            _react2.default.createElement(_Timer2.default, {
              lockTime: (flow.btcScriptValues.lockTime - 5400) * 1000,
              enabledButton: function enabledButton() {
                return _this2.setState({ enabledButton: true });
              }
            })
          ),
          flow.refundTransactionHash && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Transaction', defaultMessage: 'Transaction: ' }),
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.bitpay + '/tx/' + flow.refundTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                flow.refundTransactionHash
              )
            )
          )
        ),
        _react2.default.createElement('br', null),
        children
      );
    }
  }]);
  return LtcToBtc;
}(_react.Component);

exports.default = LtcToBtc;

/***/ }),

/***/ 1985:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(30);

var _reactCopyToClipboard = __webpack_require__(130);

var _reactCopyToClipboard2 = _interopRequireDefault(_reactCopyToClipboard);

var _InlineLoader = __webpack_require__(115);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _TimerButton = __webpack_require__(401);

var _TimerButton2 = _interopRequireDefault(_TimerButton);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _Timer = __webpack_require__(128);

var _Timer2 = _interopRequireDefault(_Timer);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EthToBch = function (_Component) {
  (0, _inherits3.default)(EthToBch, _Component);

  function EthToBch(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData,
        depositWindow = _ref.depositWindow;
    (0, _classCallCheck3.default)(this, EthToBch);

    var _this = (0, _possibleConstructorReturn3.default)(this, (EthToBch.__proto__ || (0, _getPrototypeOf2.default)(EthToBch)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      var stepNumbers = {
        1: 'sign',
        2: 'wait-lock-bch',
        3: 'verify-script',
        4: 'sync-balance',
        5: 'lock-eth',
        6: 'wait-withdraw-eth',
        7: 'withdraw-bch',
        8: 'finish',
        9: 'end'
      };

      _actions2.default.analytics.swapEvent(stepNumbers[values.step], 'ETH-BCH');

      _this.setState({
        flow: values
      });

      // this.overProgress(values, Object.keys(stepNumbers).length)
    };

    _this.signSwap = function () {
      _this.swap.flow.sign();
    };

    _this.confirmBCHScriptChecked = function () {
      _this.swap.flow.verifyBchScript();
    };

    _this.updateBalance = function () {
      _this.swap.flow.syncBalance();
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
      _this.setState(function () {
        return { enabledButton: false };
      });
    };

    _this.toggleBitcoinScript = function () {
      _this.setState({
        isShowingBitcoinScript: !_this.state.isShowingBitcoinScript
      });
    };

    _this.swap = swap;

    _this.state = {
      depositWindow: depositWindow,
      enabledButton: false,
      isAddressCopied: false,
      flow: _this.swap.flow.state,
      isShowingBitcoinScript: false,
      currencyAddress: currencyData.address
    };
    return _this;
  }

  (0, _createClass3.default)(EthToBch, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }

    // overProgress = (flow, length) => {
    //   actions.loader.show(true, '', '', true, { flow, length, name: 'ETH2BCH' })
    // }

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var children = this.props.children;
      var _state = this.state,
          currencyAddress = _state.currencyAddress,
          flow = _state.flow,
          enabledButton = _state.enabledButton,
          isShowingBitcoinScript = _state.isShowingBitcoinScript,
          isAddressCopied = _state.isAddressCopied;

      var headingStyle = {
        color: '#5100dc',
        textTransform: 'uppercase',
        fontSize: '20px',
        marginTop: '20px',
        borderTop: '1px solid #5100dc',
        paddingTop: '20px' };

      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'div',
          { className: this.props.styles.swapWrapper },
          this.swap.id && _react2.default.createElement(
            'strong',
            null,
            this.swap.sellAmount.toNumber(),
            this.swap.sellCurrency,
            ' \u27F6',
            this.swap.buyAmount.toNumber(),
            this.swap.buyCurrency
          )
        ),
        _react2.default.createElement(
          'div',
          null,
          !this.swap.id && (this.swap.isMy ? _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc99', defaultMessage: 'This order doesn\'t have a buyer' })
          ) : _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc104', defaultMessage: 'Waiting the order creator' })
            ),
            _react2.default.createElement(_InlineLoader2.default, null)
          )),
          flow.isWaitingForOwner && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              { style: headingStyle },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc115', defaultMessage: 'Waiting for other user when he connect to the order' })
            ),
            _react2.default.createElement(_InlineLoader2.default, null)
          ),
          flow.step === 1 && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'EthToBtc125',
                defaultMessage: '\n                      "Confirmation of the transaction is necessary for crediting the reputation.\n                      If a user does not bring the deal to the end he gets a negative credit to his reputation."\n                    '
              })
            ),
            _react2.default.createElement(
              _TimerButton2.default,
              { timeLeft: 5, brand: true, onClick: this.signSwap },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc128', defaultMessage: 'Sign' })
            ),
            (flow.isSignFetching || flow.signTransactionHash) && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(
                'h4',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc134', defaultMessage: 'Please wait. Confirmation processing' })
              ),
              flow.signTransactionHash && _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc139', defaultMessage: 'Transaction: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  _react2.default.createElement(
                    'a',
                    {
                      href: _appConfig2.default.link.etherscan + '/tx/' + flow.signTransactionHash,
                      target: '_blank',
                      rel: 'noopener noreferrer'
                    },
                    flow.signTransactionHash
                  )
                )
              ),
              flow.isSignFetching && _react2.default.createElement(_InlineLoader2.default, null)
            )
          ),
          flow.step > 1 && _react2.default.createElement(
            'h3',
            { style: headingStyle },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BchToEthToken157', defaultMessage: '1. Confirmation' })
          ),
          flow.isMeSigned && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              { style: headingStyle },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc167', defaultMessage: '2. Waiting for BCH Owner to create Secret Key, create BCH Script and charge it' })
            ),
            flow.step === 2 && _react2.default.createElement(_InlineLoader2.default, null),
            flow.secretHash && flow.bchScriptValues && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(
                'h3',
                { style: headingStyle },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc179', defaultMessage: '3. The bitcoin cash Script was created and charged. Please check the information below' })
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc182', defaultMessage: 'Secret Hash: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  flow.secretHash
                )
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(
                  'strong',
                  null,
                  flow.bchScriptCreatingTransactionHash && _react2.default.createElement(
                    'a',
                    {
                      href: _appConfig2.default.link.bch + '/tx/' + flow.bchScriptCreatingTransactionHash,
                      target: '_blank',
                      rel: 'noopener noreferrer'
                    },
                    flow.bchScriptCreatingTransactionHash
                  )
                )
              ),
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                _react.Fragment,
                null,
                flow.bchScriptValues && _react2.default.createElement(
                  'span',
                  { onClick: this.toggleBitcoinScript },
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc204', defaultMessage: 'Show bitcoin cash script' })
                ),
                isShowingBitcoinScript && _react2.default.createElement(
                  'pre',
                  null,
                  _react2.default.createElement(
                    'code',
                    null,
                    '\n    bitcoincashjs.script.compile([\n      bitcoincash.core.opcodes.OP_RIPEMD160,\n      Buffer.from(\'' + flow.bchScriptValues.secretHash + '\', \'hex\'),\n      bitcoincash.core.opcodes.OP_EQUALVERIFY,\n      Buffer.from(\'' + flow.bchScriptValues.recipientPublicKey + '\', \'hex\'),\n      bitcoincash.core.opcodes.OP_EQUAL,\n      bitcoincash.core.opcodes.OP_IF,\n      Buffer.from(\'' + flow.bchScriptValues.recipientPublicKey + '\', \'hex\'),\n      bitcoincash.core.opcodes.OP_CHECKSIG,\n      bitcoincash.core.opcodes.OP_ELSE,\n      bitcoincash.core.script.number.encode(' + flow.bchScriptValues.lockTime + '),\n      bitcoincash.core.opcodes.OP_CHECKLOCKTIMEVERIFY,\n      bitcoincash.core.opcodes.OP_DROP,\n      Buffer.from(\'' + flow.bchScriptValues.ownerPublicKey + '\', \'hex\'),\n      bitcoincash.core.opcodes.OP_CHECKSIG,\n      bitcoincash.core.opcodes.OP_ENDIF,\n    ])\n                        '
                  )
                )
              ),
              _react2.default.createElement('br', null),
              flow.step === 3 && _react2.default.createElement(
                _react.Fragment,
                null,
                _react2.default.createElement('br', null),
                _react2.default.createElement(
                  _TimerButton2.default,
                  { timeLeft: 5, brand: true, onClick: this.confirmBCHScriptChecked },
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc247', defaultMessage: 'Everything is OK. Continue' })
                )
              )
            ),
            flow.step === 4 && !flow.isBalanceEnough && !flow.isBalanceFetching && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(
                'h3',
                { style: headingStyle },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc260', defaultMessage: 'Not enough money for this swap. Please fund the balance' })
              ),
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(
                  'div',
                  null,
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc264', defaultMessage: 'Your balance: ' }),
                  _react2.default.createElement(
                    'strong',
                    null,
                    flow.balance
                  ),
                  ' ',
                  this.swap.sellCurrency
                ),
                _react2.default.createElement(
                  'div',
                  null,
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc267', defaultMessage: 'Required balance: ' }),
                  _react2.default.createElement(
                    'strong',
                    null,
                    this.swap.sellAmount.toNumber()
                  ),
                  ' ',
                  this.swap.sellCurrency
                ),
                _react2.default.createElement(
                  'div',
                  null,
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc270', defaultMessage: 'Your address: ' }),
                  _react2.default.createElement(
                    'a',
                    { href: _appConfig2.default.link.etherscan + '/address/' + currencyAddress, target: '_blank', rel: 'noopener noreferrer' },
                    currencyAddress
                  )
                ),
                _react2.default.createElement('hr', null),
                _react2.default.createElement(
                  'span',
                  null,
                  flow.address
                )
              ),
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                _Button2.default,
                { brand: true, onClick: this.updateBalance },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc277', defaultMessage: 'Continue' })
              )
            ),
            flow.step === 4 && flow.isBalanceFetching && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc286', defaultMessage: 'Checking balance..' })
              ),
              _react2.default.createElement(_InlineLoader2.default, null)
            ),
            (flow.step >= 5 || flow.isEthContractFunded) && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(
                'h3',
                { style: headingStyle },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc297', defaultMessage: '5. Creating Ethereum Contract. Please wait, it can take a few minutes' })
              )
            ),
            flow.ethSwapCreationTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc305', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapCreationTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.ethSwapCreationTransactionHash
                )
              )
            ),
            flow.step === 5 && _react2.default.createElement(_InlineLoader2.default, null),
            flow.refundTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc326', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.etherscan + '/tx/' + flow.refundTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.refundTransactionHash
                )
              )
            ),
            (flow.step === 6 || flow.isEthWithdrawn) && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(
                'h3',
                { style: headingStyle },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc343', defaultMessage: '6. Waiting for BCH Owner to add a Secret Key to ETH Contact' })
              ),
              !flow.isEthWithdrawn && _react2.default.createElement(_InlineLoader2.default, null)
            ),
            (flow.step === 7 || flow.isBchWithdrawn) && _react2.default.createElement(
              'h3',
              { style: headingStyle },
              _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'EthToBtc357',
                defaultMessage: '7. The funds from ETH contract was successfully transferred to BCH owner. BCH owner left a secret key. Requesting withdrawal from BCH script. Please wait.' // eslint-disable-line
              })
            ),
            flow.bchSwapWithdrawTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc364', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.bch + '/tx/' + flow.bchSwapWithdrawTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.bchSwapWithdrawTransactionHash
                )
              )
            ),
            flow.step === 7 && _react2.default.createElement(_InlineLoader2.default, null),
            flow.isBchWithdrawn && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(
                'h3',
                { style: headingStyle },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc387', defaultMessage: '8. BCH was transferred to your wallet. Check the balance.' })
              ),
              _react2.default.createElement(
                'h3',
                { style: headingStyle },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc390', defaultMessage: 'Thank you for using Swap.Online!' })
              )
            ),
            flow.step >= 6 && !flow.isFinished && _react2.default.createElement(
              'div',
              { style: { display: 'flex', alignItems: 'center' } },
              enabledButton && !flow.isBchWithdrawn && _react2.default.createElement(
                _Button2.default,
                { brand: true, onClick: this.tryRefund },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc400', defaultMessage: 'TRY REFUND' })
              ),
              _react2.default.createElement(_Timer2.default, { lockTime: (flow.bchScriptValues.lockTime - 5400) * 1000, enabledButton: function enabledButton() {
                  return _this2.setState({ enabledButton: true });
                } })
            ),
            flow.refundTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthToBtc412', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.bch + '/tx/' + flow.refundTransactionHash,
                    target: '_blank',
                    rel: 'noreferrer noopener'
                  },
                  flow.refundTransactionHash
                )
              )
            )
          ),
          _react2.default.createElement('br', null)
        )
      );
    }
  }]);
  return EthToBch;
}(_react.Component);

exports.default = EthToBch;

/***/ }),

/***/ 1986:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _crypto = __webpack_require__(101);

var _crypto2 = _interopRequireDefault(_crypto);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Swap = __webpack_require__(158);

var _Swap2 = _interopRequireDefault(_Swap);

var _bignumber = __webpack_require__(30);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _Timer = __webpack_require__(128);

var _Timer2 = _interopRequireDefault(_Timer);

var _InlineLoader = __webpack_require__(115);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _controls = __webpack_require__(46);

var _reactIntl = __webpack_require__(8);

var _DepositWindow = __webpack_require__(319);

var _DepositWindow2 = _interopRequireDefault(_DepositWindow);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BchToEth = function (_Component) {
  (0, _inherits3.default)(BchToEth, _Component);

  function BchToEth(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData,
        enoughBalance = _ref.enoughBalance;
    (0, _classCallCheck3.default)(this, BchToEth);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BchToEth.__proto__ || (0, _getPrototypeOf2.default)(BchToEth)).call(this));

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
    };

    _this.handleFlowStateUpdate = function (values) {

      var stepNumbers = {
        1: 'sign',
        2: 'submit-secret',
        3: 'sync-balance',
        4: 'lock-bch',
        5: 'wait-lock-eth',
        6: 'withdraw-eth',
        7: 'finish',
        8: 'end'
      };

      _actions2.default.analytics.swapEvent(stepNumbers[values.step], 'BCH2ETH');

      _this.setState({
        flow: values
      });

      // this.overProgress(values, Object.keys(stepNumbers).length)
    };

    _this.submitSecret = function () {
      var secret = _this.state.secret;


      _this.swap.flow.submitSecret(secret);
    };

    _this.updateBalance = function () {
      _this.swap.flow.syncBalance();
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
      _this.setState(function () {
        return { enabledButton: false };
      });
    };

    _this.getRefundTxHex = function () {
      var flow = _this.state.flow;


      if (flow.refundTxHex) {
        return flow.refundTxHex;
      } else if (flow.bchScriptValues) {
        _this.swap.flow.getRefundTxHex();
      }
    };

    _this.swap = swap;

    _this.state = {
      enoughBalance: enoughBalance,
      enabledButton: false,
      flow: _this.swap.flow.state,
      currencyAddress: currencyData.address,
      secret: _crypto2.default.randomBytes(32).toString('hex')
    };
    return _this;
  }

  (0, _createClass3.default)(BchToEth, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }

    // overProgress = (flow, length) => {
    //   actions.loader.show(true, '', '', true, { flow, length, name: 'BCH2ETH' })
    // }

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          children = _props.children,
          currencyData = _props.currencyData,
          swap = _props.swap;
      var _state = this.state,
          currencyAddress = _state.currencyAddress,
          secret = _state.secret,
          flow = _state.flow,
          enabledButton = _state.enabledButton,
          enoughBalance = _state.enoughBalance;


      var headingStyle = {
        color: '#5100dc',
        textTransform: 'uppercase',
        fontSize: '20px',
        marginTop: '20px',
        borderTop: '1px solid #5100dc',
        paddingTop: '20px' };
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'div',
          { className: this.props.styles.swapWrapper },
          this.swap.id && _react2.default.createElement(
            'strong',
            null,
            this.swap.sellAmount.toNumber(),
            this.swap.sellCurrency,
            ' \u27F6',
            this.swap.buyAmount.toNumber(),
            this.swap.buyCurrency
          )
        ),
        _react2.default.createElement(
          'div',
          null,
          !this.swap.id && (this.swap.isMy ? _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth100', defaultMessage: 'This order doesn\'t have a buyer' })
          ) : _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth105', defaultMessage: 'The order creator is offline. Waiting for him..' })
            ),
            _react2.default.createElement(_InlineLoader2.default, null)
          )),
          !flow.isParticipantSigned && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'h3',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'BtcToEth116',
                defaultMessage: 'Waiting for a market maker. If the market maker does not appear within 5 minutes, the swap will be canceled automatically.' })
            ),
            _react2.default.createElement(_InlineLoader2.default, null)
          ),
          flow.step > 1 && _react2.default.createElement(
            'h3',
            { style: headingStyle },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthToken157', defaultMessage: '1. Confirmation' })
          ),
          flow.isParticipantSigned && _react2.default.createElement(
            _react.Fragment,
            null,
            flow.step < 4 ? _react2.default.createElement(
              'h3',
              { style: headingStyle },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthToken201', defaultMessage: '2. Create a secret key' })
            ) : _react2.default.createElement(
              'h3',
              { style: headingStyle },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthToken213', defaultMessage: '2. Created a secret key' })
            ),
            !flow.secretHash && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement('input', { type: 'text', placeholder: 'Secret Key', defaultValue: secret }),
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                _controls.TimerButton,
                { timeLeft: 5, brand: true, onClick: this.submitSecret },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth134', defaultMessage: 'Confirm' })
              )
            ),
            flow.step === 3 && flow.isBalanceFetching && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(
                'div',
                { style: headingStyle },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth183', defaultMessage: 'Checking balance..' })
              ),
              _react2.default.createElement(_InlineLoader2.default, null)
            ),
            window && flow.step > 4 && _react2.default.createElement(
              'h3',
              { style: headingStyle },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthToken188', defaultMessage: 'Sent funds' })
            ),
            !enoughBalance && flow.step === 4 ? _react2.default.createElement(
              'div',
              { className: 'swapStep-4' },
              _react2.default.createElement(
                'h3',
                { style: headingStyle },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEthToken256', defaultMessage: 'Send your funds' })
              ),
              _react2.default.createElement(_DepositWindow2.default, { currencyData: currencyData, swap: swap, flow: swap.flow.state })
            ) : (flow.step === 4 || flow.bchScriptValues) && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(
                'h3',
                { style: headingStyle },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth194', defaultMessage: 'Creating bitcoin cash Script. Please wait, it can take a few minutes' })
              ),
              flow.bchScriptCreatingTransactionHash && _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth199', defaultMessage: 'Transaction: ' }),
                _react2.default.createElement(
                  'strong',
                  null,
                  _react2.default.createElement(
                    'a',
                    { href: _appConfig2.default.link.bch + '/tx/' + flow.bchScriptCreatingTransactionHash, target: '_blank', rel: 'noopener noreferrer' },
                    flow.bchScriptCreatingTransactionHash
                  )
                )
              ),
              !flow.bchScriptValues && _react2.default.createElement(_InlineLoader2.default, null)
            ),
            flow.bchScriptValues && !flow.isFinished && !flow.isEthWithdrawn && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement('br', null),
              !flow.refundTxHex && _react2.default.createElement(
                _controls.Button,
                { brand: true, onClick: this.getRefundTxHex },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth226', defaultMessage: 'Create refund hex' })
              ),
              flow.refundTxHex && _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: 'https://wiki.swap.online/faq/my-swap-got-stuck-and-my-bitcoin-has-been-withdrawn-what-to-do/',
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth233', defaultMessage: 'How refund your money ?' })
                ),
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth248', defaultMessage: 'Refund hex transaction: ' }),
                _react2.default.createElement(
                  'code',
                  null,
                  ' ',
                  flow.refundTxHex,
                  ' '
                )
              )
            ),
            (flow.step === 5 || flow.isEthContractFunded) && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(
                'h3',
                { style: headingStyle },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth253', defaultMessage: 'ETH Owner received bitcoin cash Script and Secret Hash. Waiting when he creates ETH Contract' })
              ),
              !flow.isEthContractFunded && _react2.default.createElement(_InlineLoader2.default, null)
            ),
            flow.ethSwapCreationTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth266', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapCreationTransactionHash,
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  flow.ethSwapCreationTransactionHash
                )
              )
            ),
            (flow.step === 6 || flow.isEthWithdrawn) && _react2.default.createElement(
              'h3',
              { style: headingStyle },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth282', defaultMessage: 'ETH Contract created and charged. Requesting withdrawal from ETH Contract. Please wait' })
            ),
            flow.ethSwapWithdrawTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth289', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapWithdrawTransactionHash,
                    target: '_blank',
                    rel: 'noreferrer noopener'
                  },
                  flow.ethSwapWithdrawTransactionHash
                )
              )
            ),
            flow.step === 6 && _react2.default.createElement(_InlineLoader2.default, null),
            flow.isEthWithdrawn && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(
                'h3',
                { style: headingStyle },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth312', defaultMessage: 'ETH was transferred to your wallet. Check the balance. ' })
              ),
              _react2.default.createElement(
                'h3',
                { style: headingStyle },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth315', defaultMessage: 'Thank you for using Swap.Online!' })
              )
            ),
            flow.step >= 5 && !flow.isFinished && _react2.default.createElement(
              'div',
              { style: { display: 'flex', alignItems: 'center' } },
              enabledButton && !flow.isEthWithdrawn && _react2.default.createElement(
                _controls.Button,
                { brand: true, onClick: this.tryRefund },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth325', defaultMessage: 'TRY REFUND' })
              ),
              _react2.default.createElement(_Timer2.default, {
                lockTime: flow.bchScriptValues.lockTime * 1000,
                enabledButton: function enabledButton() {
                  return _this2.setState({ enabledButton: true });
                }
              })
            ),
            flow.refundTransactionHash && _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEth338', defaultMessage: 'Transaction: ' }),
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: _appConfig2.default.link.bch + '/tx/' + flow.refundTransactionHash,
                    target: '_blank',
                    rel: 'noreferrer noopener'
                  },
                  flow.refundTransactionHash
                )
              )
            )
          ),
          _react2.default.createElement('br', null)
        )
      );
    }
  }]);
  return BchToEth;
}(_react.Component);

exports.default = BchToEth;

/***/ }),

/***/ 1987:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _crypto = __webpack_require__(101);

var _crypto2 = _interopRequireDefault(_crypto);

var _bitcoinjsLib = __webpack_require__(151);

var _bitcoinjsLib2 = _interopRequireDefault(_bitcoinjsLib);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _InlineLoader = __webpack_require__(115);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _TransactionLink = __webpack_require__(896);

var _TransactionLink2 = _interopRequireDefault(_TransactionLink);

var _controls = __webpack_require__(46);

var _Timer = __webpack_require__(128);

var _Timer2 = _interopRequireDefault(_Timer);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BtcToEos = function (_Component) {
  (0, _inherits3.default)(BtcToEos, _Component);

  function BtcToEos(_ref) {
    var swap = _ref.swap;
    (0, _classCallCheck3.default)(this, BtcToEos);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BtcToEos.__proto__ || (0, _getPrototypeOf2.default)(BtcToEos)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      _this.setState({
        flow: values
      });
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
      _this.setState(function () {
        return { enabledButton: false };
      });
    };

    _this.submitSecret = function () {
      var fromHexString = function fromHexString(hexString) {
        return new Uint8Array(hexString.match(/.{1,2}/g).map(function (byte) {
          return parseInt(byte, 16);
        }));
      };

      var hash = function hash(secret) {
        return _bitcoinjsLib2.default.crypto.sha256(fromHexString(secret));
      };

      var secret = _crypto2.default.randomBytes(32).toString('hex');
      var secretHash = hash(secret).toString('hex');

      _this.swap.events.dispatch('submit secret', { secret: secret, secretHash: secretHash });

      _this.setState({
        isSubmitted: true
      });
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
    };

    _this.swap = swap;

    _this.state = {
      flow: _this.swap.flow.state,
      isSubmitted: false,
      enabledButton: false
    };
    return _this;
  }

  (0, _createClass3.default)(BtcToEos, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          children = _props.children,
          disabledTimer = _props.disabledTimer;
      var _state = this.state,
          flow = _state.flow,
          isSubmitted = _state.isSubmitted,
          enabledButton = _state.enabledButton;


      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEos63', defaultMessage: '1. Generate secret key' })
          ),
          !isSubmitted && _react2.default.createElement(
            _controls.TimerButton,
            { disabledTimer: disabledTimer, brand: true, onClick: this.submitSecret },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEos67', defaultMessage: 'Send secret' })
          ),
          flow.secret && flow.secretHash && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEos74', defaultMessage: 'Secret: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secret.toString('hex')
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEos77', defaultMessage: 'Hash: ' }),
              _react2.default.createElement(
                'strong',
                null,
                flow.secretHash.toString('hex')
              )
            )
          )
        ),
        flow.step >= 2 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEos87', defaultMessage: '2. Fund BTC script' })
          ),
          flow.createTx === null && _react2.default.createElement(_InlineLoader2.default, null),
          flow.createTx !== null && _react2.default.createElement(_TransactionLink2.default, { type: 'BTC', id: flow.createTx })
        ),
        flow.step >= 3 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEos101', defaultMessage: '3. Request to open EOS contract' })
          ),
          flow.openTx === null && _react2.default.createElement(_InlineLoader2.default, null),
          flow.openTx !== null && _react2.default.createElement(_TransactionLink2.default, { type: 'EOS', id: flow.openTx })
        ),
        flow.step >= 4 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEos115', defaultMessage: '4. Withdraw EOS from contract' })
          ),
          !flow.eosWithdrawTx && !flow.btcRefundTx && _react2.default.createElement(_InlineLoader2.default, null),
          !flow.eosWithdrawTx && !flow.btcRefundTx && _react2.default.createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center' } },
            enabledButton && _react2.default.createElement(
              _controls.Button,
              { brand: true, onClick: this.tryRefund },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'BtcToEos126', defaultMessage: 'TRY REFUND' })
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_Timer2.default, { lockTime: flow.scriptValues.lockTime * 1000, enabledButton: function enabledButton() {
                  return _this2.setState({ enabledButton: true });
                } })
            )
          ),
          flow.eosWithdrawTx && _react2.default.createElement(_TransactionLink2.default, { type: 'EOS', id: flow.eosWithdrawTx }),
          flow.btcRefundTx && _react2.default.createElement(_TransactionLink2.default, { type: 'BTC', id: flow.btcRefundTx })
        ),
        _react2.default.createElement('br', null),
        children
      );
    }
  }]);
  return BtcToEos;
}(_react.Component);

exports.default = BtcToEos;

/***/ }),

/***/ 1988:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"link":"_1RXNDW"};

/***/ }),

/***/ 1989:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _InlineLoader = __webpack_require__(115);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _TransactionLink = __webpack_require__(896);

var _TransactionLink2 = _interopRequireDefault(_TransactionLink);

var _controls = __webpack_require__(46);

var _Timer = __webpack_require__(128);

var _Timer2 = _interopRequireDefault(_Timer);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EosToBtc = function (_Component) {
  (0, _inherits3.default)(EosToBtc, _Component);

  function EosToBtc(_ref) {
    var swap = _ref.swap;
    (0, _classCallCheck3.default)(this, EosToBtc);

    var _this = (0, _possibleConstructorReturn3.default)(this, (EosToBtc.__proto__ || (0, _getPrototypeOf2.default)(EosToBtc)).call(this));

    _this.handleFlowStateUpdate = function (values) {
      _this.setState({
        flow: values
      });
    };

    _this.tryRefund = function () {
      _this.swap.flow.tryRefund();
      _this.setState(function () {
        return { enabledButton: false };
      });
    };

    _this.swap = swap;

    _this.state = {
      flow: _this.swap.flow.state,
      enabledButton: false
    };
    return _this;
  }

  (0, _createClass3.default)(EosToBtc, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          children = _props.children,
          disabledTimer = _props.disabledTimer;
      var _state = this.state,
          flow = _state.flow,
          enabledButton = _state.enabledButton;


      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosToBtc59', defaultMessage: '1. Request to fund BTC script' })
          ),
          flow.createTx === null && _react2.default.createElement(_InlineLoader2.default, null),
          flow.createTx !== null && _react2.default.createElement(_TransactionLink2.default, { type: 'BTC', id: flow.createTx })
        ),
        flow.step >= 2 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosToBtc73', defaultMessage: '2. Verify BTC script' })
          )
        ),
        flow.step >= 3 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosToBtc82', defaultMessage: '3. Open EOS contract' })
          ),
          flow.openTx === null && _react2.default.createElement(_InlineLoader2.default, null),
          flow.openTx !== null && _react2.default.createElement(_TransactionLink2.default, { type: 'EOS', id: flow.openTx })
        ),
        flow.step >= 4 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosToBtc97', defaultMessage: '4. Request to withdraw EOS from contract' })
          ),
          !flow.eosWithdrawTx && !flow.eosRefundTx && _react2.default.createElement(_InlineLoader2.default, null),
          !flow.eosWithdrawTx && !flow.eosRefundTx && _react2.default.createElement(
            'div',
            { style: { display: 'flex', alignItems: 'center' } },
            enabledButton && _react2.default.createElement(
              _controls.Button,
              { brand: true, onClick: this.tryRefund },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosToBtc107', defaultMessage: 'TRY REFUND' })
            ),
            _react2.default.createElement(_Timer2.default, {
              lockTime: flow.scriptValues.lockTime / 2 * 1000,
              enabledButton: function enabledButton() {
                return _this2.setState({ enabledButton: true });
              }
            })
          ),
          flow.eosWithdrawTx !== null && _react2.default.createElement(_TransactionLink2.default, { type: 'EOS', id: flow.eosWithdrawTx }),
          flow.eosRefundTx !== null && _react2.default.createElement(_TransactionLink2.default, { type: 'EOS', id: flow.eosRefundTx })
        ),
        flow.step >= 5 && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosToBtc127', defaultMessage: '5. Withdraw BTC from script' })
          ),
          flow.btcWithdrawTx === null && _react2.default.createElement(_InlineLoader2.default, null),
          flow.btcWithdrawTx !== null && _react2.default.createElement(_TransactionLink2.default, { type: 'BTC', id: flow.btcWithdrawTx })
        ),
        _react2.default.createElement('br', null),
        children
      );
    }
  }]);
  return EosToBtc;
}(_react.Component);

exports.default = EosToBtc;

/***/ }),

/***/ 1990:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(17);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Swap = __webpack_require__(158);

var _Swap2 = _interopRequireDefault(_Swap);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _reactDeviceDetect = __webpack_require__(53);

var _bignumber = __webpack_require__(30);

var _reactIntl = __webpack_require__(8);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _SwapProgress = __webpack_require__(400);

var _SwapProgress2 = _interopRequireDefault(_SwapProgress);

var _SwapList = __webpack_require__(404);

var _SwapList2 = _interopRequireDefault(_SwapList);

var _FeeControler = __webpack_require__(403);

var _FeeControler2 = _interopRequireDefault(_FeeControler);

var _FailControler = __webpack_require__(1991);

var _FailControler2 = _interopRequireDefault(_FailControler);

var _DepositWindow = __webpack_require__(319);

var _DepositWindow2 = _interopRequireDefault(_DepositWindow);

var _paddingForSwapList = __webpack_require__(315);

var _paddingForSwapList2 = _interopRequireDefault(_paddingForSwapList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EthTokenToBtc = (_dec = (0, _reactCssModules2.default)(_Swap2.default), _dec(_class = function (_Component) {
  (0, _inherits3.default)(EthTokenToBtc, _Component);

  function EthTokenToBtc(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData,
        ethBalance = _ref.ethBalance,
        tokenItems = _ref.tokenItems;
    (0, _classCallCheck3.default)(this, EthTokenToBtc);

    var _this = (0, _possibleConstructorReturn3.default)(this, (EthTokenToBtc.__proto__ || (0, _getPrototypeOf2.default)(EthTokenToBtc)).call(this));

    _this.confirmBTCScriptChecked = function () {
      _this.swap.flow.verifyBtcScript();
    };

    _this.changePaddingValue = function () {
      var step = _this.state.flow.step;

      _this.setState(function () {
        return {
          paddingContainerValue: (0, _paddingForSwapList2.default)({ step: step })
        };
      });
    };

    _this.handleFlowStateUpdate = function (values) {

      var stepNumbers = {
        'sign': 1,
        'wait-lock-btc': 2,
        'verify-script': 3,
        'sync-balance': 4,
        'lock-eth': 5,
        'wait-withdraw-eth': 6, // aka getSecret
        'withdraw-btc': 7,
        'finish': 8,
        'end': 9

        // actions.analytics.swapEvent(stepNumbers[values.step], 'ETHTOKEN2BTC')

      };_this.setState({
        flow: values
      });
    };

    _this.signSwap = function () {
      _this.swap.flow.sign();
      _this.setState(function () {
        return {
          signed: true
        };
      });
    };

    _this.toggleBitcoinScript = function () {
      _this.setState({
        isShowingBitcoinScript: !_this.state.isShowingBitcoinScript
      });
    };

    _this.requestMaxAllowance = function () {
      var _this$swap = _this.swap,
          sellCurrency = _this$swap.sellCurrency,
          sellAmount = _this$swap.sellAmount;
      var ethTokenSwap = _this.swap.flow.ethTokenSwap;


      _actions2.default.token.setAllowanceForToken({
        name: sellCurrency,
        to: ethTokenSwap.address, // swap contract address
        targetAllowance: sellAmount,
        speed: 'fast'
      });
    };

    _this.handleCopy = function () {
      _this.setState({
        isAddressCopied: true
      }, function () {
        setTimeout(function () {
          _this.setState({
            isAddressCopied: false
          });
        }, 500);
      });
    };

    _this.swap = swap;

    _this.state = {
      swap: swap,
      currencyData: currencyData,
      tokenItems: tokenItems,
      signed: false,
      paddingContainerValue: 0,
      enabledButton: false,
      isAddressCopied: false,
      flow: _this.swap.flow.state,
      currencyAddress: currencyData.address
    };

    _this.signTimer = null;
    _this.confirmBtcTimer = null;

    return _this;
  }

  (0, _createClass3.default)(EthTokenToBtc, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      var _state$flow = this.state.flow,
          isSignFetching = _state$flow.isSignFetching,
          isMeSigned = _state$flow.isMeSigned,
          step = _state$flow.step;


      this.changePaddingValue();

      this.signTimer = setInterval(function () {
        if (!_this2.state.flow.isMeSigned) {
          _this2.signSwap();
        } else {
          clearInterval(_this2.signTimer);
        }
      }, 3000);

      this.confirmBtcTimer = setInterval(function () {
        if (_this2.state.flow.step === 3) {
          _this2.confirmBTCScriptChecked();
        } else {
          clearInterval(_this2.confirmBtcTimer);
        }
      }, 3000);

      this.requestMaxAllowance();
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate(prevProps, prevState) {
      if (prevState.flow !== this.state.flow) {
        this.changePaddingValue();
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          children = _props.children,
          disabledTimer = _props.disabledTimer,
          continueSwap = _props.continueSwap,
          enoughBalance = _props.enoughBalance,
          history = _props.history,
          ethAddress = _props.ethAddress,
          requestToFaucetSended = _props.requestToFaucetSended,
          onClickCancelSwap = _props.onClickCancelSwap,
          locale = _props.locale,
          wallets = _props.wallets;
      var _state = this.state,
          currencyAddress = _state.currencyAddress,
          flow = _state.flow,
          enabledButton = _state.enabledButton,
          isShowingBitcoinScript = _state.isShowingBitcoinScript,
          isAddressCopied = _state.isAddressCopied,
          currencyData = _state.currencyData,
          tokenItems = _state.tokenItems,
          signed = _state.signed,
          paddingContainerValue = _state.paddingContainerValue,
          swap = _state.swap;
      var canCreateEthTransaction = flow.canCreateEthTransaction,
          isFailedTransaction = flow.isFailedTransaction,
          gasAmountNeeded = flow.gasAmountNeeded;


      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'div',
          { styleName: 'swapContainer' },
          _react2.default.createElement(
            'div',
            { styleName: 'swapInfo' },
            this.swap.id && _react2.default.createElement(
              'strong',
              null,
              this.swap.sellAmount.toFixed(6),
              ' ',
              this.swap.sellCurrency,
              ' \u27F6 ',
              ' ',
              this.swap.buyAmount.toFixed(6),
              ' ',
              this.swap.buyCurrency
            )
          ),
          !enoughBalance && flow.step === 4 ? _react2.default.createElement(
            'div',
            { styleName: 'swapDepositWindow' },
            _react2.default.createElement(_DepositWindow2.default, { currencyData: currencyData, swap: swap, flow: flow, tokenItems: tokenItems })
          ) : _react2.default.createElement(
            _react.Fragment,
            null,
            !continueSwap ? _react2.default.createElement(
              _react.Fragment,
              null,
              !canCreateEthTransaction && _react2.default.createElement(_FeeControler2.default, { ethAddress: ethAddress, gasAmountNeeded: gasAmountNeeded }),
              isFailedTransaction && _react2.default.createElement(_FailControler2.default, { ethAddress: ethAddress })
            ) : _react2.default.createElement(_SwapProgress2.default, {
              flow: flow,
              name: 'EthTokensToBtc',
              swap: swap,
              tokenItems: tokenItems,
              history: history,
              locale: locale,
              wallets: wallets,
              signed: signed
            })
          ),
          _react2.default.createElement(_SwapList2.default, { enoughBalance: enoughBalance, flow: flow, swap: swap, onClickCancelSwap: onClickCancelSwap })
        ),
        _react2.default.createElement(
          'div',
          { styleName: 'swapContainerInfo' },
          children
        )
      );
    }
  }]);
  return EthTokenToBtc;
}(_react.Component)) || _class);
exports.default = EthTokenToBtc;

/***/ }),

/***/ 1991:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _FailControler = __webpack_require__(1992);

var _FailControler2 = _interopRequireDefault(_FailControler);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _reactCopyToClipboard = __webpack_require__(130);

var _reactCopyToClipboard2 = _interopRequireDefault(_reactCopyToClipboard);

var _reactIntl = __webpack_require__(8);

var _bignumber = __webpack_require__(30);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _Timer = __webpack_require__(546);

var _Timer2 = _interopRequireDefault(_Timer);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var isWidgetBuild = _appConfig2.default && _appConfig2.default.isWidget;

var FailControler = (_dec = (0, _reactCssModules2.default)(_FailControler2.default), _dec(_class = function (_Component) {
  (0, _inherits3.default)(FailControler, _Component);

  function FailControler() {
    (0, _classCallCheck3.default)(this, FailControler);
    return (0, _possibleConstructorReturn3.default)(this, (FailControler.__proto__ || (0, _getPrototypeOf2.default)(FailControler)).apply(this, arguments));
  }

  (0, _createClass3.default)(FailControler, [{
    key: 'render',
    value: function render() {
      var ethAddress = this.props.ethAddress;


      return _react2.default.createElement(
        'div',
        { styleName: 'main' },
        _react2.default.createElement(
          _reactCopyToClipboard2.default,
          { text: ethAddress, 'data-tut': 'reactour__address' },
          _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(
              'div',
              { styleName: 'warning' },
              _react2.default.createElement('i', { className: 'fas fa-exclamation-triangle' })
            ),
            _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(
                'h3',
                { styleName: 'failHeading' },
                _react2.default.createElement(_reactIntl.FormattedMessage, {
                  id: 'FailControler68',
                  defaultMessage: 'Error in the execution of the token contract!{br}{br}Perhaps there is an additional commission on the contract side or the error occured for another reason',
                  values: {
                    br: _react2.default.createElement('br', null)
                  }
                })
              )
            )
          )
        )
      );
    }
  }]);
  return FailControler;
}(_react.Component)) || _class);
exports.default = FailControler;

/***/ }),

/***/ 1992:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"main":"_1SMx8D","failHeading":"_2d3868","warning":"_3eldS6","button":"US-eRd","address":"_3OcWBD"};

/***/ }),

/***/ 1993:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Swap = __webpack_require__(158);

var _Swap2 = _interopRequireDefault(_Swap);

var _helpers = __webpack_require__(17);

var _reactDeviceDetect = __webpack_require__(53);

var _crypto = __webpack_require__(101);

var _crypto2 = _interopRequireDefault(_crypto);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(82);

var _swap4 = _interopRequireDefault(_swap3);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _bignumber = __webpack_require__(30);

var _reactIntl = __webpack_require__(8);

var _DepositWindow = __webpack_require__(319);

var _DepositWindow2 = _interopRequireDefault(_DepositWindow);

var _SwapProgress = __webpack_require__(400);

var _SwapProgress2 = _interopRequireDefault(_SwapProgress);

var _SwapList = __webpack_require__(404);

var _SwapList2 = _interopRequireDefault(_SwapList);

var _Timer = __webpack_require__(128);

var _Timer2 = _interopRequireDefault(_Timer);

var _BtcScript = __webpack_require__(897);

var _BtcScript2 = _interopRequireDefault(_BtcScript);

var _FeeControler = __webpack_require__(403);

var _FeeControler2 = _interopRequireDefault(_FeeControler);

var _paddingForSwapList = __webpack_require__(315);

var _paddingForSwapList2 = _interopRequireDefault(_paddingForSwapList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BtcToEthToken = (_dec = (0, _reactCssModules2.default)(_Swap2.default), _dec(_class = function (_Component) {
  (0, _inherits3.default)(BtcToEthToken, _Component);

  function BtcToEthToken(_ref) {
    var swap = _ref.swap,
        currencyData = _ref.currencyData,
        ethData = _ref.ethData,
        enoughBalance = _ref.enoughBalance,
        styles = _ref.styles,
        depositWindow = _ref.depositWindow;
    (0, _classCallCheck3.default)(this, BtcToEthToken);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BtcToEthToken.__proto__ || (0, _getPrototypeOf2.default)(BtcToEthToken)).call(this));

    _this.submitSecret = function () {
      var secret = _this.state.secret;

      _this.swap.flow.submitSecret(secret);
    };

    _this.changePaddingValue = function () {
      var step = _this.state.flow.step;

      _this.setState(function () {
        return {
          paddingContainerValue: (0, _paddingForSwapList2.default)({ step: step })
        };
      });
    };

    _this.changePaddingValue = function () {
      var step = _this.state.flow.step;

      _this.setState(function () {
        return {
          paddingContainerValue: (0, _paddingForSwapList2.default)({ step: step })
        };
      });
    };

    _this.changePaddingValue = function () {
      var flow = _this.state.flow;


      if (flow.step <= 2) {
        _this.setState(function () {
          return {
            paddingContainerValue: 60 * flow.step
          };
        });
      }
      if (flow.step > 5 && flow.step < 7) {
        _this.setState(function () {
          return {
            paddingContainerValue: 180
          };
        });
      }
      if (flow.step > 7) {
        _this.setState(function () {
          return {
            paddingContainerValue: 210
          };
        });
      }
    };

    _this.handleFlowStateUpdate = function (values) {

      var stepNumbers = {
        'sign': 1,
        'submit-secret': 2,
        'sync-balance': 3,
        'lock-btc': 4,
        'wait-lock-eth': 5,
        'withdraw-eth': 6,
        'finish': 7,
        'end': 8

        // actions.analytics.swapEvent(stepNumbers[values.step], 'BTC2ETHTOKEN')

      };_this.setState({
        flow: values
      });
    };

    _this.confirmAddress = function () {
      _this.swap.setDestinationBuyAddress(_this.state.destinationBuyAddress);
      _this.setState({ destinationAddressTimer: false });
    };

    _this.toggleBitcoinScript = function () {
      _this.setState({
        isShowingBitcoinScript: !_this.state.isShowingBitcoinScript
      });
    };

    _this.handleCopyAddress = function (e) {
      _this.setState({
        isAddressCopied: true
      }, function () {
        setTimeout(function () {
          _this.setState({
            isAddressCopied: false
          });
        }, 500);
      });
    };

    _this.handleCopyText = function () {
      _this.setState({
        isTextCopied: true
      }, function () {
        setTimeout(function () {
          _this.setState({
            isTextCopied: false
          });
        }, 15 * 1000);
      });
    };

    _this.onCopyAddress = function (e) {
      e.preventDefault();
      _this.setState({
        isPressCtrl: true
      });
    };

    _this.handlerBuyWithCreditCard = function (e) {
      e.preventDefault();
    };

    _this.swap = swap;

    _this.state = {
      swap: swap,
      depositWindow: depositWindow,
      enoughBalance: enoughBalance,
      isPressCtrl: false,
      isTextCopied: false,
      enabledButton: false,
      isAddressCopied: false,
      flow: _this.swap.flow.state,
      paddingContainerValue: 0,
      destinationAddressTimer: true,
      isShowingBitcoinScript: false,
      currencyAddress: currencyData.address,
      ethAddress: ethData.map(function (item) {
        return item.address;
      }),
      secret: _crypto2.default.randomBytes(32).toString('hex'),
      destinationBuyAddress: _this.swap.destinationBuyAddress ? _this.swap.destinationBuyAddress : _swap2.default.shared().services.auth.accounts.eth.address
    };

    _this.confirmAddressTimer = null;
    _this.ParticipantTimer = null;

    return _this;
  }

  (0, _createClass3.default)(BtcToEthToken, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      var _state = this.state,
          swap = _state.swap,
          _state$flow = _state.flow,
          step = _state$flow.step,
          isParticipantSigned = _state$flow.isParticipantSigned;

      this.changePaddingValue();
      this.confirmAddressTimer = setInterval(function () {
        if (_this2.state.flow.step === 1) {
          _this2.confirmAddress();
        } else {
          clearInterval(_this2.confirmAddressTimer);
        }
      }, 3000);

      this.ParticipantTimer = setInterval(function () {
        if (_this2.state.flow.isParticipantSigned && _this2.state.destinationBuyAddress) {
          _this2.submitSecret();
        } else {
          clearInterval(_this2.ParticipantTimer);
        }
      }, 3000);
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate(prevProps, prevState) {
      if (prevState.flow !== this.state.flow) {
        this.changePaddingValue();
      }
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate(prevProps, prevState) {
      if (prevState.flow !== this.state.flow) {
        this.changePaddingValue();
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          children = _props.children,
          disabledTimer = _props.disabledTimer,
          currencyData = _props.currencyData,
          continueSwap = _props.continueSwap,
          enoughBalance = _props.enoughBalance,
          history = _props.history,
          tokenItems = _props.tokenItems,
          waitWithdrawOther = _props.waitWithdrawOther,
          onClickCancelSwap = _props.onClickCancelSwap,
          locale = _props.locale,
          wallets = _props.wallets;
      var _state2 = this.state,
          swap = _state2.swap,
          flow = _state2.flow,
          secret = _state2.secret,
          ethAddress = _state2.ethAddress,
          paddingContainerValue = _state2.paddingContainerValue,
          isShowingBitcoinScript = _state2.isShowingBitcoinScript;


      var linked = _swValuelink2.default.all(this, 'destinationBuyAddress');

      linked.destinationBuyAddress.check(function (value) {
        return value !== '';
      }, 'Please enter ETH address for tokens');

      var feeControllerView = _react2.default.createElement(_FeeControler2.default, { ethAddress: ethAddress });
      var swapProgressView = _react2.default.createElement(_SwapProgress2.default, { flow: flow, name: 'BtcToEthTokens', swap: this.props.swap, history: history, locale: locale, wallets: wallets, tokenItems: tokenItems });

      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'div',
          { styleName: 'swapContainer' },
          _react2.default.createElement(
            'div',
            { styleName: 'swapInfo' },
            this.swap.id && _react2.default.createElement(
              'strong',
              null,
              this.swap.sellAmount.toFixed(6),
              ' ',
              this.swap.sellCurrency,
              ' \u27F6 ',
              ' ',
              this.swap.buyAmount.toFixed(6),
              ' ',
              this.swap.buyCurrency
            )
          ),
          !enoughBalance && flow.step === 3 ? _react2.default.createElement(
            'div',
            { styleName: 'swapDepositWindow' },
            _react2.default.createElement(_DepositWindow2.default, { currencyData: currencyData, swap: swap, flow: flow, tokenItems: tokenItems })
          ) : _react2.default.createElement(
            _react.Fragment,
            null,
            !continueSwap ? !waitWithdrawOther ? feeControllerView : swapProgressView : swapProgressView
          ),
          _react2.default.createElement(_SwapList2.default, { flow: this.state.swap.flow.state, enoughBalance: enoughBalance, swap: this.props.swap, onClickCancelSwap: onClickCancelSwap })
        ),
        _react2.default.createElement(
          'div',
          { styleName: 'swapContainerInfo' },
          children
        )
      );
    }
  }]);
  return BtcToEthToken;
}(_react.Component)) || _class);
exports.default = BtcToEthToken;

/***/ }),

/***/ 1994:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Share = __webpack_require__(1995);

var _Share2 = _interopRequireDefault(_Share);

var _controls = __webpack_require__(46);

var _Href = __webpack_require__(321);

var _Href2 = _interopRequireDefault(_Href);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Share = function Share(_ref) {
  var flow = _ref.flow;
  return flow.step >= 5 && _react2.default.createElement(
    _Href2.default,
    { tab: 'https://twitter.com/intent/tweet?url=https://swap.online/&text=I%20just%20make%20swap%20on%20&hashtags=AtomicSwap,DEX,Bitcoin,SWAP&via=SwapOnlineTeam' },
    _react2.default.createElement(
      _controls.Button,
      { brand: true },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Share', defaultMessage: 'Share Twitter' })
    )
  );
};

exports.default = (0, _reactCssModules2.default)(Share, _Share2.default);

/***/ }),

/***/ 1995:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"row":"_20nmzQ"};

/***/ }),

/***/ 1996:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _stringify = __webpack_require__(112);

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _EmergencySave = __webpack_require__(1997);

var _EmergencySave2 = _interopRequireDefault(_EmergencySave);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EmergencySave = (_dec = (0, _reactCssModules2.default)(_EmergencySave2.default), _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(EmergencySave, _Component);

  function EmergencySave() {
    (0, _classCallCheck3.default)(this, EmergencySave);
    return (0, _possibleConstructorReturn3.default)(this, (EmergencySave.__proto__ || (0, _getPrototypeOf2.default)(EmergencySave)).apply(this, arguments));
  }

  (0, _createClass3.default)(EmergencySave, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          state = _props.flow.state,
          onClick = _props.onClick,
          isShowDevInformation = _props.isShowDevInformation;


      return _react2.default.createElement(
        'div',
        { styleName: 'block' },
        _react2.default.createElement(
          'span',
          { styleName: 'button', onClick: onClick },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EmergencySave33', defaultMessage: 'Debug' })
        ),
        isShowDevInformation && _react2.default.createElement(
          'pre',
          { styleName: 'information' },
          _react2.default.createElement(
            'code',
            null,
            (0, _stringify2.default)(state, false, 4)
          )
        )
      );
    }
  }]);
  return EmergencySave;
}(_react.Component), _class2.propTypes = {
  flow: _propTypes2.default.object
}, _temp)) || _class);
exports.default = EmergencySave;

/***/ }),

/***/ 1997:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"block":"VcaCob","button":"_27TsgD","information":"_1dUUrk"};

/***/ }),

/***/ 1998:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DeleteSwapAfterEnd = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(DeleteSwapAfterEnd, _Component);

  function DeleteSwapAfterEnd(_ref) {
    var swap = _ref.swap;
    (0, _classCallCheck3.default)(this, DeleteSwapAfterEnd);

    var _this = (0, _possibleConstructorReturn3.default)(this, (DeleteSwapAfterEnd.__proto__ || (0, _getPrototypeOf2.default)(DeleteSwapAfterEnd)).call(this));

    _initialiseProps.call(_this);

    swap.on('state update', _this.autoDeleteOrder);
    return _this;
  }

  (0, _createClass3.default)(DeleteSwapAfterEnd, [{
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      var swap = this.props.swap;

      swap.off('state update', this.autoDeleteOrder);

      this.autoDeleteOrder();
    }
  }, {
    key: 'render',
    value: function render() {
      return null;
    }
  }]);
  return DeleteSwapAfterEnd;
}(_react.Component), _class.propTypes = {
  swap: _propTypes2.default.shape({
    flow: _propTypes2.default.shape({
      state: _propTypes2.default.shape({
        step: _propTypes2.default.number.isRequired,
        isFinished: _propTypes2.default.bool.isRequired
      }).isRequired
    }),
    id: _propTypes2.default.string.isRequired
  }).isRequired
}, _initialiseProps = function _initialiseProps() {
  var _this2 = this;

  this.autoDeleteOrder = function () {
    var swap = _this2.props.swap;


    if (swap.flow.state.isFinished) {
      var deletedOrder = _swap2.default.shared().services.orders.getByKey(swap.id);
      if (deletedOrder !== undefined) {
        _actions2.default.core.deletedPartialCurrency(swap.id);
      }
      console.log('deletedOrder', deletedOrder);
      _actions2.default.core.removeOrder(swap.id);
      _actions2.default.core.showMyOrders();
    }
  };
}, _temp);
exports.default = DeleteSwapAfterEnd;

/***/ }),

/***/ 1999:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Swap = __webpack_require__(158);

var _Swap2 = _interopRequireDefault(_Swap);

var _reactIntl = __webpack_require__(8);

var _BtcScript = __webpack_require__(897);

var _BtcScript2 = _interopRequireDefault(_BtcScript);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ShowBtcScript = (_dec = (0, _reactCssModules2.default)(_Swap2.default), _dec(_class = function (_Component) {
  (0, _inherits3.default)(ShowBtcScript, _Component);

  function ShowBtcScript() {
    (0, _classCallCheck3.default)(this, ShowBtcScript);
    return (0, _possibleConstructorReturn3.default)(this, (ShowBtcScript.__proto__ || (0, _getPrototypeOf2.default)(ShowBtcScript)).apply(this, arguments));
  }

  (0, _createClass3.default)(ShowBtcScript, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          btcScriptValues = _props.btcScriptValues,
          isShowingBitcoinScript = _props.isShowingBitcoinScript,
          onClick = _props.onClick;

      return _react2.default.createElement(
        'div',
        null,
        btcScriptValues && _react2.default.createElement(
          'div',
          { styleName: 'bitcoinScript' },
          _react2.default.createElement(
            'span',
            { onClick: onClick },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'swapJS341', defaultMessage: 'Show bitcoin script' })
          )
        ),
        isShowingBitcoinScript && _react2.default.createElement(_BtcScript2.default, {
          secretHash: btcScriptValues.secretHash,
          recipientPublicKey: btcScriptValues.recipientPublicKey,
          lockTime: btcScriptValues.lockTime,
          ownerPublicKey: btcScriptValues.ownerPublicKey
        })
      );
    }
  }]);
  return ShowBtcScript;
}(_react.Component)) || _class);
exports.default = ShowBtcScript;

/***/ }),

/***/ 2000:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Home = __webpack_require__(2001);

var _Home2 = _interopRequireDefault(_Home);

var _helpers = __webpack_require__(17);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _redaction = __webpack_require__(37);

var _reactDeviceDetect = __webpack_require__(53);

var _Center = __webpack_require__(322);

var _Center2 = _interopRequireDefault(_Center);

var _PageHeadline = __webpack_require__(220);

var _PageHeadline2 = _interopRequireDefault(_PageHeadline);

var _SubTitle = __webpack_require__(159);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

var _FaqExpandableItem = __webpack_require__(2005);

var _FaqExpandableItem2 = _interopRequireDefault(_FaqExpandableItem);

var _CurrencyDirectionChooser = __webpack_require__(2007);

var _CurrencyDirectionChooser2 = _interopRequireDefault(_CurrencyDirectionChooser);

var _reactIntl = __webpack_require__(8);

var _locale = __webpack_require__(50);

var _Orders = __webpack_require__(2041);

var _Orders2 = _interopRequireDefault(_Orders);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Home = (_dec = (0, _redaction.connect)(function (_ref) {
  var filter = _ref.core.filter,
      currencies = _ref.currencies.items;
  return {
    filter: filter,
    currencies: currencies
  };
}), _dec2 = (0, _reactCssModules2.default)(_Home2.default, { allowMultiple: true }), (0, _reactIntl.injectIntl)(_class = _dec(_class = _dec2(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(Home, _Component);

  function Home(_ref2) {
    var initialData = _ref2.initialData,
        _ref2$match$params = _ref2.match.params,
        buy = _ref2$match$params.buy,
        sell = _ref2$match$params.sell,
        locale = _ref2.intl.locale;
    (0, _classCallCheck3.default)(this, Home);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Home.__proto__ || (0, _getPrototypeOf2.default)(Home)).call(this));

    _initialiseProps.call(_this);

    var _ref3 = initialData || {},
        buyCurrency = _ref3.buyCurrency,
        sellCurrency = _ref3.sellCurrency;

    _this.state = {
      buyCurrency: buy || buyCurrency || 'swap',
      sellCurrency: sell || sellCurrency || 'btc',
      invalidPair: false,
      isShow: false,
      exchange: (0, _locale.localisedUrl)(locale, _helpers.links.exchange)
    };
    return _this;
  }

  (0, _createClass3.default)(Home, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var _props$match$params = this.props.match.params,
          buy = _props$match$params.buy,
          sell = _props$match$params.sell;


      if (!sell || !buy) {
        return;
      }

      this.checkPair(sell, buy);
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          orderId = _props.match.params.orderId,
          pathname = _props.history.location.pathname,
          currencies = _props.currencies,
          history = _props.history,
          filter = _props.filter,
          locale = _props.intl.locale;
      var _state = this.state,
          buyCurrency = _state.buyCurrency,
          sellCurrency = _state.sellCurrency,
          invalidPair = _state.invalidPair,
          isShow = _state.isShow,
          exchange = _state.exchange;


      var sectionContainerStyleName = _reactDeviceDetect.isMobile ? 'sectionContainerMobile' : 'sectionContainer';
      var isWidgetBuild = _appConfig2.default && _appConfig2.default.isWidget;

      return _react2.default.createElement(
        'section',
        { styleName: isWidgetBuild ? sectionContainerStyleName + ' ' + sectionContainerStyleName + '_widget' : sectionContainerStyleName },
        _react2.default.createElement(
          _PageHeadline2.default,
          null,
          pathname === exchange ? _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(_CurrencyDirectionChooser2.default, {
              handleSellCurrencySelect: this.handleSellCurrencySelect,
              handleBuyCurrencySelect: this.handleBuyCurrencySelect,
              handleSubmit: this.handleShowOrders,
              buyCurrency: buyCurrency,
              sellCurrency: sellCurrency,
              flipCurrency: this.flipCurrency,
              currencies: currencies
            }),
            _react2.default.createElement(
              'div',
              { styleName: 'videoContainer' },
              _react2.default.createElement(
                _Center2.default,
                { relative: true, centerVertically: false },
                _react2.default.createElement(
                  _SubTitle2.default,
                  null,
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Home153', defaultMessage: 'What is atomic swap?' })
                )
              ),
              _react2.default.createElement(
                'div',
                { styleName: 'videoFaqContainer' },
                _react2.default.createElement('iframe', {
                  title: 'What1 is atomic swap?',
                  width: '700',
                  height: '480',
                  src: 'https://www.youtube.com/embed/Jhrb7xOT_7s',
                  frameBorder: '0',
                  allow: 'autoplay; encrypted-media',
                  allowFullScreen: true
                }),
                _react2.default.createElement(
                  'div',
                  { styleName: 'faqContainer' },
                  _helpers.links.faq.map(function (question, idx) {
                    return _react2.default.createElement(_FaqExpandableItem2.default, (0, _extends3.default)({ key: idx }, question));
                  })
                )
              )
            )
          ) : _react2.default.createElement(_Orders2.default, {
            handleSellCurrencySelect: this.handleSellCurrencySelect,
            handleBuyCurrencySelect: this.handleBuyCurrencySelect,
            buyCurrency: buyCurrency,
            sellCurrency: sellCurrency,
            flipCurrency: this.flipCurrency,
            orderId: orderId,
            invalidPair: invalidPair
          })
        )
      );
    }
  }]);
  return Home;
}(_react.Component), _class2.propTypes = {
  faqList: _propTypes2.default.arrayOf(_propTypes2.default.shape({
    title: _propTypes2.default.string.isRequired,
    description: _propTypes2.default.string.isRequired
  })),
  faqFetching: _propTypes2.default.bool
}, _initialiseProps = function _initialiseProps() {
  var _this2 = this;

  this.handleBuyCurrencySelect = function (_ref4) {
    var value = _ref4.value;
    var _state2 = _this2.state,
        sellCurrency = _state2.sellCurrency,
        buyCurrency = _state2.buyCurrency;


    if (sellCurrency === value) {
      sellCurrency = buyCurrency;
    }

    _this2.checkPair(sellCurrency, value);

    _this2.setState({
      buyCurrency: value,
      sellCurrency: sellCurrency
    });
  };

  this.handleSellCurrencySelect = function (_ref5) {
    var value = _ref5.value;
    var _state3 = _this2.state,
        sellCurrency = _state3.sellCurrency,
        buyCurrency = _state3.buyCurrency;


    if (buyCurrency === value) {
      buyCurrency = sellCurrency;
    }

    _this2.checkPair(value, buyCurrency);
    _actions2.default.pairs.selectPair(sellCurrency);
    _this2.setState({
      buyCurrency: buyCurrency,
      sellCurrency: value
    });
  };

  this.flipCurrency = function () {
    var _state4 = _this2.state,
        buyCurrency = _state4.buyCurrency,
        sellCurrency = _state4.sellCurrency;


    _this2.checkPair(buyCurrency, sellCurrency);

    _this2.setState({
      buyCurrency: sellCurrency,
      sellCurrency: buyCurrency
    });
  };

  this.setFilter = function (filter) {
    _actions2.default.core.setFilter(filter);
  };

  this.checkPair = function (sell, buy) {
    sell = sell.toUpperCase();
    buy = buy.toUpperCase();

    if (_helpers.constants.tradeTicker.includes(sell + '-' + buy)) {
      _this2.setFilter(sell + '-' + buy);
    } else if (_helpers.constants.tradeTicker.includes(buy + '-' + sell)) {
      _this2.setFilter(buy + '-' + sell);
    } else {
      _this2.setFilter('swap-btc');
      _this2.setState(function () {
        return {
          sellCurrency: 'btc',
          buyCurrency: 'swap',
          invalidPair: true
        };
      });
    }
  };

  this.handleShowOrders = function () {
    var _props2 = _this2.props,
        history = _props2.history,
        filter = _props2.filter;


    _this2.setState(function () {
      return {
        isVisible: false,
        isShow: true
      };
    });
    history.replace(filter.toLowerCase());
  };
}, _temp)) || _class) || _class) || _class);
exports.default = Home;

/***/ }),

/***/ 2001:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"sectionContainer":"_1WX8qr","sectionContainer_widget":"NPYtu8","sectionContainerMobile":"_2tOr_M","sectionContainerMobile_widget":"_39hLvT","videoContainer":"_1wjfEt","videoFaqContainer":"_3QeS67","faqContainer":"YuKpCM","loading":"Kc6mSm","noItems":"_2Q63nq"};

/***/ }),

/***/ 2002:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"centringContainer":"_1MHV1x","scrollable":"_3_xp05","keepFontSize":"_3Cljdm","relative":"_1J5Fos","centerHorizontally":"_1eyJi0","centerVertically":"_2y5vdP","centringContent":"_1MbRzk"};

/***/ }),

/***/ 2003:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"headline":"_0kjEr"};

/***/ }),

/***/ 2004:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"subTitle":"_3xZD8p"};

/***/ }),

/***/ 2005:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _FaqExpandableItem = __webpack_require__(2006);

var _FaqExpandableItem2 = _interopRequireDefault(_FaqExpandableItem);

var _Href = __webpack_require__(321);

var _Href2 = _interopRequireDefault(_Href);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var FaqExpandableItem = function FaqExpandableItem(_ref) {
  var link = _ref.link,
      question = _ref.question;
  return _react2.default.createElement(
    'div',
    { styleName: 'container' },
    _react2.default.createElement(
      _Href2.default,
      {
        tab: link,
        styleName: 'header',
        rel: 'noreferrer noopener'
      },
      question
    )
  );
};

FaqExpandableItem.propTypes = {
  question: _propTypes2.default.string.isRequired,
  link: _propTypes2.default.string.isRequired
};

exports.default = (0, _reactCssModules2.default)(FaqExpandableItem, _FaqExpandableItem2.default);

/***/ }),

/***/ 2006:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"container":"_16WvtP","active":"ZtqWqV","header":"_3YAuw6","description":"_2-NTZd","icon":"oKBhbK"};

/***/ }),

/***/ 2007:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _dec, _dec2, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(17);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _CurrencyDirectionChooser = __webpack_require__(2008);

var _CurrencyDirectionChooser2 = _interopRequireDefault(_CurrencyDirectionChooser);

var _redaction = __webpack_require__(37);

var _Flip = __webpack_require__(548);

var _Flip2 = _interopRequireDefault(_Flip);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _CurrencySelect = __webpack_require__(549);

var _CurrencySelect2 = _interopRequireDefault(_CurrencySelect);

var _SubTitle = __webpack_require__(159);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

var _Tooltip = __webpack_require__(104);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var CurrencyDirectionChooser = (_dec = (0, _redaction.connect)(function (_ref) {
  var currencies = _ref.currencies,
      addSelectedItems = _ref.addSelectedItems,
      _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      bchData = _ref$user.bchData,
      tokensData = _ref$user.tokensData,
      eosData = _ref$user.eosData,
      telosData = _ref$user.telosData,
      nimData = _ref$user.nimData,
      ltcData = _ref$user.ltcData;
  return {
    currencies: currencies.items,
    addSelectedItems: currencies.addSelectedItems[0],
    items: [ethData, btcData, eosData, telosData, bchData, ltcData /* usdtOmniData , nimData */],
    tokenItems: [].concat((0, _toConsumableArray3.default)((0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    })))
  };
}), _dec2 = (0, _reactCssModules2.default)(_CurrencyDirectionChooser2.default, { allowMultiple: true }), _dec(_class = _dec2(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(CurrencyDirectionChooser, _Component);

  function CurrencyDirectionChooser() {
    var _ref2;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, CurrencyDirectionChooser);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = CurrencyDirectionChooser.__proto__ || (0, _getPrototypeOf2.default)(CurrencyDirectionChooser)).call.apply(_ref2, [this].concat(args))), _this), _this.createOffer = function () {
      var _this$props = _this.props,
          buyCurrency = _this$props.buyCurrency,
          sellCurrency = _this$props.sellCurrency;

      // return if value equal undefined or null

      if (!sellCurrency || !buyCurrency) {
        return;
      }

      _actions2.default.modals.open(_helpers.constants.modals.Offer, {
        buyCurrency: buyCurrency,
        sellCurrency: sellCurrency
      });

      // actions.analytics.dataEvent('orderbook-click-createoffer-button')
    }, _this.chooseProps = function () {
      var _this$props2 = _this.props,
          currencies = _this$props2.currencies,
          tokenItems = _this$props2.tokenItems,
          addSelectedItems = _this$props2.addSelectedItems;


      if (addSelectedItems === undefined) {
        return currencies;
      }
      return addSelectedItems;
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(CurrencyDirectionChooser, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          buyCurrency = _props.buyCurrency,
          sellCurrency = _props.sellCurrency,
          flipCurrency = _props.flipCurrency,
          handleBuyCurrencySelect = _props.handleBuyCurrencySelect,
          handleSellCurrencySelect = _props.handleSellCurrencySelect,
          handleSubmit = _props.handleSubmit,
          currencies = _props.currencies,
          addSelectedItems = _props.addSelectedItems;


      return _react2.default.createElement(
        'div',
        { styleName: 'choice' },
        _react2.default.createElement(
          'div',
          { styleName: 'row title' },
          _react2.default.createElement(
            _SubTitle2.default,
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CurrencyDirectionChooser54', defaultMessage: ' Choose the direction of exchange' })
          )
        ),
        _react2.default.createElement(
          'div',
          { styleName: 'row formRow' },
          _react2.default.createElement(
            'div',
            { styleName: 'row' },
            _react2.default.createElement(
              'div',
              { styleName: 'row rowLeft' },
              _react2.default.createElement(
                'p',
                { styleName: 'text' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CDC63', defaultMessage: 'You have' })
              ),
              _react2.default.createElement(_CurrencySelect2.default, {
                styleName: 'currencySelect currencySelectLeft',
                selectedValue: sellCurrency,
                onSelect: handleSellCurrencySelect,
                currencies: currencies
              })
            ),
            _react2.default.createElement(_Flip2.default, { onClick: flipCurrency }),
            _react2.default.createElement(
              'div',
              { styleName: 'row rowRight' },
              _react2.default.createElement(
                'p',
                { styleName: 'text' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CDC75', defaultMessage: 'You get' })
              ),
              _react2.default.createElement(_CurrencySelect2.default, {
                styleName: 'currencySelect currencySelectRight',
                selectedValue: buyCurrency,
                onSelect: handleBuyCurrencySelect,
                currencies: this.chooseProps()
              })
            )
          ),
          _react2.default.createElement(
            _Button2.default,
            { styleName: 'button', brand: true, onClick: handleSubmit },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CurrencyDirectionChooser86', defaultMessage: 'SHOW ORDERS ' })
          ),
          _react2.default.createElement(
            _Tooltip2.default,
            { id: 'cdc87' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CDC52', defaultMessage: 'Offer list' })
          )
        )
      );
    }
  }]);
  return CurrencyDirectionChooser;
}(_react.Component), _class2.propTypes = {
  flipCurrency: _propTypes2.default.func,
  currencies: _propTypes2.default.any,
  handleSellCurrencySelect: _propTypes2.default.func,
  handleBuyCurrencySelect: _propTypes2.default.func,
  handleSubmit: _propTypes2.default.func,
  buyCurrency: _propTypes2.default.string.isRequired,
  sellCurrency: _propTypes2.default.string.isRequired
}, _temp2)) || _class) || _class);
exports.default = CurrencyDirectionChooser;

/***/ }),

/***/ 2008:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"currencySelect":"_36s_bS","choice":"_2K4D7I","row":"lLhtuH","title":"_1qGVvd","text":"_2TshC8","formRow":"_3lZ2iE","rowLeft":"_26nJPN","rowRight":"_2sj_Pw","currencySelectLeft":"_3Fb93b","currencySelectRight":"_39KdbS"};

/***/ }),

/***/ 2009:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 2010:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Option = __webpack_require__(2011);

var _Option2 = _interopRequireDefault(_Option);

var _CurrencyIcon = __webpack_require__(898);

var _CurrencyIcon2 = _interopRequireDefault(_CurrencyIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Option = function Option(_ref) {
  var icon = _ref.icon,
      title = _ref.title;
  return _react2.default.createElement(
    'div',
    { styleName: 'optionrow' },
    _react2.default.createElement(
      'span',
      { styleName: 'circle' },
      _react2.default.createElement(_CurrencyIcon2.default, { styleName: 'icon', name: icon })
    ),
    title
  );
};

exports.default = (0, _reactCssModules2.default)(Option, _Option2.default);

/***/ }),

/***/ 2011:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"optionrow":"_1nmVZL","icon":"_1ncL6U","circle":"_1YoGim"};

/***/ }),

/***/ 2012:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"text":"_33KTXr"};

/***/ }),

/***/ 2013:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _btc = __webpack_require__(2014);

var _btc2 = _interopRequireDefault(_btc);

var _eth = __webpack_require__(2015);

var _eth2 = _interopRequireDefault(_eth);

var _icx = __webpack_require__(2016);

var _icx2 = _interopRequireDefault(_icx);

var _waves = __webpack_require__(2017);

var _waves2 = _interopRequireDefault(_waves);

var _xrp = __webpack_require__(2018);

var _xrp2 = _interopRequireDefault(_xrp);

var _xlm = __webpack_require__(2019);

var _xlm2 = _interopRequireDefault(_xlm);

var _bch = __webpack_require__(2020);

var _bch2 = _interopRequireDefault(_bch);

var _nim = __webpack_require__(2021);

var _nim2 = _interopRequireDefault(_nim);

var _eos = __webpack_require__(2022);

var _eos2 = _interopRequireDefault(_eos);

var _swap = __webpack_require__(2023);

var _swap2 = _interopRequireDefault(_swap);

var _usdt = __webpack_require__(2024);

var _usdt2 = _interopRequireDefault(_usdt);

var _syc = __webpack_require__(2025);

var _syc2 = _interopRequireDefault(_syc);

var _drt = __webpack_require__(2026);

var _drt2 = _interopRequireDefault(_drt);

var _omg = __webpack_require__(2027);

var _omg2 = _interopRequireDefault(_omg);

var _yup = __webpack_require__(2028);

var _yup2 = _interopRequireDefault(_yup);

var _kn = __webpack_require__(2029);

var _kn2 = _interopRequireDefault(_kn);

var _arn = __webpack_require__(2030);

var _arn2 = _interopRequireDefault(_arn);

var _lev = __webpack_require__(2031);

var _lev2 = _interopRequireDefault(_lev);

var _ltc = __webpack_require__(2032);

var _ltc2 = _interopRequireDefault(_ltc);

var _bxb = __webpack_require__(2033);

var _bxb2 = _interopRequireDefault(_bxb);

var _dcn = __webpack_require__(2034);

var _dcn2 = _interopRequireDefault(_dcn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  btc: _btc2.default,
  dcn: _dcn2.default,
  bxb: _bxb2.default,
  kn: _kn2.default,
  ltc: _ltc2.default,
  bch: _bch2.default,
  drt: _drt2.default,
  xlm: _xlm2.default,
  lev: _lev2.default,
  arn: _arn2.default,
  omg: _omg2.default,
  eth: _eth2.default,
  syc2: _syc2.default,
  icx: _icx2.default,
  usdt: _usdt2.default,
  swap: _swap2.default,
  waves: _waves2.default,
  xrp: _xrp2.default,
  eos: _eos2.default,
  yup: _yup2.default,
  nim: _nim2.default
};

/***/ }),

/***/ 2014:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/btc_f4b66d.svg";

/***/ }),

/***/ 2015:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/eth_262e9a.svg";

/***/ }),

/***/ 2016:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/icx_cda046.svg";

/***/ }),

/***/ 2017:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/waves_54c731.svg";

/***/ }),

/***/ 2018:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/xrp_db0377.svg";

/***/ }),

/***/ 2019:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/xlm_a0b745.svg";

/***/ }),

/***/ 2020:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/bch_6deffd.svg";

/***/ }),

/***/ 2021:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/nim_954328.svg";

/***/ }),

/***/ 2022:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/eos_f3053e.svg";

/***/ }),

/***/ 2023:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/swap_040ce1.svg";

/***/ }),

/***/ 2024:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/usdt_71783e.svg";

/***/ }),

/***/ 2025:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/syc2_6df218.svg";

/***/ }),

/***/ 2026:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/drt_478c7b.svg";

/***/ }),

/***/ 2027:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/omg_c17e1e.svg";

/***/ }),

/***/ 2028:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/yup_b7af87.svg";

/***/ }),

/***/ 2029:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/kn_86d5ae.svg";

/***/ }),

/***/ 2030:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/arn_87f227.svg";

/***/ }),

/***/ 2031:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/lev_1c3bd2.svg";

/***/ }),

/***/ 2032:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/ltc_b3e0eb.svg";

/***/ }),

/***/ 2033:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/bxb_c5856b.svg";

/***/ }),

/***/ 2034:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/dcn_df8368.svg";

/***/ }),

/***/ 2035:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _classnames = __webpack_require__(72);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactClickOutside = __webpack_require__(2036);

var _reactClickOutside2 = _interopRequireDefault(_reactClickOutside);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _DropDown = __webpack_require__(2037);

var _DropDown2 = _interopRequireDefault(_DropDown);

var _toggle = __webpack_require__(2038);

var _toggle2 = _interopRequireDefault(_toggle);

var _FieldLabel = __webpack_require__(196);

var _FieldLabel2 = _interopRequireDefault(_FieldLabel);

var _Tooltip = __webpack_require__(104);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _Input = __webpack_require__(129);

var _Input2 = _interopRequireDefault(_Input);

var _close = __webpack_require__(2040);

var _close2 = _interopRequireDefault(_close);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DropDown = (_dec = (0, _toggle2.default)(), _dec2 = (0, _reactCssModules2.default)(_DropDown2.default, { allowMultiple: true }), _dec(_class = _dec2(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(DropDown, _Component);

  function DropDown(_ref) {
    var initialValue = _ref.initialValue,
        selectedValue = _ref.selectedValue;
    (0, _classCallCheck3.default)(this, DropDown);

    var _this = (0, _possibleConstructorReturn3.default)(this, (DropDown.__proto__ || (0, _getPrototypeOf2.default)(DropDown)).call(this));

    _initialiseProps.call(_this);

    _this.state = {
      selectedValue: initialValue || selectedValue || 0,
      inputValue: '',
      infoAboutCurrency: '',
      error: false
    };
    return _this;
  }

  (0, _createClass3.default)(DropDown, [{
    key: 'componentDidUpdate',
    value: function componentDidUpdate(prevProps) {
      var isToggleActive = this.props.isToggleActive;

      if (prevProps.isToggleActive !== isToggleActive && isToggleActive) {
        this.showPercentChange1H();
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          className = _props.className,
          items = _props.items,
          isToggleActive = _props.isToggleActive,
          selectedValue = _props.selectedValue,
          name = _props.name,
          placeholder = _props.placeholder,
          label = _props.label,
          tooltip = _props.tooltip,
          id = _props.id;
      var _state = this.state,
          inputValue = _state.inputValue,
          infoAboutCurrency = _state.infoAboutCurrency,
          error = _state.error;


      var dropDownStyleName = (0, _classnames2.default)('dropDown', { 'active': isToggleActive });
      var linkedValue = _swValuelink2.default.all(this, 'inputValue');

      var itemsFiltered = items;
      if (inputValue) {
        itemsFiltered = items.filter(function (item) {
          return item.name.includes(inputValue.toUpperCase());
        }).filter(function (item) {
          return item.value !== selectedValue;
        });
      }

      return _react2.default.createElement(
        _reactClickOutside2.default,
        {
          onClickOutside: isToggleActive ? function () {
            _this2.refs.searchInput.handleBlur();
            linkedValue.inputValue.set('');
            _this2.toggle();
          } : function () {}
        },
        _react2.default.createElement(
          'div',
          { styleName: dropDownStyleName, className: className },
          _react2.default.createElement(
            'div',
            { styleName: 'selectedItem', onClick: this.toggle },
            _react2.default.createElement('div', { styleName: 'arrow arrowDropDown' }),
            isToggleActive ? _react2.default.createElement(_Input2.default, {
              styleName: 'searchInput',
              placeholder: placeholder,
              focusOnInit: true,
              valueLink: linkedValue.inputValue,
              ref: 'searchInput'
            }) : this.renderSelectedItem()
          ),
          isToggleActive && _react2.default.createElement(
            'div',
            { styleName: 'select' },
            _react2.default.createElement(
              'span',
              { styleName: 'listName' },
              name
            ),
            itemsFiltered.map(function (item) {
              var inneedData = null;
              if (infoAboutCurrency) {
                inneedData = infoAboutCurrency.find(function (el) {
                  return el.name === item.name;
                });
              }
              return _react2.default.createElement(
                'div',
                {
                  key: item.value,
                  styleName: 'option',
                  onClick: function onClick() {
                    linkedValue.inputValue.set('');
                    _this2.handleOptionClick(item);
                  }
                },
                _react2.default.createElement(
                  'span',
                  { styleName: 'shortTitle' },
                  _this2.renderItem(item)
                ),
                _react2.default.createElement(
                  'span',
                  { styleName: 'fullTitle' },
                  item.fullTitle
                ),
                inneedData && _react2.default.createElement(
                  'span',
                  {
                    styleName: 'range ' + (+inneedData.change > 0 ? "rangeUp" : "rangeDown")
                  },
                  inneedData.change,
                  ' %'
                )
              );
            })
          ),
          _react2.default.createElement(
            'button',
            { styleName: 'closeBtn', onClick: this.toggle },
            _react2.default.createElement('img', { src: _close2.default, alt: '' })
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'dropDownLabel' },
            _react2.default.createElement(
              _FieldLabel2.default,
              { inRow: true, inDropDown: true },
              _react2.default.createElement(
                'strong',
                null,
                label
              ),
              '\xA0',
              _react2.default.createElement(
                'div',
                { styleName: 'smallTooltip' },
                _react2.default.createElement(
                  _Tooltip2.default,
                  { id: id },
                  tooltip
                )
              )
            )
          )
        )
      );
    }
  }]);
  return DropDown;
}(_react.Component), _class2.propTypes = {
  initialValue: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),
  selectedValue: _propTypes2.default.objectOf([_propTypes2.default.string, _propTypes2.default.number]),
  items: _propTypes2.default.arrayOf(_propTypes2.default.any).isRequired,
  selectedItemRender: _propTypes2.default.func,
  itemRender: _propTypes2.default.func,
  onSelect: _propTypes2.default.func,
  isToggleActive: _propTypes2.default.bool.isRequired, // @toggle
  toggleOpen: _propTypes2.default.func.isRequired, // @toggle
  toggleClose: _propTypes2.default.func.isRequired // @toggle
}, _initialiseProps = function _initialiseProps() {
  var _this3 = this;

  this.toggle = function () {
    var _props2 = _this3.props,
        isToggleActive = _props2.isToggleActive,
        toggleOpen = _props2.toggleOpen,
        toggleClose = _props2.toggleClose;


    if (isToggleActive) {
      toggleClose();
    } else {
      toggleOpen();
    }
  };

  this.handleOptionClick = function (item) {
    var _props3 = _this3.props,
        toggleClose = _props3.toggleClose,
        selectedValue = _props3.selectedValue,
        onSelect = _props3.onSelect;

    // if there is no passed `selectedValue` then change it

    if (typeof selectedValue === 'undefined') {
      _this3.setState({ selectedValue: item.value });
    }

    // for example we'd like to change `selectedValue` manually
    if (typeof onSelect === 'function') {
      onSelect(item);
      _this3.setState({ selectedValue: item.value });
    }
    toggleClose();
  };

  this.renderSelectedItem = function () {
    var _props4 = _this3.props,
        items = _props4.items,
        selectedItemRender = _props4.selectedItemRender;


    var selectedValue = _this3.props.selectedValue || _this3.state.selectedValue;
    var selectedItem = items.find(function (_ref2) {
      var value = _ref2.value;
      return value === selectedValue;
    });

    if (typeof selectedItemRender === 'function') {
      if (selectedItem !== undefined) {
        return selectedItem.fullTitle;
      }
    }
  };

  this.renderItem = function (item) {
    var itemRender = _this3.props.itemRender;


    if (typeof itemRender === 'function') {
      return itemRender(item);
    }
    return item.title;
  };

  this.showPercentChange1H = function () {
    var items = _this3.props.items;

    var infoAboutCurrency = [];

    fetch('https://noxon.io/cursAll.php').then(function (res) {
      return res.json();
    }).then(function (result) {
      var itemsName = items.map(function (el) {
        return el.name;
      });
      result.map(function (res) {
        if (itemsName.includes(res.symbol)) {
          infoAboutCurrency.push({
            name: res.symbol,
            change: res.percent_change_1h
          });
        }
      });
      _this3.setState({
        infoAboutCurrency: infoAboutCurrency
      });
    }, function (error) {
      console.log('error on fetch data from api');
    });
  };
}, _temp)) || _class) || _class);
exports.default = DropDown;

/***/ }),

/***/ 2037:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"dropDown":"_3dP7tS","active":"_2ugFLw","arrow":"_3YMxCM","closeBtn":"Bt-thb","dropDownLabel":"_6APJ48","activeLabel":"XNOvDI","searchInput":"_2gcvD9","selectedItem":"_3MyRdn","arrowDropDown":"_1Kgfb_","smallTooltip":"_2sKIsq","listName":"_3pBiPV","fullTitle":"_3KogPy","range":"_39ywvx","rangeUp":"_1FfNeM","rangeDown":"_2kWc3M","currencyLogo":"_1UCTLb","shortTitle":"_1gLi1s","select":"_369zfM","option":"_2DKZg5"};

/***/ }),

/***/ 2038:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function () {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { processClick: false };
  return function (Component) {
    return function (_PureComponent) {
      (0, _inherits3.default)(WrappedComponent, _PureComponent);

      function WrappedComponent() {
        var _ref;

        var _temp, _this, _ret;

        (0, _classCallCheck3.default)(this, WrappedComponent);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = WrappedComponent.__proto__ || (0, _getPrototypeOf2.default)(WrappedComponent)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
          isToggleActive: false
        }, _this.toggleClose = function (event) {
          if (options.processClick) {
            event.stopPropagation();

            document.removeEventListener('click', _this.toggleClose);
          }

          _this.setState({
            isToggleActive: false
          });
        }, _this.toggleOpen = function (event) {
          var isToggleActive = _this.state.isToggleActive;


          if (isToggleActive) {
            return;
          }

          if (options.processClick) {
            event.stopPropagation();

            document.addEventListener('click', _this.toggleClose);
          }

          _this.setState({
            isToggleActive: true
          });
        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
      }

      (0, _createClass3.default)(WrappedComponent, [{
        key: 'render',
        value: function render() {

          return _react2.default.createElement(Component, (0, _extends3.default)({}, this.props, this.state, {
            toggleOpen: this.toggleOpen,
            toggleClose: this.toggleClose
          }));
        }
      }]);
      return WrappedComponent;
    }(_react.PureComponent);
  };
};

/***/ }),

/***/ 2039:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"label":"_1Grvg1","inRow":"_2anvtg","inDropDown":"J7vkMs"};

/***/ }),

/***/ 2040:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/close_a285e6.svg";

/***/ }),

/***/ 2041:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _redaction = __webpack_require__(37);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _reactRouterDom = __webpack_require__(51);

var _reactDeviceDetect = __webpack_require__(53);

var _constants = __webpack_require__(154);

var _constants2 = _interopRequireDefault(_constants);

var _locale = __webpack_require__(50);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Orders = __webpack_require__(2042);

var _Orders2 = _interopRequireDefault(_Orders);

var _controls = __webpack_require__(46);

var _Table = __webpack_require__(160);

var _Table2 = _interopRequireDefault(_Table);

var _Title = __webpack_require__(402);

var _Title2 = _interopRequireDefault(_Title);

var _Table3 = __webpack_require__(260);

var _Table4 = _interopRequireDefault(_Table3);

var _PageSeo = __webpack_require__(550);

var _PageSeo2 = _interopRequireDefault(_PageSeo);

var _seo = __webpack_require__(323);

var _CloseIcon = __webpack_require__(259);

var _CloseIcon2 = _interopRequireDefault(_CloseIcon);

var _Pair = __webpack_require__(368);

var _Pair2 = _interopRequireDefault(_Pair);

var _Row = __webpack_require__(2046);

var _Row2 = _interopRequireDefault(_Row);

var _MyOrders = __webpack_require__(2052);

var _MyOrders2 = _interopRequireDefault(_MyOrders);

var _reactIntl = __webpack_require__(8);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _helpers = __webpack_require__(17);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var filterMyOrders = function filterMyOrders(orders, peer) {
  return orders.filter(function (order) {
    return order.owner.peer === peer;
  });
};

var filterOrders = function filterOrders(orders, filter) {
  return orders.filter(function (order) {
    return order.isProcessing !== true;
  }).filter(function (order) {
    return order.isHidden !== true;
  }).filter(function (order) {
    return _Pair2.default.check(order, filter);
  }).sort(function (a, b) {
    return _Pair2.default.compareOrders(b, a);
  });
};

var Orders = (_dec = (0, _redaction.connect)(function (_ref) {
  var rememberedOrders = _ref.rememberedOrders,
      _ref$core = _ref.core,
      orders = _ref$core.orders,
      filter = _ref$core.filter,
      _ref$ipfs = _ref.ipfs,
      isOnline = _ref$ipfs.isOnline,
      isAllPeersLoaded = _ref$ipfs.isAllPeersLoaded,
      peer = _ref$ipfs.peer,
      currencies = _ref.currencies.items;
  return {
    orders: filterOrders(orders, filter),
    myOrders: filterMyOrders(orders, peer),
    isOnline: isOnline,
    isAllPeersLoaded: isAllPeersLoaded,
    currencies: currencies,
    decline: rememberedOrders.savedOrders
  };
}), _dec2 = (0, _reactCssModules2.default)(_Orders2.default, { allowMultiple: true }), _dec(_class = (0, _reactRouterDom.withRouter)(_class = (0, _reactIntl.injectIntl)(_class = _dec2(_class = function (_Component) {
  (0, _inherits3.default)(Orders, _Component);

  function Orders() {
    var _ref2,
        _this2 = this;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Orders);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = Orders.__proto__ || (0, _getPrototypeOf2.default)(Orders)).call.apply(_ref2, [this].concat(args))), _this), _this.state = {
      buyOrders: [],
      sellOrders: [],
      isVisible: false
    }, _this.createOffer = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
      var _this$props, buyCurrency, sellCurrency;

      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _this$props = _this.props, buyCurrency = _this$props.buyCurrency, sellCurrency = _this$props.sellCurrency;


              _actions2.default.modals.open(_constants2.default.modals.Offer, {
                buyCurrency: buyCurrency,
                sellCurrency: sellCurrency
              });
              // actions.analytics.dataEvent('orderbook-click-createoffer-button')

            case 2:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, _this2);
    })), _this.removeOrder = function (orderId) {
      _actions2.default.modals.open(_constants2.default.modals.Confirm, {
        onAccept: function onAccept() {
          _actions2.default.core.deletedPartialCurrency(orderId);
          _actions2.default.core.removeOrder(orderId);
          _actions2.default.core.updateCore();
        },
        message: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders94s', defaultMessage: 'Are you sure you want to delete the order?' })
      });
    }, _this.acceptRequest = function (orderId, peer) {
      _actions2.default.core.acceptRequest(orderId, peer);
      _actions2.default.core.updateCore();
    }, _this.declineRequest = function (orderId, peer) {
      _actions2.default.core.declineRequest(orderId, peer);
      _actions2.default.core.updateCore();
    }, _this.handleWalletPush = function () {
      _this.props.history.push(_helpers.links.currencyWallet);
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Orders, [{
    key: 'render',
    value: function render() {
      var _this3 = this;

      var _state = this.state,
          sellOrders = _state.sellOrders,
          buyOrders = _state.buyOrders,
          isVisible = _state.isVisible;
      var _props = this.props,
          sellCurrency = _props.sellCurrency,
          buyCurrency = _props.buyCurrency,
          intl = _props.intl,
          decline = _props.decline;

      buyCurrency = buyCurrency.toUpperCase();
      sellCurrency = sellCurrency.toUpperCase();

      var titles = [_react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders101', defaultMessage: 'OWNER' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders102', defaultMessage: 'AMOUNT' }), _react2.default.createElement(
        'span',
        null,
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders104', defaultMessage: 'PRICE FOR 1 {buyCurrency}', values: { buyCurrency: '' + buyCurrency } })
      ), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders105', defaultMessage: 'TOTAL' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders106', defaultMessage: 'START EXCHANGE' })];

      var _props2 = this.props,
          isOnline = _props2.isOnline,
          isAllPeersLoaded = _props2.isAllPeersLoaded,
          myOrders = _props2.myOrders,
          orderId = _props2.orderId,
          invalidPair = _props2.invalidPair,
          location = _props2.location,
          currencies = _props2.currencies;

      var isIpfsLoaded = isOnline && isAllPeersLoaded;
      var seoPage = (0, _seo.getSeoPage)(location.pathname);

      var isWidget = _appConfig2.default && _appConfig2.default.isWidget;

      var buttonsRowStyleName = _reactDeviceDetect.isMobile ? isWidget ? 'buttonRow buttonRowMobile buttonRowWidget' : 'buttonRow buttonRowMobile' : isWidget ? 'buttonRow buttonRowWidget' : 'buttonRow';

      var buyCurrencyFullName = (currencies.find(function (c) {
        return c.name === buyCurrency;
      }) || {}).fullTitle;
      var sellCurrencyFullName = (currencies.find(function (c) {
        return c.name === sellCurrency;
      }) || {}).fullTitle;
      var title = (0, _reactIntl.defineMessages)({
        metaTitle: {
          id: 'Orders121',
          defaultMessage: 'Atomic Swap {buyCurrencyFullName} ({buyCurrency}) to {sellCurrencyFullName} ({sellCurrency}) Instant Exchange'
        }
      });
      var description = (0, _reactIntl.defineMessages)({
        metaDescription: {
          id: 'Orders127',
          defaultMessage: 'Best exchange rate for {buyCurrencyFullName} ({buyCurrency}) to {sellCurrencyFullName} ({sellCurrency}).\n         Swap.Online wallet provides instant exchange using Atomic Swap Protocol.'
        }
      });

      return _react2.default.createElement(
        _react.Fragment,
        null,
        _react2.default.createElement(_PageSeo2.default, {
          location: location,
          defaultTitle: intl.formatMessage(title.metaTitle, { buyCurrency: buyCurrency, sellCurrency: sellCurrency, buyCurrencyFullName: buyCurrencyFullName, sellCurrencyFullName: sellCurrencyFullName }),
          defaultDescription: intl.formatMessage(description.metaDescription, { buyCurrency: buyCurrency, sellCurrency: sellCurrency, buyCurrencyFullName: buyCurrencyFullName, sellCurrencyFullName: sellCurrencyFullName }) }),
        _react2.default.createElement(
          'div',
          { styleName: 'headerContainer' },
          _react2.default.createElement(
            _Title2.default,
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'orders1381',
              defaultMessage: '{pair} no limit exchange with 0 fee',
              values: { pair: buyCurrency + '/' + sellCurrency, buyCurrency: buyCurrency, sellCurrency: sellCurrency, buyCurrencyFullName: buyCurrencyFullName, sellCurrencyFullName: sellCurrencyFullName }
            })
          ),
          _react2.default.createElement(_CloseIcon2.default, { styleName: 'closeButton', onClick: function onClick() {
              return _this3.props.history.push((0, _locale.localisedUrl)(intl.locale, _helpers.links.home));
            }, 'data-testid': 'CloseIcon' })
        ),
        invalidPair && _react2.default.createElement(
          'p',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Orders141', defaultMessage: 'No such ticker. Redirecting to SWAP-BTC exchange...' })
        ),
        _react2.default.createElement(
          'div',
          { styleName: buttonsRowStyleName },
          _react2.default.createElement(
            _controls.Button,
            { green: true, styleName: 'button', disabled: myOrders.length === 0, onClick: function onClick() {
                return _this3.setState(function (state) {
                  return { isVisible: !state.isVisible };
                });
              } },
            isVisible ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders1499', defaultMessage: 'Hide' }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Orders151', defaultMessage: 'my Orders' })
          ),
          _react2.default.createElement(
            _controls.Button,
            { gray: true, styleName: 'button', onClick: this.createOffer },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders128', defaultMessage: 'Create offer' })
          ),
          isWidget && _react2.default.createElement(
            _controls.Button,
            { green: true, styleName: 'button', onClick: this.handleWalletPush },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'OrdersWidgetModeShowWallet', defaultMessage: 'Wallet' })
          )
        ),
        isVisible && _react2.default.createElement(_MyOrders2.default, {
          myOrders: myOrders,
          declineRequest: this.declineRequest,
          removeOrder: this.removeOrder,
          acceptRequest: this.acceptRequest
        }),
        _react2.default.createElement(
          'h3',
          { styleName: 'ordersHeading' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders156', defaultMessage: 'BUY {buyCurrency} HERE', values: { buyCurrency: '' + buyCurrency } })
        ),
        _react2.default.createElement(
          'p',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'orders159',
            defaultMessage: 'orders of those who {sell} {buyCurrency} to you',
            values: {
              sell: _react2.default.createElement(
                'i',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders150', defaultMessage: 'sell' })
              ),
              buyCurrency: '' + buyCurrency
            } })
        ),
        _react2.default.createElement(_Table2.default, {
          id: 'table_exchange',
          className: _Table4.default.exchange,
          titles: titles,
          rows: sellOrders,
          rowRender: function rowRender(row) {
            return _react2.default.createElement(_Row2.default, {
              key: row.id,
              orderId: orderId,
              row: row,
              decline: decline,
              removeOrder: _this3.removeOrder
            });
          },
          isLoading: sellOrders.length === 0 && !isIpfsLoaded
        }),
        _react2.default.createElement(
          'h3',
          { styleName: 'ordersHeading' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders224', defaultMessage: 'SELL {buyCurrency} HERE', values: { buyCurrency: '' + buyCurrency } })
        ),
        _react2.default.createElement(
          'p',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'orders186',
            defaultMessage: 'orders of those who {buy} {buyCurrency} from you',
            values: {
              buy: _react2.default.createElement(
                'i',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'orders189', defaultMessage: 'buy' })
              ),
              buyCurrency: '' + buyCurrency
            } })
        ),
        _react2.default.createElement(_Table2.default, {
          id: 'table_exchange',
          className: _Table4.default.exchange,
          titles: titles,
          rows: buyOrders,
          rowRender: function rowRender(row) {
            return _react2.default.createElement(_Row2.default, {
              key: row.id,
              orderId: orderId,
              row: row,
              decline: decline,
              removeOrder: _this3.removeOrder
            });
          },
          isLoading: buyOrders.length === 0 && !isIpfsLoaded
        }),
        seoPage && seoPage.footer && _react2.default.createElement(
          'div',
          null,
          seoPage.footer
        )
      );
    }
  }], [{
    key: 'getDerivedStateFromProps',
    value: function getDerivedStateFromProps(_ref4) {
      var orders = _ref4.orders;

      if (!Array.isArray(orders)) {
        return;
      }

      var sellOrders = orders.filter(function (order) {
        return _Pair2.default.fromOrder(order).isAsk();
      });

      var buyOrders = orders.filter(function (order) {
        return _Pair2.default.fromOrder(order).isBid();
      });

      return {
        buyOrders: buyOrders,
        sellOrders: sellOrders
      };
    }
  }]);
  return Orders;
}(_react.Component)) || _class) || _class) || _class) || _class);
exports.default = Orders;

/***/ }),

/***/ 2042:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"allOrders":"_17ede9","titleButtonRow":"_2_KauX","buttonRow":"_1d0lvo","buttonRowWidget":"_20J9Lo","button":"_1pAkfJ","ordersHeading":"_2FPZbh","tableBox":"_3WlVDN","price":"MHLYbv","have":"_2zJRjX","haveValue":"_1joRmM","get":"_3EHTk2","getValue":"_37ODU1","btn":"_1ytbaM","img":"_2mN3r6","icon":"_2bw0eg","headerContainer":"ta8Sc1","closeButton":"_3qh6NO","buttonRowMobile":"_3WyguS"};

/***/ }),

/***/ 2046:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(37);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _reactDeviceDetect = __webpack_require__(53);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Row = __webpack_require__(2047);

var _Row2 = _interopRequireDefault(_Row);

var _helpers = __webpack_require__(17);

var _helpers2 = _interopRequireDefault(_helpers);

var _reactRouterDom = __webpack_require__(51);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _Avatar = __webpack_require__(551);

var _Avatar2 = _interopRequireDefault(_Avatar);

var _InlineLoader = __webpack_require__(115);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _controls = __webpack_require__(46);

var _Pair = __webpack_require__(368);

var _Pair2 = _interopRequireDefault(_Pair);

var _PAIR_TYPES = __webpack_require__(369);

var _PAIR_TYPES2 = _interopRequireDefault(_PAIR_TYPES);

var _RequestButton = __webpack_require__(2050);

var _RequestButton2 = _interopRequireDefault(_RequestButton);

var _reactIntl = __webpack_require__(8);

var _locale = __webpack_require__(50);

var _bignumber = __webpack_require__(30);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Row = (_dec = (0, _redaction.connect)(function (_ref) {
  var peer = _ref.ipfs.peer,
      user = _ref.user;
  return {
    currenciesData: user,
    peer: peer
  };
}), _dec2 = (0, _reactCssModules2.default)(_Row2.default), (0, _reactIntl.injectIntl)(_class = _dec(_class = _dec2(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(Row, _Component);

  function Row(props) {
    var _this2 = this;

    (0, _classCallCheck3.default)(this, Row);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Row.__proto__ || (0, _getPrototypeOf2.default)(Row)).call(this, props));

    _this.checkBalance = function () {
      var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(currency) {
        var balance, isCurrencyEthOrEthToken, isCurrencyEthToken, currenciesData, unspents, totalUnspent;
        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                currency = currency.toLowerCase();

                balance = void 0;
                isCurrencyEthOrEthToken = _helpers2.default.ethToken.isEthOrEthToken({ name: currency });
                isCurrencyEthToken = _helpers2.default.ethToken.isEthToken({ name: currency });

                if (!isCurrencyEthOrEthToken) {
                  _context.next = 16;
                  break;
                }

                if (!isCurrencyEthToken) {
                  _context.next = 11;
                  break;
                }

                _context.next = 8;
                return _actions2.default.token.getBalance(currency);

              case 8:
                balance = _context.sent;
                _context.next = 14;
                break;

              case 11:
                _context.next = 13;
                return _actions2.default.eth.getBalance(currency);

              case 13:
                balance = _context.sent;

              case 14:
                _context.next = 22;
                break;

              case 16:
                currenciesData = _this.props.currenciesData;
                _context.next = 19;
                return _actions2.default[currency].fetchUnspents(currenciesData[currency + 'Data'].address);

              case 19:
                unspents = _context.sent;
                totalUnspent = unspents.reduce(function (summ, _ref3) {
                  var satoshis = _ref3.satoshis;
                  return summ + satoshis;
                }, 0);

                balance = (0, _bignumber.BigNumber)(totalUnspent).dividedBy(1e8);

              case 22:

                _this.setState({
                  balance: balance
                });

              case 23:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, _this2);
      }));

      return function (_x) {
        return _ref2.apply(this, arguments);
      };
    }();

    _this.checkDeclineOrders = function (orderId, currency, checkCurrency) {
      var _this$props = _this.props,
          locale = _this$props.intl.locale,
          decline = _this$props.decline;


      if (decline.length === 0) {
        _this.sendRequest(orderId, currency);
      } else {
        var getDeclinedExistedSwapIndex = _helpers2.default.handleGoTrade.getDeclinedExistedSwapIndex({ currency: currency, decline: decline });
        if (getDeclinedExistedSwapIndex !== false) {
          _this.handleDeclineOrdersModalOpen(getDeclinedExistedSwapIndex);
        } else {
          _this.sendRequest(orderId, currency);
        }
      }
    };

    _this.handleDeclineOrdersModalOpen = function (indexOfDecline) {
      var orders = _swap2.default.shared().services.orders.items;
      var declineSwap = _actions2.default.core.getSwapById(_this.props.decline[indexOfDecline]);

      if (declineSwap !== undefined) {
        _actions2.default.modals.open(_helpers.constants.modals.DeclineOrdersModal, {
          declineSwap: declineSwap
        });
      }
    };

    _this.handleGoTrade = function () {
      var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(currency) {
        var balance;
        return _regenerator2.default.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.next = 2;
                return _actions2.default.eth.getBalance();

              case 2:
                balance = _context2.sent;
                return _context2.abrupt('return', balance >= 0.005 || currency.toLowerCase() === 'eos');

              case 4:
              case 'end':
                return _context2.stop();
            }
          }
        }, _callee2, _this2);
      }));

      return function (_x2) {
        return _ref4.apply(this, arguments);
      };
    }();

    _this.sendRequest = function (orderId, currency) {
      var _this$props2 = _this.props,
          _this$props2$row = _this$props2.row,
          buyAmount = _this$props2$row.buyAmount,
          sellAmount = _this$props2$row.sellAmount,
          buyCurrency = _this$props2$row.buyCurrency,
          sellCurrency = _this$props2$row.sellCurrency,
          intl = _this$props2.intl;


      var pair = _Pair2.default.fromOrder(_this.props.row);
      var price = pair.price,
          amount = pair.amount,
          total = pair.total,
          main = pair.main,
          base = pair.base,
          type = pair.type;


      var sell = new _bignumber.BigNumber(sellAmount).dp(6, _bignumber.BigNumber.ROUND_CEIL);
      var buy = new _bignumber.BigNumber(buyAmount).dp(6, _bignumber.BigNumber.ROUND_CEIL);
      var exchangeRates = new _bignumber.BigNumber(price).dp(6, _bignumber.BigNumber.ROUND_CEIL);

      var messages = (0, _reactIntl.defineMessages)({
        sell: {
          id: 'ordersRow97',
          defaultMessage: 'sell'
        },
        buy: {
          id: 'ordersRow101',
          defaultMessage: 'buy'
        }
      });

      _actions2.default.modals.open(_helpers.constants.modals.ConfirmBeginSwap, {
        order: _this.props.row,
        onAccept: function () {
          var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(customWallet) {
            var check, destination;
            return _regenerator2.default.wrap(function _callee3$(_context3) {
              while (1) {
                switch (_context3.prev = _context3.next) {
                  case 0:
                    _context3.next = 2;
                    return _this.handleGoTrade(currency);

                  case 2:
                    check = _context3.sent;


                    _this.setState({ isFetching: true });

                    setTimeout(function () {
                      _this.setState(function () {
                        return { isFetching: false };
                      });
                    }, 15 * 1000);

                    destination = {};

                    if (customWallet !== null) {
                      destination.address = customWallet;
                    }

                    _actions2.default.core.sendRequest(orderId, destination, function (isAccepted) {
                      console.log('user has ' + (isAccepted ? 'accepted' : 'declined') + ' your request');

                      if (isAccepted) {
                        _this.setState({ redirect: true, isFetching: false });
                      } else {
                        _this.setState({ isFetching: false });
                      }
                    });
                    _actions2.default.core.updateCore();

                  case 9:
                  case 'end':
                    return _context3.stop();
                }
              }
            }, _callee3, _this2);
          }));

          return function onAccept(_x3) {
            return _ref5.apply(this, arguments);
          };
        }(),
        message: _react2.default.createElement(_reactIntl.FormattedMessage, {
          id: 'ordersRow134',
          defaultMessage: 'Do you want to {action} {amount} {main} for {total} {base} at price {price} {main}/{base}?',
          values: {
            action: '' + (type === _PAIR_TYPES2.default.BID ? intl.formatMessage(messages.sell) : intl.formatMessage(messages.buy)),
            amount: '' + amount.toFixed(5),
            main: '' + main,
            total: '' + total.toFixed(5),
            base: '' + base,
            price: '' + exchangeRates
          }
        })
      });
    };

    _this.renderContent = function () {
      var windowWidthIn = window.innerWidth;
      _this.setState({ windowWidth: windowWidthIn });
    };

    _this.state = {
      balance: 0,
      windowWidth: 0,
      isFetching: false,
      enterButton: false
    };
    return _this;
  }

  (0, _createClass3.default)(Row, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      window.addEventListener('resize', this.renderContent);
      this.renderContent();
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      window.removeEventListener('resize', this.renderContent);
      _actions2.default.modals.close(_helpers.constants.modals.Confirm);
    }
  }, {
    key: 'componentWillMount',
    value: function componentWillMount() {
      var _props$row = this.props.row,
          sellCurrency = _props$row.sellCurrency,
          isMy = _props$row.isMy,
          buyCurrency = _props$row.buyCurrency;

      if (isMy) {
        this.checkBalance(sellCurrency);
      } else {
        this.checkBalance(buyCurrency);
      }
    }
  }, {
    key: 'renderWebContent',
    value: function renderWebContent() {
      var _this3 = this;

      var _state = this.state,
          balance = _state.balance,
          isFetching = _state.isFetching;
      var _props = this.props,
          peer = _props.peer,
          orderId = _props.orderId,
          _props$row2 = _props.row,
          id = _props$row2.id,
          isMy = _props$row2.isMy,
          buyAmount = _props$row2.buyAmount,
          sellAmount = _props$row2.sellAmount,
          buyCurrency = _props$row2.buyCurrency,
          isRequested = _props$row2.isRequested,
          isProcessing = _props$row2.isProcessing,
          sellCurrency = _props$row2.sellCurrency,
          ownerPeer = _props$row2.owner.peer,
          removeOrder = _props.removeOrder,
          locale = _props.intl.locale;


      var pair = _Pair2.default.fromOrder(this.props.row);
      var price = pair.price,
          amount = pair.amount,
          total = pair.total,
          main = pair.main,
          base = pair.base,
          type = pair.type;


      return _react2.default.createElement(
        'tr',
        { style: orderId === id ? { background: 'rgba(0, 236, 0, 0.1)' } : {} },
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(_Avatar2.default, {
            value: ownerPeer,
            size: 45
          })
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'span',
            { style: { color: 'gray' } },
            type === _PAIR_TYPES2.default.BID ? 'buys' : 'sells'
          ),
          ' ',
          amount.toFixed(5) + ' ' + main
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'span',
            { style: { color: 'gray' } },
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'Row1511',
              defaultMessage: 'at price {price}',
              values: {
                price: price.toFixed(5) + ' ' + base
              } })
          )
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'span',
            { style: { color: 'gray' } },
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'Row159',
              defaultMessage: 'for {total}',
              values: {
                total: total.toFixed(5) + ' ' + base
              }
            })
          )
        ),
        _react2.default.createElement(
          'td',
          null,
          peer === ownerPeer ? _react2.default.createElement(_controls.RemoveButton, { onClick: function onClick() {
              return removeOrder(id);
            } }) : _react2.default.createElement(
            _react.Fragment,
            null,
            isRequested ? _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(
                'div',
                { style: { color: 'red' } },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row148', defaultMessage: 'REQUESTING' })
              ),
              _react2.default.createElement(
                _reactRouterDom.Link,
                { to: (0, _locale.localisedUrl)(locale, _helpers.links.swap) + '/' + buyCurrency + '-' + sellCurrency + '/' + id },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row151', defaultMessage: 'Go to the swap' })
              )
            ) : isProcessing ? _react2.default.createElement(
              'span',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row157', defaultMessage: 'This order is in execution' })
            ) : isFetching ? _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(_InlineLoader2.default, null),
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                'span',
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row165', defaultMessage: 'Please wait while we confirm your request' })
              )
            ) : _react2.default.createElement(
              _RequestButton2.default,
              {
                disabled: balance >= Number(buyAmount),
                onClick: function onClick() {
                  return _this3.checkDeclineOrders(id, isMy ? sellCurrency : buyCurrency);
                },
                data: { type: type, amount: amount, main: main, total: total, base: base }
              },
              type === _PAIR_TYPES2.default.BID ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row2061', defaultMessage: 'Sell' }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row206', defaultMessage: 'Buy' }),
              ' ',
              amount.toFixed(5),
              ' ',
              main,
              _react2.default.createElement('br', null),
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row210', defaultMessage: 'for' }),
              ' ',
              total.toFixed(5),
              ' ',
              base
            )
          )
        )
      );
    }
  }, {
    key: 'renderMobileContent',
    value: function renderMobileContent() {
      var _this4 = this;

      var _state2 = this.state,
          balance = _state2.balance,
          isFetching = _state2.isFetching;
      var _props2 = this.props,
          orderId = _props2.orderId,
          _props2$row = _props2.row,
          id = _props2$row.id,
          buyCurrency = _props2$row.buyCurrency,
          sellCurrency = _props2$row.sellCurrency,
          isMy = _props2$row.isMy,
          buyAmount = _props2$row.buyAmount,
          sellAmount = _props2$row.sellAmount,
          isRequested = _props2$row.isRequested,
          isProcessing = _props2$row.isProcessing,
          ownerPeer = _props2$row.owner.peer,
          removeOrder = _props2.removeOrder,
          peer = _props2.peer;


      var pair = _Pair2.default.fromOrder(this.props.row);

      var price = pair.price,
          amount = pair.amount,
          total = pair.total,
          main = pair.main,
          base = pair.base,
          type = pair.type;


      return _react2.default.createElement(
        'tr',
        {
          styleName: peer === ownerPeer ? 'mobileRowRemove' : 'mobileRowStart',
          style: orderId === id ? { background: 'rgba(0, 236, 0, 0.1)' } : {}
        },
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'div',
            { styleName: 'bigContainer' },
            _react2.default.createElement(
              'div',
              { styleName: 'tdContainer-1' },
              _react2.default.createElement(
                'span',
                { styleName: 'firstType' },
                type === _PAIR_TYPES2.default.BID ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowMobileFirstTypeYouHave', defaultMessage: 'You have' }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowMobileFirstTypeYouGet', defaultMessage: 'You get' })
              ),
              _react2.default.createElement(
                'span',
                null,
                amount.toFixed(5) + ' ' + main
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement('i', { className: 'fas fa-exchange-alt' })
            ),
            _react2.default.createElement(
              'div',
              { styleName: 'tdContainer-2' },
              _react2.default.createElement(
                'span',
                { styleName: 'secondType' },
                type === _PAIR_TYPES2.default.BID ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowMobileSecondTypeYouGet', defaultMessage: 'You get' }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowMobileSecondTypeYouHave', defaultMessage: 'You have' })
              ),
              _react2.default.createElement(
                'span',
                null,
                total.toFixed(5) + ' ' + base
              )
            ),
            _react2.default.createElement(
              'div',
              { styleName: 'tdContainer-3' },
              peer === ownerPeer ? _react2.default.createElement(_controls.RemoveButton, { onClick: function onClick() {
                  return removeOrder(id);
                } }) : _react2.default.createElement(
                _react.Fragment,
                null,
                isRequested ? _react2.default.createElement(
                  _react.Fragment,
                  null,
                  _react2.default.createElement(
                    'div',
                    { style: { color: 'red' } },
                    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowM136', defaultMessage: 'REQUESTING' })
                  ),
                  _react2.default.createElement(
                    _reactRouterDom.Link,
                    { to: _helpers.links.swap + '/' + buyCurrency + '-' + sellCurrency + '/' + id },
                    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowM139', defaultMessage: 'Go to the swap' })
                  )
                ) : isProcessing ? _react2.default.createElement(
                  'span',
                  null,
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowM145', defaultMessage: 'This order is in execution' })
                ) : isFetching ? _react2.default.createElement(
                  _react.Fragment,
                  null,
                  _react2.default.createElement(_InlineLoader2.default, null),
                  _react2.default.createElement('br', null),
                  _react2.default.createElement(
                    'span',
                    null,
                    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowM153', defaultMessage: 'Please wait while we confirm your request' })
                  )
                ) : _react2.default.createElement(
                  _RequestButton2.default,
                  {
                    styleName: 'startButton',
                    disabled: balance >= Number(buyAmount),
                    onClick: function onClick() {
                      return _this4.sendRequest(id, isMy ? sellCurrency : buyCurrency);
                    },
                    data: { type: type, amount: amount, main: main, total: total, base: base }
                  },
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowM166', defaultMessage: 'Start' })
                )
              )
            )
          )
        )
      );
    }
  }, {
    key: 'render',
    value: function render() {
      var mobileBreakpoint = 800;
      var _props3 = this.props,
          _props3$row = _props3.row,
          id = _props3$row.id,
          buyCurrency = _props3$row.buyCurrency,
          sellCurrency = _props3$row.sellCurrency,
          locale = _props3.intl.locale;


      if (this.state.redirect) {
        return _react2.default.createElement(_reactRouterDom.Redirect, { push: true, to: (0, _locale.localisedUrl)(locale, _helpers.links.swap) + '/' + buyCurrency + '-' + sellCurrency + '/' + id });
      }
      if (this.state.windowWidth < mobileBreakpoint) {
        return this.renderMobileContent();
      } else {
        return this.renderWebContent();
      }
    }
  }]);
  return Row;
}(_react.Component), _class2.propTypes = {
  row: _propTypes2.default.object
}, _temp)) || _class) || _class) || _class);
exports.default = Row;

/***/ }),

/***/ 2047:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"mobileRowRemove":"_2YeeJg","firstType":"_1Te6O2","secondType":"_2jqecv","mobileRowStart":"_2kEk8O","tdContainer-1":"_36dxvU","tdContainer-2":"_1bWbXJ","tdContainer-3":"_1NxNjA","startButton":"_3XjpSt","onHover":"_2QWGnB","bigContainer":"_1eS_fB"};

/***/ }),

/***/ 2049:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"avatar":"_2lphsA"};

/***/ }),

/***/ 2050:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _RequestButton = __webpack_require__(2051);

var _RequestButton2 = _interopRequireDefault(_RequestButton);

var _reactDeviceDetect = __webpack_require__(53);

var _PAIR_TYPES = __webpack_require__(369);

var _PAIR_TYPES2 = _interopRequireDefault(_PAIR_TYPES);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var RequestButton = function RequestButton(_ref) {
  var disabled = _ref.disabled,
      children = _ref.children,
      _ref$data = _ref.data,
      type = _ref$data.type,
      base = _ref$data.base,
      amount = _ref$data.amount,
      total = _ref$data.total,
      main = _ref$data.main,
      move = _ref.move,
      rest = (0, _objectWithoutProperties3.default)(_ref, ['disabled', 'children', 'data', 'move']);
  return _react2.default.createElement(
    'button',
    (0, _extends3.default)({ styleName: !disabled ? 'button disabled' : 'button' }, rest),
    move ? _react2.default.createElement(
      _react.Fragment,
      null,
      type === _PAIR_TYPES2.default.BID ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Reqstbttn15', defaultMessage: 'SELL' }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Reqstbttn16', defaultMessage: 'BUY' }),
      ' ',
      amount.toFixed(5),
      ' ',
      main,
      _react2.default.createElement('br', null),
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Reqstbttn22', defaultMessage: 'FOR' }),
      ' ',
      total.toFixed(5),
      ' ',
      base
    ) : children
  );
};

exports.default = (0, _reactCssModules2.default)(RequestButton, _RequestButton2.default, { allowMultiple: true });

/***/ }),

/***/ 2051:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_2Uhw5O","disabled":"_1xUylE"};

/***/ }),

/***/ 2052:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _reactDeviceDetect = __webpack_require__(53);

var _Table = __webpack_require__(160);

var _Table2 = _interopRequireDefault(_Table);

var _Table3 = __webpack_require__(260);

var _Table4 = _interopRequireDefault(_Table3);

var _RowFeeds = __webpack_require__(2053);

var _RowFeeds2 = _interopRequireDefault(_RowFeeds);

var _RowFeedsMobile = __webpack_require__(2058);

var _RowFeedsMobile2 = _interopRequireDefault(_RowFeedsMobile);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MyOrders = function (_PureComponent) {
  (0, _inherits3.default)(MyOrders, _PureComponent);

  function MyOrders() {
    (0, _classCallCheck3.default)(this, MyOrders);
    return (0, _possibleConstructorReturn3.default)(this, (MyOrders.__proto__ || (0, _getPrototypeOf2.default)(MyOrders)).apply(this, arguments));
  }

  (0, _createClass3.default)(MyOrders, [{
    key: 'render',
    value: function render() {
      var titles = [_react2.default.createElement(_reactIntl.FormattedMessage, { id: 'MyOrders19', defaultMessage: 'EXCHANGE' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'MyOrders20', defaultMessage: 'YOU GET' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'MyOrders21', defaultMessage: 'YOU HAVE' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'MyOrders22', defaultMessage: 'EXCHANGE RATE' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'MyOrders231', defaultMessage: 'SHARE' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'MyOrders24', defaultMessage: 'ACTIONS' })];
      var _props = this.props,
          myOrders = _props.myOrders,
          declineRequest = _props.declineRequest,
          acceptRequest = _props.acceptRequest,
          removeOrder = _props.removeOrder;


      if (myOrders.length === undefined || myOrders.length <= 0) {
        return null;
      }

      return _react2.default.createElement(
        _react.Fragment,
        null,
        _react2.default.createElement(
          'h3',
          { style: { marginTop: '50px' } },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'MyOrders23', defaultMessage: 'Your orders' })
        ),
        _react2.default.createElement(_Table2.default, {
          className: _Table4.default.exchange,
          titles: titles,
          rows: myOrders,
          rowRender: function rowRender(row, index) {
            return _reactDeviceDetect.isMobile && _react2.default.createElement(_RowFeedsMobile2.default, {
              key: index,
              row: row,
              declineRequest: declineRequest,
              acceptRequest: acceptRequest,
              removeOrder: removeOrder
            }) || _react2.default.createElement(_RowFeeds2.default, {
              key: index,
              row: row,
              declineRequest: declineRequest,
              acceptRequest: acceptRequest,
              removeOrder: removeOrder
            });
          }
        })
      );
    }
  }]);
  return MyOrders;
}(_react.PureComponent);

exports.default = MyOrders;

/***/ }),

/***/ 2053:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _helpers = __webpack_require__(17);

var _reactRouterDom = __webpack_require__(51);

var _reactCopyToClipboard = __webpack_require__(130);

var _reactCopyToClipboard2 = _interopRequireDefault(_reactCopyToClipboard);

var _RowFeeds = __webpack_require__(2054);

var _RowFeeds2 = _interopRequireDefault(_RowFeeds);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _shareAltSolid = __webpack_require__(2055);

var _shareAltSolid2 = _interopRequireDefault(_shareAltSolid);

var _Coins = __webpack_require__(405);

var _Coins2 = _interopRequireDefault(_Coins);

var _reactIntl = __webpack_require__(8);

var _locale = __webpack_require__(50);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var RowFeeds = (_dec = (0, _reactCssModules2.default)(_RowFeeds2.default, { allowMultiple: true }), (0, _reactRouterDom.withRouter)(_class = (0, _reactIntl.injectIntl)(_class = _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(RowFeeds, _Component);

  function RowFeeds() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, RowFeeds);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = RowFeeds.__proto__ || (0, _getPrototypeOf2.default)(RowFeeds)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      isLinkCopied: false
    }, _this.handleCopyLink = function () {

      _this.setState({
        isLinkCopied: true
      }, function () {
        setTimeout(function () {
          _this.setState({
            isLinkCopied: false
          });
        }, 500);
      });
    }, _this.checkCopyText = function () {
      var _this$props = _this.props,
          locale = _this$props.intl.locale,
          _this$props$row = _this$props.row,
          buyCurrency = _this$props$row.buyCurrency,
          sellCurrency = _this$props$row.sellCurrency,
          id = _this$props$row.id;


      var tradeTicker = (buyCurrency + '-' + sellCurrency).toLowerCase();
      var reversPair = tradeTicker.split('-').reverse().join('-');

      if (_helpers.constants.tradeTicker.includes(tradeTicker.toUpperCase())) {
        return '' + _appConfig2.default.base + locale + '/' + tradeTicker + '/' + id;
      }
      return '' + _appConfig2.default.base + locale + '/' + reversPair + '/' + id;
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(RowFeeds, [{
    key: 'render',
    value: function render() {
      var _state = this.state,
          isLinkCopied = _state.isLinkCopied,
          copyText = _state.copyText;
      var _props = this.props,
          _props$row = _props.row,
          requests = _props$row.requests,
          buyAmount = _props$row.buyAmount,
          buyCurrency = _props$row.buyCurrency,
          sellAmount = _props$row.sellAmount,
          sellCurrency = _props$row.sellCurrency,
          exchangeRate = _props$row.exchangeRate,
          id = _props$row.id,
          declineRequest = _props.declineRequest,
          acceptRequest = _props.acceptRequest,
          removeOrder = _props.removeOrder,
          locale = _props.intl.locale;


      var rate = exchangeRate ? (0, _bignumber2.default)(exchangeRate) : (0, _bignumber2.default)(buyAmount).div(sellAmount);

      return _react2.default.createElement(
        'tr',
        null,
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(_Coins2.default, { names: [buyCurrency, sellCurrency] })
        ),
        _react2.default.createElement(
          'td',
          null,
          buyAmount.toFixed(5) + ' ' + buyCurrency
        ),
        _react2.default.createElement(
          'td',
          null,
          sellAmount.toFixed(5) + ' ' + sellCurrency
        ),
        _react2.default.createElement(
          'td',
          null,
          rate.toFixed(5) + ' ' + buyCurrency + '/' + sellCurrency
        ),
        _react2.default.createElement(
          _reactCopyToClipboard2.default,
          {
            onCopy: this.handleCopyLink,
            text: this.checkCopyText()
          },
          _react2.default.createElement(
            'td',
            { style: { position: 'relative', cursor: 'pointer' } },
            isLinkCopied && _react2.default.createElement(
              'span',
              { style: { fontSize: '12px', position: 'absolute', top: '8px', left: 'calc(20%)' } },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowFeeds64', defaultMessage: 'Copied' }),
              _react2.default.createElement('br', null)
            ),
            _react2.default.createElement('img', { src: _shareAltSolid2.default, styleName: 'img', alt: 'share' }),
            _react2.default.createElement(
              'span',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowFeeds68', defaultMessage: 'Share' })
            )
          )
        ),
        _react2.default.createElement(
          'td',
          null,
          Boolean(requests && requests.length) ? _react2.default.createElement(
            'div',
            { styleName: 'buttons' },
            _react2.default.createElement(
              'div',
              { styleName: 'delete', onClick: function onClick() {
                  return declineRequest(id, requests[0].participant.peer);
                } },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowFeeds77', defaultMessage: 'Decline' })
            ),
            _react2.default.createElement(
              _reactRouterDom.Link,
              { to: (0, _locale.localisedUrl)(locale, _helpers.links.swap) + '/' + sellCurrency.toLowerCase() + '-' + buyCurrency.toLowerCase() + '/' + id },
              _react2.default.createElement(
                'div',
                { styleName: 'accept', onClick: function onClick() {
                    return acceptRequest(id, requests[0].participant.peer);
                  } },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowFeeds81', defaultMessage: 'Accept' })
              )
            )
          ) : _react2.default.createElement(
            'div',
            { styleName: 'delete', onClick: function onClick() {
                return removeOrder(id);
              } },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowFeeds87', defaultMessage: 'Delete order' })
          )
        )
      );
    }
  }]);
  return RowFeeds;
}(_react.Component), _class2.propTypes = {
  row: _propTypes2.default.object
}, _temp2)) || _class) || _class) || _class);
exports.default = RowFeeds;

/***/ }),

/***/ 2054:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"userTooltip":"_2YWugD","buy":"_2fk8Rq","accept":"_2wRREs","sell":"_2iVdG-","delete":"_1tosv1","currency":"dyRaXd","coin":"_3viIkY","buttons":"Hee1Pi","arrow":"_2LbiCb","img":"_1txvO7","share":"_5dwzOK"};

/***/ }),

/***/ 2055:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/share-alt-solid_2c226f.svg";

/***/ }),

/***/ 2056:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"coins":"XQaT-I"};

/***/ }),

/***/ 2057:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"coin":"_1WqrJr","icon":"_3DbGHI","letter":"_213Lpu"};

/***/ }),

/***/ 2058:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _helpers = __webpack_require__(17);

var _reactRouterDom = __webpack_require__(51);

var _reactCopyToClipboard = __webpack_require__(130);

var _reactCopyToClipboard2 = _interopRequireDefault(_reactCopyToClipboard);

var _RowFeedsMobile = __webpack_require__(2059);

var _RowFeedsMobile2 = _interopRequireDefault(_RowFeedsMobile);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _shareAltSolid = __webpack_require__(2060);

var _shareAltSolid2 = _interopRequireDefault(_shareAltSolid);

var _Coins = __webpack_require__(405);

var _Coins2 = _interopRequireDefault(_Coins);

var _reactIntl = __webpack_require__(8);

var _locale = __webpack_require__(50);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var RowFeedsMoble = (_dec = (0, _reactCssModules2.default)(_RowFeedsMobile2.default, { allowMultiple: true }), (0, _reactIntl.injectIntl)(_class = _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(RowFeedsMoble, _Component);

  function RowFeedsMoble() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, RowFeedsMoble);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = RowFeedsMoble.__proto__ || (0, _getPrototypeOf2.default)(RowFeedsMoble)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      isLinkCopied: false
    }, _this.handleCopyLink = function () {
      _this.setState({
        isLinkCopied: true
      }, function () {
        setTimeout(function () {
          _this.setState({
            isLinkCopied: false
          });
        }, 500);
      });
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(RowFeedsMoble, [{
    key: 'render',
    value: function render() {
      var isLinkCopied = this.state.isLinkCopied;
      var _props = this.props,
          _props$row = _props.row,
          requests = _props$row.requests,
          buyAmount = _props$row.buyAmount,
          buyCurrency = _props$row.buyCurrency,
          sellAmount = _props$row.sellAmount,
          sellCurrency = _props$row.sellCurrency,
          exchangeRate = _props$row.exchangeRate,
          id = _props$row.id,
          declineRequest = _props.declineRequest,
          acceptRequest = _props.acceptRequest,
          removeOrder = _props.removeOrder,
          locale = _props.intl.locale;


      return _react2.default.createElement(
        'tr',
        null,
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'div',
            { styleName: 'bigContainer' },
            _react2.default.createElement(
              'div',
              { styleName: 'tdContainer-1' },
              _react2.default.createElement(
                'span',
                { styleName: 'firstType' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowMFeed49', defaultMessage: 'You get' })
              ),
              _react2.default.createElement(
                'span',
                null,
                buyAmount.toFixed(5) + ' ' + buyCurrency
              )
            ),
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement('i', { className: 'fas fa-exchange-alt' })
            ),
            _react2.default.createElement(
              'div',
              { styleName: 'tdContainer-2' },
              _react2.default.createElement(
                'span',
                { styleName: 'secondType' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowMFeed56', defaultMessage: 'You have' })
              ),
              _react2.default.createElement(
                'span',
                null,
                sellAmount.toFixed(5) + ' ' + sellCurrency
              )
            )
          )
        ),
        _react2.default.createElement(
          _reactCopyToClipboard2.default,
          {
            onCopy: this.handleCopyLink,
            text: '' + _appConfig2.default.base + buyCurrency.toLowerCase() + '-' + sellCurrency.toLowerCase() + '/' + id
          },
          _react2.default.createElement(
            'td',
            { style: { cursor: 'pointer' } },
            isLinkCopied && _react2.default.createElement(
              'span',
              { styleName: 'CopiedOrders' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowMFeed69', defaultMessage: 'Copied' }),
              _react2.default.createElement('br', null)
            ),
            _react2.default.createElement('img', { src: _shareAltSolid2.default, styleName: 'img', alt: 'share' })
          )
        ),
        _react2.default.createElement(
          'td',
          null,

          // Boolean(requests && requests.length) ? (
          //   <div styleName="buttons">
          //     <div styleName="delete" onClick={() => declineRequest(id, requests[0].participant.peer)} >
          //       <FormattedMessage id="RowMFeed82" defaultMessage="Decline" />
          //     </div>
          //     <Link to={`${localisedUrl(locale, links.swap)}/${sellCurrency.toLowerCase()}-${buyCurrency.toLowerCase()}/${id}`}>
          //       <div styleName="accept" onClick={() => acceptRequest(id, requests[0].participant.peer)} >
          //         <FormattedMessage id="RowMFeed85" defaultMessage="Accept" />
          //       </div>
          //     </Link>
          //   </div>
          // ) : (
          //   <div styleName="delete" onClick={() => removeOrder(id)} > <i className="fas fa-times-circle" /></div>
          // )
          _react2.default.createElement(
            'div',
            { styleName: 'delete', onClick: function onClick() {
                return removeOrder(id);
              } },
            ' ',
            _react2.default.createElement('i', { className: 'fas fa-times-circle' })
          )
        )
      );
    }
  }]);
  return RowFeedsMoble;
}(_react.Component), _class2.propTypes = {
  row: _propTypes2.default.object
}, _temp2)) || _class) || _class);
exports.default = RowFeedsMoble;

/***/ }),

/***/ 2059:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"userTooltip":"_2w8jiB","buy":"qLJyQc","accept":"_2-Pspx","sell":"_2pje2h","delete":"_2X3rZG","img":"_3m4EF1","share":"_2PyjoJ","currency":"_3dfOWh","buttons":"_3ARh8n","firstType":"_2mJvvK","secondType":"_1ZaQJA","tdContainer-1":"_3BRu8Y","tdContainer-2":"_1RYEJX","startButton":"_2QyCUX","bigContainer":"_3rVyAS","CopiedOrders":"_3gvtzm"};

/***/ }),

/***/ 2060:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/share-alt-solid_2c226f.svg";

/***/ }),

/***/ 2061:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _stringify = __webpack_require__(112);

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _dec, _dec2, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactDeviceDetect = __webpack_require__(53);

var _redaction = __webpack_require__(37);

var _helpers = __webpack_require__(17);

var _locale = __webpack_require__(50);

var _firestore = __webpack_require__(314);

var _firestore2 = _interopRequireDefault(_firestore);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _reactRouter = __webpack_require__(110);

var _user = __webpack_require__(831);

var _moment = __webpack_require__(250);

var _moment2 = _interopRequireDefault(_moment);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Wallet = __webpack_require__(2062);

var _Wallet2 = _interopRequireDefault(_Wallet);

var _Row = __webpack_require__(2063);

var _Row2 = _interopRequireDefault(_Row);

var _Table = __webpack_require__(160);

var _Table2 = _interopRequireDefault(_Table);

var _controls = __webpack_require__(46);

var _Table3 = __webpack_require__(260);

var _Table4 = _interopRequireDefault(_Table3);

var _PageHeadline = __webpack_require__(220);

var _PageHeadline2 = _interopRequireDefault(_PageHeadline);

var _PageSeo = __webpack_require__(550);

var _PageSeo2 = _interopRequireDefault(_PageSeo);

var _PartialClosure = __webpack_require__(905);

var _PartialClosure2 = _interopRequireDefault(_PartialClosure);

var _SubTitle = __webpack_require__(159);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

var _KeyActionsPanel = __webpack_require__(2138);

var _KeyActionsPanel2 = _interopRequireDefault(_KeyActionsPanel);

var _SaveKeysModal = __webpack_require__(2140);

var _SaveKeysModal2 = _interopRequireDefault(_SaveKeysModal);

var _reactIntl = __webpack_require__(8);

var _Referral = __webpack_require__(559);

var _Referral2 = _interopRequireDefault(_Referral);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var isWidgetBuild = _appConfig2.default && _appConfig2.default.isWidget;

var Wallet = (_dec = (0, _redaction.connect)(function (_ref) {
  var hiddenCoinsList = _ref.core.hiddenCoinsList,
      _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      bchData = _ref$user.bchData,
      tokensData = _ref$user.tokensData,
      eosData = _ref$user.eosData,
      telosData = _ref$user.telosData,
      nimData = _ref$user.nimData,
      ltcData = _ref$user.ltcData,
      currencies = _ref.currencies.items;
  return {
    tokens: _appConfig2.default && _appConfig2.default.isWidget ? [_appConfig2.default.erc20token.toUpperCase()] : (0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k].currency;
    }),
    items: (_appConfig2.default && _appConfig2.default.isWidget ? [btcData, ethData /* usdtOmniData */] : [btcData, bchData, ethData, eosData, telosData, ltcData]).map(function (data) {
      return data.currency;
    }),
    currencyBalance: [btcData, bchData, ethData, eosData,
    /* xlmData, usdtOmniData */telosData, ltcData].concat((0, _toConsumableArray3.default)((0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    }))).map(function (_ref2) {
      var balance = _ref2.balance,
          currency = _ref2.currency;
      return {
        balance: balance,
        name: currency
      };
    }),
    currencies: currencies,
    hiddenCoinsList: _appConfig2.default && _appConfig2.default.isWidget ? [] : hiddenCoinsList,
    userEthAddress: ethData.address,
    tokensData: {
      ethData: ethData,
      btcData: btcData,
      bchData: bchData,
      ltcData: ltcData,
      eosData: eosData,
      telosData: telosData
      /* usdtOmniData */
    }
  };
}), _dec2 = (0, _reactCssModules2.default)(_Wallet2.default, { allowMultiple: true }), _dec(_class = (0, _reactIntl.injectIntl)(_class = (0, _reactRouter.withRouter)(_class = _dec2(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(Wallet, _Component);

  function Wallet() {
    var _ref3;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Wallet);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref3 = Wallet.__proto__ || (0, _getPrototypeOf2.default)(Wallet)).call.apply(_ref3, [this].concat(args))), _this), _this.state = {
      saveKeys: false,
      openModal: false,
      isShowingPromoText: false
    }, _this.forceCautionUserSaveMoney = function () {
      var currencyBalance = _this.props.currencyBalance;


      var hasNonZeroCurrencyBalance = (0, _user.hasNonZeroBalance)(currencyBalance);
      var isNotTestUser = (0, _user.notTestUnit)(currencyBalance);
      var doesCautionPassed = localStorage.getItem(_helpers.constants.localStorage.wasCautionPassed);

      if (!doesCautionPassed && (hasNonZeroCurrencyBalance || isNotTestUser) && true) {
        _actions2.default.modals.open(_helpers.constants.modals.PrivateKeys, {});
      }
    }, _this.checkImportKeyHash = function () {
      var _this$props = _this.props,
          history = _this$props.history,
          locale = _this$props.intl.locale;


      var urlHash = history.location.hash;
      var importKeysHash = '#importKeys';

      if (!urlHash) {
        return;
      }

      if (urlHash !== importKeysHash) {
        return;
      }

      localStorage.setItem(_helpers.constants.localStorage.privateKeysSaved, true);
      localStorage.setItem(_helpers.constants.localStorage.firstStart, true);

      _actions2.default.modals.open(_helpers.constants.modals.ImportKeys, {
        onClose: function onClose() {
          history.replace((0, _locale.localisedUrl)(locale, '/'));
        }
      });
    }, _this.checkBalance = function () {
      var now = (0, _moment2.default)().format('HH:mm:ss DD/MM/YYYY');
      var lastCheck = localStorage.getItem(_helpers.constants.localStorage.lastCheckBalance) || now;
      var lastCheckMoment = (0, _moment2.default)(lastCheck, 'HH:mm:ss DD/MM/YYYY');

      var isFirstCheck = (0, _moment2.default)(now, 'HH:mm:ss DD/MM/YYYY').isSame(lastCheckMoment);
      var isOneHourAfter = (0, _moment2.default)(now, 'HH:mm:ss DD/MM/YYYY').isAfter(lastCheckMoment.add(1, 'hours'));

      var _this$props$tokensDat = _this.props.tokensData,
          ethData = _this$props$tokensDat.ethData,
          btcData = _this$props$tokensDat.btcData,
          bchData = _this$props$tokensDat.bchData,
          ltcData = _this$props$tokensDat.ltcData;


      var balancesData = {
        ethBalance: ethData.balance,
        btcBalance: btcData.balance,
        bchBalance: bchData.balance,
        ltcBalance: ltcData.balance,
        ethAddress: ethData.address,
        btcAddress: btcData.address,
        bchAddress: bchData.address,
        ltcAddress: ltcData.address
      };

      if (isOneHourAfter || isFirstCheck) {
        localStorage.setItem(_helpers.constants.localStorage.lastCheckBalance, now);
        _firestore2.default.updateUserData(balancesData);
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Wallet, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      _actions2.default.user.getBalances();
      // actions.analytics.dataEvent('open-page-balances')

      this.checkImportKeyHash();

      if (true) {
        localStorage.setItem(_helpers.constants.localStorage.testnetSkip, false);
      } else {
        localStorage.setItem(_helpers.constants.localStorage.testnetSkip, true);
      }

      var testSkip = JSON.parse(localStorage.getItem(_helpers.constants.localStorage.testnetSkip));
      var saveKeys = JSON.parse(localStorage.getItem(_helpers.constants.localStorage.privateKeysSaved));

      this.setState(function () {
        return {
          testSkip: testSkip,
          saveKeys: saveKeys
        };
      });
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps() {
      var currencyBalance = this.props.currencyBalance;


      var hasAtLeastTenDollarBalance = (0, _user.hasSignificantBalance)(currencyBalance);

      if (true && hasAtLeastTenDollarBalance) {
        this.setState({ isShowingPromoText: true });
      }
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      var getComparableProps = function getComparableProps(props) {
        return {
          items: props.items,
          currencyBalance: props.currencyBalance,
          tokens: props.tokens,
          currencies: props.currencies,
          hiddenCoinsList: props.hiddenCoinsList
        };
      };
      return (0, _stringify2.default)((0, _assign2.default)({}, getComparableProps(this.props), this.state)) !== (0, _stringify2.default)((0, _assign2.default)({}, getComparableProps(nextProps), nextState));
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          items = _props.items,
          tokens = _props.tokens,
          currencies = _props.currencies,
          hiddenCoinsList = _props.hiddenCoinsList,
          intl = _props.intl,
          location = _props.location;
      var isShowingPromoText = this.state.isShowingPromoText;


      this.checkBalance();
      var titles = [_react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Wallet114', defaultMessage: 'Coin' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Wallet115', defaultMessage: 'Name' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Wallet116', defaultMessage: 'Balance' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Wallet117', defaultMessage: 'Your Address' }), _reactDeviceDetect.isMobile ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Wallet118', defaultMessage: 'Send, receive, swap' }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Wallet119', defaultMessage: 'Actions' })];

      var titleSwapOnline = (0, _reactIntl.defineMessages)({
        metaTitle: {
          id: 'Wallet140',
          defaultMessage: 'Swap.Online - Cryptocurrency Wallet with Atomic Swap Exchange'
        }
      });
      var titleWidgetBuild = (0, _reactIntl.defineMessages)({
        metaTitle: {
          id: 'WalletWidgetBuildTitle',
          defaultMessage: 'Cryptocurrency Wallet with Atomic Swap Exchange'
        }
      });
      var title = isWidgetBuild ? titleWidgetBuild : titleSwapOnline;

      var description = (0, _reactIntl.defineMessages)({
        metaDescription: {
          id: 'Wallet146',
          defaultMessage: 'Our online wallet with Atomic swap algorithms will help you store and exchange cryptocurrency instantly\n        and more secure without third-parties. Decentralized exchange.'
        }
      });

      var sectionWalletStyleName = _reactDeviceDetect.isMobile ? 'sectionWalletMobile' : 'sectionWallet';

      this.forceCautionUserSaveMoney();

      return _react2.default.createElement(
        'section',
        {
          styleName: isWidgetBuild ? sectionWalletStyleName + ' ' + sectionWalletStyleName + '_widget' : sectionWalletStyleName
        },
        _react2.default.createElement(_PageSeo2.default, {
          location: location,
          defaultTitle: intl.formatMessage(title.metaTitle),
          defaultDescription: intl.formatMessage(description.metaDescription)
        }),
        _react2.default.createElement(
          _PageHeadline2.default,
          {
            styleName: isWidgetBuild ? 'pageLine pageLine_widget' : 'pageLine'
          },
          _react2.default.createElement(
            _SubTitle2.default,
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'Wallet104',
              defaultMessage: 'Your online cryptocurrency wallet'
            })
          )
        ),
        _react2.default.createElement(_KeyActionsPanel2.default, null),
        !isShowingPromoText && _react2.default.createElement(
          'div',
          { styleName: 'depositText' },
          _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'Wallet137',
            defaultMessage: 'Deposit funds to addresses below'
          })
        ),
        _react2.default.createElement(_Table2.default, {
          id: 'table-wallet',
          className: _Table4.default.wallet,
          titles: titles,
          rows: [].concat((0, _toConsumableArray3.default)(items), (0, _toConsumableArray3.default)(tokens)).filter(function (currency) {
            return !hiddenCoinsList.includes(currency);
          }),
          rowRender: function rowRender(row, index, selectId, handleSelectId) {
            return _react2.default.createElement(_Row2.default, {
              key: row,
              currency: row,
              currencies: currencies,
              hiddenCoinsList: hiddenCoinsList,
              selectId: selectId,
              index: index,
              handleSelectId: handleSelectId
            });
          }
        }),
        _appConfig2.default && !_appConfig2.default.isWidget && _react2.default.createElement(
          'div',
          { styleName: 'inform' },
          _react2.default.createElement(_Referral2.default, { address: this.props.userEthAddress }),
          _react2.default.createElement(
            'h2',
            { styleName: 'informHeading' },
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'Wallet364',
              defaultMessage: 'Wallet based on the Atomic Swap technology'
            })
          ),
          _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'Wallet156'
            // eslint-disable-next-line
            , defaultMessage: 'Welcome to Swap.Online, a decentralized cross-chain wallet based on Atomic Swap technology.{br}Here you can safely store and promptly exchange Bitcoin, Ethereum, EOS, USD, Tether, BCH, and numerous ERC-20 tokens.{br}{br}Swap.Online doesn\u2019t store your keys or tokens. Our wallet operates directly within your browser, so no additional installations or downloads are required.{br}The Swap.Online service is fully decentralized.  All operations with tokens are executed via the IPFS network.{br}{br}Our team was the first to finalize Atomic Swaps with USDT and EOS in September 2018 and Litecoin blockchain was added in October 2018.{br}Our wallet addresses real multi-chain integration with a decentralized order book - no third party involved in the exchange, no proxy-token and no token wrapping.{br}We can integrate any ERC-20 token of a project for free!  We just ask for a mutually beneficial PR announcement!{br}{br}In addition, we developed Swap.Button, a b2b-solution to exchange all kinds of tokens for Bitcoin and Ethereum.{br}Install Swap.Button html widget on your site and collect crypto investments for your project.{br}{br}Start using https://swap.online/ today and enjoy the power of true decentralization.',
            values: {
              br: _react2.default.createElement('br', null)
            }
          })
        )
      );
    }
  }]);
  return Wallet;
}(_react.Component), _class2.propTypes = {
  currencies: _propTypes2.default.array,
  hiddenCoinsList: _propTypes2.default.array,
  history: _propTypes2.default.object,
  items: _propTypes2.default.arrayOf(_propTypes2.default.string),
  tokens: _propTypes2.default.arrayOf(_propTypes2.default.string),
  location: _propTypes2.default.object,
  intl: _propTypes2.default.object.isRequired
}, _temp2)) || _class) || _class) || _class) || _class);
exports.default = Wallet;

/***/ }),

/***/ 2062:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"coinsActionsBlock":"_2_fFZA","sectionWalletMobile":"d8P837","sectionWalletMobile_widget":"_1MlC-V","sectionWallet":"_2ItyR0","sectionWallet_widget":"_2zBB_I","inform":"_29ENhB","informHeading":"_1FEITi","pageLine":"_1koc48","pageLine_widget":"L-8AHd","depositText":"FplmzD"};

/***/ }),

/***/ 2063:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _stringify = __webpack_require__(112);

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _dec, _dec2, _class, _class2, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _redaction = __webpack_require__(37);

var _helpers = __webpack_require__(17);

var _helpers2 = _interopRequireDefault(_helpers);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _reactDeviceDetect = __webpack_require__(53);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Row = __webpack_require__(2064);

var _Row2 = _interopRequireDefault(_Row);

var _reactRouterDom = __webpack_require__(51);

var _reactCopyToClipboard = __webpack_require__(130);

var _reactCopyToClipboard2 = _interopRequireDefault(_reactCopyToClipboard);

var _Coin = __webpack_require__(324);

var _Coin2 = _interopRequireDefault(_Coin);

var _InlineLoader = __webpack_require__(115);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _BtnTooltip = __webpack_require__(904);

var _BtnTooltip2 = _interopRequireDefault(_BtnTooltip);

var _LinkAcount = __webpack_require__(2065);

var _LinkAcount2 = _interopRequireDefault(_LinkAcount);

var _KeychainStatus = __webpack_require__(2066);

var _KeychainStatus2 = _interopRequireDefault(_KeychainStatus);

var _reactRouter = __webpack_require__(110);

var _reactTooltip = __webpack_require__(103);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _reactIntl = __webpack_require__(8);

var _CurrencyButton = __webpack_require__(552);

var _CurrencyButton2 = _interopRequireDefault(_CurrencyButton);

var _locale = __webpack_require__(50);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _bignumber = __webpack_require__(30);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Row = (_dec = (0, _redaction.connect)(function (_ref, _ref2) {
  var rememberedOrders = _ref.rememberedOrders,
      _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      bchData = _ref$user.bchData,
      tokensData = _ref$user.tokensData,
      eosData = _ref$user.eosData,
      telosData = _ref$user.telosData,
      nimData = _ref$user.nimData,
      ltcData = _ref$user.ltcData,
      currencies = _ref.currencies.items;
  var currency = _ref2.currency;
  return {
    currencies: currencies,
    item: [btcData, ethData,
    /* xlmData, usdtOmniData */
    eosData, telosData, bchData, ltcData].concat((0, _toConsumableArray3.default)((0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    }))).map(function (_ref3) {
      var account = _ref3.account,
          keyPair = _ref3.keyPair,
          data = (0, _objectWithoutProperties3.default)(_ref3, ['account', 'keyPair']);
      return (0, _assign2.default)({}, data);
    }).find(function (item) {
      return item.currency === currency;
    }),
    decline: rememberedOrders.savedOrders
  };
}), _dec2 = (0, _reactCssModules2.default)(_Row2.default, { allowMultiple: true }), (0, _reactIntl.injectIntl)(_class = (0, _reactRouter.withRouter)(_class = _dec(_class = _dec2(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(Row, _Component);
  (0, _createClass3.default)(Row, null, [{
    key: 'getDerivedStateFromProps',
    value: function getDerivedStateFromProps(_ref4) {
      var balance = _ref4.item.balance;

      return {
        isBalanceEmpty: balance === 0
      };
    }
  }]);

  function Row(props) {
    (0, _classCallCheck3.default)(this, Row);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Row.__proto__ || (0, _getPrototypeOf2.default)(Row)).call(this, props));

    _initialiseProps.call(_this);

    var _this$props = _this.props,
        currency = _this$props.currency,
        currencies = _this$props.currencies;


    var isBlockedCoin = _appConfig2.default.noExchangeCoins.map(function (item) {
      return item.toLowerCase();
    }).includes(currency.toLowerCase());
    _this.state.tradeAllowed = !!currencies.find(function (c) {
      return c.value === currency.toLowerCase();
    }) && !isBlockedCoin;

    return _this;
  }

  (0, _createClass3.default)(Row, [{
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      window.removeEventListener('resize', this.handleSliceAddress);
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var hiddenCoinsList = this.props.hiddenCoinsList;


      this.handleTelosActivate();
      window.addEventListener('resize', this.handleSliceAddress);

      (0, _keys2.default)(_appConfig2.default.erc20).forEach(function (name) {
        if (!hiddenCoinsList.includes(name.toUpperCase())) {
          _actions2.default.core.markCoinAsVisible(name.toUpperCase());
        }
      });
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      var _props$item = this.props.item,
          currency = _props$item.currency,
          balance = _props$item.balance;


      if (balance > 0) {
        _actions2.default.analytics.balanceEvent({ action: 'have', currency: currency, balance: balance });
      }
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      var getComparableProps = function getComparableProps(_ref5) {
        var item = _ref5.item,
            index = _ref5.index,
            selectId = _ref5.selectId;
        return {
          item: item,
          index: index,
          selectId: selectId
        };
      };
      return (0, _stringify2.default)((0, _assign2.default)({}, getComparableProps(nextProps), nextState)) !== (0, _stringify2.default)((0, _assign2.default)({}, getComparableProps(this.props), this.state));
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _state = this.state,
          isBalanceFetching = _state.isBalanceFetching,
          tradeAllowed = _state.tradeAllowed,
          isAddressCopied = _state.isAddressCopied,
          isTouch = _state.isTouch,
          isBalanceEmpty = _state.isBalanceEmpty,
          telosAccountActivated = _state.telosAccountActivated,
          telosActivePublicKey = _state.telosActivePublicKey,
          showButtons = _state.showButtons;
      var _props = this.props,
          _props$item2 = _props.item,
          currency = _props$item2.currency,
          balance = _props$item2.balance,
          isBalanceFetched = _props$item2.isBalanceFetched,
          address = _props$item2.address,
          fullName = _props$item2.fullName,
          unconfirmedBalance = _props$item2.unconfirmedBalance,
          contractAddress = _props$item2.contractAddress,
          balanceError = _props$item2.balanceError,
          locale = _props.intl.locale;


      var eosAccountActivated = false;
      var eosActivationPaymentSent = false;
      if (currency === 'EOS') {
        eosAccountActivated = this.props.item.isAccountActivated;
        eosActivationPaymentSent = this.props.item.isActivationPaymentSent;
      }
      return _react2.default.createElement(
        'tr',
        {
          'data-tut': 'reactour__store',
          styleName: this.props.index === this.props.selectId || !_reactDeviceDetect.isMobile ? 'showButtons' : 'hidden',
          onClick: function onClick() {
            _this2.props.handleSelectId(_this2.props.index);
          },
          onTouchEnd: this.handleTouchClear,
          onTouchMove: this.handleTouch,
          style: isTouch && this.props.index !== this.props.selectId ? { background: '#f5f5f5' } : { background: '#fff' },
          onMouseEnter: this.showButtons,
          onMouseLeave: this.hideButtons
        },
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            _reactRouterDom.Link,
            { to: (0, _locale.localisedUrl)(locale, '/' + fullName + '-wallet'), title: 'Online ' + fullName + ' wallet' },
            _react2.default.createElement(_Coin2.default, { name: currency })
          )
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            _reactRouterDom.Link,
            { to: (0, _locale.localisedUrl)(locale, '/' + fullName + '-wallet'), title: 'Online ' + fullName + ' wallet' },
            fullName
          ),
          balanceError && _react2.default.createElement(
            'div',
            { className: _Row2.default.errorMessage },
            fullName,
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'RowWallet276',
              defaultMessage: ' node is down (You can not perform transactions). ' }),
            _react2.default.createElement(
              'a',
              { href: 'https://wiki.swap.online/faq/bitcoin-node-is-down-you-cannot-make-transactions/' },
              _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'RowWallet282',
                defaultMessage: 'Need help?' })
            )
          )
        ),
        _react2.default.createElement(
          'td',
          { styleName: 'table_balance-cell', 'data-tut': 'reactour__balance' },
          !isBalanceFetched || isBalanceFetching ? _react2.default.createElement(_InlineLoader2.default, null) : _react2.default.createElement(
            'div',
            { styleName: 'no-select-inline', onClick: this.handleReloadBalance },
            _react2.default.createElement('i', { className: 'fas fa-sync-alt', styleName: 'icon' }),
            _react2.default.createElement(
              'span',
              null,
              balanceError ? '?' : (0, _bignumber.BigNumber)(balance).dp(5, _bignumber.BigNumber.ROUND_FLOOR).toString(),
              ' ',
              currency
            ),
            currency === 'BTC' && unconfirmedBalance !== 0 && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                'span',
                { styleName: 'unconfirmedBalance' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowWallet181', defaultMessage: 'Unconfirmed balance' }),
                unconfirmedBalance,
                ' ',
                ' '
              )
            ),
            currency === 'BCH' && unconfirmedBalance !== 0 && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                'span',
                { styleName: 'unconfirmedBalance' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowWallet181', defaultMessage: 'Unconfirmed balance' }),
                unconfirmedBalance,
                ' ',
                ' '
              )
            ),
            currency === 'LTC' && unconfirmedBalance !== 0 && _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement('br', null),
              _react2.default.createElement(
                'span',
                { styleName: 'unconfirmedBalance' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowWallet189', defaultMessage: 'Unconfirmed balance' }),
                unconfirmedBalance
              )
            )
          ),
          _react2.default.createElement(
            'span',
            { styleName: 'mobileName' },
            fullName
          )
        ),
        _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            _reactCopyToClipboard2.default,
            { text: address, 'data-tut': 'reactour__address', onCopy: this.handleCopyAddress },
            _react2.default.createElement(
              'td',
              { styleName: currency === 'EOS' && !eosAccountActivated ? 'yourAddressWithOptions' : 'yourAddress' },
              !contractAddress ? _react2.default.createElement(
                'div',
                { styleName: 'notContractAddress' },
                address !== '' && _react2.default.createElement('i', { className: 'far fa-copy', styleName: 'icon', 'data-tip': true, 'data-for': 'Copy', style: { width: '14px' } }),
                _react2.default.createElement(
                  _LinkAcount2.default,
                  { type: currency, address: address },
                  this.handleSliceAddress()
                ),
                _react2.default.createElement(
                  _reactTooltip2.default,
                  { id: 'Copy', type: 'light', effect: 'solid' },
                  _react2.default.createElement(
                    'span',
                    null,
                    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row235', defaultMessage: 'Copy' })
                  )
                ),
                currency === 'EOS' && !eosAccountActivated && _react2.default.createElement(
                  _react.Fragment,
                  null,
                  _react2.default.createElement('br', null),
                  _react2.default.createElement(
                    'span',
                    { styleName: 'notActiveLink' },
                    eosActivationPaymentSent && _react2.default.createElement(_InlineLoader2.default, null),
                    !eosActivationPaymentSent && _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row268', defaultMessage: 'not activated' })
                  )
                ),
                (currency === 'BTC' || currency === 'ETH') && _react2.default.createElement(_KeychainStatus2.default, { currency: currency })
              ) : _react2.default.createElement(
                _react.Fragment,
                null,
                _react2.default.createElement('i', { className: 'far fa-copy', styleName: 'icon', 'data-tip': true, 'data-for': 'Copy', style: { width: '14px' } }),
                _react2.default.createElement(
                  _LinkAcount2.default,
                  { type: currency, contractAddress: contractAddress, address: address },
                  this.handleSliceAddress()
                )
              ),
              _react2.default.createElement(
                _reactTooltip2.default,
                { id: 'Use', type: 'light', effect: 'solid' },
                _react2.default.createElement(
                  'span',
                  null,
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row346', defaultMessage: 'Login with your existing eos account' })
                )
              ),
              isAddressCopied && _react2.default.createElement(
                'p',
                { styleName: 'copied' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row293', defaultMessage: 'Address copied to clipboard' })
              ),
              _react2.default.createElement(
                'div',
                { styleName: 'activeControlButtons' },
                _react2.default.createElement('div', { styleName: 'actButton' }),
                _react2.default.createElement(
                  _reactTooltip2.default,
                  { id: 'Activate', type: 'light', effect: 'solid' },
                  _react2.default.createElement(
                    'span',
                    null,
                    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row256', defaultMessage: 'Buy this account' })
                  )
                ),
                _react2.default.createElement(
                  _reactTooltip2.default,
                  { id: 'Create', type: 'light', effect: 'solid' },
                  _react2.default.createElement(
                    'span',
                    null,
                    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row440', defaultMessage: 'Create Telos account in 1 click' })
                  )
                ),
                _react2.default.createElement('div', { styleName: 'useButton' }),
                _react2.default.createElement('div', { styleName: !address ? 'useButtonTelos' : 'useButtonTelos addressExist' }),
                _react2.default.createElement(
                  _reactTooltip2.default,
                  { id: 'Use', type: 'light', effect: 'solid' },
                  _react2.default.createElement(
                    'span',
                    null,
                    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row426', defaultMessage: 'Login with your existing EOS account' })
                  )
                ),
                _react2.default.createElement(
                  _reactTooltip2.default,
                  { id: 'UseTlos', type: 'light', effect: 'solid' },
                  _react2.default.createElement(
                    'span',
                    null,
                    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row431', defaultMessage: 'Login with your existing TLOS account' })
                  )
                )
              )
            )
          )
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'div',
            { styleName: currency === 'EOS' && !eosAccountActivated ? 'notActivated' : '' },
            _react2.default.createElement(
              _CurrencyButton2.default,
              {
                onClick: this.handleReceive,
                dataTooltip: {
                  id: 'deposit' + currency,
                  deposit: true
                },
                wallet: 'true' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row313', defaultMessage: 'Deposit' })
            ),
            _react2.default.createElement(
              _BtnTooltip2.default,
              { onClick: this.handleWithdraw, disable: isBalanceEmpty, id: 'row' + currency },
              _react2.default.createElement('i', { className: 'fas fa-arrow-alt-circle-right' }),
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row328', defaultMessage: 'Send' })
            ),
            tradeAllowed && _react2.default.createElement(
              _BtnTooltip2.default,
              { onClick: function onClick() {
                  return _this2.handleGoTrade(currency);
                }, styleName: isBalanceEmpty && 'disableWth' },
              _react2.default.createElement('i', { className: 'fas fa-exchange-alt' }),
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row334', defaultMessage: 'Exchange' })
            )
          )
        )
      );
    }
  }]);
  return Row;
}(_react.Component), _initialiseProps = function _initialiseProps() {
  var _this3 = this;

  this.state = {
    isBalanceFetching: false,
    viewText: false,
    tradeAllowed: false,
    isAddressCopied: false,
    isTouch: false,
    isBalanceEmpty: true,
    telosRegister: false,
    showButtons: false,
    existUnfinished: false
  };
  this.handleReloadBalance = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var isBalanceFetching, currency;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            isBalanceFetching = _this3.state.isBalanceFetching;

            if (!isBalanceFetching) {
              _context.next = 3;
              break;
            }

            return _context.abrupt('return', null);

          case 3:

            _this3.setState({
              isBalanceFetching: true
            });

            currency = _this3.props.item.currency;
            _context.next = 7;
            return _actions2.default[currency.toLowerCase()].getBalance(currency.toLowerCase());

          case 7:

            _this3.setState(function () {
              return {
                isBalanceFetching: false
              };
            });

          case 8:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, _this3);
  }));

  this.handleTouch = function (e) {
    _this3.setState({
      isTouch: true
    });
  };

  this.handleSliceAddress = function () {
    var address = _this3.props.item.address;

    var firstPart = address.substr(0, 6);
    var secondPart = address.substr(address.length - 4);
    return window.innerWidth < 700 || _reactDeviceDetect.isMobile || address.length > 42 ? firstPart + '...' + secondPart : address;
  };

  this.handleTouchClear = function (e) {
    _this3.setState({
      isTouch: false
    });
  };

  this.handleCopyAddress = function () {
    _this3.setState({
      isAddressCopied: true
    }, function () {
      setTimeout(function () {
        _this3.setState({
          isAddressCopied: false
        });
      }, 500);
    });
  };

  this.handleEosRegister = function () {
    _actions2.default.modals.open(_helpers.constants.modals.EosRegister, {});
  };

  this.handleTelosChangeAccount = function () {
    _actions2.default.modals.open(_helpers.constants.modals.TelosChangeAccount, {});
  };

  this.handleEosBuyAccount = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _actions2.default.modals.open(_helpers.constants.modals.EosBuyAccount);

          case 1:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, _this3);
  }));

  this.handleWithdraw = function () {
    var _props$item3 = _this3.props.item,
        decimals = _props$item3.decimals,
        token = _props$item3.token,
        contractAddress = _props$item3.contractAddress,
        unconfirmedBalance = _props$item3.unconfirmedBalance,
        currency = _props$item3.currency,
        address = _props$item3.address,
        balance = _props$item3.balance;

    // actions.analytics.dataEvent(`balances-withdraw-${currency.toLowerCase()}`)

    _actions2.default.modals.open(_helpers.constants.modals.Withdraw, {
      currency: currency,
      address: address,
      contractAddress: contractAddress,
      decimals: decimals,
      token: token,
      balance: balance,
      unconfirmedBalance: unconfirmedBalance
    });
  };

  this.handleReceive = function () {
    var _props$item4 = _this3.props.item,
        currency = _props$item4.currency,
        address = _props$item4.address;


    _actions2.default.modals.open(_helpers.constants.modals.ReceiveModal, {
      currency: currency,
      address: address
    });
  };

  this.handleShowOptions = function () {
    _this3.setState({
      showMobileButtons: true
    });
  };

  this.handleGoTrade = function (currency) {
    var _props2 = _this3.props,
        locale = _props2.intl.locale,
        decline = _props2.decline;


    var pair = currency.toUpperCase() === 'btc' ? 'eth' : 'btc';

    if (decline.length === 0) {
      window.scrollTo(0, 0);
      _this3.props.history.push((0, _locale.localisedUrl)(locale, _helpers.links.exchange + '/' + currency.toLowerCase() + '-to-' + pair));
    } else {
      var getDeclinedExistedSwapIndex = _helpers2.default.handleGoTrade.getDeclinedExistedSwapIndex({ currency: currency, decline: decline });
      if (getDeclinedExistedSwapIndex !== false) {
        _this3.handleDeclineOrdersModalOpen(getDeclinedExistedSwapIndex);
      } else {
        window.scrollTo(0, 0);
        _this3.props.history.push((0, _locale.localisedUrl)(locale, _helpers.links.exchange + '/' + currency.toLowerCase() + '-to-' + pair));
      }
    }
  };

  this.handleDeclineOrdersModalOpen = function (indexOfDecline) {
    var orders = _swap2.default.shared().services.orders.items;
    var declineSwap = _actions2.default.core.getSwapById(_this3.props.decline[indexOfDecline]);

    if (declineSwap !== undefined) {
      _actions2.default.modals.open(_helpers.constants.modals.DeclineOrdersModal, {
        declineSwap: declineSwap
      });
    }
  };

  this.handleMarkCoinAsHidden = function (coin) {
    _actions2.default.core.markCoinAsHidden(coin);
  };

  this.handleTelosActivate = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
    var telosActivePrivateKey, telosActivePublicKey, telosAccount, telosAccountActivated, telosRegistrated, _ref9, accountName, activePrivateKey, activePublicKey;

    return _regenerator2.default.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            telosActivePrivateKey = localStorage.getItem(_helpers.constants.privateKeyNames.telosPrivateKey);
            telosActivePublicKey = localStorage.getItem(_helpers.constants.privateKeyNames.telosPublicKey);
            telosAccount = localStorage.getItem(_helpers.constants.privateKeyNames.telosAccount);
            telosAccountActivated = localStorage.getItem(_helpers.constants.localStorage.telosAccountActivated) === 'true';
            telosRegistrated = localStorage.getItem(_helpers.constants.localStorage.telosRegistrated) === 'true';


            _this3.setState(function () {
              return {
                telosAccountActivated: telosAccountActivated,
                telosActivePublicKey: telosActivePublicKey,
                telosRegistrated: telosRegistrated
              };
            });

            if (!(!telosAccountActivated && !telosRegistrated)) {
              _context3.next = 14;
              break;
            }

            _context3.next = 9;
            return _actions2.default.tlos.loginWithNewAccount();

          case 9:
            _ref9 = _context3.sent;
            accountName = _ref9.accountName;
            activePrivateKey = _ref9.activePrivateKey;
            activePublicKey = _ref9.activePublicKey;

            localStorage.setItem(_helpers.constants.localStorage.telosRegistrated, true);

          case 14:
          case 'end':
            return _context3.stop();
        }
      }
    }, _callee3, _this3);
  }));

  this.showButtons = function () {
    _this3.setState(function () {
      return {
        showButtons: true
      };
    });
  };

  this.hideButtons = function () {
    _this3.setState(function () {
      return {
        showButtons: false
      };
    });
  };

  this.deleteThisSwap = function () {
    _actions2.default.core.forgetOrders(_this3.props.decline[0]);
  };
}, _temp)) || _class) || _class) || _class) || _class);
exports.default = Row;

/***/ }),

/***/ 2064:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"marginRight":"_1Ad8BM","copied":"_2XnwF1","no-select-inline":"_1hMVZx","icon":"yTOCJK","notActiveLink":"k4EZHB","disableWth":"_2vfDtP","unconfirmedBalance":"_1t50AH","notContractAddress":"_3fs-Nr","button":"_2fOG2v","disbutton":"_2elBYS","buttonActivate":"_2IFBS7","buttonActivateTlos":"_2qD77J","buttonUseAnotherTLOS":"_3Ckrl_","table_balance-cell":"_2QiCDE","mobileName":"_3mFG9Q","hidden":"_3pmIg6","visible":"_17JxYX","yourAddress":"_130JSo","yourAddressWithOptions":"_2ILQoM","walletButtons":"_2wjJdi","activeControlButtons":"_2thhvh","buttonUseAnother":"_1ny-qG","actButton":"_1iUcj3","useButton":"_3anspz","actButtonTelos":"ctShX-","useButtonTelos":"_1lDX2l","addressExist":"_2VCDij","errorMessage":"_1KLMt0","buttonActivateTelos":"_2KlCwK","notActivated":"_1tA1QF","showButtons":"_2IcItk"};

/***/ }),

/***/ 2065:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _Href = __webpack_require__(321);

var _Href2 = _interopRequireDefault(_Href);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var erc20LinkAcount = function erc20LinkAcount(type, children, address, contractAddress) {
  return (0, _keys2.default)(_appConfig2.default.erc20).map(function (key) {
    return type.toLowerCase() === key && _react2.default.createElement(
      _Href2.default,
      { key: key, tab: _appConfig2.default.link.etherscan + '/token/' + contractAddress + '?a=' + address },
      children
    );
  });
};

var LinkAccount = function LinkAccount(_ref) {
  var type = _ref.type,
      children = _ref.children,
      address = _ref.address,
      contractAddress = _ref.contractAddress;
  return _react2.default.createElement(
    _react.Fragment,
    null,
    type.toLowerCase() === 'eth' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.etherscan + '/address/' + address },
      children
    ),
    type.toLowerCase() === 'btc' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.bitpay + '/address/' + address },
      children
    ),
    erc20LinkAcount(type, children, address, contractAddress),
    type.toLowerCase() === 'eos' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.eos + '/account/' + address },
      children
    ),
    type.toLowerCase() === 'tlos' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.tlos + '/account/' + address },
      children
    ),
    type.toLowerCase() === 'bch' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.bch + '/address/' + address },
      children
    ),
    type.toLowerCase() === 'ltc' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.ltc + '/address/' + address },
      children
    )
  );
};

exports.default = LinkAccount;

/***/ }),

/***/ 2066:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactIntl = __webpack_require__(8);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(17);

var _KeychainStatus = __webpack_require__(2067);

var _KeychainStatus2 = _interopRequireDefault(_KeychainStatus);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var handleActivateKeychain = function handleActivateKeychain(event, currency) {
  event.preventDefault();
  event.stopPropagation();
  _actions2.default.modals.open(_helpers.constants.modals.Keychain, { currency: currency });
};

var handleDeactivateKeychain = function handleDeactivateKeychain(event, currency) {
  event.preventDefault();
  event.stopPropagation();
  _actions2.default.modals.open(_helpers.constants.modals.Keychain, { currency: currency });
};

var KeychainStatus = function KeychainStatus(_ref) {
  var currency = _ref.currency;

  if (true) {
    return null;
  }
  var isMac = navigator.platform.indexOf('Mac') > -1;
  if (!isMac) {
    return null;
  }
  var keychainActivated = currency === 'ETH' ? !!localStorage.getItem(_helpers.constants.privateKeyNames.ethKeychainPublicKey) : !!localStorage.getItem(_helpers.constants.privateKeyNames.btcKeychainPublicKey);
  return _react2.default.createElement(
    _react.Fragment,
    null,
    _react2.default.createElement('br', null),
    _react2.default.createElement(
      'span',
      { className: _KeychainStatus2.default.link + ' ' + (keychainActivated ? _KeychainStatus2.default.active : _KeychainStatus2.default.inactive) },
      _react2.default.createElement('i', { className: 'fas fa-lock ' + _KeychainStatus2.default.icon, 'aria-hidden': 'true' }),
      keychainActivated ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row288', defaultMessage: 'KeyChain is activated' }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row289', defaultMessage: 'KeyChain is not activated' }),
      '\xA0',
      keychainActivated ? _react2.default.createElement(
        'a',
        { href: '#', onClick: function onClick(e) {
            handleDeactivateKeychain(e, currency);
          } },
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowWallet284', defaultMessage: 'Deactivate' })
      ) : _react2.default.createElement(
        'a',
        { href: '#', onClick: function onClick(e) {
            handleActivateKeychain(e, currency);
          } },
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowWallet283', defaultMessage: 'Activate' })
      )
    )
  );
};

exports.default = KeychainStatus;

/***/ }),

/***/ 2067:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"link":"v3_4yw","active":"_2TfenR","inactive":"_9V4sh_","icon":"_3g0Mtj"};

/***/ }),

/***/ 2068:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_3N6pCB","disable":"_2sVckd","wallet":"_3p9yHE"};

/***/ }),

/***/ 2072:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"TitleHolder":"_3jhj3E","section":"_2A352W","informAbt":"xMwa-n","promoContainer":"_2OUugB","scrollToTutorialSection":"_2fkt0B","switchButton":"_2AwWDl","scrollTrigger":"ilOYUc","scrollAnimation":"_2VBigI","scrollAdvice":"_15WmPg","exchangeWrap":"-vBOaW","container":"tb4qyS","IsSearching":"nJeF4c","errorAppend":"_1sUpss","button":"GCR5qW","disabled":"_1q5n4x","walletInput":"_3YpdRx","walletOpenSide":"_2OTFJ0","alignCenter":"_1qt6_F","rowBtn":"_2to_tI","buttonOrders":"K9cDLg","specify":"NfWmoO","walletToggle":"_14yjxn","walletToggle_site":"_3fsgbg","anotherRecepient":"g036gw","anotherRecepient_active":"_1n4IQq","widgetSection":"_1S6jFu","blockVideo":"qYkBcy","formExchange":"_2-BEAa","formExchange_widgetBuild":"_1Bm-s3","widgetFormExchange":"_1k8bHo","error":"_5-_Zs5","link":"_3xsWbY","notifyThat":"_2G-IPB","notCorrect":"_39YA88","row":"_7QkpyO","flipButton":"CL_f7z","withLoader":"r5dEoe","inform":"_3epJq_","loaderHolder":"_1Rj8SX","additionalLoaderHolder":"_2PSjf1","price":"W8mdmz","selectWrap":"_28t91H","extendedControls":"_3QhYAe","maxAmount":"_3zQZZu","widgetLink":"_2r1O-A","mobileDubleHeader":"_2lSOvz","tooltipHeader":"_LXJfn","referralText":"_1aH0aT","block":"_2Q4AQS","selectedItem":"_374gCv","widgetExchangeWrap":"_14VDTv"};

/***/ }),

/***/ 2076:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactIntl = __webpack_require__(8);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SelectGroup = __webpack_require__(2077);

var _SelectGroup2 = _interopRequireDefault(_SelectGroup);

var _Input = __webpack_require__(129);

var _Input2 = _interopRequireDefault(_Input);

var _FieldLabel = __webpack_require__(196);

var _FieldLabel2 = _interopRequireDefault(_FieldLabel);

var _CurrencySelect = __webpack_require__(549);

var _CurrencySelect2 = _interopRequireDefault(_CurrencySelect);

var _Tooltip = __webpack_require__(104);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _bignumber = __webpack_require__(30);

var _domUtils = __webpack_require__(325);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// TODO to split data and view this component

var SelectGroup = function SelectGroup(_ref) {
  var dynamicFee = _ref.dynamicFee,
      isToken = _ref.isToken,
      extendedControls = _ref.extendedControls,
      selectedValue = _ref.selectedValue,
      onSelect = _ref.onSelect,
      currencies = _ref.currencies,
      usd = _ref.usd,
      placeholder = _ref.placeholder,
      label = _ref.label,
      disabled = _ref.disabled,
      className = _ref.className,
      switchBalanceFunc = _ref.switchBalanceFunc,
      inputValueLink = _ref.inputValueLink,
      tooltip = _ref.tooltip,
      balance = _ref.balance,
      error = _ref.error,
      id = _ref.id,
      idFee = _ref.idFee,
      tooltipAboutFee = _ref.tooltipAboutFee,
      haveAmount = _ref.haveAmount,
      props = (0, _objectWithoutProperties3.default)(_ref, ['dynamicFee', 'isToken', 'extendedControls', 'selectedValue', 'onSelect', 'currencies', 'usd', 'placeholder', 'label', 'disabled', 'className', 'switchBalanceFunc', 'inputValueLink', 'tooltip', 'balance', 'error', 'id', 'idFee', 'tooltipAboutFee', 'haveAmount']);
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(
      _FieldLabel2.default,
      { inRow: true },
      _react2.default.createElement(
        'strong',
        null,
        label
      ),
      '\xA0',
      _react2.default.createElement(
        'div',
        { styleName: 'smallTooltip' },
        _react2.default.createElement(
          _Tooltip2.default,
          { id: id },
          tooltip
        )
      )
    ),
    _react2.default.createElement(
      'div',
      { styleName: 'groupField', className: className },
      _react2.default.createElement(_Input2.default, {
        styleName: 'inputRoot',
        inputContainerClassName: 'inputContainer',
        valueLink: inputValueLink,
        type: 'number',
        placeholder: placeholder,
        pattern: '0-9\\.',
        errorStyle: error,
        disabled: disabled,
        onFocus: props.onFocus ? props.onFocus : function () {},
        onBlur: props.onBlur ? props.onBlur : function () {},
        onKeyDown: _domUtils.inputReplaceCommaWithDot
      }),
      (selectedValue === 'eth' || selectedValue === 'btc' || selectedValue === 'bch') && usd > 0 && _react2.default.createElement(
        'p',
        { styleName: 'textUsd' },
        '~' + usd,
        ' USD'
      ),
      _react2.default.createElement(_CurrencySelect2.default, {
        name: 'All',
        label: label,
        tooltip: tooltip,
        switchBalanceFunc: switchBalanceFunc,
        id: id,
        styleName: 'currencySelect',
        placeholder: 'Enter the name of token',
        selectedValue: selectedValue,
        onSelect: onSelect,
        currencies: currencies
      })
    ),
    label.props.defaultMessage === 'You sell' && !extendedControls && (balance > 0 ? !isToken && _react2.default.createElement(
      'span',
      {
        styleName: (0, _bignumber.BigNumber)(haveAmount).isLessThanOrEqualTo(balance) && (0, _bignumber.BigNumber)(balance).isLessThan((0, _bignumber.BigNumber)(haveAmount).plus(dynamicFee)) && (0, _bignumber.BigNumber)(haveAmount).isGreaterThan(0) ? 'red' : 'balance'
      },
      _react2.default.createElement(_reactIntl.FormattedMessage, {
        id: 'select75',
        defaultMessage: 'Available for exchange: {availableBalance} {tooltip}',
        values: {
          availableBalance: (0, _bignumber.BigNumber)(balance).minus(dynamicFee) + ' ' + selectedValue.toUpperCase(),
          tooltip: _react2.default.createElement(
            _Tooltip2.default,
            { id: idFee },
            ' ',
            tooltipAboutFee
          )
        } })
    ) : _react2.default.createElement(
      'span',
      { styleName: 'textForNull' },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'selected53', defaultMessage: 'You can use an external wallet to perform a swap' })
    ))
  );
};

exports.default = (0, _reactIntl.injectIntl)((0, _reactCssModules2.default)(SelectGroup, _SelectGroup2.default, { allowMultiple: true }));

/***/ }),

/***/ 2077:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"groupField":"_2bO82Y","smallTooltip":"_37-G_7","textUsd":"_2e7bYs","inputRoot":"_2aUx0k","textForNull":"SP477M","inputContainer":"FyKU1x","balance":"_5ZDpbC","red":"_2bGfjb","selectGroupContainer":"_1AbimK","currencySelect":"_1EzoYu","dropDown":"_48P2oj"};

/***/ }),

/***/ 2078:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"groupField":"Hx1rT8","balance":"ISKsha","group":"_3q4wdo","cell":"_36frnt"};

/***/ }),

/***/ 2079:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactIntl = __webpack_require__(8);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Advantages = __webpack_require__(2080);

var _Advantages2 = _interopRequireDefault(_Advantages);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Advantages = function Advantages(props) {
  return _react2.default.createElement(
    'div',
    { styleName: 'advantages' },
    _react2.default.createElement(
      'div',
      { styleName: 'advFooter' },
      _react2.default.createElement(
        'button',
        {
          onClick: function onClick() {
            return window.open(props.intl.formatMessage({ id: 'advVidLink', defaultMessage: 'https://youtu.be/Jhrb7xOT_7s' }), '_blank');
          },
          styleName: 'advFooter__btn'
        },
        _react2.default.createElement('img', { src: 'https://exchange.swap.online/images/icons/video-play.png', alt: 'Play the video' }),
        _react2.default.createElement(
          'div',
          null,
          _react2.default.createElement(
            'h4',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'advantagesButtonTitle',
              defaultMessage: 'How it works?'
            })
          ),
          _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'advantagesButtonTxt',
            defaultMessage: '(Watch a video)'
          })
        )
      )
    )
  );
};

exports.default = (0, _reactIntl.injectIntl)((0, _reactCssModules2.default)(Advantages, _Advantages2.default, { allowMultiple: true }));

/***/ }),

/***/ 2080:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"advantages":"_2y1kYZ","advantages__content":"_2z8f3D","advantage":"_16xOPw","advantage__title":"_2fVCRC","advantage__txt":"_2nN2HK","advFooter":"_2tcWDq","advFooter__btn":"_3bwlBy","advantages__title":"_2SPNDB"};

/***/ }),

/***/ 2081:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _CurrencySlider = __webpack_require__(2082);

var _CurrencySlider2 = _interopRequireDefault(_CurrencySlider);

var _PromoText = __webpack_require__(912);

var _PromoText2 = _interopRequireDefault(_PromoText);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Promo = __webpack_require__(2125);

var _Promo2 = _interopRequireDefault(_Promo);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Promo = function Promo(_ref) {
  var className = _ref.className,
      subTitle = _ref.subTitle;
  return _react2.default.createElement(
    'div',
    { styleName: 'promo' },
    _react2.default.createElement(
      'div',
      { styleName: 'promoWrap' },
      _react2.default.createElement(_PromoText2.default, { subTitle: subTitle }),
      _react2.default.createElement(_CurrencySlider2.default, null)
    )
  );
};

exports.default = (0, _reactCssModules2.default)(Promo, _Promo2.default);

/***/ }),

/***/ 2082:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _values = __webpack_require__(251);

var _values2 = _interopRequireDefault(_values);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _redaction = __webpack_require__(37);

var _CurrencySlider = __webpack_require__(2083);

var _CurrencySlider2 = _interopRequireDefault(_CurrencySlider);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _reactItemsCarousel = __webpack_require__(2084);

var _reactItemsCarousel2 = _interopRequireDefault(_reactItemsCarousel);

var _reactIntl = __webpack_require__(8);

var _images = __webpack_require__(2113);

var _images2 = _interopRequireDefault(_images);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var symbol = function symbol(data) {
  return _react2.default.createElement(
    'a',
    { href: '#', styleName: 'currencyAdd' },
    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CurrencySlider36', defaultMessage: data })
  );
};
// 'usdtOmni' to arr
var names = ['btc', 'bch', 'ltc', 'eth', 'swap'];

var CurrencySlider = (_dec = (0, _redaction.connect)(function (_ref) {
  var currencies = _ref.currencies.items;
  return {
    currencies: currencies
  };
}), _dec2 = (0, _reactCssModules2.default)(_CurrencySlider2.default, { allowMultiple: true }), _dec(_class = _dec2(_class = function (_Component) {
  (0, _inherits3.default)(CurrencySlider, _Component);

  function CurrencySlider() {
    var _ref2;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, CurrencySlider);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = CurrencySlider.__proto__ || (0, _getPrototypeOf2.default)(CurrencySlider)).call.apply(_ref2, [this].concat(args))), _this), _this.state = {
      children: [],
      activeItemIndex: 0
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(CurrencySlider, [{
    key: 'render',
    value: function render() {
      var _state = this.state,
          activeItemIndex = _state.activeItemIndex,
          children = _state.children;
      var currencies = this.props.currencies;

      var curr = (0, _values2.default)(currencies).map(function (item) {
        return item.name.toLowerCase();
      });

      return _react2.default.createElement(
        _react.Fragment,
        null,
        _react2.default.createElement(
          'div',
          { styleName: 'block' },
          _react2.default.createElement(
            'h3',
            { styleName: 'availableCurrencies' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CurrencySlider19', defaultMessage: 'Already available for exchange' })
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'currencyListWrap' },
            _react2.default.createElement(
              'ul',
              { styleName: 'currencyList' },
              names.map(function (item, index) {
                return _react2.default.createElement(
                  'li',
                  { styleName: item !== 'eth' ? 'currencyListItem' : 'currencyListItemEth', key: index },
                  _react2.default.createElement('img', { src: _images2.default[item], alt: '' })
                );
              })
            ),
            _react2.default.createElement(
              'a',
              { href: 'http://listing.swap.online', styleName: 'currencyAdd' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CurrencySlider36', defaultMessage: '+' })
            )
          )
        )
      );
    }
  }]);
  return CurrencySlider;
}(_react.Component)) || _class) || _class);
exports.default = CurrencySlider;

/***/ }),

/***/ 2083:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"availableCurrencies":"ra8hta","currencyList":"_2QopmV","currencyListItem":"_3Z9aXz","currencyListItemEth":"_31ETvb","currencyListWrap":"BfCjAg","fireItem":"ICP4RE","currencyAdd":"_2czC5A","listing":"_2rKZKE","block":"_2nBx3y"};

/***/ }),

/***/ 2113:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _btc = __webpack_require__(2114);

var _btc2 = _interopRequireDefault(_btc);

var _bch = __webpack_require__(2115);

var _bch2 = _interopRequireDefault(_bch);

var _dash = __webpack_require__(2116);

var _dash2 = _interopRequireDefault(_dash);

var _eth = __webpack_require__(2117);

var _eth2 = _interopRequireDefault(_eth);

var _fire = __webpack_require__(2118);

var _fire2 = _interopRequireDefault(_fire);

var _ltc = __webpack_require__(2119);

var _ltc2 = _interopRequireDefault(_ltc);

var _swap = __webpack_require__(2120);

var _swap2 = _interopRequireDefault(_swap);

var _trx = __webpack_require__(2121);

var _trx2 = _interopRequireDefault(_trx);

var _usdt = __webpack_require__(2122);

var _usdt2 = _interopRequireDefault(_usdt);

var _xrp = __webpack_require__(2123);

var _xrp2 = _interopRequireDefault(_xrp);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  btc: _btc2.default,
  bch: _bch2.default,
  dash: _dash2.default,
  eth: _eth2.default,
  ltc: _ltc2.default,
  swap: _swap2.default,
  trx: _trx2.default,
  usdt: _usdt2.default,
  xrp: _xrp2.default
};

/***/ }),

/***/ 2114:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/btc_d22579.svg";

/***/ }),

/***/ 2115:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/bch_77cd66.svg";

/***/ }),

/***/ 2116:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/dash_764285.svg";

/***/ }),

/***/ 2117:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/eth_fb666f.svg";

/***/ }),

/***/ 2118:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/fire_419150.svg";

/***/ }),

/***/ 2119:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/ltc_633bab.svg";

/***/ }),

/***/ 2120:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/swap_b9594b.svg";

/***/ }),

/***/ 2121:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/trx_db7e40.svg";

/***/ }),

/***/ 2122:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/usdt_0a8cad.svg";

/***/ }),

/***/ 2123:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/xrp_c7503a.svg";

/***/ }),

/***/ 2124:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"promoText":"_2K2nVX","promoTextColored":"_2Ke6z5"};

/***/ }),

/***/ 2125:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"promo":"_3nmdGy","promoWrap":"_3VyEfb"};

/***/ }),

/***/ 2126:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _jquery = __webpack_require__(558);

var _jquery2 = _interopRequireDefault(_jquery);

var _collapse = __webpack_require__(2127);

var _collapse2 = _interopRequireDefault(_collapse);

__webpack_require__(2129);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var FAQ = function (_Component) {
  (0, _inherits3.default)(FAQ, _Component);

  function FAQ(props) {
    (0, _classCallCheck3.default)(this, FAQ);

    var _this = (0, _possibleConstructorReturn3.default)(this, (FAQ.__proto__ || (0, _getPrototypeOf2.default)(FAQ)).call(this, props));

    _this.onDone = function () {
      /* Open accordion if hash */
      if (hash) {
        (0, _jquery2.default)(hash).collapse('show');
        setTimeout(function () {
          (0, _jquery2.default)('html, body').stop().animate({
            scrollTop: (0, _jquery2.default)(hash).offset().top - 165
          }, 800, 'swing');
        }, 300);
      }

      /* Go to anchor */
      (0, _jquery2.default)('.goto-anchor').on('click', function (e) {
        e.preventDefault();
        // $('.navbar-collapse').collapse('hide');
        hash = (0, _jquery2.default)(this).attr('href');
        (0, _jquery2.default)(hash).collapse('show');
        setTimeout(function () {
          (0, _jquery2.default)('html, body').stop().animate({
            scrollTop: (0, _jquery2.default)(hash).offset().top - 165
          }, 800, 'swing');
        }, 300);
      });
    };

    _this.state = {
      dataHere: false
    };
    return _this;
  }

  /* eslint-disable */

  (0, _createClass3.default)(FAQ, [{
    key: 'componentDidMount',
    value: function componentDidMount() {

      function _autop_newline_preservation_helper(matches) {
        return matches[0].replace("\n", "<WPPreserveNewline />");
      };

      function wpautop(pee, br) {
        if (typeof br === 'undefined') {
          br = true;
        }

        var pre_tags = {};
        if (pee.trim() === '') {
          return '';
        }

        pee = pee + "\n"; // just to make things a little easier, pad the end
        if (pee.indexOf('<pre') > -1) {
          var pee_parts = pee.split('</pre>');
          var last_pee = pee_parts.pop();
          pee = '';
          pee_parts.forEach(function (pee_part, index) {
            var start = pee_part.indexOf('<pre');

            // Malformed html?
            if (start === -1) {
              pee += pee_part;
              return;
            }

            var name = "<pre wp-pre-tag-" + index + "></pre>";
            pre_tags[name] = pee_part.substr(start) + '</pre>';
            pee += pee_part.substr(0, start) + name;
          });

          pee += last_pee;
        }

        pee = pee.replace(/<br \/>\s*<br \/>/, "\n\n");

        // Space things out a little
        var allblocks = '(?:table|thead|tfoot|caption|col|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|form|map|area|blockquote|address|math|style|p|h[1-6]|hr|fieldset|legend|section|article|aside|hgroup|header|footer|nav|figure|figcaption|details|menu|summary)';
        pee = pee.replace(new RegExp('(<' + allblocks + '[^>]*>)', 'gmi'), "\n$1");
        pee = pee.replace(new RegExp('(</' + allblocks + '>)', 'gmi'), "$1\n\n");
        pee = pee.replace(/\r\n|\r/, "\n"); // cross-platform newlines

        if (pee.indexOf('<option') > -1) {
          // no P/BR around option
          pee = pee.replace(/\s*<option'/gmi, '<option');
          pee = pee.replace(/<\/option>\s*/gmi, '</option>');
        }

        if (pee.indexOf('</object>') > -1) {
          // no P/BR around param and embed
          pee = pee.replace(/(<object[^>]*>)\s*/gmi, '$1');
          pee = pee.replace(/\s*<\/object>/gmi, '</object>');
          pee = pee.replace(/\s*(<\/?(?:param|embed)[^>]*>)\s*/gmi, '$1');
        }

        if (pee.indexOf('<source') > -1 || pee.indexOf('<track') > -1) {
          // no P/BR around source and track
          pee = pee.replace(/([<\[](?:audio|video)[^>\]]*[>\]])\s*/gmi, '$1');
          pee = pee.replace(/\s*([<\[]\/(?:audio|video)[>\]])/gmi, '$1');
          pee = pee.replace(/\s*(<(?:source|track)[^>]*>)\s*/gmi, '$1');
        }

        pee = pee.replace(/\n\n+/gmi, "\n\n"); // take care of duplicates

        // make paragraphs, including one at the end
        var pees = pee.split(/\n\s*\n/);
        pee = '';
        pees.forEach(function (tinkle) {
          pee += '<p>' + tinkle.replace(/^\s+|\s+$/g, '') + "</p>\n";
        });

        pee = pee.replace(/<p>\s*<\/p>/gmi, ''); // under certain strange conditions it could create a P of entirely whitespace
        pee = pee.replace(/<p>([^<]+)<\/(div|address|form)>/gmi, "<p>$1</p></$2>");
        pee = pee.replace(new RegExp('<p>\s*(</?' + allblocks + '[^>]*>)\s*</p>', 'gmi'), "$1", pee); // don't pee all over a tag
        pee = pee.replace(/<p>(<li.+?)<\/p>/gmi, "$1"); // problem with nested lists
        pee = pee.replace(/<p><blockquote([^>]*)>/gmi, "<blockquote$1><p>");
        pee = pee.replace(/<\/blockquote><\/p>/gmi, '</p></blockquote>');
        pee = pee.replace(new RegExp('<p>\s*(</?' + allblocks + '[^>]*>)', 'gmi'), "$1");
        pee = pee.replace(new RegExp('(</?' + allblocks + '[^>]*>)\s*</p>', 'gmi'), "$1");

        if (br) {
          pee = pee.replace(/<(script|style)(?:.|\n)*?<\/\\1>/gmi, _autop_newline_preservation_helper); // /s modifier from php PCRE regexp replaced with (?:.|\n)
          pee = pee.replace(/(<br \/>)?\s*\n/gmi, "<br />\n"); // optionally make line breaks
          pee = pee.replace('<WPPreserveNewline />', "\n");
        }

        pee = pee.replace(new RegExp('(</?' + allblocks + '[^>]*>)\s*<br />', 'gmi'), "$1");
        pee = pee.replace(/<br \/>(\s*<\/?(?:p|li|div|dl|dd|dt|th|pre|td|ul|ol)[^>]*>)/gmi, '$1');
        pee = pee.replace(/\n<\/p>$/gmi, '</p>');

        if ((0, _keys2.default)(pre_tags).length) {
          pee = pee.replace(new RegExp((0, _keys2.default)(pre_tags).join('|'), "gi"), function (matched) {
            return pre_tags[matched];
          });
        }

        return pee;
      };

      var hash = window.location.hash;
      if (!this.state.dataHere) {
        _jquery2.default.getJSON("https://wiki.swap.online/wp-json/swap/faq/mainpage", function (data) {
          var items = [];
          var accordionHtmlOne = (0, _jquery2.default)('<div class="faq-list faq-list-one"></div>');
          var accordionHtmlTwo = (0, _jquery2.default)('<div class="faq-list faq-list-two"></div>');
          var accordionItem = '';
          var questionCount = data.length;
          var questionHalfCount = Math.floor(questionCount / 2);

          _jquery2.default.each(data, function (key, val) {
            accordionItem = '<div class="faq-item">' + '<h6 class="faq-header">' + '<a href="#faq-item-' + val.id + '" data-toggle="collapse" class="collapsed">' + val.question + '</a>' + '</h6>' + '<div id="faq-item-' + val.id + '" class="collapse" data-parent=".faq-row">' + '<div class="faq-body">' + wpautop(val.answer) + '</div>' + '</div>' + '</div>';
            if (key <= questionHalfCount) {
              accordionHtmlOne.append(accordionItem);
            } else {
              accordionHtmlTwo.append(accordionItem);
            }
          });

          (0, _jquery2.default)('.swap-faq-col-1').html(accordionHtmlOne);
          (0, _jquery2.default)('.swap-faq-col-2').html(accordionHtmlTwo);
        }).done(function (data) {

          this.onDone();
        });
      } else {
        this.onDone();
      }
    }

    /* eslint-enable */

  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'section',
        { className: 'section bg-light-blue' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'h2',
            { className: 'why-subtitle' },
            'FAQ'
          ),
          _react2.default.createElement(
            'div',
            { className: 'row faq-row' },
            _react2.default.createElement(
              'div',
              { className: 'col-lg-6' },
              _react2.default.createElement('div', { className: 'swap-faq swap-faq-col-1' })
            ),
            _react2.default.createElement(
              'div',
              { className: 'col-lg-6' },
              _react2.default.createElement('div', { className: 'swap-faq swap-faq-col-2' })
            )
          )
        )
      );
    }
  }]);
  return FAQ;
}(_react.Component);

exports.default = FAQ;

/***/ }),

/***/ 2129:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 2130:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _objectDestructuringEmpty2 = __webpack_require__(2131);

var _objectDestructuringEmpty3 = _interopRequireDefault(_objectDestructuringEmpty2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactIntl = __webpack_require__(8);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _styles = __webpack_require__(2132);

var _styles2 = _interopRequireDefault(_styles);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint-disable */
var Quote = function Quote(_ref) {
  (0, _objectDestructuringEmpty3.default)(_ref);

  var href = "https://blog.qtum.org/atomic-cross-chain-swap-on-qtum-7e756a890ed7";
  return _react2.default.createElement(
    'div',
    { styleName: 'container' },
    _react2.default.createElement(
      'div',
      { styleName: 'header' },
      '"',
      _react2.default.createElement(_reactIntl.FormattedMessage, {
        id: 'Quote',
        defaultMessage: 'The swap.online project realizes swaps among Bitcoin-like, Ethereum-like, and EOS cryptocurrencies, and made a product for users to execute swaps'
      }),
      '"'
    ),
    _react2.default.createElement(
      'a',
      { href: href, title: href, target: '_blank', rel: 'noopener noreferrer', styleName: 'href' },
      _react2.default.createElement(
        'b',
        null,
        '\u2014 QTUM official Atomic Swap research',
        _react2.default.createElement(
          'span',
          null,
          ' https://blog.qtum.org/atomic-cross-chain-swap-on-qtum-7e756a890ed7'
        )
      )
    )
  );
};
/* eslint-enable */

exports.default = (0, _reactCssModules2.default)(Quote, _styles2.default, { allowMultiple: true });

/***/ }),

/***/ 2132:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"container":"_1uBI9W","header":"_2m-pWv","href":"_2XQmlJ"};

/***/ }),

/***/ 2133:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactIntl = __webpack_require__(8);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _HowItWorks = __webpack_require__(2134);

var _HowItWorks2 = _interopRequireDefault(_HowItWorks);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var HowItWorks = function HowItWorks(_ref) {
  var className = _ref.className;
  return _react2.default.createElement(
    'div',
    { styleName: 'HowItWorksContainer' },
    _react2.default.createElement(
      'h3',
      { styleName: 'HowItWorksTitle' },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'HowItWorks10', defaultMessage: 'How it works' })
    ),
    _react2.default.createElement(
      'div',
      { styleName: 'HowItWorksList' },
      _react2.default.createElement(
        'div',
        { styleName: 'HowItWorksItem' },
        _react2.default.createElement(
          'span',
          { styleName: 'HowItWorksStep' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'HowItWorks18', defaultMessage: '1. Select your cryptocurrency and the amount.' })
        ),
        _react2.default.createElement(
          'span',
          { styleName: 'HowItWorksInfo' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'HowItWorks21', defaultMessage: 'Choose a cryptocurrency that you have at your disposal on any external wallet, exchange, or Swap Online wallet' })
        )
      ),
      _react2.default.createElement(
        'div',
        { styleName: 'HowItWorksItem' },
        _react2.default.createElement(
          'span',
          { styleName: 'HowItWorksStep' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'HowItWorks26', defaultMessage: '2. Click \u201CExchange\u201D' })
        ),
        _react2.default.createElement(
          'span',
          { styleName: 'HowItWorksInfo' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'HowItWorks29', defaultMessage: 'If a suitable order is found and the seller confirms the exchange, you will be redirected to the exchange page' })
        )
      ),
      _react2.default.createElement(
        'div',
        { styleName: 'HowItWorksItem' },
        _react2.default.createElement(
          'span',
          { styleName: 'HowItWorksStep' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'HowItWorks34', defaultMessage: '3. Make a cryptocurrency deposit.' })
        ),
        _react2.default.createElement(
          'span',
          { styleName: 'HowItWorksInfo' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'HowItWorks37', defaultMessage: 'In the event that the required amount is available on your internal wallet, the deposit will be executed automatically.' }),
          ' '
        )
      ),
      _react2.default.createElement(
        'div',
        { styleName: 'HowItWorksItem' },
        _react2.default.createElement(
          'span',
          { styleName: 'HowItWorksStep' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'HowItWorks42', defaultMessage: '4. Confirm completion of the swap.' })
        ),
        _react2.default.createElement(
          'span',
          { styleName: 'HowItWorksInfo' },
          _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'HowItWorks45',
            defaultMessage: 'The exchange usually takes about a minute.  At the end of the swap, you will see the txid and will be able to confirm completion of the transfer on your end.' }),
          ' '
        )
      )
    )
  );
};

exports.default = (0, _reactCssModules2.default)(HowItWorks, _HowItWorks2.default);

/***/ }),

/***/ 2134:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"HowItWorksTitle":"_3lp86j","HowItWorksList":"_2d_Pd2","HowItWorksItem":"_1xFsoj","HowItWorksStep":"_18Be5X","HowItWorksInfo":"_25z-Kp","HowItWorksContainer":"_1bLuBL"};

/***/ }),

/***/ 2135:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactIntl = __webpack_require__(8);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _VideoAndFeatures = __webpack_require__(2136);

var _VideoAndFeatures2 = _interopRequireDefault(_VideoAndFeatures);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var VideoAndFeatures = function VideoAndFeatures(props) {
  return _react2.default.createElement(
    'div',
    { styleName: 'VidNdFeatures' },
    _react2.default.createElement(
      'div',
      { styleName: 'VidNdFeatures__container' },
      _react2.default.createElement(
        'div',
        { styleName: 'VidNdFeatures__item VidNdFeatures__item_features' },
        _react2.default.createElement(
          'ul',
          null,
          _react2.default.createElement(
            'li',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'partialVideoAndFeatures0', defaultMessage: 'Based on Atomic Swap technology' })
          ),
          _react2.default.createElement(
            'li',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'partialVideoAndFeatures1', defaultMessage: 'Exchange only takes 2 minutes' })
          ),
          _react2.default.createElement(
            'li',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'partialVideoAndFeatures2', defaultMessage: 'Supports LTC, BTC, BCH, ETH, USDT, ERC-20 tokens' })
          ),
          _react2.default.createElement(
            'li',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'partialVideoAndFeatures3', defaultMessage: 'Can be deployed on any website as an exchange service' })
          )
        )
      ),
      _react2.default.createElement(
        'div',
        { styleName: 'VidNdFeatures__item VidNdFeatures__item_video' },
        _react2.default.createElement('iframe', {
          title: 'Swap.Online preview',
          width: '100%',
          height: '300',
          src: props.intl.formatMessage({ id: 'VidLinkFrame', defaultMessage: 'https://www.youtube.com/embed/Jhrb7xOT_7s' }),
          frameBorder: '0',
          allow: 'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture',
          allowFullScreen: true
        })
      )
    )
  );
};

exports.default = (0, _reactIntl.injectIntl)((0, _reactCssModules2.default)(VideoAndFeatures, _VideoAndFeatures2.default, { allowMultiple: true }));

/***/ }),

/***/ 2136:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"VidNdFeatures":"lzjsHQ","VidNdFeatures__title":"_39CF97","VidNdFeatures__container":"xrp9u5","VidNdFeatures__item_features":"_2FJXni","VidNdFeatures__item_video":"_1Yr1f1","VidNdFeatures__item":"_1Ra2yP"};

/***/ }),

/***/ 2137:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"myLink":"_1CMe5w"};

/***/ }),

/***/ 2138:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(37);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _KeyActionsPanel = __webpack_require__(2139);

var _KeyActionsPanel2 = _interopRequireDefault(_KeyActionsPanel);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _reactDeviceDetect = __webpack_require__(53);

var _helpers = __webpack_require__(17);

var _controls = __webpack_require__(46);

var _reactIntl = __webpack_require__(8);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var KeyActionsPanel = (_dec = (0, _redaction.connect)(function (_ref) {
  var rememberedOrders = _ref.rememberedOrders,
      hiddenCoinsList = _ref.core.hiddenCoinsList,
      swapHistory = _ref.history.swapHistory;
  return {
    hiddenCoinsList: hiddenCoinsList,
    decline: rememberedOrders.savedOrders,
    swapHistory: swapHistory
  };
}), _dec2 = (0, _reactCssModules2.default)(_KeyActionsPanel2.default, { allowMultiple: true }), _dec(_class = _dec2(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(KeyActionsPanel, _Component);

  function KeyActionsPanel() {
    var _ref2;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, KeyActionsPanel);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = KeyActionsPanel.__proto__ || (0, _getPrototypeOf2.default)(KeyActionsPanel)).call.apply(_ref2, [this].concat(args))), _this), _this.state = {
      desclineOrders: []
    }, _this.getFlowById = function (swapId) {
      return JSON.parse(localStorage.getItem('swap:flow.' + swapId) || 0);
    }, _this.getSwapById = function (swapId) {
      return JSON.parse(localStorage.getItem('swap:swap.' + swapId) || 0);
    }, _this.getCorrectDecline = function () {
      var _this$props = _this.props,
          decline = _this$props.decline,
          swapHistory = _this$props.swapHistory;


      var localSavedOrdersString = localStorage.getItem('savedOrders');

      if (!localSavedOrdersString) {
        return;
      }

      var localSavedOrders = JSON.parse(localSavedOrdersString);

      if (localSavedOrders.length !== decline.length) {
        return;
      }

      var desclineOrders = [];

      decline.forEach(function (swapId) {
        try {
          var flow = _this.getFlowById(swapId);
          var swap = _this.getSwapById(swapId);

          if (!flow || !swap) {
            throw new Error('getCorrectDecline: swap is not saved ' + swapId);
          }

          var step = flow.step,
              isRefunded = flow.isRefunded,
              isFinished = flow.isFinished,
              isStoppedSwap = flow.isStoppedSwap,
              btcScriptCreatingTransactionHash = flow.btcScriptCreatingTransactionHash,
              ethSwapCreationTransactionHash = flow.ethSwapCreationTransactionHash;
          var sellCurrency = swap.sellCurrency;


          var isCurrencyEthOrEthToken = _helpers.ethToken.isEthOrEthToken({ name: sellCurrency });

          var isIncompleteSwap = !(isRefunded || isFinished || isStoppedSwap);
          var isStartedSwap = isCurrencyEthOrEthToken ? step >= 4 && btcScriptCreatingTransactionHash : step >= 5 && ethSwapCreationTransactionHash;

          if (isIncompleteSwap && isIncompleteSwap) {
            desclineOrders.push(_actions2.default.core.getSwapById(swapId));
          }
        } catch (error) {
          console.error('getCorrectDecline:', error);
        }
      });
      _this.setState(function () {
        return {
          desclineOrders: desclineOrders
        };
      });
    }, _this.handleShowMore = function () {
      _actions2.default.modals.open(_helpers.constants.modals.ShowMoreCoins, {});
    }, _this.handleShowKeys = function () {
      var doesCautionPassed = localStorage.getItem(_helpers.constants.localStorage.wasCautionPassed);

      if (!doesCautionPassed) {
        _actions2.default.modals.open(_helpers.constants.modals.PrivateKeys, {});
      } else {
        _actions2.default.modals.open(_helpers.constants.modals.DownloadModal);
      }
    }, _this.handleImportKeys = function () {
      _actions2.default.modals.open(_helpers.constants.modals.ImportKeys, {});
    }, _this.handleClear = function () {
      _actions2.default.user.getDemoMoney();
    }, _this.handleShowIncomplete = function (decline) {
      var desclineOrders = _this.state.desclineOrders;

      _actions2.default.modals.open(_helpers.constants.modals.IncompletedSwaps, {
        desclineOrders: desclineOrders
      });
    }, _this.handleUseKeychain = function () {
      _actions2.default.modals.open(_helpers.constants.modals.Keychain);
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(KeyActionsPanel, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.getCorrectDecline();
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          hiddenCoinsList = _props.hiddenCoinsList,
          decline = _props.decline;
      var desclineOrders = this.state.desclineOrders;


      return _react2.default.createElement(
        'div',
        { styleName: 'WithdrawButtonContainer' },
        false && !_reactDeviceDetect.isMobile && _react2.default.createElement(
          _controls.WithdrawButton,
          { onClick: this.handleClear },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'KeyActionsPanel43', defaultMessage: 'Exit' })
        ),
        _react2.default.createElement(
          _controls.WithdrawButton,
          { 'data-tut': 'reactour__save', onClick: this.handleShowKeys },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'KeyActionsPanel46', defaultMessage: 'Show my keys' })
        ),
        _react2.default.createElement(
          _controls.WithdrawButton,
          { onClick: this.handleImportKeys },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'KeyActionsPanel49', defaultMessage: 'Import keys' })
        ),
        _appConfig2.default && !_appConfig2.default.isWidget && _react2.default.createElement(
          _controls.WithdrawButton,
          { onClick: this.handleShowMore },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'KeyActionsPanel73', defaultMessage: 'Hide / Add Coins', values: { length: '' + hiddenCoinsList.length } })
        ),
        desclineOrders.length > 0 && _react2.default.createElement(
          _controls.WithdrawButton,
          { onClick: function onClick() {
              return _this2.handleShowIncomplete(decline);
            } },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'KeyActionsPane74', defaultMessage: 'incomplete swap ({length})', values: { length: '' + desclineOrders.length } })
        )
      );
    }
  }]);
  return KeyActionsPanel;
}(_react.Component), _class2.propTypes = {
  hiddenCoinsList: _propTypes2.default.array.isRequired
}, _class2.defaultProps = {
  hiddenCoinsList: []
}, _temp2)) || _class) || _class);
exports.default = KeyActionsPanel;

/***/ }),

/***/ 2139:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"WithdrawButtonContainer":"_2LYK1V"};

/***/ }),

/***/ 214:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var linksManager = {
  home: '/',
  exchange: '/exchange',
  history: '/history',
  wallets: '/wallets',
  currencyWallet: '/wallet',
  swap: '/swaps',
  feed: '/feed',
  aboutus: '/aboutus',
  listing: 'https://listing.swap.online/',
  test: 'https://testnet.swap.online',
  main: 'https://swap.online/',
  ieo: '/IEO',
  coins: '/coins',
  partial: '/partial',
  notFound: '/NotFound',
  newPage: '/+NewPage',

  // social networks
  medium: 'https://medium.com/swaponline',
  twitter: 'https://twitter.com/SwapOnlineTeam',
  facebook: 'https://www.facebook.com/pg/Swaponline-637233326642691',
  telegram: 'https://t.me/swaponline',
  bitcointalk: 'https://bitcointalk.org/index.php?topic=4636633.0',
  discord: 'https://discordapp.com/invite/juG7UZH',
  reddit: 'https://www.reddit.com/r/SwapOnline',
  youtube: 'https://www.youtube.com/channel/UCCDWZob9wBsZUpScz2w9_lg',

  // footer links
  etherdelta: 'https://etherdelta.com/#0x14a52cf6b4f68431bd5d9524e4fcd6f41ce4ade9-ETH',
  button: 'https://wiki.swap.online/about-swap-online/#b2b',
  about: 'https://wiki.swap.online/about-swap-online/',
  extension: 'https://chrome.google.com/webstore/detail/swaponline/oldojieloelkkfeacfinhcngmbkepnlm',
  career: 'https://wiki.swap.online/careers-swap-online/',
  contacts: 'https://wiki.swap.online/contacts-swap-online/',
  concept: 'https://wiki.swap.online/en.pdf',
  description: 'https://docs.google.com/document/d/1MWrDR5pc3FB7AiWBO0GyBWBSci3VuDKNvknkPHtTzl8/edit#heading=h.tml4qc7dhie9',
  research: 'https://docs.google.com/spreadsheets/d/1qWFLK2y8oMH5Gfam-iwqXPzLtwNabzp_EL6QFxjSBc0/edit?usp=sharing',
  reuters: 'https://www.reuters.com/brandfeatures/venture-capital/article?id=37488',
  wiki: 'https://wiki.swap.online',
  github: 'https://github.com/swaponline',
  githubButton: 'https://github.com/swaponline/swap.button',
  bitcointalkSendTx: 'https://bitcointalk.org/index.php?topic=1938621.0',
  privacyPolicy: 'https://drive.google.com/file/d/1LdsCOfX_pOJAMqlL4g6DfUpZrGF5eRe9/view?usp=sharing',
  privacyPolicyDoc: 'https://drive.google.com/file/d/0Bz2ZwZCmFtj_N29fQVk4bV9tUXRscjFEcUkxVkFXdF9tY0ow/view?usp=sharing',
  terms: 'https://drive.google.com/file/d/0Bz2ZwZCmFtj_Nm9qSm0tUm9Ia1kwVGhWRlVlVXRJTGZtYW5N/view?usp=sharing',
  legalOpinion: 'https://drive.google.com/file/d/0Bz2ZwZCmFtj_WlNkY0ZYN0ZpNUo2VFVEeW9rWEVoTlNja0VZ/view?usp=sharing',
  licence: 'https://www.teatmik.ee/en/personlegal/14477421-Swap-Online-O%C3%9C',
  faq: [{
    question: 'What is the price of SWAP token?',
    link: 'https://wiki.swap.online/faq/#swap-faq-1'
  }, {
    question: 'I don\'t see the Order, although the others can see it (or it can be seen from a different browser)',
    link: 'https://wiki.swap.online/faq/#swap-faq-2'
  }, {
    question: 'Where are my private keys stored?',
    link: 'https://wiki.swap.online/faq/#swap-faq-3'
  }, {
    question: 'Is KYC required?',
    link: 'https://wiki.swap.online/faq/#swap-faq-4'
  }, {
    question: 'What swap pairs are available?',
    link: 'https://wiki.swap.online/faq/#swap-faq-5'
  }, {
    question: 'Is there fee for trade?',
    link: 'https://wiki.swap.online/faq/#swap-faq-6'
  }, {
    question: 'How much gas is being spent for swap?',
    link: 'https://wiki.swap.online/faq/#swap-faq-7'
  }, {
    question: 'Min sum to trade?',
    link: 'https://wiki.swap.online/faq/#swap-faq-8'
  }, {
    question: 'My swap got stuck and my Bitcoin has already been sent to the swap. What should I do?',
    link: 'https://wiki.swap.online/faq/#swap-faq-9'
  }, {
    question: 'In what language is this written, and where I can find source code?',
    link: 'https://wiki.swap.online/faq/#swap-faq-10'
  }, {
    question: 'Swap.Online token',
    link: 'https://wiki.swap.online/faq/#swap-faq-11'
  }, {
    question: 'What is Swap.Button?',
    link: 'https://wiki.swap.online/faq/#swap-faq-12'
  }, {
    question: 'Advantages of using the exchanger based on Swap.Online DEP',
    link: 'https://wiki.swap.online/faq/#swap-faq-13'
  }, {
    question: 'Request is declined. Why?',
    link: 'https://swap.online/getting-started/#faq-item-5738',
    id: 'requestDeclimed'
  }],
  // footer new links
  footer: {
    exchange: 'https://swap.online/exchange',
    wallet: 'https://swap.online',
    widget: 'https://widget.swap.online/',
    chromeextantion: 'https://chrome.google.com/webstore/detail/swaponline/oldojieloelkkfeacfinhcngmbkepnlm',
    forstablecoin: 'https://wiki.swap.online/for_stablecoins/',
    fordexses: 'https://wiki.swap.online/for_dexs/',
    forblockchains: 'https://wiki.swap.online/for_blockchains/',
    forerc20tokens: 'https://listing.swap.online/',
    fornewswebsites: 'https://widget.swap.online/',
    whitepaper: 'https://wiki.swap.online/en.pdf',
    wiki: 'https://wiki.swap.online/',
    github: 'https://github.com/swaponline',
    about: 'https://wiki.swap.online/about-swap-online/',
    agreements: 'https://drive.google.com/file/d/0Bz2ZwZCmFtj_Nm9qSm0tUm9Ia1kwVGhWRlVlVXRJTGZtYW5N/view?usp=sharing',
    privacypolicy: 'https://drive.google.com/file/d/1LdsCOfX_pOJAMqlL4g6DfUpZrGF5eRe9/view?usp=sharing',
    legal: 'https://drive.google.com/file/d/0Bz2ZwZCmFtj_WlNkY0ZYN0ZpNUo2VFVEeW9rWEVoTlNja0VZ/view?usp=sharing',
    contacts: 'https://wiki.swap.online/contacts-swap-online/',
    comparsion: 'https://docs.google.com/spreadsheets/d/1HVWjTKexfPjan_LFnCwMazEZTvcVtYl_3NWFKQ0L3ZM/edit?usp=drive_web&ouid=100012339553469619949',
    bankdashboard: 'https://wiki.swap.online/crypto_banking/',
    lnresearch: 'https://wiki.swap.online/lightninghack-berlin-june2018/'
  }
};

linksManager.getFaqLink = function (faqID) {
  for (var i = 0; i < linksManager.faq.length; i++) {
    if (linksManager.faq[i].id && linksManager.faq[i].id == faqID) {
      return linksManager.faq[i].link;
    }
  }
  return false;
};

exports.default = linksManager;

/***/ }),

/***/ 2140:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _domUtils = __webpack_require__(325);

var _SaveKeys = __webpack_require__(2141);

var _SaveKeys2 = _interopRequireDefault(_SaveKeys);

var _PrivateKeysModal = __webpack_require__(913);

var _PrivateKeysModal2 = _interopRequireDefault(_PrivateKeysModal);

var _Overlay = __webpack_require__(560);

var _Overlay2 = _interopRequireDefault(_Overlay);

var _Center = __webpack_require__(322);

var _Center2 = _interopRequireDefault(_Center);

var _Confirm = __webpack_require__(2150);

var _Confirm2 = _interopRequireDefault(_Confirm);

var _helpers = __webpack_require__(17);

var _SaveKeysModal = __webpack_require__(2152);

var _SaveKeysModal2 = _interopRequireDefault(_SaveKeysModal);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var views = {
  saveKeys: 'saveKeys',
  confirm: 'confirm',
  approve: 'approve'
};

var title = (0, _reactIntl.defineMessages)({
  Areyousure: {
    id: 'Areyousure',
    defaultMessage: 'Are you sure ?'
  }
});

var SaveKeysModal = (0, _reactIntl.injectIntl)(_class = (_temp2 = _class2 = function (_React$Component) {
  (0, _inherits3.default)(SaveKeysModal, _React$Component);

  function SaveKeysModal() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, SaveKeysModal);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = SaveKeysModal.__proto__ || (0, _getPrototypeOf2.default)(SaveKeysModal)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      view: _this.props.view
    }, _this.componentWillMount = function () {
      (0, _domUtils.fixBodyOverflow)(true);
    }, _this.componentWillUnmount = function () {
      (0, _domUtils.fixBodyOverflow)(false);
    }, _this.changeView = function (view) {
      return _this.setState({ view: view });
    }, _this.handleConfirm = function () {
      _this.changeView(views.approve);
    }, _this.handleDownload = function () {
      _actions2.default.user.downloadPrivateKeys();
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(SaveKeysModal, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var view = this.state.view;
      var intl = this.props.intl;

      return _react2.default.createElement(
        _Overlay2.default,
        null,
        _react2.default.createElement(
          _Center2.default,
          { keepFontSize: true },
          _react2.default.createElement(
            _react2.default.Fragment,
            null,
            false && _react2.default.createElement(
              'a',
              {
                href: '#',
                onClick: function onClick() {
                  localStorage.setItem(_helpers.constants.localStorage.testnetSkipPKCheck, true);
                  _this2.forceUpdate();
                } },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SaveKeysModal', defaultMessage: 'Testnet: Don`t ask again' })
            ),
            view === views.saveKeys && _react2.default.createElement(_SaveKeys2.default, {
              isDownload: this.handleDownload,
              isChange: function isChange() {
                return _this2.changeView(views.confirm);
              }
            }),
            view === views.confirm && (0, _domUtils.createPortal)(_react2.default.createElement(_Confirm2.default, {
              rootClassName: _SaveKeysModal2.default.areYouSure,
              title: intl.formatMessage(title.Areyousure),
              isConfirm: function isConfirm() {
                return _this2.handleConfirm();
              },
              isReject: function isReject() {
                return _this2.changeView(views.saveKeys);
              },
              animation: view === views.confirm
            })),
            view === views.approve && (0, _domUtils.createPortal)(_react2.default.createElement(_PrivateKeysModal2.default, null))
          )
        )
      );
    }
  }]);
  return SaveKeysModal;
}(_react2.default.Component), _class2.propTypes = {
  view: _propTypes2.default.string
}, _class2.defaultProps = {
  view: views.saveKeys
}, _temp2)) || _class;

exports.default = SaveKeysModal;

/***/ }),

/***/ 2141:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _redaction = __webpack_require__(37);

var _reactDeviceDetect = __webpack_require__(53);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SaveKeys = __webpack_require__(2142);

var _SaveKeys2 = _interopRequireDefault(_SaveKeys);

var _Field = __webpack_require__(2143);

var _Field2 = _interopRequireDefault(_Field);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _reactTooltip = __webpack_require__(103);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SaveKeys = (_dec = (0, _redaction.connect)(function (_ref) {
  var _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      eosData = _ref$user.eosData,
      telosData = _ref$user.telosData;
  return {
    btcData: btcData, ethData: ethData, eosData: eosData, telosData: telosData
  };
}), _dec2 = (0, _reactCssModules2.default)(_SaveKeys2.default), _dec(_class = _dec2(_class = function (_Component) {
  (0, _inherits3.default)(SaveKeys, _Component);

  function SaveKeys() {
    (0, _classCallCheck3.default)(this, SaveKeys);
    return (0, _possibleConstructorReturn3.default)(this, (SaveKeys.__proto__ || (0, _getPrototypeOf2.default)(SaveKeys)).apply(this, arguments));
  }

  (0, _createClass3.default)(SaveKeys, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          ethData = _props.ethData,
          btcData = _props.btcData,
          eosData = _props.eosData,
          telosData = _props.telosData,
          isChange = _props.isChange,
          isDownload = _props.isDownload,
          otherProps = (0, _objectWithoutProperties3.default)(_props, ['ethData', 'btcData', 'eosData', 'telosData', 'isChange', 'isDownload']);


      return _react2.default.createElement(
        'div',
        otherProps,
        _react2.default.createElement(
          'div',
          { styleName: 'title' },
          _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'SaveKeys235',
            defaultMessage: 'These are your private keys.{br}Download the keys by clicking on the button\n              {br}or take a screenshot of this page, then confirm it and click here.',
            values: { br: _react2.default.createElement('br', null) } }),
          _react2.default.createElement(
            'span',
            { styleName: 'linked', onClick: isChange },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SaveKeys26', defaultMessage: 'I saved the keys in a safe place' }),
            _react2.default.createElement('br', null)
          )
        ),
        _react2.default.createElement(
          'div',
          { styleName: 'row' },
          _react2.default.createElement(
            _Button2.default,
            { brand: true, onClick: isDownload, 'data-tip': true, 'data-for': 'Download' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SaveKe33', defaultMessage: 'Download' })
          ),
          _react2.default.createElement(
            _reactTooltip2.default,
            { id: 'Download', type: 'light', effect: 'solid' },
            _react2.default.createElement(
              'span',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SaveKe37', defaultMessage: 'Download text document with keys and accounts' })
            )
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'cell' },
            _react2.default.createElement(_Field2.default, {
              label: ethData.currency,
              privateKey: ethData.privateKey.toString()
            }),
            _react2.default.createElement(_Field2.default, {
              label: btcData.currency,
              privateKey: btcData.privateKey.toString()
            }),
            typeof eosData.masterPrivateKey === 'string' && _react2.default.createElement(_Field2.default, {
              label: eosData.currency,
              privateKey: eosData.masterPrivateKey.toString()
            }),
            typeof telosData.activePrivateKey === 'string' && _react2.default.createElement(_Field2.default, {
              label: telosData.currency,
              privateKey: telosData.activePrivateKey.toString()
            })
          )
        )
      );
    }
  }]);
  return SaveKeys;
}(_react.Component)) || _class) || _class);
exports.default = SaveKeys;

/***/ }),

/***/ 2142:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"title":"_2lZ6qH","row":"_2khOQw","cell":"_3opTZk","linked":"_1cbKHK"};

/***/ }),

/***/ 2143:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Field = __webpack_require__(2144);

var _Field2 = _interopRequireDefault(_Field);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Field = function Field(_ref) {
  var privateKey = _ref.privateKey,
      label = _ref.label;
  return _react2.default.createElement(
    'div',
    { styleName: 'row' },
    _react2.default.createElement(
      'strong',
      null,
      label,
      ':  '
    ),
    ' ',
    privateKey
  );
};

exports.default = (0, _reactCssModules2.default)(Field, _Field2.default);

/***/ }),

/***/ 2144:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"row":"DCdMQR"};

/***/ }),

/***/ 2145:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"modal":"_3EyIsk","content":"_13sdCy","title":"TLE3XR","subTitle":"_3u-G2a","text":"_3fSo75","buttonContainer":"H9SgPG","buttonSubContainer":"_3MXFsJ","button":"_265YTK","skipField":"_2DGtuY","tryToSkip":"orjelO","tryToSkip_active":"_2ohvGe","tryToSkip__title":"_2KmbSp","tryToSkip__wrapper":"PHGCri","tryToSkip__content":"oWx01h","tryToSkip__btnContainer":"l-NkbT","fontSizeFixA":"cAhEZw","containerWithWrongLinkFZ":"qKvBRA"};

/***/ }),

/***/ 2146:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _classnames = __webpack_require__(72);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Field = __webpack_require__(2147);

var _Field2 = _interopRequireDefault(_Field);

var _Input = __webpack_require__(129);

var _Input2 = _interopRequireDefault(_Input);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Field2 = (_dec = (0, _reactCssModules2.default)(_Field2.default, { allowMultiple: true }), _dec(_class = (_temp2 = _class2 = function (_React$Component) {
  (0, _inherits3.default)(Field2, _React$Component);

  function Field2() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Field2);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Field2.__proto__ || (0, _getPrototypeOf2.default)(Field2)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      value: '',
      error: false,
      success: false
    }, _this.handleCheck = function () {
      var _this$state = _this.state,
          value = _this$state.value,
          error = _this$state.error,
          success = _this$state.success;
      var _this$props = _this.props,
          valueLink = _this$props.valueLink,
          privateKey = _this$props.privateKey;


      if (success) {
        return;
      }

      if (value !== privateKey) {
        _this.setState({
          value: '',
          error: true,
          success: false
        });
      } else {
        valueLink.set(true);
        _this.setState({
          success: true,
          error: false
        });
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Field2, [{
    key: 'render',
    value: function render() {
      var _state = this.state,
          error = _state.error,
          success = _state.success;
      var label = this.props.label;

      var linkedValue = _swValuelink2.default.state(this, 'value');

      return _react2.default.createElement(
        'div',
        { styleName: 'container' },
        _react2.default.createElement(
          'div',
          { styleName: 'section' },
          _react2.default.createElement(
            'div',
            { styleName: 'label' },
            label.toUpperCase()
          ),
          _react2.default.createElement(_Input2.default, {
            styleName: (0, _classnames2.default)('input', { 'errorInput': error }),
            placeholder: 'Write private key here...',
            valueLink: linkedValue
          }),
          _react2.default.createElement(
            _Button2.default,
            {
              styleName: 'button',
              white: !success,
              green: success,
              onClick: this.handleCheck
            },
            success ? 'OK' : 'Check'
          )
        ),
        error && _react2.default.createElement(
          _react2.default.Fragment,
          null,
          _react2.default.createElement('i', { className: 'fas fa-times', styleName: 'errorIcon' }),
          _react2.default.createElement(
            'div',
            { styleName: 'error' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Feld82', defaultMessage: 'INVALID PRIVATE KEY! You should pass correct value! Try again!' })
          )
        )
      );
    }
  }]);
  return Field2;
}(_react2.default.Component), _class2.propTypes = {
  label: _propTypes2.default.string.isRequired,
  privateKey: _propTypes2.default.string.isRequired,
  valueLink: _propTypes2.default.object.isRequired
}, _temp2)) || _class);
exports.default = Field2;

/***/ }),

/***/ 2147:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"container":"_2sawde","section":"_3I8NoW","label":"_9MIala","input":"B6rjvz","button":"_8Hxxx_","error":"_37HJh_","errorInput":"upMfYJ","errorIcon":"_2rmYAB"};

/***/ }),

/***/ 2148:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"modal":"_18Zuzz","header":"_247oHD","headerContent":"_1nj0x3","title":"_1fyulC","uppercase":"_2k_g2m","closeButton":"HHCosS","delayClose":"_2Aq91d","contentContainer":"_2zEN0h","content":"_10IWir"};

/***/ }),

/***/ 2149:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"overlay":"ctI9Nl"};

/***/ }),

/***/ 2150:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Confirm = __webpack_require__(2151);

var _Confirm2 = _interopRequireDefault(_Confirm);

var _SubTitle = __webpack_require__(159);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _Center = __webpack_require__(322);

var _Center2 = _interopRequireDefault(_Center);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Confirm = function Confirm(_ref) {
  var rootClassName = _ref.rootClassName,
      isConfirm = _ref.isConfirm,
      isReject = _ref.isReject,
      title = _ref.title,
      animation = _ref.animation;
  return _react2.default.createElement(
    _Center2.default,
    null,
    _react2.default.createElement(
      'div',
      { styleName: animation ? 'confirm animation' : 'confirm', className: rootClassName },
      _react2.default.createElement(
        _SubTitle2.default,
        null,
        title
      ),
      _react2.default.createElement(
        'div',
        { styleName: 'row' },
        _react2.default.createElement(
          _Button2.default,
          { brand: true, onClick: isConfirm },
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Confirm20', defaultMessage: 'Yes' })
          )
        ),
        _react2.default.createElement(
          _Button2.default,
          { brand: true, onClick: isReject },
          _react2.default.createElement(
            'h3',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ConConfirm25firm20', defaultMessage: 'No' })
          )
        )
      )
    )
  );
};

Confirm.propTypes = {
  rootClassName: _propTypes2.default.string,
  isConfirm: _propTypes2.default.func.isRequired,
  isReject: _propTypes2.default.func.isRequired,
  title: _propTypes2.default.string.isRequired,
  animation: _propTypes2.default.bool
};

exports.default = (0, _reactCssModules2.default)(Confirm, _Confirm2.default, { allowMultiple: true });

/***/ }),

/***/ 2151:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"confirm":"_1xAbkM","animation":"_33CnOY","open":"_3yzpfh","row":"_3PtHGR"};

/***/ }),

/***/ 2152:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"areYouSure":"_2gWXjo"};

/***/ }),

/***/ 2153:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _redaction = __webpack_require__(37);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _Row = __webpack_require__(914);

var _Row2 = _interopRequireDefault(_Row);

var _SwapsHistory = __webpack_require__(561);

var _SwapsHistory2 = _interopRequireDefault(_SwapsHistory);

var _reactTooltip = __webpack_require__(103);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _Table = __webpack_require__(260);

var _Table2 = _interopRequireDefault(_Table);

var _History = __webpack_require__(2159);

var _History2 = _interopRequireDefault(_History);

var _Filter = __webpack_require__(2160);

var _Filter2 = _interopRequireDefault(_Filter);

var _PageHeadline = __webpack_require__(220);

var _PageHeadline2 = _interopRequireDefault(_PageHeadline);

var _InfiniteScrollTable = __webpack_require__(2164);

var _InfiniteScrollTable2 = _interopRequireDefault(_InfiniteScrollTable);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var filterHistory = function filterHistory(items, filter) {
  if (filter === 'sent') {
    return items.filter(function (_ref) {
      var direction = _ref.direction;
      return direction === 'out';
    });
  }

  if (filter === 'received') {
    return items.filter(function (_ref2) {
      var direction = _ref2.direction;
      return direction === 'in';
    });
  }

  return items;
};

var subTitle = (0, _reactIntl.defineMessages)({
  subTitleHistory: {
    id: 'Amount68',
    defaultMessage: 'My History'
  }
});

var History = (_dec = (0, _redaction.connect)(function (_ref3) {
  var _ref3$history = _ref3.history,
      transactions = _ref3$history.transactions,
      filter = _ref3$history.filter,
      swapHistory = _ref3$history.swapHistory;
  return {
    items: filterHistory(transactions, filter),
    swapHistory: swapHistory
  };
}), _dec2 = (0, _reactCssModules2.default)(_History2.default, { allowMultiple: true }), (0, _reactIntl.injectIntl)(_class = _dec(_class = _dec2(_class = function (_Component) {
  (0, _inherits3.default)(History, _Component);

  function History() {
    var _ref4;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, History);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref4 = History.__proto__ || (0, _getPrototypeOf2.default)(History)).call.apply(_ref4, [this].concat(args))), _this), _this.state = {
      renderedItems: 10
    }, _this.loadMore = function () {
      var items = _this.props.items;
      var renderedItems = _this.state.renderedItems;


      if (renderedItems < items.length) {
        _this.setState(function (state) {
          return {
            renderedItems: state.renderedItems + Math.min(10, items.length - state.renderedItems)
          };
        });
      }
    }, _this.rowRender = function (row) {
      return _react2.default.createElement(_Row2.default, (0, _extends3.default)({ key: row.hash }, row));
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(History, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      // actions.analytics.dataEvent('open-page-history')
      _actions2.default.user.setTransactions();
      _actions2.default.core.getSwapHistory();
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          items = _props.items,
          swapHistory = _props.swapHistory,
          intl = _props.intl;

      var titles = [_react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Coin61', defaultMessage: 'Coin' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Status61', defaultMessage: 'Status' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Statement61', defaultMessage: 'Statement' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Amount61', defaultMessage: 'Amount' })];

      return _react2.default.createElement(
        'section',
        { styleName: 'history' },
        _react2.default.createElement(_PageHeadline2.default, { subTitle: intl.formatMessage(subTitle.subTitleHistory) }),
        swapHistory.length > 0 && _react2.default.createElement(_SwapsHistory2.default, { showSubtitle: 'true', orders: swapHistory.filter(function (item) {
            return item.step >= 4;
          }) }),
        _react2.default.createElement(
          'h3',
          { 'data-tip': true, 'data-for': 'transactions', style: { width: '210px' } },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'history68', defaultMessage: 'All transactions' })
        ),
        _react2.default.createElement(
          _reactTooltip2.default,
          { id: 'transactions', type: 'light', effect: 'solid' },
          _react2.default.createElement(
            'span',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'history72', defaultMessage: 'All transactions sent and received' })
          )
        ),
        _react2.default.createElement(_Filter2.default, null),
        _react2.default.createElement(_InfiniteScrollTable2.default, {
          className: _Table2.default.history,
          titles: titles,
          bottomOffset: 400,
          getMore: this.loadMore,
          itemsCount: items.length,
          items: items.slice(0, this.state.renderedItems),
          rowRender: this.rowRender
        })
      );
    }
  }]);
  return History;
}(_react.Component)) || _class) || _class) || _class);
exports.default = History;

/***/ }),

/***/ 2155:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"status":"_3kv9MC","in":"_2lbJ5g","out":"_1wgwnd","self":"poJtmZ","cell":"TA1cNH","confirm":"_3Ir8F2","unconfirmed":"_49Oo0D","date":"_2-d0NO","address":"_2jfUW_","amount":"hcV54S"};

/***/ }),

/***/ 2156:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _Href = __webpack_require__(321);

var _Href2 = _interopRequireDefault(_Href);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LinkTransaction = function LinkTransaction(_ref) {
  var type = _ref.type,
      children = _ref.children,
      hash = _ref.hash;
  return _react2.default.createElement(
    _react.Fragment,
    null,
    type.toLowerCase() === 'eth' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.etherscan + '/tx/' + hash },
      children
    ),
    type.toLowerCase() === 'btc' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.bitpay + '/tx/' + hash },
      children
    ),
    type.toLowerCase() === 'bch' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.bch + '/tx/' + hash },
      children
    ),
    type.toLowerCase() === 'ltc' && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.ltc + '/tx/' + hash },
      children
    ),
    (0, _keys2.default)(_appConfig2.default.erc20).includes(type.toLowerCase()) && _react2.default.createElement(
      _Href2.default,
      { tab: _appConfig2.default.link.etherscan + '/tx/' + hash },
      children
    )
  );
};

exports.default = LinkTransaction;

/***/ }),

/***/ 2157:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _moment = __webpack_require__(250);

var _moment2 = _interopRequireDefault(_moment);

var _helpers = __webpack_require__(17);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _reactRouterDom = __webpack_require__(51);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _RowHistory = __webpack_require__(2158);

var _RowHistory2 = _interopRequireDefault(_RowHistory);

var _Coins = __webpack_require__(405);

var _Coins2 = _interopRequireDefault(_Coins);

var _Timer = __webpack_require__(128);

var _Timer2 = _interopRequireDefault(_Timer);

var _Avatar = __webpack_require__(551);

var _Avatar2 = _interopRequireDefault(_Avatar);

var _reactIntl = __webpack_require__(8);

var _locale = __webpack_require__(50);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var RowHistory = (_dec = (0, _reactCssModules2.default)(_RowHistory2.default, { allowMultiple: true }), (0, _reactIntl.injectIntl)(_class = _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(RowHistory, _Component);

  function RowHistory() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, RowHistory);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = RowHistory.__proto__ || (0, _getPrototypeOf2.default)(RowHistory)).call.apply(_ref, [this].concat(args))), _this), _this.tryRefund = function (timeLeft) {
      var id = _this.props.row.id;


      if (timeLeft > 0) {
        return;
      }

      try {
        var _actions$core$getSwap = _actions2.default.core.getSwapById(id),
            flow = _actions$core$getSwap.flow;

        var _flow$state = flow.state,
            isFinished = _flow$state.isFinished,
            isRefunded = _flow$state.isRefunded,
            step = _flow$state.step,
            scriptBalance = _flow$state.scriptBalance,
            isEthContractFunded = _flow$state.isEthContractFunded,
            sellCurrency = flow.swap.sellCurrency;


        var isPayed = sellCurrency === 'BTC' ? 4 : 5;
        var isEmptyBalance = sellCurrency === 'BTC' ? scriptBalance === 0 : !isEthContractFunded;

        if (isFinished || isRefunded || step === isPayed && isEmptyBalance) {
          console.error('Refund of swap ' + id + ' is not available');
          return;
        }

        flow.tryRefund().then(function (result) {
          console.log('refunded', result);
        });
      } catch (err) {
        console.error('RefundError', err);
      }
    }, _this.closeIncompleted = function () {
      _actions2.default.modals.close('IncompletedSwaps');
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(RowHistory, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          row = _props.row,
          locale = _props.intl.locale;


      if (row === 'undefined') {
        return null;
      }

      var buyAmount = row.buyAmount,
          buyCurrency = row.buyCurrency,
          sellAmount = row.sellAmount,
          btcScriptValues = row.btcScriptValues,
          scriptBalance = row.scriptBalance,
          ltcScriptValues = row.ltcScriptValues,
          bchScriptValues = row.bchScriptValues,
          isRefunded = row.isRefunded,
          isMy = row.isMy,
          sellCurrency = row.sellCurrency,
          isFinished = row.isFinished,
          id = row.id,
          scriptValues = row.scriptValues,
          isStoppedSwap = row.isStoppedSwap;


      var values = btcScriptValues || bchScriptValues || ltcScriptValues
      // || usdtOmniScriptValues
      || scriptValues;

      var canBeRefunded = values && scriptBalance > 0;
      var isDeletedSwap = isFinished || isRefunded || isStoppedSwap;

      var date = Date.now() / 1000;

      if (!values) {
        return;
      }

      var lockDateAndTime = _moment2.default.unix(values.lockTime || date).format('HH:mm:ss DD/MM/YYYY');

      var linkToTheSwap = (0, _locale.localisedUrl)(locale, _helpers.links.swap) + '/' + sellCurrency + '-' + buyCurrency + '/' + id;

      buyAmount = (0, _bignumber2.default)(buyAmount);
      sellAmount = (0, _bignumber2.default)(sellAmount);

      return _react2.default.createElement(
        'tr',
        null,
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(_Avatar2.default, {
            value: id
          })
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            _reactRouterDom.Link,
            { to: '' + linkToTheSwap },
            _react2.default.createElement(_Coins2.default, { names: [buyCurrency, sellCurrency] })
          )
        ),
        _react2.default.createElement(
          'td',
          null,
          isMy ? sellAmount.toFixed(5) + ' ' + sellCurrency.toUpperCase() : buyAmount.toFixed(5) + ' ' + buyCurrency.toUpperCase()
        ),
        _react2.default.createElement(
          'td',
          null,
          isMy ? buyAmount.toFixed(5) + ' ' + buyCurrency.toUpperCase() : sellAmount.toFixed(5) + ' ' + sellCurrency.toUpperCase()
        ),
        _react2.default.createElement(
          'td',
          null,
          (sellAmount / buyAmount).toFixed(5),
          ' ' + sellCurrency + '/' + buyCurrency
        ),
        _react2.default.createElement(
          'td',
          null,
          isFinished && _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowHistory94', defaultMessage: 'Finished' }),
          isRefunded && _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowHistory77', defaultMessage: 'Refunded' }),
          isStoppedSwap && _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowHistory139', defaultMessage: 'Stopped' }),
          !isDeletedSwap && (canBeRefunded ? _react2.default.createElement(_Timer2.default, {
            lockTime: values.lockTime * 1000,
            enabledButton: this.tryRefund
          }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowHistory76', defaultMessage: 'Refund not available' }))
        ),
        _react2.default.createElement(
          'td',
          null,
          lockDateAndTime.split(' ').map(function (item, key) {
            return _react2.default.createElement(
              _react.Fragment,
              { key: key },
              item,
              _react2.default.createElement('br', null)
            );
          })
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            _reactRouterDom.Link,
            { to: '' + linkToTheSwap, onClick: this.closeIncompleted },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowHistory91', defaultMessage: 'Link to the swap' })
          )
        )
      );
    }
  }]);
  return RowHistory;
}(_react.Component), _class2.propTypes = {
  row: _propTypes2.default.object
}, _temp2)) || _class) || _class);
exports.default = RowHistory;

/***/ }),

/***/ 2158:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"userTooltip":"_8ChrYW","delete":"_7uEqxU","currency":"_2hJt5W","coin":"_3j5P5p","buy":"O-KARO","sell":"RLpnr5","buttons":"lv881S","arrow":"_2lyMkH"};

/***/ }),

/***/ 2159:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"history":"_1NLaY0"};

/***/ }),

/***/ 2160:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _index = __webpack_require__(14);

var _index2 = _interopRequireDefault(_index);

var _redaction = __webpack_require__(37);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Filter = __webpack_require__(2161);

var _Filter2 = _interopRequireDefault(_Filter);

var _FilterLink = __webpack_require__(2162);

var _FilterLink2 = _interopRequireDefault(_FilterLink);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var filters = ['All', 'Sent', 'Received'];

var Filter = function Filter(_ref) {
  var filter = _ref.filter;


  var handleChangeFilter = function handleChangeFilter(filter) {
    _index2.default.filter.setFilter(filter);
    // actions.analytics.dataEvent(`history-click-${filter}`)
  };

  return _react2.default.createElement(
    'div',
    { styleName: 'filter' },
    filters.map(function (item) {
      return _react2.default.createElement(_FilterLink2.default, {
        key: item,
        name: item,
        onClick: function onClick() {
          return handleChangeFilter(item.toLowerCase());
        },
        filter: filter
      });
    })
  );
};

Filter.propTypes = {
  filter: _propTypes2.default.string.isRequired
};

exports.default = (0, _redaction.connect)(function (_ref2) {
  var filter = _ref2.history.filter;
  return {
    filter: filter
  };
})((0, _reactCssModules2.default)(Filter, _Filter2.default));

/***/ }),

/***/ 2161:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"filter":"_3cku4x"};

/***/ }),

/***/ 2162:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _FilterLink = __webpack_require__(2163);

var _FilterLink2 = _interopRequireDefault(_FilterLink);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var FilterLink = function FilterLink(_ref) {
  var name = _ref.name,
      filter = _ref.filter,
      onClick = _ref.onClick;
  return _react2.default.createElement(
    'span',
    {
      styleName: filter === name.toLowerCase() ? 'item  active' : 'item',
      onClick: onClick
    },
    name
  );
};

FilterLink.propTypes = {
  name: _propTypes2.default.string.isRequired,
  filter: _propTypes2.default.string.isRequired,
  onClick: _propTypes2.default.func.isRequired
};

exports.default = (0, _reactCssModules2.default)(FilterLink, _FilterLink2.default, { allowMultiple: true });

/***/ }),

/***/ 2163:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"item":"ZlgqDw","active":"_2Y98BZ"};

/***/ }),

/***/ 2164:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _Table = __webpack_require__(160);

var _Table2 = _interopRequireDefault(_Table);

var _withInfiniteScroll = __webpack_require__(2165);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var InfiniteScrollTable = (_dec = (0, _withInfiniteScroll.withInfiniteScroll)(), _dec(_class = function (_React$Component) {
  (0, _inherits3.default)(InfiniteScrollTable, _React$Component);

  function InfiniteScrollTable() {
    (0, _classCallCheck3.default)(this, InfiniteScrollTable);
    return (0, _possibleConstructorReturn3.default)(this, (InfiniteScrollTable.__proto__ || (0, _getPrototypeOf2.default)(InfiniteScrollTable)).apply(this, arguments));
  }

  (0, _createClass3.default)(InfiniteScrollTable, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          items = _props.items,
          rest = (0, _objectWithoutProperties3.default)(_props, ['items']);


      return _react2.default.createElement(_Table2.default, (0, _extends3.default)({}, rest, { rows: items }));
    }
  }]);
  return InfiniteScrollTable;
}(_react2.default.Component)) || _class);
exports.default = InfiniteScrollTable;

/***/ }),

/***/ 2165:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.withInfiniteScroll = undefined;

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var withInfiniteScroll = function withInfiniteScroll() {
  return function (Component) {
    var InfiniteScroll = function (_React$Component) {
      (0, _inherits3.default)(InfiniteScroll, _React$Component);

      function InfiniteScroll() {
        var _ref;

        var _temp, _this, _ret;

        (0, _classCallCheck3.default)(this, InfiniteScroll);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = InfiniteScroll.__proto__ || (0, _getPrototypeOf2.default)(InfiniteScroll)).call.apply(_ref, [this].concat(args))), _this), _this.onScroll = function () {
          var _this$props = _this.props,
              bottomOffset = _this$props.bottomOffset,
              items = _this$props.items,
              itemsCount = _this$props.itemsCount;


          var bottomSidePositionOnPage = document.documentElement.scrollTop + document.documentElement.clientHeight;

          if (bottomSidePositionOnPage >= document.body.offsetHeight - bottomOffset && items.length !== itemsCount && items.length) {
            _this.props.getMore();
          }
        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
      }

      (0, _createClass3.default)(InfiniteScroll, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
          window.addEventListener('scroll', this.onScroll);
        }
      }, {
        key: 'componentWillUnmount',
        value: function componentWillUnmount() {
          window.removeEventListener('scroll', this.onScroll);
        }
      }, {
        key: 'render',
        value: function render() {
          var _props = this.props,
              getMore = _props.getMore,
              bottomOffset = _props.bottomOffset,
              itemsCount = _props.itemsCount,
              rest = (0, _objectWithoutProperties3.default)(_props, ['getMore', 'bottomOffset', 'itemsCount']);

          return _react2.default.createElement(Component, rest);
        }
      }]);
      return InfiniteScroll;
    }(_react2.default.Component);

    InfiniteScroll.propTypes = {
      getMore: _propTypes2.default.func,
      bottomOffset: _propTypes2.default.number,
      items: _propTypes2.default.array,
      itemsCount: _propTypes2.default.number
    };

    return InfiniteScroll;
  };
};
exports.withInfiniteScroll = withInfiniteScroll;

/***/ }),

/***/ 2166:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _NotFound = __webpack_require__(2167);

var _NotFound2 = _interopRequireDefault(_NotFound);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var NotFound = function NotFound() {
  return _react2.default.createElement(
    'div',
    { className: 'container' },
    _react2.default.createElement(
      'h2',
      { styleName: 'text' },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'NotFound8', defaultMessage: 'Page not found!' })
    )
  );
};
exports.default = (0, _reactCssModules2.default)(NotFound, _NotFound2.default);

/***/ }),

/***/ 2167:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"text":"_2x0Wnm"};

/***/ }),

/***/ 2168:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _redaction = __webpack_require__(37);

var _PageHeadline = __webpack_require__(220);

var _PageHeadline2 = _interopRequireDefault(_PageHeadline);

var _SubTitle = __webpack_require__(159);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var About = function About(_ref) {
  var address = _ref.address;
  return _react2.default.createElement(
    'section',
    { style: { height: '100%' } },
    _react2.default.createElement('iframe', { width: '100%', height: '750px', style: { marginTop: "30px" }, title: 'wiki.swap.online', src: ' https://wiki.swap.online/about-swap-online/', frameBorder: '0' })
  );
};

exports.default = (0, _redaction.connect)(function (state) {
  return {
    address: state.user.ethData.address
  };
})(About);

/***/ }),

/***/ 2169:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _dec, _dec2, _class, _class2, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _redaction = __webpack_require__(37);

var _helpers = __webpack_require__(17);

var _reactDeviceDetect = __webpack_require__(53);

var _reactRouter = __webpack_require__(110);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _reactHelmet = __webpack_require__(906);

var _reactRouterDom = __webpack_require__(51);

var _reactIntl = __webpack_require__(8);

var _locale = __webpack_require__(50);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Currency = __webpack_require__(2170);

var _Currency2 = _interopRequireDefault(_Currency);

var _Title = __webpack_require__(402);

var _Title2 = _interopRequireDefault(_Title);

var _PageHeadline = __webpack_require__(220);

var _PageHeadline2 = _interopRequireDefault(_PageHeadline);

var _SubTitle = __webpack_require__(159);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

var _Table = __webpack_require__(160);

var _Table2 = _interopRequireDefault(_Table);

var _Row = __webpack_require__(2171);

var _Row2 = _interopRequireDefault(_Row);

var _CurrencyButton = __webpack_require__(552);

var _CurrencyButton2 = _interopRequireDefault(_CurrencyButton);

var _CloseIcon = __webpack_require__(259);

var _CloseIcon2 = _interopRequireDefault(_CloseIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Currency = (_dec = (0, _redaction.connect)(function (_ref) {
  var hiddenCoinsList = _ref.core.hiddenCoinsList,
      _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      ltcData = _ref$user.ltcData,
      tokensData = _ref$user.tokensData,
      telosData = _ref$user.telosData,
      eosData = _ref$user.eosData,
      nimData = _ref$user.nimData;
  return {
    items: [ethData, btcData, eosData, telosData, ltcData].concat((0, _toConsumableArray3.default)((0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    }))),
    hiddenCoinsList: hiddenCoinsList
  };
}), _dec2 = (0, _reactCssModules2.default)(_Currency2.default, { allowMultiple: true }), (0, _reactIntl.injectIntl)(_class = (0, _reactRouter.withRouter)(_class = _dec(_class = _dec2(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(Currency, _Component);

  function Currency(_ref2) {
    var currency = _ref2.match.params.currency,
        items = _ref2.items,
        tokens = _ref2.tokens,
        history = _ref2.history,
        locale = _ref2.intl.locale;
    (0, _classCallCheck3.default)(this, Currency);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Currency.__proto__ || (0, _getPrototypeOf2.default)(Currency)).call(this));

    _initialiseProps.call(_this);

    _this.state = {
      isBalanceFetching: false,
      isBalanceEmpty: true,
      balance: 0
    };

    var item = items.map(function (item) {
      return item.currency.toLowerCase();
    });
    if (!item.includes(currency)) {
      history.push((0, _locale.localisedUrl)(locale, '/NotFound'));
    }
    return _this;
  }

  (0, _createClass3.default)(Currency, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.handleReloadBalance();
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          currency = _props.match.params.currency,
          items = _props.items,
          _props$intl = _props.intl,
          locale = _props$intl.locale,
          formatMessage = _props$intl.formatMessage;
      var _state = this.state,
          isBalanceEmpty = _state.isBalanceEmpty,
          balance = _state.balance;

      var myCurrency = items.find(function (item) {
        return item.currency === currency.toUpperCase();
      });
      var currencyFullName = myCurrency ? myCurrency.fullName : 'Chosen currency';

      var SeoValues = {
        fullName: currencyFullName,
        tickerName: currency.toUpperCase()
      };
      var MetaDescriptionString = formatMessage({
        id: 'CurrencyMetaDescrTag1',
        defaultMessage: 'Find out actual price of {fullName}, its ticker name is ({tickerName}). Swap.Online is the best way to safely store your cryptocurrecy.' // eslint-disable-line
      }, SeoValues);
      var TitleTagString = formatMessage({
        id: 'CurrencyTitleSeo1',
        defaultMessage: '{fullName} ({tickerName}) Price, Description & Exchange Rates. Store & Exchange {fullName} ({tickerName}) Anonymously on Swap.Online.'
      }, SeoValues);

      return _react2.default.createElement(
        'section',
        { styleName: _reactDeviceDetect.isMobile ? 'currencyMobileSection' : 'currencyMediaSection' },
        _react2.default.createElement(
          _reactHelmet.Helmet,
          null,
          _react2.default.createElement(
            'title',
            null,
            TitleTagString
          ),
          _react2.default.createElement('meta', {
            name: 'description',
            content: MetaDescriptionString
          })
        ),
        _react2.default.createElement(
          _PageHeadline2.default,
          null,
          _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _SubTitle2.default,
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'CurrencyH1Seo1',
                defaultMessage: '{fullName} ({tickerName}) Price & Exchange Rates.',
                values: SeoValues
              })
            )
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'currencyBalance' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Currency101', defaultMessage: 'Balance: ' }),
            _react2.default.createElement(
              'span',
              { styleName: 'currencyBalanceValue' },
              Math.floor(balance * 1e6) / 1e6,
              ' ',
              currency.toUpperCase()
            )
          ),
          _react2.default.createElement(
            'div',
            { style: { marginTop: '20px', height: '20px' } },
            _react2.default.createElement(
              _CurrencyButton2.default,
              {
                wallet: 'true',
                onClick: this.handleReceive,
                dataTooltip: {
                  id: 'currency' + currency,
                  deposit: true
                }
              },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row313', defaultMessage: 'Deposit' })
            ),
            _react2.default.createElement(
              _CurrencyButton2.default,
              {
                wallet: 'true',
                dataTooltip: {
                  isActive: isBalanceEmpty,
                  id: 'send' + currency
                },
                onClick: this.handleWithdraw,
                disable: isBalanceEmpty
              },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CurrencyWallet100', defaultMessage: 'Send' })
            )
          )
        ),
        _react2.default.createElement(_Table2.default, {
          titles: ['', ''],
          rows: this.getRows(),
          rowRender: function rowRender(row, index) {
            return _react2.default.createElement(_Row2.default, (0, _extends3.default)({ key: index }, row));
          }
        }),
        _react2.default.createElement(_CloseIcon2.default, { styleName: 'closeButton', onClick: function onClick() {
            return _this2.props.history.push((0, _locale.localisedUrl)(locale, _helpers.links.home));
          }, 'data-testid': 'CloseIcon' })
      );
    }
  }]);
  return Currency;
}(_react.Component), _initialiseProps = function _initialiseProps() {
  var _this3 = this;

  this.getRows = function () {
    var _props2 = _this3.props,
        _props2$match$params = _props2.match.params,
        currency = _props2$match$params.currency,
        address = _props2$match$params.address,
        items = _props2.items;

    currency = currency.toLowerCase();

    return _helpers.constants.tradeTicker.filter(function (ticker) {
      ticker = ticker.split('-');
      return currency === ticker[0].toLowerCase() ? ticker[0].toLowerCase() === currency : ticker[1].toLowerCase() === currency;
    }).map(function (pair) {
      pair = pair.split('-');
      return {
        from: pair[0],
        to: pair[1]
      };
    });
  };

  this.getCurrencyName = function () {
    return _this3.props.match.params.currency.toLowerCase();
  };

  this.getCoin = function () {
    return [].concat((0, _toConsumableArray3.default)(_this3.props.items), (0, _toConsumableArray3.default)(_this3.props.tokens)).find(function (coin) {
      return coin.currency.toLowerCase() === _this3.getCurrencyName();
    });
  };

  this.handleReloadBalance = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var currency, balance;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            currency = _this3.props.match.params.currency;

            currency = currency.toLowerCase();

            _context.next = 4;
            return _actions2.default[currency].getBalance(currency);

          case 4:
            balance = _context.sent;


            if (balance > 0) {
              _this3.setState(function () {
                return {
                  isBalanceEmpty: false,
                  balance: balance
                };
              });
            }

          case 6:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, _this3);
  }));

  this.isInWallet = function () {
    return !_this3.props.hiddenCoinsList.includes(_this3.getCoin().currency);
  };

  this.handleInWalletChange = function (val) {
    return val ? _actions2.default.core.markCoinAsVisible(_this3.getCoin().currency) : _actions2.default.core.markCoinAsHidden(_this3.getCoin().currency);
  };

  this.handleReceive = function () {
    var _props3 = _this3.props,
        currency = _props3.match.params.currency,
        items = _props3.items;

    var itemCurrency = items.filter(function (item) {
      return item.currency.toLowerCase() === currency;
    })[0];
    var address = itemCurrency.address;


    currency = currency.toUpperCase();

    _actions2.default.modals.open(_helpers.constants.modals.ReceiveModal, {
      currency: currency,
      address: address
    });
  };

  this.handleWithdraw = function () {
    var _props4 = _this3.props,
        currency = _props4.match.params.currency,
        items = _props4.items;

    var itemCurrency = items.filter(function (item) {
      return item.currency.toLowerCase() === currency;
    })[0];

    // actions.analytics.dataEvent(`balances-withdraw-${currency.toLowerCase()}`)
    _actions2.default.modals.open(_helpers.constants.modals.Withdraw, (0, _assign2.default)({}, itemCurrency));
  };
}, _temp)) || _class) || _class) || _class) || _class);
exports.default = Currency;

/***/ }),

/***/ 2170:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"currencyBalanceValue":"_3x4jXr","closeButton":"_1gPJra","currencyTitle":"_2qAYn6","currencyToggle":"_3LQ1cb","currencyBalance":"_1ZBuXD","currencyMediaSection":"_3qL5Bt","currencyMobileSection":"_2kM9sg"};

/***/ }),

/***/ 2171:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouterDom = __webpack_require__(51);

var _helpers = __webpack_require__(17);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Row = __webpack_require__(2172);

var _Row2 = _interopRequireDefault(_Row);

var _reactRouter = __webpack_require__(110);

var _Coin = __webpack_require__(324);

var _Coin2 = _interopRequireDefault(_Coin);

var _Flip = __webpack_require__(548);

var _Flip2 = _interopRequireDefault(_Flip);

var _reactIntl = __webpack_require__(8);

var _locale = __webpack_require__(50);

var _BtnTooltip = __webpack_require__(904);

var _BtnTooltip2 = _interopRequireDefault(_BtnTooltip);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Row = (_dec = (0, _reactCssModules2.default)(_Row2.default), (0, _reactIntl.injectIntl)(_class = (0, _reactRouter.withRouter)(_class = _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(Row, _Component);

  function Row() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Row);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Row.__proto__ || (0, _getPrototypeOf2.default)(Row)).call.apply(_ref, [this].concat(args))), _this), _this.handlePush = function () {
      var _this$props = _this.props,
          from = _this$props.from,
          to = _this$props.to,
          locale = _this$props.intl.locale;

      _this.props.history.push((0, _locale.localisedUrl)(locale, '/' + from.toLowerCase() + '-' + to.toLowerCase()));
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Row, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          from = _props.from,
          to = _props.to,
          locale = _props.intl.locale;


      return _react2.default.createElement(
        'tr',
        { styleName: 'exchangeTr' },
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'span',
            null,
            _react2.default.createElement(
              'div',
              { styleName: 'exchangeRow' },
              _react2.default.createElement(_Coin2.default, { styleName: 'coin', name: from, size: 40 }),
              from.toUpperCase(),
              _react2.default.createElement(_Flip2.default, null),
              _react2.default.createElement(_Coin2.default, { styleName: 'coin', name: to, size: 40 }),
              to.toUpperCase()
            )
          )
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            _BtnTooltip2.default,
            { onClick: this.handlePush, text: 'Exchange' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row35', defaultMessage: 'Exchange' })
          )
        )
      );
    }
  }]);
  return Row;
}(_react.Component), _class2.propTypes = {
  from: _propTypes2.default.string.isRequired,
  to: _propTypes2.default.string.isRequired
}, _temp2)) || _class) || _class) || _class);
exports.default = Row;

/***/ }),

/***/ 2172:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"coins":"_3cRaLs","reloadButton":"cstYGw","copied":"gHmouR","button":"_3f_hA4","exchangeRow":"fuE_lw","exchangePrice":"DJoB5O","exchangeTr":"_2xNOX0","coin":"_1NvBl2"};

/***/ }),

/***/ 2173:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _dec, _dec2, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _redaction = __webpack_require__(37);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _reactRouterDom = __webpack_require__(51);

var _helpers = __webpack_require__(17);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _CurrencyWallet = __webpack_require__(2174);

var _CurrencyWallet2 = _interopRequireDefault(_CurrencyWallet);

var _Row = __webpack_require__(914);

var _Row2 = _interopRequireDefault(_Row);

var _SwapsHistory = __webpack_require__(561);

var _SwapsHistory2 = _interopRequireDefault(_SwapsHistory);

var _Table = __webpack_require__(160);

var _Table2 = _interopRequireDefault(_Table);

var _controls = __webpack_require__(46);

var _PageHeadline = __webpack_require__(220);

var _PageHeadline2 = _interopRequireDefault(_PageHeadline);

var _PageSeo = __webpack_require__(550);

var _PageSeo2 = _interopRequireDefault(_PageSeo);

var _seo = __webpack_require__(323);

var _reactIntl = __webpack_require__(8);

var _reactTooltip = __webpack_require__(103);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _CurrencyButton = __webpack_require__(552);

var _CurrencyButton2 = _interopRequireDefault(_CurrencyButton);

var _locale = __webpack_require__(50);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var isWidgetBuild = _appConfig2.default && _appConfig2.default.isWidget;

var titles = [_react2.default.createElement(_reactIntl.FormattedMessage, { id: 'currencyWallet27', defaultMessage: 'Coin' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'currencyWallet28', defaultMessage: 'Status' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'currencyWallet29', defaultMessage: 'Statement' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'currencyWallet30', defaultMessage: 'Amount' })];

var CurrencyWallet = (_dec = (0, _redaction.connect)(function (_ref) {
  var core = _ref.core,
      user = _ref.user,
      _ref$history = _ref.history,
      transactions = _ref$history.transactions,
      swapHistory = _ref$history.swapHistory,
      history = _ref.history,
      _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      bchData = _ref$user.bchData,
      ltcData = _ref$user.ltcData,
      tokensData = _ref$user.tokensData,
      eosData = _ref$user.eosData,
      nimData = _ref$user.nimData,
      telosData = _ref$user.telosData;
  return {
    items: [ethData, btcData, bchData, eosData, ltcData, telosData].concat((0, _toConsumableArray3.default)((0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    }))),
    tokens: [].concat((0, _toConsumableArray3.default)((0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    }))),
    user: user,
    historyTx: history,
    hiddenCoinsList: core.hiddenCoinsList,
    txHistory: transactions,
    swapHistory: swapHistory
  };
}), _dec2 = (0, _reactCssModules2.default)(_CurrencyWallet2.default), _dec(_class = (0, _reactIntl.injectIntl)(_class = (0, _reactRouterDom.withRouter)(_class = _dec2(_class = function (_Component) {
  (0, _inherits3.default)(CurrencyWallet, _Component);

  function CurrencyWallet() {
    var _this2 = this;

    (0, _classCallCheck3.default)(this, CurrencyWallet);

    var _this = (0, _possibleConstructorReturn3.default)(this, (CurrencyWallet.__proto__ || (0, _getPrototypeOf2.default)(CurrencyWallet)).call(this));

    _this.handleReceive = function () {
      var _this$state = _this.state,
          currency = _this$state.currency,
          address = _this$state.address;


      _actions2.default.modals.open(_helpers.constants.modals.ReceiveModal, {
        currency: currency,
        address: address
      });
    };

    _this.handleWithdraw = function () {
      var _this$props = _this.props,
          fullName = _this$props.match.params.fullName,
          items = _this$props.items;
      var _this$state2 = _this.state,
          currency = _this$state2.currency,
          address = _this$state2.address,
          contractAddress = _this$state2.contractAddress,
          decimals = _this$state2.decimals,
          balance = _this$state2.balance,
          isBalanceEmpty = _this$state2.isBalanceEmpty;

      // actions.analytics.dataEvent(`balances-withdraw-${currency.toLowerCase()}`)

      _actions2.default.modals.open(_helpers.constants.modals.Withdraw, {
        currency: currency,
        address: address,
        contractAddress: contractAddress,
        decimals: decimals,
        balance: balance
      });
    };

    _this.handleGoTrade = function (currency) {
      var locale = _this.props.intl.locale;

      var whatDoUserProbablyWantToBuy = currency.toLowerCase();

      _this.props.history.push((0, _locale.localisedUrl)(locale, _helpers.links.exchange + '/' + currency.toLowerCase() + '-to-' + whatDoUserProbablyWantToBuy));
    };

    _this.handleEosBuyAccount = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _actions2.default.modals.open(_helpers.constants.modals.EosBuyAccount);

            case 1:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, _this2);
    }));

    _this.rowRender = function (row) {
      return _react2.default.createElement(_Row2.default, (0, _extends3.default)({ key: row.hash }, row));
    };

    _this.state = {
      currency: null,
      address: null,
      contractAddress: null,
      decimals: null,
      balance: null,
      isBalanceEmpty: false
    };
    return _this;
  }

  (0, _createClass3.default)(CurrencyWallet, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _state = this.state,
          currency = _state.currency,
          token = _state.token;


      if (currency) {
        // actions.analytics.dataEvent(`open-page-${currency.toLowerCase()}-wallet`)
      }
      if (token) {
        _actions2.default.token.getBalance(currency.toLowerCase());
      }

      _actions2.default.user.setTransactions();
      _actions2.default.core.getSwapHistory();
    }
  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var _props = this.props,
          swapHistory = _props.swapHistory,
          txHistory = _props.txHistory,
          location = _props.location,
          fullName = _props.match.params.fullName,
          intl = _props.intl,
          hiddenCoinsList = _props.hiddenCoinsList;
      var _state2 = this.state,
          currency = _state2.currency,
          address = _state2.address,
          contractAddress = _state2.contractAddress,
          decimals = _state2.decimals,
          balance = _state2.balance,
          isBalanceEmpty = _state2.isBalanceEmpty;


      txHistory = txHistory.filter(function (tx) {
        return tx.type.toLowerCase() === currency.toLowerCase();
      });

      swapHistory = (0, _keys2.default)(swapHistory).map(function (key) {
        return swapHistory[key];
      }).filter(function (swap) {
        return swap.sellCurrency === currency || swap.buyCurrency === currency;
      });

      var seoPage = (0, _seo.getSeoPage)(location.pathname);
      var eosAccountActivated = localStorage.getItem(_helpers.constants.localStorage.eosAccountActivated) === 'true';

      var titleSwapOnline = (0, _reactIntl.defineMessages)({
        metaTitle: {
          id: 'CurrencyWalletTitle',
          defaultMessage: 'Swap.Online - {fullName} ({currency}) Web Wallet with Atomic Swap.'
        }
      });
      var titleWidgetBuild = (0, _reactIntl.defineMessages)({
        metaTitle: {
          id: 'CurrencyWalletWidgetBuildTitle',
          defaultMessage: '{fullName} ({currency}) Web Wallet with Atomic Swap.'
        }
      });
      var title = isWidgetBuild ? titleWidgetBuild : titleSwapOnline;

      var description = (0, _reactIntl.defineMessages)({
        metaDescription: {
          id: 'CurrencyWallet154',
          defaultMessage: 'Atomic Swap Wallet allows you to manage and securely exchange ${fullName} (${currency}) with 0% fees. Based on Multi-Sig and Atomic Swap technologies.'
        }
      });

      if (hiddenCoinsList.includes(currency)) {
        _actions2.default.core.markCoinAsVisible(currency);
      }

      var isBlockedCoin = _appConfig2.default.noExchangeCoins.map(function (item) {
        return item.toLowerCase();
      }).includes(currency.toLowerCase());

      return _react2.default.createElement(
        'div',
        { className: 'root' },
        _react2.default.createElement(_PageSeo2.default, {
          location: location,
          defaultTitle: intl.formatMessage(title.metaTitle, { fullName: fullName, currency: currency }),
          defaultDescription: intl.formatMessage(description.metaDescription, { fullName: fullName, currency: currency }) }),
        _react2.default.createElement(_PageHeadline2.default, {
          styleName: 'title',
          subTitle: !!seoPage ? seoPage.h1 : intl.formatMessage(title.metaTitle, { fullName: fullName, currency: currency })
        }),
        _react2.default.createElement(
          'h3',
          { styleName: 'subtitle' },
          _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'CurrencyWallet168',
            defaultMessage: 'Your address: {address}{br}Your {fullName} balance: {balance} {currency}',
            values: {
              address: _react2.default.createElement(
                'span',
                null,
                address
              ),
              br: _react2.default.createElement('br', null),
              fullName: '' + fullName,
              balance: '' + balance,
              currency: '' + currency
            }
          })
        ),
        currency === 'EOS' && !eosAccountActivated && _react2.default.createElement(
          _controls.Button,
          { onClick: this.handleEosBuyAccount, gray: true },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CurrencyWallet105', defaultMessage: 'Activate account' })
        ),
        _react2.default.createElement(
          'div',
          { styleName: 'inRow' },
          _react2.default.createElement(
            _CurrencyButton2.default,
            {
              onClick: this.handleReceive,
              dataTooltip: {
                id: 'deposit' + currency,
                deposit: 'true'
              }
            },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Row313', defaultMessage: 'Deposit' })
          ),
          _react2.default.createElement(
            _CurrencyButton2.default,
            {
              onClick: this.handleWithdraw,
              disable: isBalanceEmpty,
              dataTooltip: {
                id: 'send' + currency,
                isActive: isBalanceEmpty
              }
            },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CurrencyWallet100', defaultMessage: 'Send' })
          ),
          !isBlockedCoin && _react2.default.createElement(
            _controls.Button,
            { gray: true, onClick: function onClick() {
                return _this3.handleGoTrade(currency);
              } },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CurrencyWallet104', defaultMessage: 'Exchange' })
          )
        ),
        swapHistory.length > 0 && _react2.default.createElement(_SwapsHistory2.default, { orders: swapHistory.filter(function (item) {
            return item.step >= 4;
          }) }),
        _react2.default.createElement(
          'h2',
          { style: { marginTop: '20px' } },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CurrencyWallet110', defaultMessage: 'History your transactions' })
        ),
        txHistory && _react2.default.createElement(_Table2.default, { titles: titles, rows: txHistory, styleName: 'table', rowRender: this.rowRender }),
        seoPage && seoPage.footer && _react2.default.createElement(
          'div',
          null,
          seoPage.footer
        )
      );
    }
  }], [{
    key: 'getDerivedStateFromProps',
    value: function getDerivedStateFromProps(_ref3) {
      var fullName = _ref3.match.params.fullName,
          locale = _ref3.intl.locale,
          items = _ref3.items,
          history = _ref3.history,
          tokens = _ref3.tokens;

      var item = items.map(function (item) {
        return item.fullName.toLowerCase();
      });
      var token = tokens.map(function (item) {
        return item.fullName;
      }).includes(fullName.toUpperCase());

      if (item.includes(fullName.toLowerCase())) {
        var itemCurrency = items.filter(function (item) {
          return item.fullName.toLowerCase() === fullName.toLowerCase();
        })[0];

        var currency = itemCurrency.currency,
            address = itemCurrency.address,
            contractAddress = itemCurrency.contractAddress,
            decimals = itemCurrency.decimals,
            balance = itemCurrency.balance;


        return {
          token: token,
          currency: currency,
          address: address,
          contractAddress: contractAddress,
          decimals: decimals,
          balance: balance,
          isBalanceEmpty: balance === 0
        };
      }
      history.push((0, _locale.localisedUrl)(locale, '' + _helpers.links.notFound));
    }
  }]);
  return CurrencyWallet;
}(_react.Component)) || _class) || _class) || _class) || _class);
exports.default = CurrencyWallet;

/***/ }),

/***/ 2174:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"root":"_3oQQDs","title":"_3JPnu3","heading":"GM4bnj","subtitle":"_3cSzBR","table":"_2lLCo0","inRow":"_3Cn1ZQ","inRowru":"_25Jd40","button":"_3WzFEY","actions":"_3hswmr","info":"_8obG96"};

/***/ }),

/***/ 2175:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _reactIntl = __webpack_require__(8);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _SubTitle = __webpack_require__(159);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

var _Table = __webpack_require__(160);

var _Table2 = _interopRequireDefault(_Table);

var _Input = __webpack_require__(129);

var _Input2 = _interopRequireDefault(_Input);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _helpers = __webpack_require__(17);

var _firestore = __webpack_require__(314);

var _firestore2 = _interopRequireDefault(_firestore);

var _IEO = __webpack_require__(2176);

var _IEO2 = _interopRequireDefault(_IEO);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var IEO = (_dec = (0, _reactCssModules2.default)(_IEO2.default, { allowMultiple: true }), (0, _reactIntl.injectIntl)(_class = _dec(_class = function (_React$Component) {
  (0, _inherits3.default)(IEO, _React$Component);

  function IEO(props) {
    (0, _classCallCheck3.default)(this, IEO);

    var _this = (0, _possibleConstructorReturn3.default)(this, (IEO.__proto__ || (0, _getPrototypeOf2.default)(IEO)).call(this, props));

    _this.state = {
      isSaved: localStorage.getItem(_helpers.constants.localStorage.IEO_signed) !== null,
      twitter: '',
      facebook: '',
      github: '',
      reddit: ''
    };
    return _this;
  }

  // handleSignUp = () => {
  //   const {
  //     twitter,
  //     facebook,
  //     github,
  //     reddit,
  //   } = this.state
  //
  //   const twitterRegex = /https:\/\/twitter.com\/(?<id>.+(\b))\/?/
  //   const twitterId = twitter.match(twitterRegex) !== null ? twitter.match(twitterRegex).groups.id : twitter
  //
  //   const facebookRegex = /https:\/\/www.facebook.com\/profile.php\?id=(?<id>.+(\b))\/?/
  //   const facebookId = facebook.match(facebookRegex) !== null ? facebook.match(facebookRegex).groups.id : facebook
  //
  //   const redditRegex = /https:\/\/www.reddit.com\/user\/(?<id>.+(\b))\/?/
  //   const redditId = reddit.match(redditRegex) !== null ? reddit.match(redditRegex).groups.id : reddit
  //
  //   const githubRegex = /https:\/\/github.com\/(?<id>.+(\b))\/?/
  //   const githubId = reddit.match(githubRegex) !== null ? reddit.match(githubRegex).groups.id : github
  //
  //
  //   localStorage.setItem(constants.localStorage.IEO_signed, true)
  //   this.setState({ isSaved: true })
  //
  //   firestore.updateUserData({
  //     facebook: facebookId,
  //     twitter: twitterId,
  //     reddit: redditId,
  //     github: githubId,
  //   })
  // }

  (0, _createClass3.default)(IEO, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _state = this.state,
          isSaved = _state.isSaved,
          twitter = _state.twitter,
          reddit = _state.reddit,
          facebook = _state.facebook,
          github = _state.github;

      var linked = _swValuelink2.default.all(this, 'twitter', 'facebook', 'reddit', 'github');
      var titles = [_react2.default.createElement(_reactIntl.FormattedMessage, {
        id: 'IEO_titles_1',
        defaultMessage: 'Step'
      }), _react2.default.createElement(_reactIntl.FormattedMessage, {
        id: 'IEO_titles_2',
        defaultMessage: 'Action'
      }), _react2.default.createElement(_reactIntl.FormattedMessage, {
        id: 'IEO_titles_3',
        defaultMessage: 'Input'
      })];
      var rows = [{
        action: _react2.default.createElement(_reactIntl.FormattedMessage, {
          id: 'IEO_row_1',
          defaultMessage: 'Subscribe to our twitter https://twitter.com/SwapOnlineTeam, enter your twitter: '
        }),
        placeholder: 'Twitter',
        link: linked.twitter
      }, {
        action: _react2.default.createElement(_reactIntl.FormattedMessage, {
          id: 'IEO_row_2',
          defaultMessage: 'Subscribe to our facebook https://www.facebook.com/SwapOnlineTeam, enter your facebook: '
        }),
        placeholder: 'Facebook',
        link: linked.facebook
      }, {
        action: _react2.default.createElement(_reactIntl.FormattedMessage, {
          id: 'IEO_row_3',
          defaultMessage: 'Subscribe to our reddit https://www.reddit.com/r/SwapOnline, enter your reddit: '
        }),
        placeholder: 'Reddit',
        link: linked.reddit
      }, {
        action: _react2.default.createElement(_reactIntl.FormattedMessage, {
          id: 'IEO_row_4',
          defaultMessage: 'Subscribe to our github https://github.com/swaponline, enter your github: '
        }),
        placeholder: 'Github',
        link: linked.github
      }];

      return _react2.default.createElement(
        'div',
        { styleName: 'IEO' },
        _react2.default.createElement(
          'div',
          { styleName: 'IEO__container' },
          _react2.default.createElement(
            _SubTitle2.default,
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'IEO_title_1',
              defaultMessage: 'Get up to 5 SWAP for each action:'
            })
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'href' },
            _react2.default.createElement(
              'a',
              { href: 'https://swap.online/exchange/swap-to-btc', target: '_blank', rel: 'noopener noreferrer' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'IEOHref', defaultMessage: 'You can change SWAP to BTC here' })
            )
          ),
          _react2.default.createElement(_Table2.default, {
            id: 'table-wallet',
            className: _IEO2.default.wallet,
            titles: titles,
            rows: rows,
            rowRender: function rowRender(row, index, selectId, handleSelectId) {
              return _react2.default.createElement(Row, {
                key: row + ' ' + index,
                currency: row,
                selectId: selectId,
                index: index,
                handleSelectId: handleSelectId,
                row: rows[index],
                disabled: _this2.state.isSaved
              });
            }
          }),
          _react2.default.createElement(
            _Button2.default,
            {
              styleName: 'button',
              onClick: this.handleSignUp,
              disabled: isSaved || twitter.length < 2 && reddit.length < 2 && github.length < 1 && facebook.length < 3
            },
            isSaved ? _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'IEO_btn_2',
              defaultMessage: 'Registred'
            }) : _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'IEO_btn_1',
              defaultMessage: 'Save'
            })
          )
        )
      );
    }
  }]);
  return IEO;
}(_react2.default.Component)) || _class) || _class);


var Row = function Row(_ref) {
  var row = _ref.row,
      index = _ref.index,
      selectId = _ref.selectId,
      handleSelectId = _ref.handleSelectId,
      disabled = _ref.disabled;
  return _react2.default.createElement(
    'tr',
    null,
    _react2.default.createElement(
      'td',
      null,
      index + 1 + '.'
    ),
    _react2.default.createElement(
      'td',
      null,
      row.action
    ),
    _react2.default.createElement(
      'td',
      null,
      _react2.default.createElement(_Input2.default
      // styleName="input"
      , { valueLink: row.link,
        placeholder: row.placeholder,
        disabled: disabled
      })
    )
  );
};

exports.default = IEO;

/***/ }),

/***/ 2176:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"IEO":"_2Yq9nN","IEO__container":"_1W33P-","href":"l_DyDJ","button":"jSzZhR"};

/***/ }),

/***/ 2177:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactRouterDom = __webpack_require__(51);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ScrollToTop = function (_Component) {
  (0, _inherits3.default)(ScrollToTop, _Component);

  function ScrollToTop() {
    (0, _classCallCheck3.default)(this, ScrollToTop);
    return (0, _possibleConstructorReturn3.default)(this, (ScrollToTop.__proto__ || (0, _getPrototypeOf2.default)(ScrollToTop)).apply(this, arguments));
  }

  (0, _createClass3.default)(ScrollToTop, [{
    key: 'componentDidUpdate',
    value: function componentDidUpdate(prevProps) {
      if (this.props.location.pathname !== prevProps.location.pathname) {
        window.scrollTo(0, 0);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return this.props.children;
    }
  }]);
  return ScrollToTop;
}(_react.Component);

exports.default = (0, _reactRouterDom.withRouter)(ScrollToTop);

/***/ }),

/***/ 2178:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRedux = __webpack_require__(717);

var _reactRouterRedux = __webpack_require__(713);

var _App = __webpack_require__(2179);

var _App2 = _interopRequireDefault(_App);

var _IntlProviderContainer = __webpack_require__(3336);

var _IntlProviderContainer2 = _interopRequireDefault(_IntlProviderContainer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Root = (_temp = _class = function (_React$PureComponent) {
  (0, _inherits3.default)(Root, _React$PureComponent);

  function Root() {
    (0, _classCallCheck3.default)(this, Root);
    return (0, _possibleConstructorReturn3.default)(this, (Root.__proto__ || (0, _getPrototypeOf2.default)(Root)).apply(this, arguments));
  }

  (0, _createClass3.default)(Root, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          history = _props.history,
          store = _props.store,
          routes = _props.routes;


      return _react2.default.createElement(
        _reactRedux.Provider,
        { store: store },
        _react2.default.createElement(
          _reactRouterRedux.ConnectedRouter,
          { history: history },
          _react2.default.createElement(
            _IntlProviderContainer2.default,
            null,
            _react2.default.createElement(
              _App2.default,
              null,
              routes
            )
          )
        )
      );
    }
  }]);
  return Root;
}(_react2.default.PureComponent), _class.propTypes = {
  store: _propTypes2.default.object.isRequired,
  history: _propTypes2.default.object.isRequired,
  routes: _propTypes2.default.element.isRequired
}, _temp);
exports.default = Root;

/***/ }),

/***/ 2179:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactRouterDom = __webpack_require__(51);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _redaction = __webpack_require__(37);

var _momentWithLocalesEs = __webpack_require__(915);

var _momentWithLocalesEs2 = _interopRequireDefault(_momentWithLocalesEs);

var _helpers = __webpack_require__(17);

var _reactDeviceDetect = __webpack_require__(53);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _App = __webpack_require__(2180);

var _App2 = _interopRequireDefault(_App);

__webpack_require__(2181);

var _newSwap = __webpack_require__(2182);

var _Core = __webpack_require__(3186);

var _Core2 = _interopRequireDefault(_Core);

var _Header = __webpack_require__(3187);

var _Header2 = _interopRequireDefault(_Header);

var _Footer = __webpack_require__(3229);

var _Footer2 = _interopRequireDefault(_Footer);

var _Loader = __webpack_require__(456);

var _Loader2 = _interopRequireDefault(_Loader);

var _PreventMultiTabs = __webpack_require__(3246);

var _PreventMultiTabs2 = _interopRequireDefault(_PreventMultiTabs);

var _RequestLoader = __webpack_require__(3247);

var _RequestLoader2 = _interopRequireDefault(_RequestLoader);

var _ModalConductor = __webpack_require__(1217);

var _ModalConductor2 = _interopRequireDefault(_ModalConductor);

var _WidthContainer = __webpack_require__(195);

var _WidthContainer2 = _interopRequireDefault(_WidthContainer);

var _Wrapper = __webpack_require__(3315);

var _Wrapper2 = _interopRequireDefault(_Wrapper);

var _NotificationConductor = __webpack_require__(3317);

var _NotificationConductor2 = _interopRequireDefault(_NotificationConductor);

var _Seo = __webpack_require__(902);

var _Seo2 = _interopRequireDefault(_Seo);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var memdown = __webpack_require__(3326);

var userLanguage = (navigator.userLanguage || navigator.language || 'en-gb').split('-')[0];
_momentWithLocalesEs2.default.locale(userLanguage);

var App = (_dec = (0, _redaction.connect)({
  isVisible: 'loader.isVisible',
  ethAddress: 'user.ethData.address',
  btcAddress: 'user.btcData.address',
  tokenAddress: 'user.tokensData.swap.address'
}), _dec2 = (0, _reactCssModules2.default)(_App2.default, { allowMultiple: true }), (0, _reactRouterDom.withRouter)(_class = _dec(_class = _dec2(_class = (_temp = _class2 = function (_React$Component) {
  (0, _inherits3.default)(App, _React$Component);

  function App() {
    (0, _classCallCheck3.default)(this, App);

    var _this = (0, _possibleConstructorReturn3.default)(this, (App.__proto__ || (0, _getPrototypeOf2.default)(App)).call(this));

    _this.localStorageListener = null;

    _this.state = {
      fetching: false,
      multiTabs: false,
      error: ''
    };
    return _this;
  }

  (0, _createClass3.default)(App, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var _this2 = this;

      var myId = Date.now().toString();
      _helpers.localStorage.setItem(_helpers.constants.localStorage.enter, myId);
      var enterSub = _helpers.localStorage.subscribe(_helpers.constants.localStorage.enter, function () {
        _helpers.localStorage.setItem(_helpers.constants.localStorage.reject, myId);
      });
      var rejectSub = _helpers.localStorage.subscribe(_helpers.constants.localStorage.reject, function (id) {
        if (id && id !== myId) {
          _this2.setState({ multiTabs: true });
          _helpers.localStorage.unsubscribe(rejectSub);
          _helpers.localStorage.unsubscribe(enterSub);
          _helpers.localStorage.removeItem(_helpers.constants.localStorage.reject);
        }
      });

      if (!_helpers.localStorage.getItem(_helpers.constants.localStorage.demoMoneyReceived)) {
        _actions2.default.user.getDemoMoney();
      }

      _helpers.firebase.initialize();
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      window.actions = _actions2.default;

      window.onerror = function (error) {
        // actions.analytics.errorEvent(error)
      };

      try {
        var db = indexedDB.open('test');
        db.onerror = function () {
          window.leveldown = memdown;
        };
      } catch (e) {
        window.leveldown = memdown;
      }

      _actions2.default.user.sign();
      (0, _newSwap.createSwapApp)();
      this.setState(function () {
        return { fetching: true };
      });

      window.prerenderReady = true;
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      if (true) {
        _helpers.firebase.setUserLastOnline();
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          fetching = _state.fetching,
          multiTabs = _state.multiTabs,
          error = _state.error;
      var _props = this.props,
          children = _props.children,
          ethAddress = _props.ethAddress,
          btcAddress = _props.btcAddress,
          tokenAddress = _props.tokenAddress,
          history = _props.history;

      var isFetching = !ethAddress || !btcAddress || !tokenAddress && _appConfig2.default && !_appConfig2.default.isWidget || !fetching;

      var isWidget = history.location.pathname.includes('/exchange') && history.location.hash === '#widget';
      var isCalledFromIframe = window.location !== window.parent.location;
      var isWidgetBuild = _appConfig2.default && _appConfig2.default.isWidget;

      var isNew = history.location.pathname.includes('/+NewPage');
      if (isWidgetBuild && _helpers.localStorage.getItem(_helpers.constants.localStorage.didWidgetsDataSend) !== 'true') {
        _helpers.firebase.submitUserDataWidget('usersData');
        _helpers.localStorage.setItem(_helpers.constants.localStorage.didWidgetsDataSend, true);
      }

      if (multiTabs) {
        return _react2.default.createElement(_PreventMultiTabs2.default, null);
      }

      if (isFetching) {
        return _react2.default.createElement(_Loader2.default, { showTips: true });
      }

      var mainContent = (isWidget || isCalledFromIframe) && !isWidgetBuild ? _react2.default.createElement(
        _react.Fragment,
        null,
        children,
        _react2.default.createElement(_Core2.default, null),
        _react2.default.createElement(_RequestLoader2.default, null),
        _react2.default.createElement(_ModalConductor2.default, null),
        _react2.default.createElement(_NotificationConductor2.default, null)
      ) : _react2.default.createElement(
        _react.Fragment,
        null,
        _react2.default.createElement(_Seo2.default, { location: history.location }),
        _react2.default.createElement(_Header2.default, null),
        _react2.default.createElement(
          _Wrapper2.default,
          null,
          _react2.default.createElement(
            _WidthContainer2.default,
            { styleName: isWidgetBuild ? 'main main_widget' : 'main' },
            _react2.default.createElement(
              'main',
              null,
              children
            )
          )
        ),
        _react2.default.createElement(_Core2.default, null),
        _react2.default.createElement(_Footer2.default, null),
        _react2.default.createElement(_RequestLoader2.default, null),
        _react2.default.createElement(_ModalConductor2.default, null),
        _react2.default.createElement(_NotificationConductor2.default, null)
      );

      var newMain = _react2.default.createElement(
        _react.Fragment,
        null,
        _react2.default.createElement(_Seo2.default, { location: history.location }),
        _react2.default.createElement(
          'main',
          null,
          children
        ),
        _react2.default.createElement(_Core2.default, null),
        _react2.default.createElement(_RequestLoader2.default, null),
        _react2.default.createElement(_ModalConductor2.default, null),
        _react2.default.createElement(_NotificationConductor2.default, null)
      );

      return  false ? _react2.default.createElement(
        _reactRouterDom.HashRouter,
        null,
        !isNew ? mainContent : newMain
      ) : !isNew ? mainContent : newMain;
    }
  }]);
  return App;
}(_react2.default.Component), _class2.propTypes = {
  children: _propTypes2.default.element.isRequired
}, _temp)) || _class) || _class) || _class);
exports.default = App;

/***/ }),

/***/ 2180:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"main":"_1ywAGt","main_widget":"qtM-14"};

/***/ }),

/***/ 2181:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"modal":"_2bSI7R","btn":"_3hjQqv"};

/***/ }),

/***/ 2182:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createSwapApp = undefined;

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _eos = __webpack_require__(354);

__webpack_require__(2183);

var _web = __webpack_require__(304);

var _web2 = _interopRequireDefault(_web);

var _swapsExplorer = __webpack_require__(832);

var _swapsExplorer2 = _interopRequireDefault(_swapsExplorer);

var _bitcoinjsLib = __webpack_require__(151);

var _bitcoinjsLib2 = _interopRequireDefault(_bitcoinjsLib);

var _bitcoincashjsLib = __webpack_require__(777);

var _bitcoincashjsLib2 = _interopRequireDefault(_bitcoincashjsLib);

var _coininfo = __webpack_require__(524);

var _coininfo2 = _interopRequireDefault(_coininfo);

var _bchaddrjs = __webpack_require__(783);

var _bchaddrjs2 = _interopRequireDefault(_bchaddrjs);

var _humanStandardTokenAbi = __webpack_require__(828);

var _humanStandardTokenAbi2 = _interopRequireDefault(_humanStandardTokenAbi);

var _ipfsPubsubRoom = __webpack_require__(2184);

var _ipfsPubsubRoom2 = _interopRequireDefault(_ipfsPubsubRoom);

var _ipfs = __webpack_require__(2203);

var _ipfs2 = _interopRequireDefault(_ipfs);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _helpers = __webpack_require__(17);

var _helpers2 = _interopRequireDefault(_helpers);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _core = __webpack_require__(60);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(450);

var _swap4 = _interopRequireDefault(_swap3);

var _swap5 = __webpack_require__(1191);

var _swap6 = _interopRequireDefault(_swap5);

var _swap7 = __webpack_require__(3114);

var _swap8 = _interopRequireDefault(_swap7);

var _swap9 = __webpack_require__(3125);

var _swap10 = __webpack_require__(3140);

var _util = __webpack_require__(764);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint-disable import/no-mutable-exports,max-len */
var repo = _helpers.utils.createRepo();
_helpers.utils.exitListener();

if (_appConfig2.default && _appConfig2.default.isWidget) {
  // Auto hot plug not exist token to core
  if (!_swap.constants.COINS[_appConfig2.default.erc20token]) {
    console.log('init token', _appConfig2.default.erc20token, _appConfig2.default.erc20);
    _util.erc20.register(_appConfig2.default.erc20token, _appConfig2.default.erc20[_appConfig2.default.erc20token].decimals);
  }
} else {
  // Add to swap.core not exists tokens
  (0, _keys2.default)(_appConfig2.default.erc20).forEach(function (tokenCode) {
    if (!_swap.constants.COINS[tokenCode]) {
      console.info('Add token to swap.core', tokenCode, _appConfig2.default.erc20[tokenCode].address, _appConfig2.default.erc20[tokenCode].decimals, _appConfig2.default.erc20[tokenCode].fullName);
      _util.erc20.register(tokenCode, _appConfig2.default.erc20[tokenCode].decimals);
    }
  });
}

var createSwapApp = function createSwapApp() {
  var _getState = (0, _core.getState)(),
      ethData = _getState.user.ethData;

  _swap2.default.setup({
    network:  true ? 'mainnet' : 'testnet',

    env: {
      eos: _eos.eos,
      web3: _web2.default,
      bitcoin: _bitcoinjsLib2.default,
      bitcoincash: _bitcoincashjsLib2.default,
      coininfo: _coininfo2.default,
      bchaddr: _bchaddrjs2.default,
      Ipfs: _ipfs2.default,
      IpfsRoom: _ipfsPubsubRoom2.default,
      storage: window.localStorage,
      sessionStorage: window.sessionStorage,
      swapsExplorer: _swapsExplorer2.default
    },

    services: [new _swap4.default({
      // TODO need init swapApp only after private keys created!!!!!!!!!!!!!!!!!!!
      eth: localStorage.getItem(_helpers.constants.privateKeyNames.eth),
      btc: localStorage.getItem(_helpers.constants.privateKeyNames.btc),
      bch: localStorage.getItem(_helpers.constants.privateKeyNames.bch),
      ltc: localStorage.getItem(_helpers.constants.privateKeyNames.ltc),
      eos: _helpers.constants.privateKeyNames.eosAccount
    }), new _swap6.default({
      repo: repo,
      config: {
        Addresses: {
          Swarm: [_appConfig2.default.ipfs.swarm]
        }
      }
    }), new _swap8.default()],
    swaps: [new _swap10.EthSwap({
      address: _appConfig2.default.swapContract.eth,
      /* eslint-disable */
      abi: [{ "constant": false, "inputs": [{ "name": "_secret", "type": "bytes32" }, { "name": "_ownerAddress", "type": "address" }], "name": "withdraw", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [{ "name": "_participantAddress", "type": "address" }], "name": "getSecret", "outputs": [{ "name": "", "type": "bytes32" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [{ "name": "", "type": "address" }, { "name": "", "type": "address" }], "name": "participantSigns", "outputs": [{ "name": "", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_secret", "type": "bytes32" }, { "name": "participantAddress", "type": "address" }], "name": "withdrawNoMoney", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [], "name": "owner", "outputs": [{ "name": "", "type": "address" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_secretHash", "type": "bytes20" }, { "name": "_participantAddress", "type": "address" }, { "name": "_targetWallet", "type": "address" }], "name": "createSwapTarget", "outputs": [], "payable": true, "stateMutability": "payable", "type": "function" }, { "constant": true, "inputs": [{ "name": "", "type": "address" }, { "name": "", "type": "address" }], "name": "swaps", "outputs": [{ "name": "targetWallet", "type": "address" }, { "name": "secret", "type": "bytes32" }, { "name": "secretHash", "type": "bytes20" }, { "name": "createdAt", "type": "uint256" }, { "name": "balance", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_secretHash", "type": "bytes20" }, { "name": "_participantAddress", "type": "address" }], "name": "createSwap", "outputs": [], "payable": true, "stateMutability": "payable", "type": "function" }, { "constant": false, "inputs": [{ "name": "_secret", "type": "bytes32" }, { "name": "_ownerAddress", "type": "address" }, { "name": "participantAddress", "type": "address" }], "name": "withdrawOther", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [], "name": "ratingContractAddress", "outputs": [{ "name": "", "type": "address" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [{ "name": "_ownerAddress", "type": "address" }], "name": "getTargetWallet", "outputs": [{ "name": "", "type": "address" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [{ "name": "_ownerAddress", "type": "address" }], "name": "getBalance", "outputs": [{ "name": "", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_participantAddress", "type": "address" }], "name": "refund", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "inputs": [], "payable": false, "stateMutability": "nonpayable", "type": "constructor" }, { "anonymous": false, "inputs": [{ "indexed": false, "name": "_buyer", "type": "address" }, { "indexed": false, "name": "_seller", "type": "address" }, { "indexed": false, "name": "_value", "type": "uint256" }, { "indexed": false, "name": "_secretHash", "type": "bytes20" }, { "indexed": false, "name": "createdAt", "type": "uint256" }], "name": "CreateSwap", "type": "event" }, { "anonymous": false, "inputs": [{ "indexed": false, "name": "_buyer", "type": "address" }, { "indexed": false, "name": "_seller", "type": "address" }, { "indexed": false, "name": "_secretHash", "type": "bytes20" }, { "indexed": false, "name": "withdrawnAt", "type": "uint256" }], "name": "Withdraw", "type": "event" }, { "anonymous": false, "inputs": [{ "indexed": false, "name": "_buyer", "type": "address" }, { "indexed": false, "name": "_seller", "type": "address" }], "name": "Close", "type": "event" }, { "anonymous": false, "inputs": [{ "indexed": false, "name": "_buyer", "type": "address" }, { "indexed": false, "name": "_seller", "type": "address" }, { "indexed": false, "name": "_secretHash", "type": "bytes20" }], "name": "Refund", "type": "event" }],
      /* eslint-enable */
      fetchBalance: function fetchBalance(address) {
        return _actions2.default.eth.fetchBalance(address);
      },
      estimateGasPrice: function estimateGasPrice() {
        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
            speed = _ref.speed;

        return _helpers2.default.eth.estimateGasPrice({ speed: speed });
      }
    }), new _swap10.BtcSwap({
      fetchBalance: function fetchBalance(address) {
        return _actions2.default.btc.fetchBalance(address);
      },
      fetchUnspents: function fetchUnspents(scriptAddress) {
        return _actions2.default.btc.fetchUnspents(scriptAddress);
      },
      broadcastTx: function broadcastTx(txRaw) {
        return _actions2.default.btc.broadcastTx(txRaw);
      },
      fetchTxInfo: function fetchTxInfo(txid) {
        return _actions2.default.btc.fetchTxInfo(txid);
      },
      estimateFeeValue: function estimateFeeValue() {
        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
            inSatoshis = _ref2.inSatoshis,
            speed = _ref2.speed,
            address = _ref2.address,
            txSize = _ref2.txSize;

        return _helpers2.default.btc.estimateFeeValue({ inSatoshis: inSatoshis, speed: speed, address: address, txSize: txSize });
      }
    }), new _swap10.BchSwap({
      fetchBalance: function fetchBalance(address) {
        return _actions2.default.bch.fetchBalance(address);
      },
      fetchUnspents: function fetchUnspents(scriptAddress) {
        return _actions2.default.bch.fetchUnspents(scriptAddress);
      },
      broadcastTx: function broadcastTx(txRaw) {
        return _actions2.default.bch.broadcastTx(txRaw);
      },
      fetchTxInfo: function fetchTxInfo(txid) {
        return _actions2.default.bch.fetchTxInfo(txid);
      },
      estimateFeeValue: function estimateFeeValue() {
        var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
            inSatoshis = _ref3.inSatoshis,
            speed = _ref3.speed,
            address = _ref3.address,
            txSize = _ref3.txSize;

        return _helpers2.default.bch.estimateFeeValue({ inSatoshis: inSatoshis, speed: speed, address: address, txSize: txSize });
      }
    }), new _swap10.LtcSwap({
      fetchBalance: function fetchBalance(address) {
        return _actions2.default.ltc.fetchBalance(address);
      },
      fetchUnspents: function fetchUnspents(scriptAddress) {
        return _actions2.default.ltc.fetchUnspents(scriptAddress);
      },
      broadcastTx: function broadcastTx(txRaw) {
        return _actions2.default.ltc.broadcastTx(txRaw);
      },
      fetchTx: function fetchTx(hash) {
        return _actions2.default.ltc.fetchTx(hash);
      },
      estimateFeeRate: function estimateFeeRate() {
        var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
            speed = _ref4.speed;

        return _helpers2.default.ltc.estimateFeeRate({ speed: speed });
      }
    }), new _swap10.EosSwap({
      swapAccount: _appConfig2.default.swapContract.eos,
      swapLockPeriod: 300 // safe time in seconds
    })].concat((0, _toConsumableArray3.default)((0, _keys2.default)(_appConfig2.default.erc20).map(function (key) {
      return new _swap10.EthTokenSwap({
        name: key,
        tokenAbi: _humanStandardTokenAbi2.default,
        address: _appConfig2.default.swapContract.erc20,
        decimals: _appConfig2.default.erc20[key].decimals,
        tokenAddress: _appConfig2.default.erc20[key].address,
        fetchBalance: function fetchBalance(address) {
          return _actions2.default.token.fetchBalance(address, _appConfig2.default.erc20[key].address, _appConfig2.default.erc20[key].decimals);
        },
        estimateGasPrice: function estimateGasPrice() {
          var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
              speed = _ref5.speed;

          return _helpers2.default.ethToken.estimateGasPrice({ speed: speed });
        },
        /* eslint-disable */
        abi: [{ "constant": false, "inputs": [{ "name": "_secret", "type": "bytes32" }, { "name": "_ownerAddress", "type": "address" }], "name": "withdraw", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [{ "name": "_participantAddress", "type": "address" }], "name": "getSecret", "outputs": [{ "name": "", "type": "bytes32" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_secretHash", "type": "bytes20" }, { "name": "_participantAddress", "type": "address" }, { "name": "_targetWallet", "type": "address" }, { "name": "_value", "type": "uint256" }, { "name": "_token", "type": "address" }], "name": "createSwapTarget", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [{ "name": "_secret", "type": "bytes32" }, { "name": "participantAddress", "type": "address" }], "name": "withdrawNoMoney", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [], "name": "owner", "outputs": [{ "name": "", "type": "address" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [{ "name": "", "type": "address" }, { "name": "", "type": "address" }], "name": "swaps", "outputs": [{ "name": "token", "type": "address" }, { "name": "targetWallet", "type": "address" }, { "name": "secret", "type": "bytes32" }, { "name": "secretHash", "type": "bytes20" }, { "name": "createdAt", "type": "uint256" }, { "name": "balance", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_secretHash", "type": "bytes20" }, { "name": "_participantAddress", "type": "address" }, { "name": "_value", "type": "uint256" }, { "name": "_token", "type": "address" }], "name": "createSwap", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [{ "name": "_secret", "type": "bytes32" }, { "name": "_ownerAddress", "type": "address" }, { "name": "participantAddress", "type": "address" }], "name": "withdrawOther", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [{ "name": "tokenOwnerAddress", "type": "address" }], "name": "getTargetWallet", "outputs": [{ "name": "", "type": "address" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [{ "name": "_ownerAddress", "type": "address" }], "name": "getBalance", "outputs": [{ "name": "", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_participantAddress", "type": "address" }], "name": "refund", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "inputs": [], "payable": false, "stateMutability": "nonpayable", "type": "constructor" }, { "anonymous": false, "inputs": [{ "indexed": false, "name": "token", "type": "address" }, { "indexed": false, "name": "_buyer", "type": "address" }, { "indexed": false, "name": "_seller", "type": "address" }, { "indexed": false, "name": "_value", "type": "uint256" }, { "indexed": false, "name": "_secretHash", "type": "bytes20" }, { "indexed": false, "name": "createdAt", "type": "uint256" }], "name": "CreateSwap", "type": "event" }, { "anonymous": false, "inputs": [{ "indexed": false, "name": "_buyer", "type": "address" }, { "indexed": false, "name": "_seller", "type": "address" }, { "indexed": false, "name": "_secretHash", "type": "bytes20" }, { "indexed": false, "name": "withdrawnAt", "type": "uint256" }], "name": "Withdraw", "type": "event" }, { "anonymous": false, "inputs": [{ "indexed": false, "name": "_buyer", "type": "address" }, { "indexed": false, "name": "_seller", "type": "address" }, { "indexed": false, "name": "_secretHash", "type": "bytes20" }], "name": "Refund", "type": "event" }]
        /* eslint-enable */
      });
    }))),
    flows: [_swap9.ETH2BTC, _swap9.BTC2ETH, _swap9.ETH2LTC, _swap9.LTC2ETH, _swap9.LTC2BTC, _swap9.BTC2LTC, _swap9.BCH2ETH, _swap9.ETH2BCH, _swap9.EOS2BTC, _swap9.BTC2EOS].concat((0, _toConsumableArray3.default)((0, _keys2.default)(_appConfig2.default.erc20).map(function (key) {
      return (0, _swap9.ETHTOKEN2BTC)(key);
    })), (0, _toConsumableArray3.default)((0, _keys2.default)(_appConfig2.default.erc20).map(function (key) {
      return (0, _swap9.BTC2ETHTOKEN)(key);
    })))
  });

  // eslint-disable-next-line
  // process.env.MAINNET ? SwapApp.shared()._addSwap(
  //   new UsdtSwap({
  //     assetId: 31, // USDT
  //     fetchBalance: (address) => actions.usdt.fetchBalance(address, 31).then(res => res.balance),
  //     fetchUnspents: (scriptAddress) => actions.btc.fetchUnspents(scriptAddress),
  //     broadcastTx: (txRaw) => actions.btc.broadcastTx(txRaw),
  //     fetchTx: (hash) => actions.btc.fetchTx(hash),
  //   }),
  // ) : null

  window.SwapApp = _swap2.default.shared();
};

exports.createSwapApp = createSwapApp;

/***/ }),

/***/ 219:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouterDom = __webpack_require__(51);

var _helpers = __webpack_require__(17);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Logo = __webpack_require__(1927);

var _Logo2 = _interopRequireDefault(_Logo);

var _logo = __webpack_require__(890);

var _logo2 = _interopRequireDefault(_logo);

var _logoColored = __webpack_require__(1928);

var _logoColored2 = _interopRequireDefault(_logoColored);

var _reactIntl = __webpack_require__(8);

var _locale = __webpack_require__(50);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Logo = (_dec = (0, _reactCssModules2.default)(_Logo2.default, { allowMultiple: true }), (0, _reactIntl.injectIntl)(_class = _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(Logo, _Component);

  function Logo() {
    (0, _classCallCheck3.default)(this, Logo);
    return (0, _possibleConstructorReturn3.default)(this, (Logo.__proto__ || (0, _getPrototypeOf2.default)(Logo)).apply(this, arguments));
  }

  (0, _createClass3.default)(Logo, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          isColored = _props.isColored,
          withLink = _props.withLink,
          mobile = _props.mobile,
          locale = _props.intl.locale,
          isExchange = _props.isExchange;


      var imgNode = _react2.default.createElement('img', {
        styleName: !withLink && 'logo',
        src: isColored ? _logoColored2.default : _logo2.default,
        alt: 'swap.online logo'
      });

      return _react2.default.createElement(
        _react.Fragment,
        null,
        withLink ? _react2.default.createElement(
          _reactRouterDom.Link,
          { styleName: (mobile ? 'mobile' : 'logo') + ' ' + (!isExchange ? 'whiteFill' : ''), 'data-tip': true, 'data-for': 'logo', to: (0, _locale.localisedUrl)(locale, _helpers.links.home) },
          imgNode
        ) : _react2.default.createElement(
          'div',
          { styleName: '' + (!isExchange && 'whiteFill') },
          imgNode
        )
      );
    }
  }]);
  return Logo;
}(_react.Component), _class2.propTypes = {
  isColored: _propTypes2.default.bool,
  withLink: _propTypes2.default.bool,
  mobile: _propTypes2.default.bool
}, _temp)) || _class) || _class);
exports.default = Logo;

/***/ }),

/***/ 220:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _PageHeadline = __webpack_require__(2003);

var _PageHeadline2 = _interopRequireDefault(_PageHeadline);

var _Title = __webpack_require__(402);

var _Title2 = _interopRequireDefault(_Title);

var _SubTitle = __webpack_require__(159);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PageHeadline = function PageHeadline(_ref) {
  var children = _ref.children,
      title = _ref.title,
      subTitle = _ref.subTitle,
      rest = (0, _objectWithoutProperties3.default)(_ref, ['children', 'title', 'subTitle']);
  return _react2.default.createElement(
    'div',
    (0, _extends3.default)({ styleName: 'headline' }, rest),
    children || _react2.default.createElement(
      _react.Fragment,
      null,
      title && _react2.default.createElement(
        _Title2.default,
        null,
        title
      ),
      subTitle && _react2.default.createElement(
        _SubTitle2.default,
        null,
        subTitle
      )
    )
  );
};

PageHeadline.propTypes = {
  title: _propTypes2.default.node,
  subTitle: _propTypes2.default.node
};

exports.default = (0, _reactCssModules2.default)(PageHeadline, _PageHeadline2.default);

/***/ }),

/***/ 2265:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2267:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2277:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var level = __webpack_require__(2278);

module.exports = window.leveldown || level;

/***/ }),

/***/ 2330:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 258:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"container":"_1SKmat","progress":"MDTy0d","progress-pie-chart":"_3ufr0o","gt-50":"_1kL-Ki","ppc-progress":"_2ivghd","ppc-progress-fill":"_1q1oky","ppc-percents":"_3pvg9E","pcc-percents-wrapper":"qK2biv","finishImg":"_2PoubJ","bar":"_2Vimaw","steps":"_3_c0r9","info":"Oh6qz0","headerContent":"_2cSvpF","title":"_2ZvuqN","uppercase":"P6JHwI","closeButton":"_1ulpJ6","header":"fYZeP-","saveSecretKey":"_3psEUc","animated-dots":"_1VVRG7","blink":"lG-moD","link":"_1hXPIj","stepContainer":"_1zGBhY","step":"ZpP4zp","stepImg":"_3hVIHz","stepInfo":"_4GUyS2","swapInfo":"_373kpa","transaction":"_2NKWV0","btnRefund":"_36yzB3","tryAgain":"_3bHVWI","timerRefund":"_2pLdxQ","ShowBTCScript":"ZASRog","finishButtonsHolder":"CrdgDC","stepHeading":"_32_Hkq","dontLeave":"_3VayjL","progressContainer":"_3KT04T","refundTransaction":"_1KMyOK","refundTransactionHash":"_2Jw_Ud","stepList":"_2xFtAt","overlay":"_2_GVjO","stepHeading__inner":"_2esyx1"};

/***/ }),

/***/ 259:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _classnames = __webpack_require__(72);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _CloseIcon = __webpack_require__(1950);

var _CloseIcon2 = _interopRequireDefault(_CloseIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var CloseIcon = function CloseIcon(_ref) {
  var whiteColor = _ref.whiteColor,
      brandColor = _ref.brandColor,
      onClick = _ref.onClick,
      rest = (0, _objectWithoutProperties3.default)(_ref, ['whiteColor', 'brandColor', 'onClick']);

  var styleName = (0, _classnames2.default)('button', {
    'whiteColor': whiteColor,
    'brandColor': brandColor
  });

  return _react2.default.createElement(
    'div',
    (0, _extends3.default)({ styleName: styleName }, rest, { role: 'closeButton', onClick: onClick }),
    _react2.default.createElement('div', { styleName: 'icon', role: 'closeIcon' })
  );
};

CloseIcon.propTypes = {
  whiteColor: _propTypes2.default.bool,
  brandColor: _propTypes2.default.bool
};

exports.default = (0, _reactCssModules2.default)(CloseIcon, _CloseIcon2.default, { allowMultiple: true });

/***/ }),

/***/ 260:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"table":"_2EkGj7","color":"_2dmWcz","wallet":"R0adpP","historySwap":"_2EFs-7","history":"_1qv9yw","mobileThead":"LPKMhW","exchange":"_2Kc-Kb","img":"_3riNqh"};

/***/ }),

/***/ 2607:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2621:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2656:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2665:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2667:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2689:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2691:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2703:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 29:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.util = exports.constants = exports.Events = exports.Collection = exports.SwapInterface = exports.ServiceInterface = undefined;

var _SwapApp = __webpack_require__(762);

var _SwapApp2 = _interopRequireDefault(_SwapApp);

var _ServiceInterface = __webpack_require__(1410);

var _ServiceInterface2 = _interopRequireDefault(_ServiceInterface);

var _SwapInterface = __webpack_require__(1411);

var _SwapInterface2 = _interopRequireDefault(_SwapInterface);

var _Collection = __webpack_require__(1412);

var _Collection2 = _interopRequireDefault(_Collection);

var _Events = __webpack_require__(1413);

var _Events2 = _interopRequireDefault(_Events);

var _constants = __webpack_require__(367);

var _constants2 = _interopRequireDefault(_constants);

var _util = __webpack_require__(764);

var _util2 = _interopRequireDefault(_util);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _SwapApp2.default;
exports.ServiceInterface = _ServiceInterface2.default;
exports.SwapInterface = _SwapInterface2.default;
exports.Collection = _Collection2.default;
exports.Events = _Events2.default;
exports.constants = _constants2.default;
exports.util = _util2.default;

/***/ }),

/***/ 2936:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2947:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2949:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2977:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 298:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _defineProperty2 = __webpack_require__(123);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _values = __webpack_require__(251);

var _values2 = _interopRequireDefault(_values);

var _isCoinAddress, _isPublicKey;

var _typeforce = __webpack_require__(16);

var _typeforce2 = _interopRequireDefault(_typeforce);

var _constants = __webpack_require__(367);

var _constants2 = _interopRequireDefault(_constants);

var _COINS = __webpack_require__(498);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var check = function check() {
  try {
    return _typeforce2.default.apply(undefined, arguments);
  } catch (err) {
    console.error(err);
    return false;
  }
};

var isNumeric = function isNumeric(value) {
  return !isNaN(parseFloat(value)) && isFinite(value);
};

var isCoinName = function isCoinName(value) {
  return (0, _values2.default)(_constants2.default.COINS).map(function (v) {
    return v.toLowerCase();
  }).includes(value.toLowerCase());
};

var isCoinAddress = (_isCoinAddress = {}, (0, _defineProperty3.default)(_isCoinAddress, _constants2.default.COINS.eos, function (value) {
  return typeof value === 'string' && /^[a-z][a-z1-5.]{0,10}([a-z1-5]|^\.)[a-j1-5]?$/.test(value);
}), (0, _defineProperty3.default)(_isCoinAddress, _constants2.default.COINS.eth, function (value) {
  return typeof value === 'string' && /^0x[A-Fa-f0-9]{40}$/.test(value);
}), (0, _defineProperty3.default)(_isCoinAddress, _constants2.default.COINS.btc, function (value) {
  return typeof value === 'string' && /^[A-Za-z0-9]{26,35}$/.test(value);
}), (0, _defineProperty3.default)(_isCoinAddress, _constants2.default.COINS.bch, function (value) {
  return typeof value === 'string' && /^[A-Za-z0-9:]{26,54}$/.test(value);
}), (0, _defineProperty3.default)(_isCoinAddress, _constants2.default.COINS.ltc, function (value) {
  return typeof value === 'string' && /^[A-Za-z0-9]{34}$/.test(value);
}), (0, _defineProperty3.default)(_isCoinAddress, _constants2.default.COINS.usdt, function (value) {
  return typeof value === 'string';
}), _isCoinAddress);

var isPublicKey = (_isPublicKey = {}, (0, _defineProperty3.default)(_isPublicKey, _constants2.default.COINS.eos, '?String'), (0, _defineProperty3.default)(_isPublicKey, _constants2.default.COINS.eth, '?String'), (0, _defineProperty3.default)(_isPublicKey, _constants2.default.COINS.btc, function (value) {
  return typeof value === 'string' && /^[A-Za-z0-9]{66}$/.test(value);
}), (0, _defineProperty3.default)(_isPublicKey, _constants2.default.COINS.bch, function (value) {
  return typeof value === 'string' && /^[A-Za-z0-9]{66}$/.test(value);
}), (0, _defineProperty3.default)(_isPublicKey, _constants2.default.COINS.ltc, function (value) {
  return typeof value === 'string' && /^[A-Za-z0-9]{66}$/.test(value);
}), (0, _defineProperty3.default)(_isPublicKey, _constants2.default.COINS.usdt, '?String'), _isPublicKey);

(0, _keys2.default)(_COINS.ETH_TOKENS).forEach(function (tokenCode) {
  isCoinAddress[_COINS.ETH_TOKENS[tokenCode]] = function (value) {
    return typeof value === 'string' && /^0x[A-Fa-f0-9]{40}$/.test(value);
  };
  isPublicKey[_COINS.ETH_TOKENS[tokenCode]] = '?String';
});

exports.default = {
  t: _typeforce2.default,
  check: check,
  isNumeric: isNumeric,
  isCoinName: isCoinName,
  isCoinAddress: isCoinAddress,
  isPublicKey: isPublicKey
};
module.exports = exports['default'];

/***/ }),

/***/ 2990:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2992:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2996:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3029:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 304:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _web = __webpack_require__(1487);

var _web2 = _interopRequireDefault(_web);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var web3 = new _web2.default(new _web2.default.providers.HttpProvider(_appConfig2.default.web3.provider));

exports.default = web3;

/***/ }),

/***/ 308:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _superagent = __webpack_require__(1639);

var _superagent2 = _interopRequireDefault(_superagent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var responseCacheStorage = {};

var responseCacheGetKey = function responseCacheGetKey(req, opts) {
  return opts.method + '-' + opts.endpoint;
};

var responseCacheGet = function responseCacheGet(req, opts) {
  var cacheKey = responseCacheGetKey(req, opts);

  if (opts && opts.cacheResponse && responseCacheStorage[cacheKey] && responseCacheStorage[cacheKey].cacheResponseCreateTime + responseCacheStorage[cacheKey].cacheResponse >= new Date().getTime()) {
    return responseCacheStorage[cacheKey];
  }return false;
};

var responseCacheAdd = function responseCacheAdd(req, opts, resData, res) {
  var cacheKey = responseCacheGetKey(req, opts);
  var cacheResponse = { opts: opts };
  var cacheResponseCreateTime = new Date().getTime();

  responseCacheStorage[cacheKey] = {
    cacheResponse: cacheResponse,
    cacheResponseCreateTime: cacheResponseCreateTime,
    resData: resData,
    res: res
  };
};

var createResponseHandler = function createResponseHandler(req, opts) {
  var debug = opts.method.toUpperCase() + ' ' + opts.endpoint;

  // cached answer
  var cachedAnswer = responseCacheGet(req, opts);

  if (cachedAnswer) {
    return new _promise2.default(function (fulfill, reject) {
      fulfill(cachedAnswer.resData, cachedAnswer.res);
      opts.onComplete();
    });
  }

  // no cache - do request
  return new _promise2.default(function (fulfill, reject) {
    return req.end(function (err, res) {
      var serverError = void 0;

      // Errors

      if (!res && !err) {
        serverError = 'Connection failed: ' + debug;
      } else if (!res || res.statusCode >= 500) {
        serverError = 'We`re having technical issues at that moment. Please try again later';
      }

      if (serverError) {
        return reject(new Error('Connection failed: ' + debug + ', server error:' + serverError));
      }

      if (err) {
        // TODO write Error notifier
        opts.onComplete();
        return reject({ resData: err, res: res });
      }

      var body = res.body;


      if (!body) {
        try {
          body = JSON.parse(res.text);
        } catch (err) {
          return reject(err);
        }
      }

      var resData = opts.modifyResult(body);

      // Cache result if needs
      if (opts.cacheResponse) {
        responseCacheAdd(req, opts, resData, res);
      }

      // Resolve

      fulfill(resData, res);
      opts.onComplete();
    });
  });
};

var defaultOptions = {
  sameOrigin: false,
  modifyResult: function modifyResult(resData) {
    return resData;
  },
  onComplete: function onComplete() {}

  /**
   *
   * @param {Object} options
   * @param {String} options.endpoint
   * @param {String} options.method
   * @param {Object} options.headers
   * @param {Object} options.query
   * @param {Object} options.body
   * @param {number} options.delay
   */
};var sendRequest = function sendRequest(options) {
  var opts = (0, _assign2.default)({}, defaultOptions, options);
  var req = _superagent2.default[opts.method](opts.endpoint);

  // req.set({
  //   'Content-Type': opts.formData ? 'application/x-www-form-urlencoded; charset=UTF-8' : 'application/json',
  //   ...(opts.headers || {}),
  // })

  if (opts.timeout) {
    req.timeout((0, _assign2.default)({
      response: 5000, // Wait 5 seconds for the server to start sending,
      deadline: 60000 }, opts.timeout));
  }

  if (opts.query) {
    req.query(opts.query);
  }

  if (opts.body) {
    req.send(opts.body);
  }

  if (opts.sameOrigin) {
    req.withCredentials();
  }

  var responseHandler = createResponseHandler(req, opts);

  responseHandler.abort = req.abort.bind(req);

  return responseHandler;
};

var requestByMethod = function requestByMethod(method) {
  return function (endpoint, opts) {
    return sendRequest((0, _assign2.default)({}, opts, { endpoint: endpoint, method: method }));
  };
};

exports.default = {
  get: requestByMethod('get'),
  post: requestByMethod('post'),
  patch: requestByMethod('patch'),
  put: requestByMethod('put'),
  delete: requestByMethod('delete')
};

/***/ }),

/***/ 3112:
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./": 450,
	"./SwapAuth": 677,
	"./SwapAuth.js": 677,
	"./bch": 1186,
	"./bch.js": 1186,
	"./btc": 1187,
	"./btc.js": 1187,
	"./eos": 1188,
	"./eos.js": 1188,
	"./eth": 1189,
	"./eth.js": 1189,
	"./index": 450,
	"./index.js": 450,
	"./ltc": 1190,
	"./ltc.js": 1190
};
function webpackContext(req) {
	return __webpack_require__(webpackContextResolve(req));
};
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) // check for number or string
		throw new Error("Cannot find module '" + req + "'.");
	return id;
};
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = 3112;

/***/ }),

/***/ 3113:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _stringify = __webpack_require__(112);

var _stringify2 = _interopRequireDefault(_stringify);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _typeof2 = __webpack_require__(186);

var _typeof3 = _interopRequireDefault(_typeof2);

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SwapRoom = function (_ServiceInterface) {
  (0, _inherits3.default)(SwapRoom, _ServiceInterface);
  (0, _createClass3.default)(SwapRoom, null, [{
    key: 'name',
    get: function get() {
      return 'room';
    }
  }]);

  function SwapRoom(config) {
    (0, _classCallCheck3.default)(this, SwapRoom);

    var _this = (0, _possibleConstructorReturn3.default)(this, (SwapRoom.__proto__ || (0, _getPrototypeOf2.default)(SwapRoom)).call(this));

    _this._handleUserOnline = function (peer) {
      if (peer !== _this.peer) {
        _this._events.dispatch('user online', peer);
      }
    };

    _this._handleUserOffline = function (peer) {
      if (peer !== _this.peer) {
        _this._events.dispatch('user offline', peer);
      }
    };

    _this._handleNewMessage = function (message) {
      var from = message.from,
          rawData = message.data;

      (0, _debug2.default)('swap.verbose:room')('message from', from);

      if (from === _this.peer) {
        return;
      }

      var parsedData = void 0;

      try {
        parsedData = JSON.parse(rawData.toString());
      } catch (err) {
        console.error('parse message data err:', err);
      }

      var _parsedData = parsedData,
          fromAddress = _parsedData.fromAddress,
          data = _parsedData.data,
          sign = _parsedData.sign,
          event = _parsedData.event,
          action = _parsedData.action;


      if (!data) {
        return;
      }

      // debug('swap.verbose:room')('parsedData', parsedData)

      var recover = _this._recoverMessage(data, sign);

      if (recover !== fromAddress) {
        console.error('Wrong message sign! Message from: ' + fromAddress + ', recover: ' + recover);
        return;
      }

      if (action === 'active') {
        _this.acknowledgeReceipt(parsedData);
      }

      _this._events.dispatch(event, (0, _extends3.default)({
        fromPeer: from
      }, data));
    };

    if (!config || (typeof config === 'undefined' ? 'undefined' : (0, _typeof3.default)(config)) !== 'object' || (0, _typeof3.default)(config.config) !== 'object') {
      throw new Error('SwapRoomService: "config" of type object required');
    }

    _this._serviceName = 'room';
    _this._config = config;
    _this._events = new _swap.Events();
    _this.peer = null;
    _this.connection = null;
    _this.roomName = null;
    return _this;
  }

  (0, _createClass3.default)(SwapRoom, [{
    key: 'initService',
    value: function initService() {
      var _this2 = this;

      if (!this.app.env.Ipfs) {
        throw new Error('SwapRoomService: Ipfs required');
      }
      if (!this.app.env.IpfsRoom) {
        throw new Error('SwapRoomService: IpfsRoom required');
      }

      var _config = this._config,
          roomName = _config.roomName,
          EXPERIMENTAL = _config.EXPERIMENTAL,
          config = (0, _objectWithoutProperties3.default)(_config, ['roomName', 'EXPERIMENTAL']);


      var ipfs = new this.app.env.Ipfs((0, _extends3.default)({
        EXPERIMENTAL: {
          pubsub: true
        }
      }, config)).on('ready', function () {
        return ipfs.id(function (err, info) {
          console.info('IPFS ready!');

          if (err) {
            throw err;
          }

          _this2._init({
            peer: info.id,
            ipfsConnection: ipfs
          });
        });
      }).on('error', function (err) {
        (0, _debug2.default)('swap.core:room')('IPFS error!', err);
      });
    }
  }, {
    key: '_init',
    value: function _init(_ref) {
      var _this3 = this;

      var peer = _ref.peer,
          ipfsConnection = _ref.ipfsConnection;

      if (!ipfsConnection) {
        setTimeout(function () {
          _this3._init({ peer: peer, ipfsConnection: ipfsConnection });
        }, 999);
        return;
      }

      this.peer = peer;

      var defaultRoomName = this.app.isMainNet() ? 'swap.online' : 'testnet.swap.online';

      this.roomName = this._config.roomName || defaultRoomName;

      (0, _debug2.default)('swap.core:room')('Using room: ' + this.roomName);

      this.connection = this.app.env.IpfsRoom(ipfsConnection, this.roomName, {
        pollInterval: 1000
      });

      this.connection.on('peer joined', this._handleUserOnline);
      this.connection.on('peer left', this._handleUserOffline);
      this.connection.on('message', this._handleNewMessage);

      this._events.dispatch('ready');
    }
  }, {
    key: 'on',
    value: function on(eventName, handler) {
      this._events.subscribe(eventName, handler);
      return this;
    }
  }, {
    key: 'off',
    value: function off(eventName, handler) {
      this._events.unsubscribe(eventName, handler);
      return this;
    }
  }, {
    key: 'once',
    value: function once(eventName, handler) {
      this._events.once(eventName, handler);
      return this;
    }
  }, {
    key: 'subscribe',
    value: function subscribe(eventName, handler) {
      this._events.subscribe(eventName, handler);
      return this;
    }
  }, {
    key: 'unsubscribe',
    value: function unsubscribe(eventName, handler) {
      this._events.unsubscribe(eventName, handler);
      return this;
    }
  }, {
    key: '_recoverMessage',
    value: function _recoverMessage(message, sign) {
      var hash = this.app.env.web3.utils.soliditySha3((0, _stringify2.default)(message));
      var recover = this.app.env.web3.eth.accounts.recover(hash, sign.signature);

      return recover;
    }
  }, {
    key: '_signMessage',
    value: function _signMessage(message) {
      var hash = this.app.env.web3.utils.soliditySha3((0, _stringify2.default)(message));
      var sign = this.app.env.web3.eth.accounts.sign(hash, this.app.services.auth.accounts.eth.privateKey);

      return sign;
    }
  }, {
    key: 'checkReceiving',
    value: function checkReceiving(message, callback) {
      var _this4 = this;

      var address = message.fromAddress;

      var waitReceipt = function waitReceipt(data) {
        if (!data.action || data.action !== 'confirmation') {
          return;
        }

        if ((0, _stringify2.default)(message.data) === (0, _stringify2.default)(data.message)) {
          _this4.unsubscribe(address, waitReceipt);

          if (_this4.CheckReceiptsT[message.peer]) {
            clearTimeout(_this4.CheckReceiptsT[message.peer]);
          }

          callback(true);
        }
      };

      this.subscribe(address, waitReceipt);

      if (!this.CheckReceiptsT) {
        this.CheckReceiptsT = {};
      }

      this.CheckReceiptsT[message.peer] = setTimeout(function () {
        _this4.unsubscribe(address, waitReceipt);

        callback(false);
      }, 15000);
    }
  }, {
    key: 'sendConfirmation',
    value: function sendConfirmation(peer, message) {
      var _this5 = this;

      var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
      var repeat = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 9;


      if (!this.connection) {
        setTimeout(function () {
          _this5.sendConfirmation(peer, message, callback, repeat);
        }, 1000);
        return;
      }

      if (message.action === 'confirmation' && peer !== this.peer) {
        return;
      }

      message = this.sendMessagePeer(peer, message);

      this.checkReceiving(message, function (delivered) {
        if (!delivered && repeat > 0) {
          repeat--;
          setTimeout(function () {
            _this5.sendConfirmation(peer, message, callback, repeat);
          }, 1000);
          return;
        }

        if (callback) callback(delivered);
      });
    }
  }, {
    key: 'acknowledgeReceipt',
    value: function acknowledgeReceipt(message) {
      if (!message.peer || !message.action || message.action === 'confirmation' || message.action === 'active') {
        return;
      }

      var fromAddress = message.fromAddress,
          data = message.data;


      this.sendMessagePeer(fromAddress, {
        action: 'confirmation',
        data: data
      });
    }
  }, {
    key: 'sendMessagePeer',
    value: function sendMessagePeer(peer, message) {
      var _this6 = this;

      if (!this.connection) {
        if (message.action !== 'active') {
          setTimeout(function () {
            _this6.sendMessagePeer(peer, message);
          }, 999);
        }
        return;
      }

      (0, _debug2.default)('swap.verbose:room')('sent message to peer', peer);
      // debug('swap.verbose:room')('message', message)

      var data = message.data,
          event = message.event;

      var sign = this._signMessage(data);

      this.connection.sendTo(peer, (0, _stringify2.default)({
        fromAddress: this.app.services.auth.accounts.eth.address,
        data: data,
        event: event,
        sign: sign
      }));

      return message;
    }
  }, {
    key: 'sendMessageRoom',
    value: function sendMessageRoom(message) {
      var data = message.data,
          event = message.event;

      var sign = this._signMessage(data);

      this.connection.broadcast((0, _stringify2.default)({
        fromAddress: this.app.services.auth.accounts.eth.address,
        data: data,
        event: event,
        sign: sign
      }));
    }
  }]);
  return SwapRoom;
}(_swap.ServiceInterface);

exports.default = SwapRoom;
module.exports = exports['default'];

/***/ }),

/***/ 3114:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _SwapOrders = __webpack_require__(3115);

var _SwapOrders2 = _interopRequireDefault(_SwapOrders);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _SwapOrders2.default;
module.exports = exports['default'];

/***/ }),

/***/ 3115:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(1191);

var _swap4 = _interopRequireDefault(_swap3);

var _aggregation2 = __webpack_require__(3116);

var _aggregation3 = _interopRequireDefault(_aggregation2);

var _events = __webpack_require__(1193);

var _events2 = _interopRequireDefault(_events);

var _Order = __webpack_require__(3124);

var _Order2 = _interopRequireDefault(_Order);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var checkIncomeOrderFormat = function checkIncomeOrderFormat(order) {
  var format = {
    id: '?String',
    owner: (0, _extends3.default)({
      peer: 'String',
      reputation: _swap.util.typeforce.t.maybe(_swap.util.typeforce.isNumeric)
    }, function () {
      var result = {};
      (0, _keys2.default)(_swap.constants.COINS).forEach(function (key) {
        result[key] = _swap.util.typeforce.t.maybe({
          address: _swap.util.typeforce.isCoinAddress[_swap.constants.COINS[key]],
          publicKey: _swap.util.typeforce.isPublicKey[_swap.constants.COINS[key]]
        });
      });
      return result;
    }()),
    buyCurrency: _swap.util.typeforce.isCoinName,
    sellCurrency: _swap.util.typeforce.isCoinName,
    buyAmount: _swap.util.typeforce.isNumeric,
    sellAmount: _swap.util.typeforce.isNumeric,
    exchangeRate: _swap.util.typeforce.t.maybe(_swap.util.typeforce.isNumeric),
    isProcessing: '?Boolean',
    isRequested: '?Boolean',
    isPartial: '?Boolean',
    isHidden: '?Boolean',
    destination: _swap.util.typeforce.t.maybe({
      ownerAddress: '?String',
      participantAddress: '?String'
    })
  };

  var isValid = _swap.util.typeforce.check(format, order, true);

  if (!isValid) {
    (0, _debug2.default)('swap.core:orders')('Wrong income order format. Excepted:', format, 'got:', order);
  }

  return isValid;
};

var checkIncomeOrderOwner = function checkIncomeOrderOwner(_ref, fromPeer) {
  var peer = _ref.owner.peer;
  return peer === fromPeer;
};

var checkIncomeOrder = function checkIncomeOrder(order, fromPeer) {
  var isFormatValid = checkIncomeOrderFormat(order);
  var isOwnerValid = checkIncomeOrderOwner(order, fromPeer);

  return isFormatValid && isOwnerValid;
};

var SwapOrders = function (_aggregation) {
  (0, _inherits3.default)(SwapOrders, _aggregation);
  (0, _createClass3.default)(SwapOrders, null, [{
    key: 'name',
    get: function get() {
      return 'orders';
    }
  }]);

  function SwapOrders() {
    (0, _classCallCheck3.default)(this, SwapOrders);

    var _this = (0, _possibleConstructorReturn3.default)(this, (SwapOrders.__proto__ || (0, _getPrototypeOf2.default)(SwapOrders)).call(this));

    _this._handleReady = function () {
      _this._persistMyOrders();
    };

    _this._handleHideOrders = function (_ref2) {
      var fromPeer = _ref2.fromPeer;

      _this.items.forEach(function (order) {
        if (order && order.owner && order.owner.peer === fromPeer) {
          order.isHidden = true;
        }
      });
    };

    _this._handleShowOrders = function (_ref3) {
      var fromPeer = _ref3.fromPeer;

      _this.items.forEach(function (order) {
        if (order && order.owner && order.owner.peer === fromPeer) {
          order.isHidden = false;
        }
      });
    };

    _this._handleUserOnline = function (peer) {
      var myOrders = _this.getMyOrders();

      if (myOrders.length) {
        // clean orders from other additional props
        myOrders = myOrders.map(function (item) {
          return _swap.util.pullProps(item, 'id', 'owner', 'buyCurrency', 'sellCurrency', 'buyAmount', 'exchangeRate', 'sellAmount', 'isRequested', 'isProcessing', 'isPartial', 'isHidden', 'destination');
        });

        _this.app.services.room.sendMessagePeer(peer, {
          event: 'new orders',
          data: {
            orders: myOrders
          }
        });
      }
    };

    _this._handleUserOffline = function (peer) {
      var peerOrders = _this.getPeerOrders(peer);

      if (peerOrders.length) {
        peerOrders.forEach(function (_ref4) {
          var id = _ref4.id;

          _this._handleRemove(id);
        });
      }
    };

    _this._handleNewOrders = function (_ref5) {
      var fromPeer = _ref5.fromPeer,
          orders = _ref5.orders;

      // ductape to check if such orders already exist
      var filteredOrders = orders.filter(function (_ref6) {
        var id = _ref6.id,
            peer = _ref6.owner.peer;
        return !_this.getByKey(id) && peer === fromPeer;
      });

      _this._handleMultipleCreate({ orders: filteredOrders, fromPeer: fromPeer });
    };

    _this._handleNewOrder = function (_ref7) {
      var fromPeer = _ref7.fromPeer,
          order = _ref7.order;

      if (order && order.owner && order.owner.peer === fromPeer) {
        if (checkIncomeOrder(order, fromPeer)) {
          _this._handleCreate(order);
        }
      }
    };

    _this._handleRemoveOrder = function (_ref8) {
      var fromPeer = _ref8.fromPeer,
          orderId = _ref8.orderId;

      var order = _this.getByKey(orderId);

      if (order && order.owner && order.owner.peer === fromPeer) {
        _this._handleRemove(orderId);
      }
    };

    _this._serviceName = 'orders';
    _this._dependsOn = [_swap4.default];

    _this.getUniqueId = function () {};
    return _this;
  }

  (0, _createClass3.default)(SwapOrders, [{
    key: 'initService',
    value: function initService() {
      var _this2 = this;

      this.app.services.room.on('ready', this._handleReady);
      this.app.services.room.on('user online', this._handleUserOnline);
      this.app.services.room.on('user offline', this._handleUserOffline);
      this.app.services.room.on('new orders', this._handleNewOrders);
      this.app.services.room.on('new order', this._handleNewOrder);
      this.app.services.room.on('remove order', this._handleRemoveOrder);
      this.app.services.room.on('hide orders', this._handleHideOrders);
      this.app.services.room.on('show orders', this._handleShowOrders);

      this.getUniqueId = function () {
        var id = Date.now();
        return function () {
          return _this2.app.services.room.peer + '-' + ++id;
        };
      }();
    }
  }, {
    key: '_persistMyOrders',
    value: function _persistMyOrders() {
      var _this3 = this;

      this.getMyOrders().forEach(function (orderData) {
        _this3._handleCreate(orderData);
      });
    }

    /**
     *
     * @param {object} data
     * @param {string} data.id
     * @param {object} data.owner
     * @param {string} data.owner.peer
     * @param {number} data.owner.reputation
     * @param {object} data.owner.<currency>
     * @param {string} data.owner.<currency>.address
     * @param {string} data.owner.<currency>.publicKey
     * @param {string} data.buyCurrency
     * @param {string} data.sellCurrency
     * @param {number} data.buyAmount
     * @param {number} data.sellAmount
     * @param {boolean} data.isProcessing
     * @param {boolean} data.isRequested
     */

  }, {
    key: '_create',
    value: function _create(data) {
      var id = data.id,
          buyAmount = data.buyAmount,
          sellAmount = data.sellAmount,
          buyCurrency = data.buyCurrency,
          sellCurrency = data.sellCurrency,
          rest = (0, _objectWithoutProperties3.default)(data, ['id', 'buyAmount', 'sellAmount', 'buyCurrency', 'sellCurrency']);


      var buy = buyCurrency.toUpperCase();
      var sell = sellCurrency.toUpperCase();
      var roundedBuyAmount = (0, _bignumber2.default)(buyAmount).dp(_swap.constants.COINS_PRECISION[buy]);
      var roundedSellAmount = (0, _bignumber2.default)(sellAmount).dp(_swap.constants.COINS_PRECISION[sell]);

      var order = new _Order2.default(this.app, this, (0, _extends3.default)({
        id: id || this.getUniqueId(),
        buyAmount: roundedBuyAmount,
        sellAmount: roundedSellAmount,
        buyCurrency: buy,
        sellCurrency: sell
      }, rest));

      this.append(order, order.id);

      return order;
    }
  }, {
    key: '_handleCreate',
    value: function _handleCreate(data) {
      var order = this._create(data);

      if (order) {
        _events2.default.dispatch('new order', order);
      }
    }
  }, {
    key: '_handleMultipleCreate',
    value: function _handleMultipleCreate(_ref9) {
      var _this4 = this;

      var orders = _ref9.orders,
          fromPeer = _ref9.fromPeer;

      var newOrders = [];

      orders.forEach(function (data) {
        if (checkIncomeOrder(data, fromPeer)) {
          var order = _this4._create(data);

          newOrders.push(order);
        }
      });

      if (newOrders.length) {
        _events2.default.dispatch('new orders', newOrders);
      }
    }

    /**
     *
     * @param {string} orderId
     */

  }, {
    key: '_handleRemove',
    value: function _handleRemove(orderId) {
      try {
        var order = this.getByKey(orderId);

        if (order) {
          this.removeByKey(orderId);
          _events2.default.dispatch('remove order', order);
        }
      } catch (err) {}
    }
  }, {
    key: '_saveMyOrders',
    value: function _saveMyOrders() {
      var _this5 = this;

      var myOrders = this.items.filter(function (_ref10) {
        var peer = _ref10.owner.peer;
        return peer === _this5.app.services.room.peer;
      });

      // clean orders from other additional props
      // TODO need to add functionality to sync `requests` for users who going offline / online
      // problem: when I going online and persisting my orders need to show only online users requests,
      // but then user comes online need to change status. Ofc we can leave this bcs developers can do this themselves
      // with filters - skip requests where user is offline, but it looks like not very good
      myOrders = myOrders.map(function (item) {
        return _swap.util.pullProps(item, 'id', 'owner', 'buyCurrency', 'sellCurrency', 'buyAmount', 'sellAmount', 'exchangeRate', 'participant', 'requests', 'isRequested', 'isProcessing', 'isPartial', 'isHidden', 'destination');
      });

      this.app.env.storage.setItem('myOrders', myOrders);
    }
  }, {
    key: 'getMyOrders',
    value: function getMyOrders() {
      return this.app.env.storage.getItem('myOrders') || [];
    }
  }, {
    key: 'getPeerOrders',
    value: function getPeerOrders(peer) {
      return this.items.filter(function (_ref11) {
        var owner = _ref11.owner;
        return peer === owner.peer;
      });
    }

    /**
     *
     * @param {object} data
     * @param {string} data.buyCurrency
     * @param {string} data.sellCurrency
     * @param {number} data.buyAmount
     * @param {number} data.sellAmount
     */

  }, {
    key: 'create',
    value: function create(data) {
      var order = this._create((0, _extends3.default)({}, data, {
        owner: this.app.services.auth.getPublicData()
      }));
      this._saveMyOrders();

      this.app.services.room.sendMessageRoom({
        event: 'new order',
        data: {
          order: _swap.util.pullProps(order, 'id', 'owner', 'buyCurrency', 'exchangeRate', 'sellCurrency', 'buyAmount', 'sellAmount', 'isRequested', 'isProcessing', 'isPartial', 'isHidden', 'destination')
        }
      });

      return order;
    }
  }, {
    key: 'hideMyOrders',
    value: function hideMyOrders() {
      var _this6 = this;

      this.items.forEach(function (order) {
        if (order && order.owner && order.owner.peer === _this6.app.services.room.peer) {
          order.isHidden = true;
        }
      });
      this._saveMyOrders();
      this.app.services.room.sendMessageRoom({
        event: 'hide orders',
        data: {}
      });
    }
  }, {
    key: 'showMyOrders',
    value: function showMyOrders() {
      var _this7 = this;

      this.items.forEach(function (order) {
        if (order && order.owner && order.owner.peer === _this7.app.services.room.peer) {
          order.isHidden = false;
        }
      });
      this._saveMyOrders();
      this.app.services.room.sendMessageRoom({
        event: 'show orders',
        data: {}
      });
    }
  }, {
    key: 'hasHiddenOrders',
    value: function hasHiddenOrders() {
      var _this8 = this;

      var myHiddenOrders = this.items.filter(function (_ref12) {
        var isHidden = _ref12.isHidden,
            peer = _ref12.owner.peer;
        return peer === _this8.app.services.room.peer && isHidden;
      });
      return myHiddenOrders.length ? true : false;
    }

    /**
     *
     * @param {string} orderId
     */

  }, {
    key: 'remove',
    value: function remove(orderId) {
      this.removeByKey(orderId);
      this.app.services.room.sendMessageRoom({
        event: 'remove order',
        data: {
          orderId: orderId
        }
      });
      this._saveMyOrders();
    }

    /**
     *
     * @param {String} event
     * @param {String} peer
     * @param {Object} data
     * @param {function} callback
     */

  }, {
    key: 'requestToPeer',
    value: function requestToPeer(event, peer, data, callback) {
      this.app.services.room.sendMessagePeer(peer, {
        event: event,
        data: data
      });

      if (!callback) {
        return;
      }

      this.app.services.room.on('accept request', function (_ref13) {
        var fromPeer = _ref13.fromPeer,
            orderId = _ref13.orderId;

        (0, _debug2.default)('swap.core:orders')('requestToPeer accept request', fromPeer);
        if (peer === fromPeer) {
          this.unsubscribe();

          (0, _debug2.default)('swap.core:orders')('requestToPeer IF');

          callback(orderId);
        }
      });

      this.app.services.room.on('decline request', function (_ref14) {
        var fromPeer = _ref14.fromPeer;

        if (peer === fromPeer) {
          this.unsubscribe();

          callback(false);
        }
      });
    }
  }, {
    key: 'on',
    value: function on(eventName, handler) {
      _events2.default.subscribe(eventName, handler);
      return this;
    }
  }, {
    key: 'off',
    value: function off(eventName, handler) {
      _events2.default.unsubscribe(eventName, handler);
      return this;
    }
  }]);
  return SwapOrders;
}((0, _aggregation3.default)(_swap.ServiceInterface, _swap.Collection));

exports.default = SwapOrders;
module.exports = exports['default'];

/***/ }),

/***/ 3116:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getOwnPropertyDescriptor = __webpack_require__(1192);

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _defineProperty = __webpack_require__(476);

var _defineProperty2 = _interopRequireDefault(_defineProperty);

var _getOwnPropertySymbols = __webpack_require__(3119);

var _getOwnPropertySymbols2 = _interopRequireDefault(_getOwnPropertySymbols);

var _getOwnPropertyNames = __webpack_require__(3121);

var _getOwnPropertyNames2 = _interopRequireDefault(_getOwnPropertyNames);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*
 Allows multiple extending
 */

var aggregation = function aggregation(baseClass) {
  for (var _len = arguments.length, mixins = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    mixins[_key - 1] = arguments[_key];
  }

  var base = function (_baseClass) {
    (0, _inherits3.default)(_Combined, _baseClass);

    function _Combined() {
      var _ref;

      (0, _classCallCheck3.default)(this, _Combined);

      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = _Combined.__proto__ || (0, _getPrototypeOf2.default)(_Combined)).call.apply(_ref, [this].concat(args)));

      mixins.forEach(function (mixin) {
        mixin.prototype._constructor.call(_this);
      });
      return _this;
    }

    return _Combined;
  }(baseClass);

  var copyProps = function copyProps(target, source) {
    (0, _getOwnPropertyNames2.default)(source).concat((0, _getOwnPropertySymbols2.default)(source)).forEach(function (prop) {
      if (prop.match(/^(?:_?constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)) {
        return;
      }

      (0, _defineProperty2.default)(target, prop, (0, _getOwnPropertyDescriptor2.default)(source, prop));
    });
  };

  mixins.forEach(function (mixin) {
    copyProps(base.prototype, mixin.prototype);
    copyProps(base, mixin);
  });

  return base;
};

exports.default = aggregation;
module.exports = exports["default"];

/***/ }),

/***/ 3124:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

var _events = __webpack_require__(1193);

var _events2 = _interopRequireDefault(_events);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Order = function () {

  /**
   *
   * @param {object}  parent
   * @param {object}  data
   * @param {string}  data.id
   * @param {object}  data.owner
   * @param {string}  data.owner.peer
   * @param {number}  data.owner.reputation
   * @param {object}  data.owner.<currency>
   * @param {string}  data.owner.<currency>.address
   * @param {string}  data.owner.<currency>.publicKey
   * @param {string}  data.buyCurrency
   * @param {string}  data.sellCurrency
   * @param {number}  data.buyAmount
   * @param {number}  data.sellAmount
   */
  function Order(app, parentCollection, data) {
    (0, _classCallCheck3.default)(this, Order);

    this.id = data.id;
    this.isMy = null;
    this.owner = null;
    this.participant = null;
    this.buyCurrency = null;
    this.exchangeRate = null;
    this.sellCurrency = null;
    this.buyAmount = null;
    this.sellAmount = null;

    this.collection = parentCollection;
    this.requests = []; // income requests
    this.isRequested = false; // outcome request status
    this.isProcessing = false; // if swap isProcessing
    this.isPartial = false;
    this.isHidden = false;

    this.partialHandler = {
      buyAmount: function buyAmount() {
        return false;
      },
      sellAmount: function sellAmount() {
        return false;
      }
    };

    this.destination = null;

    this._attachSwapApp(app);

    this._update((0, _extends3.default)({}, data, {
      isMy: data.owner.peer === this.app.services.room.peer
    }));

    this._onMount();
  }

  (0, _createClass3.default)(Order, [{
    key: '_attachSwapApp',
    value: function _attachSwapApp(app) {
      _swap2.default.required(app);

      this.app = app;
    }
  }, {
    key: '_onMount',
    value: function _onMount() {
      var _this = this;

      this.app.services.room.on('request swap', function (_ref) {
        var orderId = _ref.orderId,
            participant = _ref.participant,
            participantMetadata = _ref.participantMetadata,
            destination = _ref.destination;

        if (orderId === _this.id && _this.requests.length < 10 && !_this.requests.find(function (_ref2) {
          var peer = _ref2.participant.peer;
          return peer === participant.peer;
        })) {
          var reputation = 0;

          try {
            // todo: check other blockchains
            if (participant.eth.address === participantMetadata.address || participant.btc.address === participantMetadata.address) {
              reputation = _this.app.env.swapsExplorer.getVerifiedReputation(participantMetadata);
            }
          } catch (err) {
            (0, _debug2.default)('swap.core:order')(err);
          }

          _this.requests.push({ participant: participant, destination: destination, reputation: reputation, isPartial: false });

          _events2.default.dispatch('new order request', {
            orderId: orderId,
            participant: participant,
            destination: destination,
            participantMetadata: participantMetadata
          });
        }
      });

      this.app.services.room.on('request partial fulfilment', function (_ref3) {
        var orderId = _ref3.orderId,
            participant = _ref3.participant,
            participantMetadata = _ref3.participantMetadata,
            destination = _ref3.destination,
            updatedOrder = _ref3.updatedOrder;

        if (orderId === _this.id) {
          var buyAmount = updatedOrder.buyAmount,
              sellAmount = updatedOrder.sellAmount;

          // todo: add check reputation like as 'request swap'

          var reputation = 0;

          var filteredUpdatedOrder = {
            buyAmount: buyAmount,
            sellAmount: sellAmount
          };

          _this.requests.push({ participant: participant, destination: destination, updatedOrder: filteredUpdatedOrder });

          _events2.default.dispatch('new partial fulfilment request', {
            orderId: orderId,
            participant: participant,
            updatedOrder: filteredUpdatedOrder
          });

          _this._autoReplyToPartial('buyAmount', filteredUpdatedOrder, participant);
          _this._autoReplyToPartial('sellAmount', filteredUpdatedOrder, participant);
        }
      });
    }
  }, {
    key: '_update',
    value: function _update(values) {
      var _this2 = this;

      (0, _keys2.default)(values).forEach(function (key) {
        _this2[key] = values[key];
      });
    }
  }, {
    key: 'update',
    value: function update(values) {
      this._update(values);
      this.collection._saveMyOrders();

      _events2.default.dispatch('swap update', this, values);
    }
  }, {
    key: '_autoReplyToPartial',
    value: function _autoReplyToPartial(changedKey, updatedOrder, participant) {
      if (!this.isPartial) {
        return;
      }

      if (!updatedOrder[changedKey]) {
        return;
      }

      updatedOrder[changedKey] = (0, _bignumber2.default)(updatedOrder[changedKey]);

      if (this[changedKey].comparedTo(updatedOrder[changedKey]) === 0) {
        return;
      }

      var handler = this.partialHandler[changedKey];

      if (typeof handler !== 'function') {
        return;
      }

      if (!participant) return;

      var peer = participant.peer;


      var newOrder = handler(updatedOrder, this);

      if (!newOrder || !newOrder.buyAmount || !newOrder.sellAmount) {
        this.declineRequestForPartial(participant.peer);
      } else {
        var buyAmount = newOrder.buyAmount,
            sellAmount = newOrder.sellAmount;


        this.acceptRequestForPartial({ buyAmount: buyAmount, sellAmount: sellAmount }, participant.peer);
      }
    }

    /**
     *
     * @param updatedOrder.buyAmount - optional String
     * @param updatedOrder.sellAmount - optional String
     * @param callback - callback will receive updated order
     * @param conditionHandler - autoreply to new order proposal
     */

  }, {
    key: 'sendRequestForPartial',
    value: function sendRequestForPartial() {
      var updatedOrder = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var requestOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var callback = arguments[2];
      var conditionHandler = arguments[3];

      if (!this.isPartial) {
        throw new Error('Cant request partial fulfilment for order ' + this.id);
      }

      var _updatedOrder = updatedOrder,
          buyAmount = _updatedOrder.buyAmount,
          sellAmount = _updatedOrder.sellAmount;

      updatedOrder = { buyAmount: buyAmount, sellAmount: sellAmount };

      if (!updatedOrder) {
        throw new Error('No buyAmount, sellAmount given. Exit partial');
      }

      var self = this;

      if (this.app.services.room.peer === this.owner.peer) {
        console.warn('You are the owner of this Order. You can\'t send request to yourself.');
        return;
      }

      var destinationAddress = requestOptions.address,
          participantMetadata = requestOptions.participantMetadata;


      var participant = this.app.services.auth.getPublicData();

      this.app.services.room.sendMessagePeer(this.owner.peer, {
        event: 'request partial fulfilment',
        data: {
          orderId: this.id,
          participant: participant,
          participantMetadata: participantMetadata,
          destination: {
            address: destinationAddress
          },
          updatedOrder: updatedOrder
        }
      });

      this.app.services.room.on('accept partial fulfilment', function (_ref4) {
        var orderId = _ref4.orderId,
            newOrderId = _ref4.newOrderId,
            newOrder = _ref4.newOrder;

        if (orderId === self.id) {
          this.unsubscribe();

          // locate new order
          var _newOrder = self.collection.getByKey(newOrderId);

          if (!_newOrder) {
            console.error('Party created no order with id =', newOrderId);
            return callback(null, false);
          }

          // check that values match updatedOrder and old order
          var ok = _newOrder.buyCurrency === self.buyCurrency && _newOrder.sellCurrency === self.sellCurrency;

          if (!ok) return callback(_newOrder, false);

          // if condition to check is not given,
          // we need logic on client app side
          if (typeof conditionHandler !== 'function') {
            // TODO: pass destination and participantMetadata
            return callback(_newOrder);
          }

          // else, we can start swap automatically
          var newOrderIsGood = conditionHandler(self, _newOrder);

          if (newOrderIsGood) {
            // request that new order
            _newOrder.sendRequest(function (accepted) {
              return callback(_newOrder, accepted);
            }, requestOptions);
          } else {
            callback(_newOrder, false);
          }
        }
      });

      this.app.services.room.on('decline partial fulfilment', function (_ref5) {
        var orderId = _ref5.orderId;

        if (orderId === self.id) {
          this.unsubscribe();

          // TODO think about preventing user from sent requests every N seconds
          callback(null, false);
        }
      });
    }

    /**
     *
     * @param callback - awaiting for response - accept / decline
     */

  }, {
    key: 'sendRequest',
    value: function sendRequest(callback) {
      var requestOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      var self = this;

      var destinationAddress = requestOptions.address,
          participantMetadata = requestOptions.participantMetadata;


      if (this.app.services.room.peer === this.owner.peer) {
        console.warn('You are the owner of this Order. You can\'t send request to yourself.');
        return;
      }

      if (this.isRequested) {
        console.warn('You have already requested this swap.');
        return;
      }

      this.update({
        isRequested: true
      });

      var participant = this.app.services.auth.getPublicData();

      this.app.services.room.sendMessagePeer(this.owner.peer, {
        event: 'request swap',
        data: {
          orderId: this.id,
          participant: participant,
          participantMetadata: participantMetadata,
          destination: {
            address: destinationAddress
          }
        }
      });

      this.app.services.room.on('accept swap request', function (_ref6) {
        var orderId = _ref6.orderId;

        if (orderId === self.id) {
          this.unsubscribe();

          self.update({
            isProcessing: true,
            isRequested: false,
            destination: (0, _extends3.default)({}, self.destination, {
              participantAddress: destinationAddress
            })
          });

          callback(true);
        }
      });

      this.app.services.room.on('decline swap request', function (_ref7) {
        var orderId = _ref7.orderId;

        if (orderId === self.id) {
          this.unsubscribe();

          self.update({
            isRequested: false
          });

          // TODO think about preventing user from sent requests every N seconds
          callback(false);
        }
      });
    }

    /**
     *
     * @param {Object} newValues - { buyAmount, sellAmount } - new order values
     * @param {String} participantPeer - participant peer id
     */

  }, {
    key: 'acceptRequestForPartial',
    value: function acceptRequestForPartial(newValues, participantPeer) {
      var buyCurrency = this.buyCurrency,
          sellCurrency = this.sellCurrency;
      var buyAmount = newValues.buyAmount,
          sellAmount = newValues.sellAmount;


      var updatedRequests = this.requests.filter(function (_ref8) {
        var peer = _ref8.participant.peer;

        return peer !== participantPeer;
      });

      this.update({
        isRequested: false,
        requests: updatedRequests
      });

      var newOrder = this.collection.create({
        buyAmount: buyAmount,
        sellAmount: sellAmount,
        buyCurrency: buyCurrency,
        sellCurrency: sellCurrency
      });

      this.app.services.room.sendMessagePeer(participantPeer, {
        event: 'accept partial fulfilment',
        data: {
          orderId: this.id,
          newOrderId: newOrder.id
        }
      });
    }
  }, {
    key: 'declineRequestForPartial',
    value: function declineRequestForPartial(participantPeer) {
      // TODO this removes all requests, we need to remove only one referenced
      var updatedRequests = this.requests.filter(function (_ref9) {
        var peer = _ref9.participant.peer;

        return peer !== participantPeer;
      });

      this.update({
        isRequested: false,
        requests: updatedRequests
      });

      this.app.services.room.sendMessagePeer(participantPeer, {
        event: 'decline partial fulfilment',
        data: {
          orderId: this.id
        }
      });
    }

    /**
     *
     * @param {String} type - ['buyAmount','sellAmount']
     * @param {function} handler - function to be called on partial request to that order
     */

  }, {
    key: 'setRequestHandlerForPartial',
    value: function setRequestHandlerForPartial(type, handler) {
      if (!this.isMy) {
        throw new Error('RequestHandlerError: Not an owner');
      }
      if (type !== 'buyAmount' && type !== 'sellAmount') {
        throw new Error('RequestHandlerError: Key = \'' + type + '\' is not in [\'buyAmount\',\'sellAmount\']');
      }

      this.partialHandler[type] = handler;

      return this;
    }
  }, {
    key: 'acceptRequest',
    value: function acceptRequest(participantPeer) {
      var _requests$find = this.requests.find(function (_ref10) {
        var peer = _ref10.participant.peer;
        return peer === participantPeer;
      }),
          participant = _requests$find.participant,
          destination = _requests$find.destination;

      var address = destination.address;


      this.update({
        isRequested: false,
        isProcessing: true,
        participant: participant,
        destination: (0, _extends3.default)({}, this.destination, {
          participantAddress: address
        }),
        requests: []
      });

      this.app.services.room.sendMessagePeer(participantPeer, {
        event: 'accept swap request',
        data: {
          orderId: this.id
        }
      });
    }
  }, {
    key: 'declineRequest',
    value: function declineRequest(participantPeer) {
      var updatedRequests = this.requests.filter(function (_ref11) {
        var peer = _ref11.participant.peer;

        return peer !== participantPeer;
      });

      this.update({
        isRequested: false,
        requests: updatedRequests
      });

      this.app.services.room.sendMessagePeer(participantPeer, {
        event: 'decline swap request',
        data: {
          orderId: this.id
        }
      });
    }
  }]);
  return Order;
}();

exports.default = Order;
module.exports = exports['default'];

/***/ }),

/***/ 3125:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ETHTOKEN2USDT = exports.USDT2ETHTOKEN = exports.BTC2ETHTOKEN = exports.ETHTOKEN2BTC = exports.BTC2EOS = exports.EOS2BTC = exports.ETH2BCH = exports.BCH2ETH = exports.LTC2ETH = exports.ETH2LTC = exports.BTC2LTC = exports.LTC2BTC = exports.BTC2ETH = exports.ETH2BTC = undefined;

var _ETH2BTC = __webpack_require__(3126);

var _ETH2BTC2 = _interopRequireDefault(_ETH2BTC);

var _BTC2ETH = __webpack_require__(3127);

var _BTC2ETH2 = _interopRequireDefault(_BTC2ETH);

var _LTC2BTC = __webpack_require__(3128);

var _LTC2BTC2 = _interopRequireDefault(_LTC2BTC);

var _BTC2LTC = __webpack_require__(3129);

var _BTC2LTC2 = _interopRequireDefault(_BTC2LTC);

var _ETH2LTC = __webpack_require__(3130);

var _ETH2LTC2 = _interopRequireDefault(_ETH2LTC);

var _LTC2ETH = __webpack_require__(3131);

var _LTC2ETH2 = _interopRequireDefault(_LTC2ETH);

var _BCH2ETH = __webpack_require__(3132);

var _BCH2ETH2 = _interopRequireDefault(_BCH2ETH);

var _ETH2BCH = __webpack_require__(3133);

var _ETH2BCH2 = _interopRequireDefault(_ETH2BCH);

var _EOS2BTC = __webpack_require__(3134);

var _EOS2BTC2 = _interopRequireDefault(_EOS2BTC);

var _BTC2EOS = __webpack_require__(3135);

var _BTC2EOS2 = _interopRequireDefault(_BTC2EOS);

var _ETHTOKEN2BTC = __webpack_require__(3136);

var _ETHTOKEN2BTC2 = _interopRequireDefault(_ETHTOKEN2BTC);

var _BTC2ETHTOKEN = __webpack_require__(3137);

var _BTC2ETHTOKEN2 = _interopRequireDefault(_BTC2ETHTOKEN);

var _USDT2ETHTOKEN = __webpack_require__(3138);

var _USDT2ETHTOKEN2 = _interopRequireDefault(_USDT2ETHTOKEN);

var _ETHTOKEN2USDT = __webpack_require__(3139);

var _ETHTOKEN2USDT2 = _interopRequireDefault(_ETHTOKEN2USDT);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.ETH2BTC = _ETH2BTC2.default;
exports.BTC2ETH = _BTC2ETH2.default;
exports.LTC2BTC = _LTC2BTC2.default;
exports.BTC2LTC = _BTC2LTC2.default;
exports.ETH2LTC = _ETH2LTC2.default;
exports.LTC2ETH = _LTC2ETH2.default;
exports.BCH2ETH = _BCH2ETH2.default;
exports.ETH2BCH = _ETH2BCH2.default;
exports.EOS2BTC = _EOS2BTC2.default;
exports.BTC2EOS = _BTC2EOS2.default;
exports.ETHTOKEN2BTC = _ETHTOKEN2BTC2.default;
exports.BTC2ETHTOKEN = _BTC2ETHTOKEN2.default;
exports.USDT2ETHTOKEN = _USDT2ETHTOKEN2.default;
exports.ETHTOKEN2USDT = _ETHTOKEN2USDT2.default;

/***/ }),

/***/ 3126:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _defineProperty2 = __webpack_require__(123);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _crypto = __webpack_require__(70);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(82);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// move to BtcSwap
var ETH2BTC = function (_Flow) {
  (0, _inherits3.default)(ETH2BTC, _Flow);
  (0, _createClass3.default)(ETH2BTC, null, [{
    key: 'getName',
    value: function getName() {
      return this.getFromName() + '2' + this.getToName();
    }
  }, {
    key: 'getFromName',
    value: function getFromName() {
      return _swap.constants.COINS.eth;
    }
  }, {
    key: 'getToName',
    value: function getToName() {
      return _swap.constants.COINS.btc;
    }
  }]);

  function ETH2BTC(swap) {
    var _this$state;

    (0, _classCallCheck3.default)(this, ETH2BTC);

    var _this = (0, _possibleConstructorReturn3.default)(this, (ETH2BTC.__proto__ || (0, _getPrototypeOf2.default)(ETH2BTC)).call(this, swap));

    _this._flowName = ETH2BTC.getName();

    _this.stepNumbers = {
      'sign': 1,
      'wait-lock-btc': 2,
      'verify-script': 3,
      'sync-balance': 4,
      'lock-eth': 5,
      'wait-withdraw-eth': 6, // aka getSecret
      'withdraw-btc': 7,
      'finish': 8,
      'end': 9
    };

    _this.ethSwap = swap.participantSwap;
    _this.btcSwap = swap.ownerSwap;

    if (!_this.ethSwap) {
      throw new Error('BTC2ETH: "ethSwap" of type object required');
    }
    if (!_this.btcSwap) {
      throw new Error('BTC2ETH: "btcSwap" of type object required');
    }

    _this.state = (_this$state = {
      step: 0,

      isStoppedSwap: false,

      signTransactionHash: null,
      isSignFetching: false,
      isMeSigned: false,

      targetWallet: null,
      secretHash: null,
      btcScriptValues: null,

      btcScriptVerified: false,

      isBalanceFetching: false,
      isBalanceEnough: true,
      balance: null,

      btcScriptCreatingTransactionHash: null,
      ethSwapCreationTransactionHash: null,
      canCreateEthTransaction: true,
      isEthContractFunded: false,

      secret: null,

      isEthWithdrawn: false,
      isBtcWithdrawn: false,

      ethSwapWithdrawTransactionHash: null,
      btcSwapWithdrawTransactionHash: null,

      refundTransactionHash: null,
      isRefunded: false,

      isFinished: false,
      isSwapExist: false,

      withdrawRequestIncoming: false,
      withdrawRequestAccepted: false
    }, (0, _defineProperty3.default)(_this$state, 'isSignFetching', false), (0, _defineProperty3.default)(_this$state, 'isMeSigned', false), _this$state);

    (0, _get3.default)(ETH2BTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(ETH2BTC.prototype), '_persistSteps', _this).call(_this);
    _this._persistState();

    var flow = _this;
    flow.swap.room.once('request withdraw', function () {
      flow.setState({
        withdrawRequestIncoming: true
      });
    });
    return _this;
  }

  (0, _createClass3.default)(ETH2BTC, [{
    key: '_persistState',
    value: function _persistState() {
      (0, _get3.default)(ETH2BTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(ETH2BTC.prototype), '_persistState', this).call(this);
    }
  }, {
    key: '_getSteps',
    value: function _getSteps() {
      var _this2 = this;

      var flow = this;

      return [

      // 1. Sign swap to start

      function () {
        // this.sign()
      },

      // 2. Wait participant create, fund BTC Script

      function () {
        flow.swap.room.on('create btc script', function (_ref) {
          var scriptValues = _ref.scriptValues,
              btcScriptCreatingTransactionHash = _ref.btcScriptCreatingTransactionHash;
          var step = flow.state.step;


          if (step >= 3) {
            return;
          }

          flow.finishStep({
            secretHash: scriptValues.secretHash,
            btcScriptValues: scriptValues,
            btcScriptCreatingTransactionHash: btcScriptCreatingTransactionHash
          }, { step: 'wait-lock-btc', silentError: true });
        });

        flow.swap.room.sendMessage({
          event: 'request btc script'
        });
      },

      // 3. Verify BTC Script

      function () {
        (0, _debug2.default)('swap.core:flow')('waiting verify btc script');
        // this.verifyBtcScript()
      },

      // 4. Check balance

      function () {
        _this2.syncBalance();
      },

      // 5. Create ETH Contract

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
        var _flow$swap, participant, buyAmount, sellAmount, secretHash, utcNow, isBtcScriptOk, swapData, tryCreateSwap, isEthContractFunded, isStoppedSwap;

        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _flow$swap = flow.swap, participant = _flow$swap.participant, buyAmount = _flow$swap.buyAmount, sellAmount = _flow$swap.sellAmount;
                secretHash = flow.state.secretHash;

                utcNow = function utcNow() {
                  return Math.floor(Date.now() / 1000);
                };

                _context3.next = 5;
                return _swap.util.helpers.repeatAsyncUntilResult(function () {
                  var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(stopRepeat) {
                    var btcScriptValues, scriptCheckError;
                    return _regenerator2.default.wrap(function _callee$(_context) {
                      while (1) {
                        switch (_context.prev = _context.next) {
                          case 0:
                            btcScriptValues = flow.state.btcScriptValues;
                            _context.next = 3;
                            return flow.btcSwap.checkScript(btcScriptValues, {
                              value: buyAmount,
                              recipientPublicKey: _this2.app.services.auth.accounts.btc.getPublicKey(),
                              lockTime: utcNow(),
                              confidence: 0.8
                            });

                          case 3:
                            scriptCheckError = _context.sent;

                            if (!scriptCheckError) {
                              _context.next = 9;
                              break;
                            }

                            if (/Expected script lockTime/.test(scriptCheckError)) {
                              console.error('Btc script check error: btc was refunded', scriptCheckError);
                              flow.stopSwapProcess();
                              stopRepeat();
                            } else if (/Expected script value/.test(scriptCheckError)) {
                              console.warn('Btc script check: waiting balance');
                            } else {
                              flow.swap.events.dispatch('btc script check error', scriptCheckError);
                            }

                            return _context.abrupt('return', false);

                          case 9:
                            return _context.abrupt('return', true);

                          case 10:
                          case 'end':
                            return _context.stop();
                        }
                      }
                    }, _callee, _this2);
                  }));

                  return function (_x) {
                    return _ref3.apply(this, arguments);
                  };
                }());

              case 5:
                isBtcScriptOk = _context3.sent;

                if (isBtcScriptOk) {
                  _context3.next = 8;
                  break;
                }

                return _context3.abrupt('return');

              case 8:
                swapData = {
                  participantAddress: participant.eth.address,
                  secretHash: secretHash,
                  amount: sellAmount,
                  targetWallet: flow.swap.destinationSellAddress
                };

                tryCreateSwap = function () {
                  var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
                    var isEthContractFunded;
                    return _regenerator2.default.wrap(function _callee2$(_context2) {
                      while (1) {
                        switch (_context2.prev = _context2.next) {
                          case 0:
                            isEthContractFunded = flow.state.isEthContractFunded;

                            if (isEthContractFunded) {
                              _context2.next = 13;
                              break;
                            }

                            _context2.prev = 2;

                            (0, _debug2.default)('swap.core:flow')('create swap', swapData);
                            _context2.next = 6;
                            return _this2.ethSwap.create(swapData, function (hash) {
                              (0, _debug2.default)('swap.core:flow')('create swap tx hash', hash);
                              flow.swap.room.sendMessage({
                                event: 'create eth contract',
                                data: {
                                  ethSwapCreationTransactionHash: hash
                                }
                              });

                              flow.swap.room.on('request eth contract', function () {
                                flow.swap.room.sendMessage({
                                  event: 'create eth contract',
                                  data: {
                                    ethSwapCreationTransactionHash: hash
                                  }
                                });
                              });

                              flow.setState({
                                ethSwapCreationTransactionHash: hash,
                                canCreateEthTransaction: true
                              });
                            });

                          case 6:
                            _context2.next = 13;
                            break;

                          case 8:
                            _context2.prev = 8;
                            _context2.t0 = _context2['catch'](2);

                            if (/known transaction/.test(_context2.t0.message)) {
                              console.error('known tx: ' + _context2.t0.message);
                            } else if (/out of gas/.test(_context2.t0.message)) {
                              console.error('tx failed (wrong secret?): ' + _context2.t0.message);
                            } else {
                              console.error(_context2.t0);
                            }

                            flow.setState({
                              canCreateEthTransaction: false
                            });

                            return _context2.abrupt('return', null);

                          case 13:
                            return _context2.abrupt('return', true);

                          case 14:
                          case 'end':
                            return _context2.stop();
                        }
                      }
                    }, _callee2, _this2, [[2, 8]]);
                  }));

                  return function tryCreateSwap() {
                    return _ref4.apply(this, arguments);
                  };
                }();

                _context3.next = 12;
                return _swap.util.helpers.repeatAsyncUntilResult(function () {
                  return tryCreateSwap();
                });

              case 12:
                isEthContractFunded = _context3.sent;
                isStoppedSwap = flow.state.isStoppedSwap;


                if (isEthContractFunded && !isStoppedSwap) {
                  (0, _debug2.default)('swap.core:flow')('finish step');
                  flow.finishStep({
                    isEthContractFunded: isEthContractFunded
                  }, { step: 'lock-eth' });
                }

              case 15:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, _this2);
      })),

      // 6. Wait participant withdraw

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {
        var participant, checkSecretExist, secretFromContract, isEthWithdrawn;
        return _regenerator2.default.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                flow.swap.room.once('ethWithdrawTxHash', function () {
                  var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(_ref7) {
                    var ethSwapWithdrawTransactionHash = _ref7.ethSwapWithdrawTransactionHash;
                    var secretFromTxhash, isEthWithdrawn;
                    return _regenerator2.default.wrap(function _callee4$(_context4) {
                      while (1) {
                        switch (_context4.prev = _context4.next) {
                          case 0:
                            flow.setState({
                              ethSwapWithdrawTransactionHash: ethSwapWithdrawTransactionHash
                            }, true);

                            _context4.next = 3;
                            return _swap.util.helpers.repeatAsyncUntilResult(function () {
                              var secret = flow.state.secret;


                              if (secret) {
                                return secret;
                              } else {
                                return flow.ethSwap.getSecretFromTxhash(ethSwapWithdrawTransactionHash);
                              }
                            });

                          case 3:
                            secretFromTxhash = _context4.sent;


                            secretFromTxhash = '0x' + secretFromTxhash.replace(/^0x/, '');

                            isEthWithdrawn = flow.state.isEthWithdrawn;


                            if (!isEthWithdrawn && secretFromTxhash) {
                              (0, _debug2.default)('swap.core:flow')('got secret from tx', ethSwapWithdrawTransactionHash, secretFromTxhash);
                              flow.finishStep({
                                isEthWithdrawn: true,
                                secret: secretFromTxhash
                              }, { step: 'wait-withdraw-eth' });
                            }

                          case 7:
                          case 'end':
                            return _context4.stop();
                        }
                      }
                    }, _callee4, _this2);
                  }));

                  return function (_x2) {
                    return _ref6.apply(this, arguments);
                  };
                }());

                flow.swap.room.sendMessage({
                  event: 'request ethWithdrawTxHash'
                });

                // If partner decides to scam and doesn't send ethWithdrawTxHash
                // then we try to withdraw as in ETHTOKEN2USDT

                participant = flow.swap.participant;

                checkSecretExist = function () {
                  var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
                    var _secretFromContract;

                    return _regenerator2.default.wrap(function _callee5$(_context5) {
                      while (1) {
                        switch (_context5.prev = _context5.next) {
                          case 0:
                            _context5.prev = 0;
                            _context5.next = 3;
                            return flow.ethSwap.getSecret({
                              participantAddress: participant.eth.address
                            });

                          case 3:
                            _secretFromContract = _context5.sent;

                            if (!_secretFromContract) {
                              _context5.next = 9;
                              break;
                            }

                            _secretFromContract = '0x' + _secretFromContract.replace(/^0x/, '');

                            return _context5.abrupt('return', _secretFromContract);

                          case 9:
                            return _context5.abrupt('return', null);

                          case 10:
                            _context5.next = 15;
                            break;

                          case 12:
                            _context5.prev = 12;
                            _context5.t0 = _context5['catch'](0);
                            return _context5.abrupt('return', null);

                          case 15:
                          case 'end':
                            return _context5.stop();
                        }
                      }
                    }, _callee5, _this2, [[0, 12]]);
                  }));

                  return function checkSecretExist() {
                    return _ref8.apply(this, arguments);
                  };
                }();

                _context6.next = 6;
                return _swap.util.helpers.repeatAsyncUntilResult(function (stopRepeat) {
                  var _flow$state = flow.state,
                      isEthWithdrawn = _flow$state.isEthWithdrawn,
                      isRefunded = _flow$state.isRefunded;


                  if (isEthWithdrawn || isRefunded) {
                    stopRepeat();

                    return false;
                  }

                  return checkSecretExist();
                });

              case 6:
                secretFromContract = _context6.sent;
                isEthWithdrawn = _this2.state.isEthWithdrawn;


                if (secretFromContract && !isEthWithdrawn) {
                  (0, _debug2.default)('swap.core:flow')('got secret from smart contract', secretFromContract);

                  flow.finishStep({
                    isEthWithdrawn: true,
                    secret: secretFromContract
                  }, { step: 'wait-withdraw-eth' });
                }

              case 9:
              case 'end':
                return _context6.stop();
            }
          }
        }, _callee6, _this2);
      })),

      // 7. Withdraw

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7() {
        return _regenerator2.default.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                _context7.next = 2;
                return _swap.util.helpers.repeatAsyncUntilResult(function (stopRepeat) {
                  var _flow$state2 = flow.state,
                      secret = _flow$state2.secret,
                      btcScriptValues = _flow$state2.btcScriptValues,
                      destinationBuyAddress = _flow$state2.destinationBuyAddress,
                      btcSwapWithdrawTransactionHash = _flow$state2.btcSwapWithdrawTransactionHash;


                  if (btcSwapWithdrawTransactionHash) {
                    return true;
                  }

                  if (!btcScriptValues) {
                    console.error('There is no "btcScriptValues" in state. No way to continue swap...');
                    return null;
                  }

                  return flow.btcSwap.withdraw({
                    scriptValues: btcScriptValues,
                    secret: secret,
                    destinationAddress: destinationBuyAddress
                  }).then(function (hash) {
                    flow.setState({
                      btcSwapWithdrawTransactionHash: hash
                    }, true);
                    return true;
                  }).catch(function (error) {
                    return null;
                  });
                });

              case 2:

                flow.finishStep({
                  isBtcWithdrawn: true
                }, { step: 'withdraw-btc' });

              case 3:
              case 'end':
                return _context7.stop();
            }
          }
        }, _callee7, _this2);
      })),

      // 8. Finish

      function () {
        flow.swap.room.once('request swap finished', function () {
          var btcSwapWithdrawTransactionHash = flow.state.btcSwapWithdrawTransactionHash;


          flow.swap.room.sendMessage({
            event: 'swap finished',
            data: {
              btcSwapWithdrawTransactionHash: btcSwapWithdrawTransactionHash
            }
          });
        });

        flow.finishStep({
          isFinished: true
        }, { step: 'finish' });
      },

      // 9. Finished!

      function () {}];
    }
  }, {
    key: 'acceptWithdrawRequest',
    value: function acceptWithdrawRequest() {
      var _this3 = this;

      var flow = this;
      var withdrawRequestAccepted = flow.state.withdrawRequestAccepted;


      if (withdrawRequestAccepted) {
        return;
      }

      this.setState({
        withdrawRequestAccepted: true
      });

      this.swap.room.once('do withdraw', function () {
        var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8(_ref11) {
          var secret = _ref11.secret;
          var data;
          return _regenerator2.default.wrap(function _callee8$(_context8) {
            while (1) {
              switch (_context8.prev = _context8.next) {
                case 0:
                  _context8.prev = 0;
                  data = {
                    participantAddress: flow.swap.participant.eth.address,
                    secret: secret
                  };
                  _context8.next = 4;
                  return flow.ethSwap.withdrawNoMoney(data, function (hash) {
                    flow.swap.room.sendMessage({
                      event: 'withdraw ready',
                      data: {
                        ethSwapWithdrawTransactionHash: hash
                      }
                    });
                  });

                case 4:
                  _context8.next = 9;
                  break;

                case 6:
                  _context8.prev = 6;
                  _context8.t0 = _context8['catch'](0);

                  (0, _debug2.default)('swap.core:flow')(_context8.t0.message);

                case 9:
                case 'end':
                  return _context8.stop();
              }
            }
          }, _callee8, _this3, [[0, 6]]);
        }));

        return function (_x3) {
          return _ref10.apply(this, arguments);
        };
      }());

      this.swap.room.sendMessage({
        event: 'accept withdraw request'
      });
    }
  }, {
    key: '_checkSwapAlreadyExists',
    value: function _checkSwapAlreadyExists() {
      var participant = this.swap.participant;


      var swapData = {
        ownerAddress: this.app.services.auth.accounts.eth.address,
        participantAddress: participant.eth.address
      };

      return this.ethSwap.checkSwapExists(swapData);
    }
  }, {
    key: 'sign',
    value: function () {
      var _ref12 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9() {
        var flow, swapExists, _flow$state3, isSignFetching, isMeSigned;

        return _regenerator2.default.wrap(function _callee9$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                flow = this;
                _context9.next = 3;
                return flow._checkSwapAlreadyExists();

              case 3:
                swapExists = _context9.sent;

                if (!swapExists) {
                  _context9.next = 10;
                  break;
                }

                flow.swap.room.sendMessage({
                  event: 'swap exists'
                });

                flow.setState({
                  isSwapExist: true
                });

                flow.stopSwapProcess();
                _context9.next = 19;
                break;

              case 10:
                _flow$state3 = flow.state, isSignFetching = _flow$state3.isSignFetching, isMeSigned = _flow$state3.isMeSigned;

                if (!(isSignFetching || isMeSigned)) {
                  _context9.next = 13;
                  break;
                }

                return _context9.abrupt('return', true);

              case 13:

                flow.setState({
                  isSignFetching: true
                });

                flow.swap.room.once('btc refund completed', function () {
                  flow.tryRefund();
                });

                flow.swap.room.on('request sign', function () {
                  flow.swap.room.sendMessage({
                    event: 'swap sign'
                  });
                });

                flow.swap.room.sendMessage({
                  event: 'swap sign'
                });

                flow.finishStep({
                  isMeSigned: true
                }, { step: 'sign', silentError: true });

                return _context9.abrupt('return', true);

              case 19:
              case 'end':
                return _context9.stop();
            }
          }
        }, _callee9, this);
      }));

      function sign() {
        return _ref12.apply(this, arguments);
      }

      return sign;
    }()
  }, {
    key: 'verifyBtcScript',
    value: function verifyBtcScript() {
      var flow = this;
      var _flow$state4 = flow.state,
          btcScriptVerified = _flow$state4.btcScriptVerified,
          btcScriptValues = _flow$state4.btcScriptValues;


      if (btcScriptVerified) {
        return true;
      }

      if (!btcScriptValues) {
        throw new Error('No script, cannot verify');
      }

      flow.finishStep({
        btcScriptVerified: true
      }, { step: 'verify-script' });

      return true;
    }
  }, {
    key: 'syncBalance',
    value: function () {
      var _ref13 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee10() {
        var sellAmount, balance, isEnoughMoney, stateData;
        return _regenerator2.default.wrap(function _callee10$(_context10) {
          while (1) {
            switch (_context10.prev = _context10.next) {
              case 0:
                sellAmount = this.swap.sellAmount;


                this.setState({
                  isBalanceFetching: true
                });

                _context10.next = 4;
                return this.ethSwap.fetchBalance(this.app.services.auth.accounts.eth.address);

              case 4:
                balance = _context10.sent;
                isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);
                stateData = {
                  balance: balance,
                  isBalanceFetching: false,
                  isBalanceEnough: isEnoughMoney
                };


                if (isEnoughMoney) {
                  this.finishStep(stateData, { step: 'sync-balance' });
                } else {
                  this.setState(stateData, true);
                }

              case 8:
              case 'end':
                return _context10.stop();
            }
          }
        }, _callee10, this);
      }));

      function syncBalance() {
        return _ref13.apply(this, arguments);
      }

      return syncBalance;
    }()
  }, {
    key: 'tryRefund',
    value: function () {
      var _ref14 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee11() {
        var _this4 = this;

        var participant, _state, secretHash, isEthContractFunded, isRefunded, refundHandler, wasRefunded;

        return _regenerator2.default.wrap(function _callee11$(_context11) {
          while (1) {
            switch (_context11.prev = _context11.next) {
              case 0:
                participant = this.swap.participant;
                _state = this.state, secretHash = _state.secretHash, isEthContractFunded = _state.isEthContractFunded, isRefunded = _state.isRefunded;

                if (!(!isEthContractFunded || isRefunded)) {
                  _context11.next = 4;
                  break;
                }

                return _context11.abrupt('return', false);

              case 4:
                refundHandler = function refundHandler() {
                  var hash = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

                  _this4.swap.room.sendMessage({
                    event: 'eth refund completed'
                  });

                  _this4.setState({
                    refundTransactionHash: hash,
                    isRefunded: true,
                    isSwapExist: false
                  }, true);
                };

                _context11.prev = 5;
                _context11.next = 8;
                return this.ethSwap.wasRefunded({ secretHash: secretHash });

              case 8:
                wasRefunded = _context11.sent;

                if (!wasRefunded) {
                  _context11.next = 13;
                  break;
                }

                (0, _debug2.default)('swap.core:flow')('This swap was refunded');

                refundHandler();

                return _context11.abrupt('return', true);

              case 13:
                _context11.next = 19;
                break;

              case 15:
                _context11.prev = 15;
                _context11.t0 = _context11['catch'](5);

                console.warn('wasRefunded error:', _context11.t0);

                return _context11.abrupt('return', false);

              case 19:
                return _context11.abrupt('return', this.ethSwap.refund({
                  participantAddress: participant.eth.address
                }).then(function (hash) {
                  if (!hash) {
                    return false;
                  }

                  refundHandler(hash);

                  return true;
                }).catch(function (error) {
                  return false;
                }));

              case 20:
              case 'end':
                return _context11.stop();
            }
          }
        }, _callee11, this, [[5, 15]]);
      }));

      function tryRefund() {
        return _ref14.apply(this, arguments);
      }

      return tryRefund;
    }()
  }, {
    key: 'stopSwapProcess',
    value: function stopSwapProcess() {
      var flow = this;

      console.warn('Swap was stopped');

      flow.setState({
        isStoppedSwap: true
      }, true);
    }
  }, {
    key: 'tryWithdraw',
    value: function () {
      var _ref15 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee12(_secret) {
        var _this5 = this;

        var _state2, secret, secretHash, isEthWithdrawn, isBtcWithdrawn, btcScriptValues, _secretHash, _btcSwap$createScript, scriptAddress, balance;

        return _regenerator2.default.wrap(function _callee12$(_context12) {
          while (1) {
            switch (_context12.prev = _context12.next) {
              case 0:
                _state2 = this.state, secret = _state2.secret, secretHash = _state2.secretHash, isEthWithdrawn = _state2.isEthWithdrawn, isBtcWithdrawn = _state2.isBtcWithdrawn, btcScriptValues = _state2.btcScriptValues;

                if (_secret) {
                  _context12.next = 3;
                  break;
                }

                throw new Error('Withdrawal is automatic. For manual withdrawal, provide a secret');

              case 3:
                if (btcScriptValues) {
                  _context12.next = 5;
                  break;
                }

                throw new Error('Cannot withdraw without script values');

              case 5:

                if (secret && secret != _secret) console.warn('Secret already known and is different. Are you sure?');

                if (isBtcWithdrawn) console.warn('Looks like money were already withdrawn, are you sure?');

                (0, _debug2.default)('swap.core:flow')('WITHDRAW using secret = ' + _secret);

                _secretHash = _crypto2.default.ripemd160(Buffer.from(_secret, 'hex')).toString('hex');


                if (secretHash != _secretHash) console.warn('Hash does not match! state: ' + secretHash + ', given: ' + _secretHash);

                _btcSwap$createScript = this.btcSwap.createScript(btcScriptValues), scriptAddress = _btcSwap$createScript.scriptAddress;
                _context12.next = 13;
                return this.btcSwap.getBalance(scriptAddress);

              case 13:
                balance = _context12.sent;


                (0, _debug2.default)('swap.core:flow')('address=' + scriptAddress + ', balance=' + balance);

                if (!(balance === 0)) {
                  _context12.next = 18;
                  break;
                }

                this.finishStep({
                  isBtcWithdrawn: true
                }, { step: 'withdraw-btc' });
                throw new Error('Already withdrawn: address=' + scriptAddress + ',balance=' + balance);

              case 18:
                _context12.next = 20;
                return this.btcSwap.withdraw({
                  scriptValues: btcScriptValues,
                  secret: _secret
                }, function (hash) {
                  (0, _debug2.default)('swap.core:flow')('TX hash=' + hash);
                  _this5.setState({
                    btcSwapWithdrawTransactionHash: hash
                  });
                });

              case 20:
                (0, _debug2.default)('swap.core:flow')('TX withdraw sent: ' + this.state.btcSwapWithdrawTransactionHash);

                this.finishStep({
                  isBtcWithdrawn: true
                }, { step: 'withdraw-btc' });

              case 22:
              case 'end':
                return _context12.stop();
            }
          }
        }, _callee12, this);
      }));

      function tryWithdraw(_x5) {
        return _ref15.apply(this, arguments);
      }

      return tryWithdraw;
    }()
  }]);
  return ETH2BTC;
}(_swap3.Flow);

exports.default = ETH2BTC;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3127:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _crypto = __webpack_require__(70);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(82);

var _bignumber = __webpack_require__(30);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BTC2ETH = function (_Flow) {
  (0, _inherits3.default)(BTC2ETH, _Flow);
  (0, _createClass3.default)(BTC2ETH, null, [{
    key: 'getName',
    value: function getName() {
      return this.getFromName() + '2' + this.getToName();
    }
  }, {
    key: 'getFromName',
    value: function getFromName() {
      return _swap.constants.COINS.btc;
    }
  }, {
    key: 'getToName',
    value: function getToName() {
      return _swap.constants.COINS.eth;
    }
  }]);

  function BTC2ETH(swap) {
    (0, _classCallCheck3.default)(this, BTC2ETH);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BTC2ETH.__proto__ || (0, _getPrototypeOf2.default)(BTC2ETH)).call(this, swap));

    _this.getRefundTxHex = function () {
      _this.btcSwap.getRefundHexTransaction({
        scriptValues: _this.state.btcScriptValues,
        secret: _this.state.secret
      }).then(function (txHex) {
        _this.setState({
          refundTxHex: txHex
        });
      });
    };

    _this._flowName = BTC2ETH.getName();

    _this.stepNumbers = {
      'sign': 1,
      'submit-secret': 2,
      'sync-balance': 3,
      'lock-btc': 4,
      'wait-lock-eth': 5,
      'withdraw-eth': 6,
      'finish': 7,
      'end': 8
    };

    _this.ethSwap = swap.ownerSwap;
    _this.btcSwap = swap.participantSwap;

    if (!_this.ethSwap) {
      throw new Error('BTC2ETH: "ethSwap" of type object required');
    }
    if (!_this.btcSwap) {
      throw new Error('BTC2ETH: "btcSwap" of type object required');
    }

    _this.state = {
      step: 0,

      isStoppedSwap: false,

      signTransactionHash: null,
      isSignFetching: false,
      isParticipantSigned: false,

      btcScriptCreatingTransactionHash: null,
      ethSwapCreationTransactionHash: null,

      secretHash: null,
      btcScriptValues: null,

      btcScriptVerified: false,

      isBalanceFetching: false,
      isBalanceEnough: true,
      balance: null,

      isEthContractFunded: false,

      btcSwapWithdrawTransactionHash: null,
      ethSwapWithdrawTransactionHash: null,

      canCreateEthTransaction: true,
      isEthWithdrawn: false,

      refundTransactionHash: null,
      isRefunded: false,

      withdrawFee: null,
      refundTxHex: null,
      isFinished: false,
      isSwapExist: false,

      requireWithdrawFee: false
    };

    (0, _get3.default)(BTC2ETH.prototype.__proto__ || (0, _getPrototypeOf2.default)(BTC2ETH.prototype), '_persistSteps', _this).call(_this);
    _this._persistState();
    return _this;
  }

  (0, _createClass3.default)(BTC2ETH, [{
    key: '_persistState',
    value: function _persistState() {
      (0, _get3.default)(BTC2ETH.prototype.__proto__ || (0, _getPrototypeOf2.default)(BTC2ETH.prototype), '_persistState', this).call(this);
    }
  }, {
    key: '_getSteps',
    value: function _getSteps() {
      var _this2 = this;

      var flow = this;

      return [

      // 1. Signs

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                flow.swap.room.once('swap sign', function () {
                  var step = flow.state.step;


                  if (step >= 2) {
                    return;
                  }

                  flow.swap.room.once('eth refund completed', function () {
                    flow.tryRefund();
                  });

                  flow.finishStep({
                    isParticipantSigned: true
                  }, { step: 'sign', silentError: true });
                });

                flow.swap.room.once('swap exists', function () {
                  flow.setState({
                    isSwapExist: true
                  });

                  flow.stopSwapProcess();
                });

                flow.swap.room.sendMessage({
                  event: 'request sign'
                });

              case 3:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, _this2);
      })),

      // 2. Create secret, secret hash and BTC script

      function () {
        // this.submitSecret()
      },

      // 3. Check balance

      function () {
        _this2.syncBalance();
      },

      // 4. Create BTC Script, fund, notify participant

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
        var onTransactionHash, sellAmount, _flow$state2, isBalanceEnough, btcScriptValues, checkBTCScriptBalance, isStoppedSwap;

        return _regenerator2.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                onTransactionHash = function onTransactionHash(txID) {
                  var _flow$state = flow.state,
                      btcScriptCreatingTransactionHash = _flow$state.btcScriptCreatingTransactionHash,
                      btcScriptValues = _flow$state.btcScriptValues;


                  if (btcScriptCreatingTransactionHash) {
                    return;
                  }

                  flow.setState({
                    btcScriptCreatingTransactionHash: txID
                  });

                  flow.swap.room.once('request btc script', function () {
                    flow.swap.room.sendMessage({
                      event: 'create btc script',
                      data: {
                        scriptValues: btcScriptValues,
                        btcScriptCreatingTransactionHash: txID
                      }
                    });
                  });

                  flow.swap.room.sendMessage({
                    event: 'create btc script',
                    data: {
                      scriptValues: btcScriptValues,
                      btcScriptCreatingTransactionHash: txID
                    }
                  });
                };

                sellAmount = flow.swap.sellAmount;
                _flow$state2 = flow.state, isBalanceEnough = _flow$state2.isBalanceEnough, btcScriptValues = _flow$state2.btcScriptValues;

                if (!isBalanceEnough) {
                  _context4.next = 6;
                  break;
                }

                _context4.next = 6;
                return flow.btcSwap.fundScript({
                  scriptValues: btcScriptValues,
                  amount: sellAmount
                });

              case 6:
                checkBTCScriptBalance = function () {
                  var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
                    var _btcSwap$createScript, scriptAddress, unspents, txID, balance, isEnoughMoney;

                    return _regenerator2.default.wrap(function _callee2$(_context2) {
                      while (1) {
                        switch (_context2.prev = _context2.next) {
                          case 0:
                            _btcSwap$createScript = _this2.btcSwap.createScript(btcScriptValues), scriptAddress = _btcSwap$createScript.scriptAddress;
                            _context2.next = 3;
                            return _this2.btcSwap.fetchUnspents(scriptAddress);

                          case 3:
                            unspents = _context2.sent;

                            if (!(unspents.length === 0)) {
                              _context2.next = 6;
                              break;
                            }

                            return _context2.abrupt('return', false);

                          case 6:
                            txID = unspents[0].txid;
                            _context2.next = 9;
                            return _this2.btcSwap.getBalance(btcScriptValues);

                          case 9:
                            balance = _context2.sent;
                            isEnoughMoney = (0, _bignumber.BigNumber)(balance).isGreaterThanOrEqualTo(sellAmount.times(1e8));


                            if (isEnoughMoney) {
                              flow.setState({
                                scriptBalance: (0, _bignumber.BigNumber)(balance).div(1e8).dp(8)
                              });

                              onTransactionHash(txID);
                            }

                            return _context2.abrupt('return', isEnoughMoney);

                          case 13:
                          case 'end':
                            return _context2.stop();
                        }
                      }
                    }, _callee2, _this2);
                  }));

                  return function checkBTCScriptBalance() {
                    return _ref3.apply(this, arguments);
                  };
                }();

                _context4.next = 9;
                return _swap.util.helpers.repeatAsyncUntilResult(function () {
                  var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(stopRepeat) {
                    var isStoppedSwap;
                    return _regenerator2.default.wrap(function _callee3$(_context3) {
                      while (1) {
                        switch (_context3.prev = _context3.next) {
                          case 0:
                            isStoppedSwap = flow.state.isStoppedSwap;

                            if (isStoppedSwap) {
                              _context3.next = 7;
                              break;
                            }

                            _context3.next = 4;
                            return checkBTCScriptBalance();

                          case 4:
                            return _context3.abrupt('return', _context3.sent);

                          case 7:
                            stopRepeat();

                          case 8:
                          case 'end':
                            return _context3.stop();
                        }
                      }
                    }, _callee3, _this2);
                  }));

                  return function (_x) {
                    return _ref4.apply(this, arguments);
                  };
                }());

              case 9:
                isStoppedSwap = flow.state.isStoppedSwap;


                if (!isStoppedSwap) {
                  flow.finishStep({
                    isBtcScriptFunded: true
                  }, { step: 'lock-btc' });
                }

              case 11:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, _this2);
      })),

      // 5. Wait participant creates ETH Contract

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {
        var participant, isContractBalanceOk, isEthContractFunded;
        return _regenerator2.default.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                flow.swap.room.sendMessage({
                  event: 'request eth contract'
                });

                flow.swap.room.once('request btc script', function () {
                  var _flow$state3 = flow.state,
                      btcScriptValues = _flow$state3.btcScriptValues,
                      btcScriptCreatingTransactionHash = _flow$state3.btcScriptCreatingTransactionHash;


                  flow.swap.room.sendMessage({
                    event: 'create btc script',
                    data: {
                      scriptValues: btcScriptValues,
                      btcScriptCreatingTransactionHash: btcScriptCreatingTransactionHash
                    }
                  });
                });

                participant = flow.swap.participant;


                flow.swap.room.on('create eth contract', function (_ref6) {
                  var ethSwapCreationTransactionHash = _ref6.ethSwapCreationTransactionHash;

                  flow.setState({
                    ethSwapCreationTransactionHash: ethSwapCreationTransactionHash
                  }, true);
                });

                _context6.next = 6;
                return _swap.util.helpers.repeatAsyncUntilResult((0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
                  var balance;
                  return _regenerator2.default.wrap(function _callee5$(_context5) {
                    while (1) {
                      switch (_context5.prev = _context5.next) {
                        case 0:
                          _context5.next = 2;
                          return flow.ethSwap.getBalance({
                            ownerAddress: participant.eth.address
                          });

                        case 2:
                          balance = _context5.sent;


                          (0, _debug2.default)('swap.core:flow')('Checking contract balance:', balance);

                          if (!(balance > 0)) {
                            _context5.next = 6;
                            break;
                          }

                          return _context5.abrupt('return', true);

                        case 6:
                          return _context5.abrupt('return', false);

                        case 7:
                        case 'end':
                          return _context5.stop();
                      }
                    }
                  }, _callee5, _this2);
                })));

              case 6:
                isContractBalanceOk = _context6.sent;


                if (isContractBalanceOk) {
                  isEthContractFunded = flow.state.isEthContractFunded;


                  if (!isEthContractFunded) {
                    flow.finishStep({
                      isEthContractFunded: true
                    }, { step: 'wait-lock-eth' });
                  }
                }

              case 8:
              case 'end':
                return _context6.stop();
            }
          }
        }, _callee6, _this2);
      })),

      // 6. Withdraw

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8() {
        var _flow$swap, buyAmount, participant, _flow$state4, secretHash, secret, data, balanceCheckError, targetWallet, needTargetWallet, onWithdrawReady, tryWithdraw, isEthWithdrawn;

        return _regenerator2.default.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                _flow$swap = flow.swap, buyAmount = _flow$swap.buyAmount, participant = _flow$swap.participant;
                _flow$state4 = flow.state, secretHash = _flow$state4.secretHash, secret = _flow$state4.secret;
                data = {
                  ownerAddress: participant.eth.address,
                  secret: secret
                };
                _context8.next = 5;
                return flow.ethSwap.checkBalance({
                  ownerAddress: participant.eth.address,
                  participantAddress: _this2.app.services.auth.accounts.eth.address,
                  expectedValue: buyAmount,
                  expectedHash: secretHash
                });

              case 5:
                balanceCheckError = _context8.sent;

                if (!balanceCheckError) {
                  _context8.next = 10;
                  break;
                }

                console.error('Waiting until deposit: ETH balance check error:', balanceCheckError);
                flow.swap.events.dispatch('eth balance check error', balanceCheckError);

                return _context8.abrupt('return');

              case 10:
                if (!flow.ethSwap.hasTargetWallet()) {
                  _context8.next = 19;
                  break;
                }

                _context8.next = 13;
                return flow.ethSwap.getTargetWallet(participant.eth.address);

              case 13:
                targetWallet = _context8.sent;
                needTargetWallet = flow.swap.destinationBuyAddress ? flow.swap.destinationBuyAddress : _this2.app.services.auth.accounts.eth.address;

                if (!(targetWallet !== needTargetWallet)) {
                  _context8.next = 19;
                  break;
                }

                console.error('Destination address for ether dismatch with needed (Needed, Getted). Stop swap now!', needTargetWallet, targetWallet);
                flow.swap.events.dispatch('address for ether invalid', {
                  needed: needTargetWallet,
                  getted: targetWallet
                });

                return _context8.abrupt('return');

              case 19:
                onWithdrawReady = function onWithdrawReady() {
                  flow.swap.room.once('request ethWithdrawTxHash', function () {
                    var ethSwapWithdrawTransactionHash = flow.state.ethSwapWithdrawTransactionHash;


                    flow.swap.room.sendMessage({
                      event: 'ethWithdrawTxHash',
                      data: {
                        ethSwapWithdrawTransactionHash: ethSwapWithdrawTransactionHash
                      }
                    });
                  });

                  var step = flow.state.step;


                  if (step >= 7) {
                    return;
                  }

                  flow.finishStep({
                    isEthWithdrawn: true
                  }, 'withdraw-eth');
                };

                tryWithdraw = function () {
                  var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(stopRepeater) {
                    var isEthWithdrawn, withdrawFee, withdrawNeededGas, requireWithdrawFee;
                    return _regenerator2.default.wrap(function _callee7$(_context7) {
                      while (1) {
                        switch (_context7.prev = _context7.next) {
                          case 0:
                            isEthWithdrawn = flow.state.isEthWithdrawn;

                            if (isEthWithdrawn) {
                              _context7.next = 27;
                              break;
                            }

                            _context7.prev = 2;
                            withdrawFee = flow.state.withdrawFee;

                            if (withdrawFee) {
                              _context7.next = 10;
                              break;
                            }

                            _context7.next = 7;
                            return flow.ethSwap.calcWithdrawGas({
                              ownerAddress: data.ownerAddress,
                              secret: secret
                            });

                          case 7:
                            withdrawNeededGas = _context7.sent;

                            flow.setState({
                              withdrawFee: withdrawNeededGas
                            });
                            (0, _debug2.default)('swap.core:flow')('withdraw gas fee', withdrawNeededGas);

                          case 10:
                            _context7.next = 12;
                            return flow.ethSwap.withdraw(data, function (hash) {
                              flow.setState({
                                isEthWithdrawn: true,
                                ethSwapWithdrawTransactionHash: hash,
                                canCreateEthTransaction: true,
                                requireWithdrawFee: false
                              }, true);

                              flow.swap.room.sendMessage({
                                event: 'ethWithdrawTxHash',
                                data: {
                                  ethSwapWithdrawTransactionHash: hash
                                }
                              });
                            });

                          case 12:

                            stopRepeater();
                            return _context7.abrupt('return', true);

                          case 16:
                            _context7.prev = 16;
                            _context7.t0 = _context7['catch'](2);

                            if (!/known transaction/.test(_context7.t0.message)) {
                              _context7.next = 24;
                              break;
                            }

                            console.error('known tx: ' + _context7.t0.message);
                            stopRepeater();
                            return _context7.abrupt('return', true);

                          case 24:
                            if (/out of gas/.test(_context7.t0.message)) {
                              console.error('tx failed (wrong secret?): ' + _context7.t0.message);
                            } else if (/insufficient funds for gas/.test(_context7.t0.message)) {
                              console.error('insufficient fund for gas: ' + _context7.t0.message);

                              (0, _debug2.default)('swap.core:flow')('insufficient fund for gas... wait fund or request other side to withdraw');

                              requireWithdrawFee = _this2.state.requireWithdrawFee;


                              if (!requireWithdrawFee) {
                                flow.swap.room.once('withdraw ready', function (_ref10) {
                                  var ethSwapWithdrawTransactionHash = _ref10.ethSwapWithdrawTransactionHash;

                                  flow.setState({
                                    ethSwapWithdrawTransactionHash: ethSwapWithdrawTransactionHash
                                  });

                                  onWithdrawReady();
                                });

                                flow.setState({
                                  requireWithdrawFee: true
                                });
                              }
                            } else {
                              console.error(_context7.t0);
                            }

                          case 25:
                            flow.setState({
                              canCreateEthTransaction: false
                            });

                            return _context7.abrupt('return', null);

                          case 27:
                            return _context7.abrupt('return', true);

                          case 28:
                          case 'end':
                            return _context7.stop();
                        }
                      }
                    }, _callee7, _this2, [[2, 16]]);
                  }));

                  return function tryWithdraw(_x2) {
                    return _ref9.apply(this, arguments);
                  };
                }();

                _context8.next = 23;
                return _swap.util.helpers.repeatAsyncUntilResult(function (stopRepeater) {
                  return tryWithdraw(stopRepeater);
                });

              case 23:
                isEthWithdrawn = _context8.sent;


                if (isEthWithdrawn) {
                  onWithdrawReady();
                }

              case 25:
              case 'end':
                return _context8.stop();
            }
          }
        }, _callee8, _this2);
      })),

      // 7. Finish

      function () {
        flow.swap.room.once('swap finished', function (_ref11) {
          var btcSwapWithdrawTransactionHash = _ref11.btcSwapWithdrawTransactionHash;

          flow.setState({
            btcSwapWithdrawTransactionHash: btcSwapWithdrawTransactionHash
          });
        });

        flow.swap.room.sendMessage({
          event: 'request swap finished'
        });

        flow.finishStep({
          isFinished: true
        }, 'finish');
      },

      // 8. Finished!

      function () {}];
    }

    /**
     * TODO - backport version compatibility
     *  mapped to sendWithdrawRequestToAnotherParticipant
     *  remove at next iteration after client software update
     *  Used in swap.react
     */

  }, {
    key: 'sendWithdrawRequest',
    value: function sendWithdrawRequest() {
      return this.sendWithdrawRequestToAnotherParticipant();
    }
  }, {
    key: 'sendWithdrawRequestToAnotherParticipant',
    value: function sendWithdrawRequestToAnotherParticipant() {
      var flow = this;

      var _flow$state5 = flow.state,
          requireWithdrawFee = _flow$state5.requireWithdrawFee,
          requireWithdrawFeeSended = _flow$state5.requireWithdrawFeeSended;


      if (!requireWithdrawFee || requireWithdrawFeeSended) {
        return;
      }

      flow.setState({
        requireWithdrawFeeSended: true
      });

      flow.swap.room.on('accept withdraw request', function () {
        flow.swap.room.sendMessage({
          event: 'do withdraw',
          data: {
            secret: flow.state.secret
          }
        });
      });

      flow.swap.room.sendMessage({
        event: 'request withdraw'
      });
    }
  }, {
    key: 'submitSecret',
    value: function submitSecret(secret) {
      if (this.state.secret) {
        return;
      }

      if (!this.state.isParticipantSigned) {
        throw new Error('Cannot proceed: participant not signed. step=' + this.state.step);
      }

      var secretHash = _crypto2.default.ripemd160(Buffer.from(secret, 'hex')).toString('hex');

      /* Secret hash generated - create BTC script - and only after this notify other part */
      this.createWorkBTCScript(secretHash);

      var _secret = '0x' + secret.replace(/^0x/, '');

      this.finishStep({
        secret: _secret,
        secretHash: secretHash
      }, { step: 'submit-secret' });
    }
  }, {
    key: 'getBTCScriptAddress',
    value: function getBTCScriptAddress() {
      var scriptAddress = this.state.scriptAddress;

      return scriptAddress;
    }
  }, {
    key: 'createWorkBTCScript',
    value: function createWorkBTCScript(secretHash) {
      if (this.state.btcScriptValues) {
        (0, _debug2.default)('swap.core:flow')('BTC Script already generated', this.state.btcScriptValues);
        return;
      }

      var participant = this.swap.participant;


      var utcNow = function utcNow() {
        return Math.floor(Date.now() / 1000);
      };
      var getLockTime = function getLockTime() {
        return utcNow() + 60 * 60 * 3;
      }; // 3 hours from now

      var scriptValues = {
        secretHash: secretHash,
        ownerPublicKey: this.app.services.auth.accounts.btc.getPublicKey(),
        recipientPublicKey: participant.btc.publicKey,
        lockTime: getLockTime()
      };

      var _btcSwap$createScript2 = this.btcSwap.createScript(scriptValues),
          scriptAddress = _btcSwap$createScript2.scriptAddress;

      this.setState({
        scriptAddress: scriptAddress,
        btcScriptValues: scriptValues,
        scriptBalance: 0,
        scriptUnspendBalance: 0
      });
    }
  }, {
    key: 'skipSyncBalance',
    value: function () {
      var _ref12 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9() {
        return _regenerator2.default.wrap(function _callee9$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                this.finishStep({}, { step: 'sync-balance' });

              case 1:
              case 'end':
                return _context9.stop();
            }
          }
        }, _callee9, this);
      }));

      function skipSyncBalance() {
        return _ref12.apply(this, arguments);
      }

      return skipSyncBalance;
    }()
  }, {
    key: 'syncBalance',
    value: function () {
      var _ref13 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee10() {
        var sellAmount, btcAddress, txFee, unspents, totalUnspent, balance, needAmount, isEnoughMoney, stateData;
        return _regenerator2.default.wrap(function _callee10$(_context10) {
          while (1) {
            switch (_context10.prev = _context10.next) {
              case 0:
                sellAmount = this.swap.sellAmount;


                this.setState({
                  isBalanceFetching: true
                });

                btcAddress = this.app.services.auth.accounts.btc.getAddress();
                _context10.next = 5;
                return this.btcSwap.estimateFeeValue({ method: 'swap', fixed: true, address: btcAddress });

              case 5:
                txFee = _context10.sent;
                _context10.next = 8;
                return this.btcSwap.fetchUnspents(btcAddress);

              case 8:
                unspents = _context10.sent;
                totalUnspent = unspents.reduce(function (summ, _ref14) {
                  var satoshis = _ref14.satoshis;
                  return summ + satoshis;
                }, 0);
                balance = (0, _bignumber.BigNumber)(totalUnspent).dividedBy(1e8);
                needAmount = sellAmount.plus(txFee);
                isEnoughMoney = needAmount.isLessThanOrEqualTo(balance);
                stateData = {
                  balance: balance,
                  isBalanceFetching: false,
                  isBalanceEnough: isEnoughMoney
                };


                if (isEnoughMoney) {
                  this.finishStep(stateData, { step: 'sync-balance' });
                } else {
                  this.setState(stateData, true);
                }

              case 15:
              case 'end':
                return _context10.stop();
            }
          }
        }, _callee10, this);
      }));

      function syncBalance() {
        return _ref13.apply(this, arguments);
      }

      return syncBalance;
    }()
  }, {
    key: 'tryRefund',
    value: function tryRefund() {
      var _this3 = this;

      var flow = this;
      var _flow$state6 = flow.state,
          isRefunded = _flow$state6.isRefunded,
          btcScriptValues = _flow$state6.btcScriptValues,
          secret = _flow$state6.secret;


      if (isRefunded) {
        return false;
      }

      return flow.btcSwap.refund({
        scriptValues: btcScriptValues,
        secret: secret
      }).then(function (hash) {
        if (!hash) {
          return false;
        }

        _this3.swap.room.sendMessage({
          event: 'btc refund completed'
        });

        flow.setState({
          refundTransactionHash: hash,
          isRefunded: true,
          isSwapExist: false
        }, true);

        return true;
      }).catch(function (error) {
        console.warn('Btc withdraw:', error);

        return false;
      });
    }
  }, {
    key: 'stopSwapProcess',
    value: function stopSwapProcess() {
      var flow = this;

      console.warn('Swap was stoped');

      flow.setState({
        isStoppedSwap: true
      }, true);
    }
  }, {
    key: 'tryWithdraw',
    value: function () {
      var _ref15 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee11(_secret) {
        var _this4 = this;

        var _state, secret, secretHash, isEthWithdrawn, _secretHash, participant, data;

        return _regenerator2.default.wrap(function _callee11$(_context11) {
          while (1) {
            switch (_context11.prev = _context11.next) {
              case 0:
                _state = this.state, secret = _state.secret, secretHash = _state.secretHash, isEthWithdrawn = _state.isEthWithdrawn;

                if (_secret) {
                  _context11.next = 3;
                  break;
                }

                throw new Error('Withdrawal is automatic. For manual withdrawal, provide a secret');

              case 3:

                if (secret && secret != _secret) console.warn('Secret already known and is different. Are you sure?');

                if (isEthWithdrawn) console.warn('Looks like money were already withdrawn, are you sure?');

                (0, _debug2.default)('swap.core:flow')('WITHDRAW using secret = ' + _secret);

                _secretHash = _crypto2.default.ripemd160(Buffer.from(_secret, 'hex')).toString('hex');


                if (secretHash != _secretHash) console.warn('Hash does not match! state: ' + secretHash + ', given: ' + _secretHash);

                participant = this.swap.participant;
                data = {
                  ownerAddress: participant.eth.address,
                  secret: _secret
                };
                _context11.next = 12;
                return this.ethSwap.withdraw(data, function (hash) {
                  (0, _debug2.default)('swap.core:flow')('TX hash=' + hash);
                  _this4.setState({
                    ethSwapWithdrawTransactionHash: hash,
                    canCreateEthTransaction: true
                  });
                }).then(function () {

                  _this4.finishStep({
                    isEthWithdrawn: true
                  }, 'withdraw-eth');
                });

              case 12:
              case 'end':
                return _context11.stop();
            }
          }
        }, _callee11, this);
      }));

      function tryWithdraw(_x3) {
        return _ref15.apply(this, arguments);
      }

      return tryWithdraw;
    }()
  }]);
  return BTC2ETH;
}(_swap3.Flow);

exports.default = BTC2ETH;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3128:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _crypto = __webpack_require__(70);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(82);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// move to BtcSwap
var LTC2BTC = function (_Flow) {
  (0, _inherits3.default)(LTC2BTC, _Flow);
  (0, _createClass3.default)(LTC2BTC, null, [{
    key: 'getName',
    value: function getName() {
      return this.getFromName() + '2' + this.getToName();
    }
  }, {
    key: 'getFromName',
    value: function getFromName() {
      return _swap.constants.COINS.ltc;
    }
  }, {
    key: 'getToName',
    value: function getToName() {
      return _swap.constants.COINS.btc;
    }
  }]);

  function LTC2BTC(swap) {
    (0, _classCallCheck3.default)(this, LTC2BTC);

    var _this = (0, _possibleConstructorReturn3.default)(this, (LTC2BTC.__proto__ || (0, _getPrototypeOf2.default)(LTC2BTC)).call(this, swap));

    _this.getRefundTxHex = function () {
      _this.ltcSwap.getRefundHexTransaction({
        scriptValues: _this.state.ltcScriptValues,
        secret: _this.state.secret
      }).then(function (txHex) {
        _this.setState({
          refundTxHex: txHex
        });
      });
    };

    _this._flowName = LTC2BTC.getName();

    _this.stepNumbers = {
      'sign': 1,
      'wait-lock-btc': 2,
      'verify-script': 3,
      'sync-balance': 4,
      'lock-ltc': 5,
      'wait-withdraw-ltc': 6, // aka getSecret
      'withdraw-btc': 7,
      'finish': 8,
      'end': 9
    };

    _this.ltcSwap = swap.participantSwap;
    _this.btcSwap = swap.ownerSwap;

    if (!_this.ltcSwap) {
      throw new Error('BTC2LTC: "ltcSwap" of type object required');
    }
    if (!_this.btcSwap) {
      throw new Error('BTC2LTC: "btcSwap" of type object required');
    }

    _this.state = {
      step: 0,

      signTransactionHash: null,
      isSignFetching: false,
      isMeSigned: false,

      secretHash: null,
      btcScriptValues: null,
      ltcScriptValues: null,

      btcScriptVerified: false,

      isBalanceFetching: false,
      isBalanceEnough: false,
      balance: null,

      btcScriptCreatingTransactionHash: null,
      ltcSwapCreationTransactionHash: null,

      isLtcScriptFunded: false,

      secret: null,

      isLtcWithdrawn: false,
      isBtcWithdrawn: false,

      refundTransactionHash: null,
      isRefunded: false,

      isFinished: false,
      isSwapExist: false
    };

    (0, _get3.default)(LTC2BTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(LTC2BTC.prototype), '_persistSteps', _this).call(_this);
    _this._persistState();
    return _this;
  }

  (0, _createClass3.default)(LTC2BTC, [{
    key: '_persistState',
    value: function _persistState() {
      (0, _get3.default)(LTC2BTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(LTC2BTC.prototype), '_persistState', this).call(this);
    }
  }, {
    key: '_getSteps',
    value: function _getSteps() {
      var _this2 = this;

      var flow = this;

      return [

      // 1. Sign swap to start

      function () {
        // this.sign()
      },

      // 2. Wait participant create, fund BTC Script

      function () {
        flow.swap.room.once('create btc script', function (_ref) {
          var scriptValues = _ref.scriptValues,
              btcScriptCreatingTransactionHash = _ref.btcScriptCreatingTransactionHash;

          flow.finishStep({
            secretHash: scriptValues.secretHash,
            btcScriptValues: scriptValues,
            btcScriptCreatingTransactionHash: btcScriptCreatingTransactionHash
          }, { step: 'wait-lock-btc', silentError: true });
        });

        flow.swap.room.sendMessage({
          event: 'request btc script'
        });
      },

      // 3. Verify BTC Script

      function () {
        (0, _debug2.default)('swap.core:flow')('waiting verify btc script');
        // this.verifyBtcScript()
      },

      // 4. Check balance

      function () {
        _this2.syncBalance();
        (0, _debug2.default)('swap.core:flow')(_this2);
      },

      // 5. Create LTC Script

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        var _flow$swap, participant, buyAmount, sellAmount, ltcSwapCreationTransactionHash, utcNow, getLockTime, scriptCheckResult, scriptValues;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _flow$swap = flow.swap, participant = _flow$swap.participant, buyAmount = _flow$swap.buyAmount, sellAmount = _flow$swap.sellAmount;
                ltcSwapCreationTransactionHash = void 0;

                // TODO move this somewhere!

                utcNow = function utcNow() {
                  return Math.floor(Date.now() / 1000);
                };

                getLockTime = function getLockTime() {
                  return utcNow() + 3600 * 1;
                }; // 1 hour from now

                _context.next = 6;
                return flow.btcSwap.checkScript(flow.state.btcScriptValues, {
                  value: buyAmount,
                  recipientPublicKey: _this2.app.services.auth.accounts.btc.getPublicKey(),
                  lockTime: getLockTime()
                });

              case 6:
                scriptCheckResult = _context.sent;

                if (!scriptCheckResult) {
                  _context.next = 11;
                  break;
                }

                console.error('Btc script check error:', scriptCheckResult);
                flow.swap.events.dispatch('btc script check error', scriptCheckResult);
                return _context.abrupt('return');

              case 11:
                scriptValues = {
                  secretHash: flow.state.secretHash,
                  ownerPublicKey: _this2.app.services.auth.accounts.ltc.getPublicKey(),
                  recipientPublicKey: participant.ltc.publicKey,
                  lockTime: getLockTime()
                };
                _context.prev = 12;
                _context.next = 15;
                return flow.ltcSwap.fundScript({
                  scriptValues: scriptValues,
                  amount: sellAmount
                }, function (hash) {
                  ltcSwapCreationTransactionHash = hash;
                  flow.setState({
                    ltcSwapCreationTransactionHash: hash
                  });
                });

              case 15:
                _context.next = 28;
                break;

              case 17:
                _context.prev = 17;
                _context.t0 = _context['catch'](12);

                if (!/known transaction/.test(_context.t0.message)) {
                  _context.next = 23;
                  break;
                }

                return _context.abrupt('return', console.error('known tx: ' + _context.t0.message));

              case 23:
                if (!/out of gas/.test(_context.t0.message)) {
                  _context.next = 27;
                  break;
                }

                return _context.abrupt('return', console.error('tx failed (wrong secret?): ' + _context.t0.message));

              case 27:
                return _context.abrupt('return', console.error(_context.t0));

              case 28:

                flow.swap.room.on('request ltc script', function () {
                  flow.swap.room.sendMessage({
                    event: 'create ltc script',
                    data: {
                      scriptValues: scriptValues,
                      ltcSwapCreationTransactionHash: ltcSwapCreationTransactionHash
                    }
                  });
                });

                flow.swap.room.sendMessage({
                  event: 'create ltc script',
                  data: {
                    scriptValues: scriptValues,
                    ltcSwapCreationTransactionHash: ltcSwapCreationTransactionHash
                  }
                });

                flow.finishStep({
                  isLtcScriptFunded: true,
                  ltcScriptValues: scriptValues
                }, { step: 'lock-ltc' });

              case 31:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, _this2, [[12, 17]]);
      })),

      // 6. Wait participant withdraw

      function () {

        flow.swap.room.once('ltcWithdrawTxHash', function () {
          var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(_ref4) {
            var ltcSwapWithdrawTransactionHash = _ref4.ltcSwapWithdrawTransactionHash;
            var secret;
            return _regenerator2.default.wrap(function _callee2$(_context2) {
              while (1) {
                switch (_context2.prev = _context2.next) {
                  case 0:
                    flow.setState({
                      ltcSwapWithdrawTransactionHash: ltcSwapWithdrawTransactionHash
                    });

                    _context2.next = 3;
                    return flow.ltcSwap.getSecretFromTxhash(ltcSwapWithdrawTransactionHash);

                  case 3:
                    secret = _context2.sent;


                    if (!flow.state.isLtcWithdrawn && secret) {
                      flow.finishStep({
                        isLtcWithdrawn: true,
                        secret: secret
                      }, { step: 'wait-withdraw-ltc' });
                    }

                  case 5:
                  case 'end':
                    return _context2.stop();
                }
              }
            }, _callee2, _this2);
          }));

          return function (_x) {
            return _ref3.apply(this, arguments);
          };
        }());

        flow.swap.room.sendMessage({
          event: 'request ltcWithdrawTxHash'
        });
      },

      // 7. Withdraw

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
        var _flow$state, secret, btcScriptValues;

        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _flow$state = flow.state, secret = _flow$state.secret, btcScriptValues = _flow$state.btcScriptValues;

                if (btcScriptValues) {
                  _context3.next = 4;
                  break;
                }

                console.error('There is no "btcScriptValues" in state. No way to continue swap...');
                return _context3.abrupt('return');

              case 4:
                _context3.next = 6;
                return flow.btcSwap.withdraw({
                  scriptValues: flow.state.btcScriptValues,
                  secret: secret
                }, function (hash) {
                  flow.setState({
                    btcSwapWithdrawTransactionHash: hash
                  });
                });

              case 6:

                flow.finishStep({
                  isBtcWithdrawn: true
                }, { step: 'withdraw-btc' });

              case 7:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, _this2);
      })),

      // 8. Finish

      function () {
        flow.swap.room.sendMessage({
          event: 'swap finished'
        });

        flow.finishStep({
          isFinished: true
        }, { step: 'finish' });
      },

      // 9. Finished!
      function () {}];
    }
  }, {
    key: '_checkSwapAlreadyExists',
    value: function _checkSwapAlreadyExists() {
      var participant = this.swap.participant;


      var swapData = {
        ownerAddress: this.app.services.auth.accounts.ltc.address,
        participantAddress: participant.ltc.address
      };

      return false; //this.ltcSwap.checkSwapExists(swapData)
    }
  }, {
    key: 'sign',
    value: function () {
      var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
        var _this3 = this;

        var swapExists;
        return _regenerator2.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                _context4.next = 2;
                return this._checkSwapAlreadyExists();

              case 2:
                swapExists = _context4.sent;

                if (!swapExists) {
                  _context4.next = 8;
                  break;
                }

                this.swap.room.sendMessage({
                  event: 'swap exists'
                });

                this.setState({
                  isSwapExist: true
                });
                _context4.next = 13;
                break;

              case 8:
                this.setState({
                  isSignFetching: true
                });

                this.swap.room.on('request sign', function () {
                  _this3.swap.room.sendMessage({
                    event: 'swap sign'
                  });
                });

                this.swap.room.sendMessage({
                  event: 'swap sign'
                });

                this.finishStep({
                  isMeSigned: true
                }, { step: 'sign', silentError: true });

                return _context4.abrupt('return', true);

              case 13:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function sign() {
        return _ref6.apply(this, arguments);
      }

      return sign;
    }()
  }, {
    key: 'verifyBtcScript',
    value: function verifyBtcScript() {
      if (this.state.btcScriptVerified) {
        return true;
      }
      if (!this.state.btcScriptValues) {
        throw new Error('No script, cannot verify');
      }

      this.finishStep({
        btcScriptVerified: true
      }, { step: 'verify-script' });

      return true;
    }
  }, {
    key: 'syncBalance',
    value: function () {
      var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
        var sellAmount, balance, isEnoughMoney;
        return _regenerator2.default.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                sellAmount = this.swap.sellAmount;


                this.setState({
                  isBalanceFetching: true
                });

                _context5.next = 4;
                return this.ltcSwap.fetchBalance(this.app.services.auth.accounts.ltc.getAddress());

              case 4:
                balance = _context5.sent;
                isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);


                if (isEnoughMoney) {
                  this.finishStep({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: true
                  }, { step: 'sync-balance' });
                } else {
                  this.setState({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: false
                  });
                }

              case 7:
              case 'end':
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function syncBalance() {
        return _ref7.apply(this, arguments);
      }

      return syncBalance;
    }()
  }, {
    key: 'tryRefund',
    value: function tryRefund() {
      var _this4 = this;

      var participant = this.swap.participant;


      return this.ltcSwap.refund({
        scriptValues: this.state.ltcScriptValues,
        secret: this.state.secret
      }, function (hash) {
        _this4.setState({
          refundTransactionHash: hash,
          isRefunded: true
        });
      }).then(function () {
        _this4.swap.room.sendMessage({
          event: 'refund completed'
        });

        _this4.setState({
          isSwapExist: false
        });
      });
    }
  }, {
    key: 'tryWithdraw',
    value: function () {
      var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(_secret) {
        var _this5 = this;

        var _state, secret, secretHash, isLtcWithdrawn, isBtcWithdrawn, btcScriptValues, _secretHash, _btcSwap$createScript, scriptAddress, balance;

        return _regenerator2.default.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                _state = this.state, secret = _state.secret, secretHash = _state.secretHash, isLtcWithdrawn = _state.isLtcWithdrawn, isBtcWithdrawn = _state.isBtcWithdrawn, btcScriptValues = _state.btcScriptValues;

                if (_secret) {
                  _context6.next = 3;
                  break;
                }

                throw new Error('Withdrawal is automatic. For manual withdrawal, provide a secret');

              case 3:
                if (btcScriptValues) {
                  _context6.next = 5;
                  break;
                }

                throw new Error('Cannot withdraw without script values');

              case 5:

                if (secret && secret != _secret) console.warn('Secret already known and is different. Are you sure?');

                if (isBtcWithdrawn) console.warn('Looks like money were already withdrawn, are you sure?');

                (0, _debug2.default)('swap.core:flow')('WITHDRAW using secret = ' + _secret);

                _secretHash = _crypto2.default.ripemd160(Buffer.from(_secret, 'hex')).toString('hex');

                if (secretHash != _secretHash) console.warn('Hash does not match!');

                _btcSwap$createScript = this.btcSwap.createScript(btcScriptValues), scriptAddress = _btcSwap$createScript.scriptAddress;
                _context6.next = 13;
                return this.btcSwap.getBalance(scriptAddress);

              case 13:
                balance = _context6.sent;


                (0, _debug2.default)('swap.core:flow')('address=' + scriptAddress + ', balance=' + balance);

                if (!(balance === 0)) {
                  _context6.next = 18;
                  break;
                }

                this.finishStep({
                  isBtcWithdrawn: true
                }, { step: 'withdraw-btc' });
                throw new Error('Already withdrawn: address=' + scriptAddress + ',balance=' + balance);

              case 18:
                _context6.next = 20;
                return this.btcSwap.withdraw({
                  scriptValues: btcScriptValues,
                  secret: _secret
                }, function (hash) {
                  (0, _debug2.default)('swap.core:flow')('TX hash=' + hash);
                  _this5.setState({
                    btcSwapWithdrawTransactionHash: hash
                  });
                });

              case 20:
                (0, _debug2.default)('swap.core:flow')('TX withdraw sent: ' + this.state.btcSwapWithdrawTransactionHash);

                this.finishStep({
                  isBtcWithdrawn: true
                }, { step: 'withdraw-btc' });

              case 22:
              case 'end':
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function tryWithdraw(_x2) {
        return _ref8.apply(this, arguments);
      }

      return tryWithdraw;
    }()
  }]);
  return LTC2BTC;
}(_swap3.Flow);

exports.default = LTC2BTC;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3129:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _crypto = __webpack_require__(70);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(82);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BTC2LTC = function (_Flow) {
  (0, _inherits3.default)(BTC2LTC, _Flow);
  (0, _createClass3.default)(BTC2LTC, null, [{
    key: 'getName',
    value: function getName() {
      return this.getFromName() + '2' + this.getToName();
    }
  }, {
    key: 'getFromName',
    value: function getFromName() {
      return _swap.constants.COINS.btc;
    }
  }, {
    key: 'getToName',
    value: function getToName() {
      return _swap.constants.COINS.ltc;
    }
  }]);

  function BTC2LTC(swap) {
    (0, _classCallCheck3.default)(this, BTC2LTC);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BTC2LTC.__proto__ || (0, _getPrototypeOf2.default)(BTC2LTC)).call(this, swap));

    _this.getRefundTxHex = function () {
      _this.btcSwap.getRefundHexTransaction({
        scriptValues: _this.state.btcScriptValues,
        secret: _this.state.secret
      }).then(function (txHex) {
        _this.setState({
          refundTxHex: txHex
        });
      });
    };

    _this._flowName = BTC2LTC.getName();

    _this.stepNumbers = {
      'sign': 1,
      'submit-secret': 2,
      'sync-balance': 3,
      'lock-btc': 4,
      'wait-lock-ltc': 5,
      'withdraw-ltc': 6,
      'finish': 7,
      'end': 8
    };

    _this.ltcSwap = swap.ownerSwap;
    _this.btcSwap = swap.participantSwap;

    if (!_this.ltcSwap) {
      throw new Error('BTC2LTC: "ltcSwap" of type object required');
    }
    if (!_this.btcSwap) {
      throw new Error('BTC2LTC: "btcSwap" of type object required');
    }

    _this.state = {
      step: 0,

      signTransactionHash: null,
      isSignFetching: false,
      isParticipantSigned: false,

      btcScriptCreatingTransactionHash: null,
      ltcSwapCreationTransactionHash: null,

      secretHash: null,
      btcScriptValues: null,

      btcScriptVerified: false,

      ltcScriptValues: null,

      isBalanceFetching: false,
      isBalanceEnough: false,
      balance: null,

      isLtcScriptFunded: false,

      ltcSwapWithdrawTransactionHash: null,
      isLtcWithdrawn: false,

      refundTransactionHash: null,
      isRefunded: false,

      refundTxHex: null,
      isFinished: false,
      isSwapExist: false
    };

    (0, _get3.default)(BTC2LTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(BTC2LTC.prototype), '_persistSteps', _this).call(_this);
    _this._persistState();
    return _this;
  }

  (0, _createClass3.default)(BTC2LTC, [{
    key: '_persistState',
    value: function _persistState() {
      (0, _get3.default)(BTC2LTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(BTC2LTC.prototype), '_persistState', this).call(this);

      // this.ltcSwap.getBalance({
      //   ownerAddress: this.swap.participant.ltc.address,
      // })
      //   .then((balance) => {
      //     debug('swap.core:flow')('balance:', balance)
      //   })
    }
  }, {
    key: '_getSteps',
    value: function _getSteps() {
      var _this2 = this;

      var flow = this;

      return [

      // 1. Signs

      function () {
        flow.swap.room.once('swap sign', function () {
          flow.finishStep({
            isParticipantSigned: true
          }, { step: 'sign', silentError: true });
        });

        flow.swap.room.once('swap exists', function () {
          flow.setState({
            isSwapExist: true
          });
        });

        if (flow.state.isSwapExist) {
          flow.swap.room.once('refund completed', function () {
            flow.swap.room.sendMessage({
              event: 'request sign'
            });
          });
        } else {
          flow.swap.room.sendMessage({
            event: 'request sign'
          });
        }
      },
      // 2. Create secret, secret hash

      function () {
        // this.submitSecret()
      },

      // 3. Check balance

      function () {
        _this2.syncBalance();
      },

      // 4. Create BTC Script, fund, notify participant

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        var _flow$swap, sellAmount, participant, btcScriptCreatingTransactionHash, utcNow, getLockTime, scriptValues;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _flow$swap = flow.swap, sellAmount = _flow$swap.sellAmount, participant = _flow$swap.participant;
                btcScriptCreatingTransactionHash = void 0;

                // TODO move this somewhere!

                utcNow = function utcNow() {
                  return Math.floor(Date.now() / 1000);
                };

                getLockTime = function getLockTime() {
                  return utcNow() + 3600 * 3;
                }; // 3 hours from now

                scriptValues = {
                  secretHash: flow.state.secretHash,
                  ownerPublicKey: _this2.app.services.auth.accounts.btc.getPublicKey(),
                  recipientPublicKey: participant.btc.publicKey,
                  lockTime: getLockTime()
                };
                _context.next = 7;
                return flow.btcSwap.fundScript({
                  scriptValues: scriptValues,
                  amount: sellAmount
                }, function (hash) {
                  btcScriptCreatingTransactionHash = hash;
                  flow.setState({
                    btcScriptCreatingTransactionHash: hash
                  });
                });

              case 7:

                flow.swap.room.on('request btc script', function () {
                  flow.swap.room.sendMessage({
                    event: 'create btc script',
                    data: {
                      scriptValues: scriptValues,
                      btcScriptCreatingTransactionHash: btcScriptCreatingTransactionHash
                    }
                  });
                });

                flow.swap.room.sendMessage({
                  event: 'create btc script',
                  data: {
                    scriptValues: scriptValues,
                    btcScriptCreatingTransactionHash: btcScriptCreatingTransactionHash
                  }
                });

                flow.finishStep({
                  isBtcScriptFunded: true,
                  btcScriptValues: scriptValues
                }, { step: 'lock-btc' });

              case 10:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, _this2);
      })),

      // 5. Wait participant creates LTC Script

      function () {
        var participant = flow.swap.participant;

        var timer = void 0;

        flow.swap.room.once('create ltc script', function (_ref2) {
          var scriptValues = _ref2.scriptValues,
              ltcSwapCreationTransactionHash = _ref2.ltcSwapCreationTransactionHash;

          flow.setState({
            secretHash: scriptValues.secretHash,
            ltcScriptValues: scriptValues,
            ltcSwapCreationTransactionHash: ltcSwapCreationTransactionHash
          });
        });

        flow.swap.room.sendMessage({
          event: 'request ltc script'
        });

        var checkLtcBalance = function checkLtcBalance() {
          timer = setTimeout((0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
            var _ltcSwap$createScript, scriptAddress, balance;

            return _regenerator2.default.wrap(function _callee2$(_context2) {
              while (1) {
                switch (_context2.prev = _context2.next) {
                  case 0:
                    _ltcSwap$createScript = _this2.ltcSwap.createScript(flow.state.ltcScriptValues), scriptAddress = _ltcSwap$createScript.scriptAddress;
                    _context2.next = 3;
                    return flow.ltcSwap.getBalance(scriptAddress);

                  case 3:
                    balance = _context2.sent;


                    (0, _debug2.default)('swap.core:flow')('Litecoin balance - ' + balance);

                    if (balance > 0) {
                      if (!flow.state.isLtcScriptFunded) {
                        // redundant condition but who cares :D
                        flow.finishStep({
                          isLtcScriptFunded: true
                        }, { step: 'wait-lock-ltc' });
                      }
                    } else {
                      checkLtcBalance();
                    }

                  case 6:
                  case 'end':
                    return _context2.stop();
                }
              }
            }, _callee2, _this2);
          })), 20 * 1000);
        };

        checkLtcBalance();

        flow.swap.room.once('create ltc script', function () {
          if (!flow.state.isLtcScriptFunded) {
            clearTimeout(timer);
            timer = null;

            flow.finishStep({
              isLtcScriptFunded: true
            }, { step: 'wait-lock-ltc' });
          }
        });
      },

      // 6. Withdraw

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
        var _flow$swap2, buyAmount, participant, _flow$state, secret, ltcScriptValues, data, balanceCheckResult;

        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _flow$swap2 = flow.swap, buyAmount = _flow$swap2.buyAmount, participant = _flow$swap2.participant;
                _flow$state = flow.state, secret = _flow$state.secret, ltcScriptValues = _flow$state.ltcScriptValues;
                data = {
                  ownerAddress: participant.ltc.address,
                  secret: flow.state.secret
                };
                _context3.next = 5;
                return flow.ltcSwap.checkBalance({
                  ownerAddress: participant.ltc.address,
                  expectedValue: buyAmount
                });

              case 5:
                balanceCheckResult = _context3.sent;

                if (!balanceCheckResult) {
                  _context3.next = 10;
                  break;
                }

                console.error('Waiting until deposit: LTC balance check error:', balanceCheckResult);
                flow.swap.events.dispatch('ltc balance check error', balanceCheckResult);
                return _context3.abrupt('return');

              case 10:
                _context3.prev = 10;
                _context3.next = 13;
                return flow.ltcSwap.withdraw({
                  scriptValues: ltcScriptValues,
                  secret: secret
                }, function (hash) {
                  flow.setState({
                    ltcSwapWithdrawTransactionHash: hash
                  });
                });

              case 13:
                _context3.next = 26;
                break;

              case 15:
                _context3.prev = 15;
                _context3.t0 = _context3['catch'](10);

                if (!/known transaction/.test(_context3.t0.message)) {
                  _context3.next = 21;
                  break;
                }

                return _context3.abrupt('return', console.error('known tx: ' + _context3.t0.message));

              case 21:
                if (!/out of gas/.test(_context3.t0.message)) {
                  _context3.next = 25;
                  break;
                }

                return _context3.abrupt('return', console.error('tx failed (wrong secret?): ' + _context3.t0.message));

              case 25:
                return _context3.abrupt('return', console.error(_context3.t0));

              case 26:

                flow.swap.room.on('request ltcWithdrawTxHash', function () {
                  flow.swap.room.sendMessage({
                    event: 'ltcWithdrawTxHash',
                    data: {
                      scriptValues: flow.state.ltcScriptValues,
                      ltcSwapWithdrawTransactionHash: flow.state.ltcSwapWithdrawTransactionHash
                    }
                  });
                });

                flow.swap.room.sendMessage({
                  event: 'finish ltc withdraw'
                });

                flow.finishStep({
                  isLtcWithdrawn: true
                });

              case 29:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, _this2, [[10, 15]]);
      })),

      // 7. Finish

      function () {
        flow.swap.room.once('swap finished', function () {
          flow.finishStep({
            isFinished: true
          });
        });
      },

      // 8. Finished!
      function () {}];
    }
  }, {
    key: 'submitSecret',
    value: function submitSecret(secret) {
      if (this.state.secret) {
        return;
      }

      if (!this.state.isParticipantSigned) {
        throw new Error('Cannot proceed: participant not signed. step=' + this.state.step);
      }

      var secretHash = _crypto2.default.ripemd160(Buffer.from(secret, 'hex')).toString('hex');

      this.finishStep({
        secret: secret,
        secretHash: secretHash
      }, { step: 'submit-secret' });
    }
  }, {
    key: 'syncBalance',
    value: function () {
      var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
        var sellAmount, balance, isEnoughMoney;
        return _regenerator2.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                sellAmount = this.swap.sellAmount;


                this.setState({
                  isBalanceFetching: true
                });

                _context4.next = 4;
                return this.btcSwap.fetchBalance(this.app.services.auth.accounts.btc.getAddress());

              case 4:
                balance = _context4.sent;
                isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);


                if (isEnoughMoney) {
                  this.finishStep({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: true
                  }, { step: 'sync-balance' });
                } else {
                  console.error('Not enough money: ' + balance + ' < ' + sellAmount);
                  this.setState({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: false
                  });
                }

              case 7:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function syncBalance() {
        return _ref5.apply(this, arguments);
      }

      return syncBalance;
    }()
  }, {
    key: 'tryRefund',
    value: function tryRefund() {
      var _this3 = this;

      return this.btcSwap.refund({
        scriptValues: this.state.btcScriptValues,
        secret: this.state.secret
      }, function (hash) {
        _this3.setState({
          refundTransactionHash: hash,
          isRefunded: true
        });
      }).then(function () {
        _this3.setState({
          isSwapExist: false
        });
      });
    }
  }]);
  return BTC2LTC;
}(_swap3.Flow);

exports.default = BTC2LTC;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3130:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _crypto = __webpack_require__(70);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(82);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// move to LtcSwap
var ETH2LTC = function (_Flow) {
  (0, _inherits3.default)(ETH2LTC, _Flow);
  (0, _createClass3.default)(ETH2LTC, null, [{
    key: 'getName',
    value: function getName() {
      return this.getFromName() + '2' + this.getToName();
    }
  }, {
    key: 'getFromName',
    value: function getFromName() {
      return _swap.constants.COINS.eth;
    }
  }, {
    key: 'getToName',
    value: function getToName() {
      return _swap.constants.COINS.ltc;
    }
  }]);

  function ETH2LTC(swap) {
    (0, _classCallCheck3.default)(this, ETH2LTC);

    var _this = (0, _possibleConstructorReturn3.default)(this, (ETH2LTC.__proto__ || (0, _getPrototypeOf2.default)(ETH2LTC)).call(this, swap));

    _this._flowName = ETH2LTC.getName();

    _this.stepNumbers = {
      'sign': 1,
      'wait-lock-ltc': 2,
      'verify-script': 3,
      'sync-balance': 4,
      'lock-eth': 5,
      'wait-withdraw-eth': 6, // aka getSecret
      'withdraw-ltc': 7,
      'finish': 8,
      'end': 9
    };

    _this.ethSwap = swap.participantSwap;
    _this.ltcSwap = swap.ownerSwap;

    if (!_this.ethSwap) {
      throw new Error('LTC2ETH: "ethSwap" of type object required');
    }
    if (!_this.ltcSwap) {
      throw new Error('LTC2ETH: "ltcSwap" of type object required');
    }

    _this.state = {
      step: 0,

      signTransactionHash: null,
      isSignFetching: false,
      isMeSigned: false,

      secretHash: null,
      ltcScriptValues: null,

      ltcScriptVerified: false,

      isBalanceFetching: false,
      isBalanceEnough: false,
      balance: null,

      ltcScriptCreatingTransactionHash: null,
      ethSwapCreationTransactionHash: null,

      isEthContractFunded: false,

      secret: null,

      isEthWithdrawn: false,
      isLtcWithdrawn: false,

      refundTransactionHash: null,
      isRefunded: false,

      isFinished: false,
      isSwapExist: false
    };

    (0, _get3.default)(ETH2LTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(ETH2LTC.prototype), '_persistSteps', _this).call(_this);
    _this._persistState();
    return _this;
  }

  (0, _createClass3.default)(ETH2LTC, [{
    key: '_persistState',
    value: function _persistState() {
      (0, _get3.default)(ETH2LTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(ETH2LTC.prototype), '_persistState', this).call(this);
    }
  }, {
    key: '_getSteps',
    value: function _getSteps() {
      var _this2 = this;

      var flow = this;

      return [

      // 1. Sign swap to start

      function () {
        // this.sign()
      },

      // 2. Wait participant create, fund LTC Script

      function () {
        flow.swap.room.once('create ltc script', function (_ref) {
          var scriptValues = _ref.scriptValues,
              ltcScriptCreatingTransactionHash = _ref.ltcScriptCreatingTransactionHash;

          flow.finishStep({
            secretHash: scriptValues.secretHash,
            ltcScriptValues: scriptValues,
            ltcScriptCreatingTransactionHash: ltcScriptCreatingTransactionHash
          }, { step: 'wait-lock-ltc', silentError: true });
        });

        flow.swap.room.sendMessage({
          event: 'request ltc script'
        });
      },

      // 3. Verify LTC Script

      function () {
        (0, _debug2.default)('swap.core:flow')('waiting verify ltc script');
        // this.verifyLtcScript()
      },

      // 4. Check balance

      function () {
        _this2.syncBalance();
      },

      // 5. Create ETH Contract

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        var _flow$swap, participant, buyAmount, sellAmount, utcNow, getLockTime, scriptCheckResult, swapData;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _flow$swap = flow.swap, participant = _flow$swap.participant, buyAmount = _flow$swap.buyAmount, sellAmount = _flow$swap.sellAmount;

                // TODO move this somewhere!

                utcNow = function utcNow() {
                  return Math.floor(Date.now() / 1000);
                };

                getLockTime = function getLockTime() {
                  return utcNow() + 3600 * 1;
                }; // 1 hour from now

                _context.next = 5;
                return flow.ltcSwap.checkScript(flow.state.ltcScriptValues, {
                  value: buyAmount,
                  recipientPublicKey: _this2.app.services.auth.accounts.ltc.getPublicKey(),
                  lockTime: getLockTime()
                });

              case 5:
                scriptCheckResult = _context.sent;

                if (!scriptCheckResult) {
                  _context.next = 10;
                  break;
                }

                console.error('Ltc script check error:', scriptCheckResult);
                flow.swap.events.dispatch('ltc script check error', scriptCheckResult);
                return _context.abrupt('return');

              case 10:
                swapData = {
                  participantAddress: participant.eth.address,
                  secretHash: flow.state.secretHash,
                  amount: sellAmount
                };
                _context.prev = 11;
                _context.next = 14;
                return _this2.ethSwap.create(swapData, function (hash) {
                  flow.swap.room.sendMessage({
                    event: 'create eth contract',
                    data: {
                      ethSwapCreationTransactionHash: hash
                    }
                  });

                  flow.setState({
                    ethSwapCreationTransactionHash: hash
                  });
                });

              case 14:
                _context.next = 27;
                break;

              case 16:
                _context.prev = 16;
                _context.t0 = _context['catch'](11);

                if (!/known transaction/.test(_context.t0.message)) {
                  _context.next = 22;
                  break;
                }

                return _context.abrupt('return', console.error('known tx: ' + _context.t0.message));

              case 22:
                if (!/out of gas/.test(_context.t0.message)) {
                  _context.next = 26;
                  break;
                }

                return _context.abrupt('return', console.error('tx failed (wrong secret?): ' + _context.t0.message));

              case 26:
                return _context.abrupt('return', console.error(_context.t0));

              case 27:

                (0, _debug2.default)('swap.core:flow')('finish step');

                flow.finishStep({
                  isEthContractFunded: true
                }, { step: 'lock-eth' });

              case 29:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, _this2, [[11, 16]]);
      })),

      // 6. Wait participant withdraw

      function () {
        flow.swap.room.once('ethWithdrawTxHash', function () {
          var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(_ref4) {
            var ethSwapWithdrawTransactionHash = _ref4.ethSwapWithdrawTransactionHash;
            var secret;
            return _regenerator2.default.wrap(function _callee2$(_context2) {
              while (1) {
                switch (_context2.prev = _context2.next) {
                  case 0:
                    flow.setState({
                      ethSwapWithdrawTransactionHash: ethSwapWithdrawTransactionHash
                    });

                    _context2.next = 3;
                    return flow.ethSwap.getSecretFromTxhash(ethSwapWithdrawTransactionHash);

                  case 3:
                    secret = _context2.sent;


                    if (!flow.state.isEthWithdrawn && secret) {
                      flow.finishStep({
                        isEthWithdrawn: true,
                        secret: secret
                      }, { step: 'wait-withdraw-eth' });
                    }

                  case 5:
                  case 'end':
                    return _context2.stop();
                }
              }
            }, _callee2, _this2);
          }));

          return function (_x) {
            return _ref3.apply(this, arguments);
          };
        }());

        flow.swap.room.sendMessage({
          event: 'request ethWithdrawTxHash'
        });
      },

      // 7. Withdraw

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
        var _flow$state, secret, ltcScriptValues;

        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _flow$state = flow.state, secret = _flow$state.secret, ltcScriptValues = _flow$state.ltcScriptValues;

                if (ltcScriptValues) {
                  _context3.next = 4;
                  break;
                }

                console.error('There is no "ltcScriptValues" in state. No way to continue swap...');
                return _context3.abrupt('return');

              case 4:
                _context3.next = 6;
                return flow.ltcSwap.withdraw({
                  scriptValues: flow.state.ltcScriptValues,
                  secret: secret
                }, function (hash) {
                  flow.setState({
                    ltcSwapWithdrawTransactionHash: hash
                  });
                });

              case 6:

                flow.finishStep({
                  isLtcWithdrawn: true
                }, { step: 'withdraw-ltc' });

              case 7:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, _this2);
      })),

      // 8. Finish

      function () {
        flow.swap.room.sendMessage({
          event: 'swap finished'
        });

        flow.finishStep({
          isFinished: true
        }, { step: 'finish' });
      },

      // 9. Finished!
      function () {}];
    }
  }, {
    key: '_checkSwapAlreadyExists',
    value: function _checkSwapAlreadyExists() {
      var participant = this.swap.participant;


      var swapData = {
        ownerAddress: this.app.services.auth.accounts.eth.address,
        participantAddress: participant.eth.address
      };

      return this.ethSwap.checkSwapExists(swapData);
    }
  }, {
    key: 'sign',
    value: function () {
      var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
        var _this3 = this;

        var swapExists;
        return _regenerator2.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                _context4.next = 2;
                return this._checkSwapAlreadyExists();

              case 2:
                swapExists = _context4.sent;

                if (!swapExists) {
                  _context4.next = 8;
                  break;
                }

                this.swap.room.sendMessage({
                  event: 'swap exists'
                });

                this.setState({
                  isSwapExist: true
                });
                _context4.next = 11;
                break;

              case 8:
                this.setState({
                  isSignFetching: true
                });

                this.swap.room.once('request sign', function () {
                  _this3.swap.room.sendMessage({
                    event: 'swap sign'
                  });

                  _this3.finishStep({
                    isMeSigned: true
                  }, { step: 'sign' });
                });

                return _context4.abrupt('return', true);

              case 11:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function sign() {
        return _ref6.apply(this, arguments);
      }

      return sign;
    }()
  }, {
    key: 'verifyLtcScript',
    value: function verifyLtcScript() {
      if (this.state.ltcScriptVerified) {
        return true;
      }
      if (!this.state.ltcScriptValues) {
        throw new Error('No script, cannot verify');
      }

      this.finishStep({
        ltcScriptVerified: true
      }, { step: 'verify-script' });

      return true;
    }
  }, {
    key: 'syncBalance',
    value: function () {
      var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
        var sellAmount, balance, isEnoughMoney;
        return _regenerator2.default.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                sellAmount = this.swap.sellAmount;


                this.setState({
                  isBalanceFetching: true
                });

                _context5.next = 4;
                return this.ethSwap.fetchBalance(this.app.services.auth.accounts.eth.address);

              case 4:
                balance = _context5.sent;
                isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);


                if (isEnoughMoney) {
                  this.finishStep({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: true
                  }, { step: 'sync-balance' });
                } else {
                  this.setState({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: false
                  });
                }

              case 7:
              case 'end':
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function syncBalance() {
        return _ref7.apply(this, arguments);
      }

      return syncBalance;
    }()
  }, {
    key: 'tryRefund',
    value: function tryRefund() {
      var _this4 = this;

      var participant = this.swap.participant;


      return this.ethSwap.refund({
        participantAddress: participant.eth.address
      }, function (hash) {
        _this4.setState({
          refundTransactionHash: hash,
          isRefunded: true
        });
      }).then(function () {
        _this4.swap.room.sendMessage({
          event: 'refund completed'
        });

        _this4.setState({
          isSwapExist: false
        });
      });
    }
  }, {
    key: 'tryWithdraw',
    value: function () {
      var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(_secret) {
        var _this5 = this;

        var _state, secret, secretHash, isEthWithdrawn, isLtcWithdrawn, ltcScriptValues, _secretHash, _ltcSwap$createScript, scriptAddress, balance;

        return _regenerator2.default.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                _state = this.state, secret = _state.secret, secretHash = _state.secretHash, isEthWithdrawn = _state.isEthWithdrawn, isLtcWithdrawn = _state.isLtcWithdrawn, ltcScriptValues = _state.ltcScriptValues;

                if (_secret) {
                  _context6.next = 3;
                  break;
                }

                throw new Error('Withdrawal is automatic. For manual withdrawal, provide a secret');

              case 3:
                if (ltcScriptValues) {
                  _context6.next = 5;
                  break;
                }

                throw new Error('Cannot withdraw without script values');

              case 5:

                if (secret && secret != _secret) console.warn('Secret already known and is different. Are you sure?');

                if (isLtcWithdrawn) console.warn('Looks like money were already withdrawn, are you sure?');

                (0, _debug2.default)('swap.core:flow')('WITHDRAW using secret = ' + _secret);

                _secretHash = _crypto2.default.ripemd160(Buffer.from(_secret, 'hex')).toString('hex');

                if (secretHash != _secretHash) console.warn('Hash does not match!');

                _ltcSwap$createScript = this.ltcSwap.createScript(ltcScriptValues), scriptAddress = _ltcSwap$createScript.scriptAddress;
                _context6.next = 13;
                return this.ltcSwap.getBalance(scriptAddress);

              case 13:
                balance = _context6.sent;


                (0, _debug2.default)('swap.core:flow')('address=' + scriptAddress + ', balance=' + balance);

                if (!(balance === 0)) {
                  _context6.next = 18;
                  break;
                }

                this.finishStep({
                  isLtcWithdrawn: true
                }, { step: 'withdraw-ltc' });
                throw new Error('Already withdrawn: address=' + scriptAddress + ',balance=' + balance);

              case 18:
                _context6.next = 20;
                return this.ltcSwap.withdraw({
                  scriptValues: ltcScriptValues,
                  secret: _secret
                }, function (hash) {
                  (0, _debug2.default)('swap.core:flow')('TX hash=' + hash);
                  _this5.setState({
                    ltcSwapWithdrawTransactionHash: hash
                  });
                });

              case 20:
                (0, _debug2.default)('swap.core:flow')('TX withdraw sent: ' + this.state.ltcSwapWithdrawTransactionHash);

                this.finishStep({
                  isLtcWithdrawn: true
                }, { step: 'withdraw-ltc' });

              case 22:
              case 'end':
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function tryWithdraw(_x2) {
        return _ref8.apply(this, arguments);
      }

      return tryWithdraw;
    }()
  }]);
  return ETH2LTC;
}(_swap3.Flow);

exports.default = ETH2LTC;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3131:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _crypto = __webpack_require__(70);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(82);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LTC2ETH = function (_Flow) {
  (0, _inherits3.default)(LTC2ETH, _Flow);
  (0, _createClass3.default)(LTC2ETH, null, [{
    key: 'getName',
    value: function getName() {
      return this.getFromName() + '2' + this.getToName();
    }
  }, {
    key: 'getFromName',
    value: function getFromName() {
      return _swap.constants.COINS.ltc;
    }
  }, {
    key: 'getToName',
    value: function getToName() {
      return _swap.constants.COINS.eth;
    }
  }]);

  function LTC2ETH(swap) {
    (0, _classCallCheck3.default)(this, LTC2ETH);

    var _this = (0, _possibleConstructorReturn3.default)(this, (LTC2ETH.__proto__ || (0, _getPrototypeOf2.default)(LTC2ETH)).call(this, swap));

    _this.getRefundTxHex = function () {
      _this.ltcSwap.getRefundHexTransaction({
        scriptValues: _this.state.ltcScriptValues,
        secret: _this.state.secret
      }).then(function (txHex) {
        _this.setState({
          refundTxHex: txHex
        });
      });
    };

    _this._flowName = LTC2ETH.getName();

    _this.stepNumbers = {
      'sign': 1,
      'submit-secret': 2,
      'sync-balance': 3,
      'lock-ltc': 4,
      'wait-lock-eth': 5,
      'withdraw-eth': 6,
      'finish': 7,
      'end': 8
    };

    _this.ethSwap = swap.ownerSwap;
    _this.ltcSwap = swap.participantSwap;

    if (!_this.ethSwap) {
      throw new Error('LTC2ETH: "ethSwap" of type object required');
    }
    if (!_this.ltcSwap) {
      throw new Error('LTC2ETH: "ltcSwap" of type object required');
    }

    _this.state = {
      step: 0,

      signTransactionHash: null,
      isSignFetching: false,
      isParticipantSigned: false,

      ltcScriptCreatingTransactionHash: null,
      ethSwapCreationTransactionHash: null,

      secretHash: null,
      ltcScriptValues: null,

      ltcScriptVerified: false,

      isBalanceFetching: false,
      isBalanceEnough: false,
      balance: null,

      isEthContractFunded: false,

      ethSwapWithdrawTransactionHash: null,
      isEthWithdrawn: false,

      refundTransactionHash: null,
      isRefunded: false,

      refundTxHex: null,
      isFinished: false,
      isSwapExist: false
    };

    (0, _get3.default)(LTC2ETH.prototype.__proto__ || (0, _getPrototypeOf2.default)(LTC2ETH.prototype), '_persistSteps', _this).call(_this);
    _this._persistState();
    return _this;
  }

  (0, _createClass3.default)(LTC2ETH, [{
    key: '_persistState',
    value: function _persistState() {
      (0, _get3.default)(LTC2ETH.prototype.__proto__ || (0, _getPrototypeOf2.default)(LTC2ETH.prototype), '_persistState', this).call(this);

      // this.ethSwap.getBalance({
      //   ownerAddress: this.swap.participant.eth.address,
      // })
      //   .then((balance) => {
      //     debug('swap.core:flow')('balance:', balance)
      //   })
    }
  }, {
    key: '_getSteps',
    value: function _getSteps() {
      var _this2 = this;

      var flow = this;

      return [

      // 1. Signs

      function () {
        flow.swap.room.once('swap sign', function () {
          flow.finishStep({
            isParticipantSigned: true
          }, { step: 'sign', silentError: true });
        });

        flow.swap.room.once('swap exists', function () {
          flow.setState({
            isSwapExist: true
          });
        });

        if (flow.state.isSwapExist) {
          flow.swap.room.once('refund completed', function () {
            flow.swap.room.sendMessage({
              event: 'request sign'
            });
          });
        } else {
          flow.swap.room.sendMessage({
            event: 'request sign'
          });
        }
      },
      // 2. Create secret, secret hash

      function () {
        // this.submitSecret()
      },

      // 3. Check balance

      function () {
        _this2.syncBalance();
      },

      // 4. Create LTC Script, fund, notify participant

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        var _flow$swap, sellAmount, participant, ltcScriptCreatingTransactionHash, utcNow, getLockTime, scriptValues;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _flow$swap = flow.swap, sellAmount = _flow$swap.sellAmount, participant = _flow$swap.participant;
                ltcScriptCreatingTransactionHash = void 0;

                // TODO move this somewhere!

                utcNow = function utcNow() {
                  return Math.floor(Date.now() / 1000);
                };

                getLockTime = function getLockTime() {
                  return utcNow() + 3600 * 3;
                }; // 3 hours from now

                scriptValues = {
                  secretHash: flow.state.secretHash,
                  ownerPublicKey: _this2.app.services.auth.accounts.ltc.getPublicKey(),
                  recipientPublicKey: participant.ltc.publicKey,
                  lockTime: getLockTime()
                };
                _context.next = 7;
                return flow.ltcSwap.fundScript({
                  scriptValues: scriptValues,
                  amount: sellAmount
                }, function (hash) {
                  ltcScriptCreatingTransactionHash = hash;
                  flow.setState({
                    ltcScriptCreatingTransactionHash: hash
                  });
                });

              case 7:

                flow.swap.room.on('request ltc script', function () {
                  flow.swap.room.sendMessage({
                    event: 'create ltc script',
                    data: {
                      scriptValues: scriptValues,
                      ltcScriptCreatingTransactionHash: ltcScriptCreatingTransactionHash
                    }
                  });
                });

                flow.swap.room.sendMessage({
                  event: 'create ltc script',
                  data: {
                    scriptValues: scriptValues,
                    ltcScriptCreatingTransactionHash: ltcScriptCreatingTransactionHash
                  }
                });

                flow.finishStep({
                  isLtcScriptFunded: true,
                  ltcScriptValues: scriptValues
                }, { step: 'lock-ltc' });

              case 10:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, _this2);
      })),

      // 5. Wait participant creates ETH Contract

      function () {
        var participant = flow.swap.participant;

        var timer = void 0;

        flow.swap.room.once('create eth contract', function (_ref2) {
          var ethSwapCreationTransactionHash = _ref2.ethSwapCreationTransactionHash;

          flow.setState({
            ethSwapCreationTransactionHash: ethSwapCreationTransactionHash
          });
        });

        var checkEthBalance = function checkEthBalance() {
          timer = setTimeout((0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
            var balance;
            return _regenerator2.default.wrap(function _callee2$(_context2) {
              while (1) {
                switch (_context2.prev = _context2.next) {
                  case 0:
                    _context2.next = 2;
                    return flow.ethSwap.getBalance({
                      ownerAddress: participant.eth.address
                    });

                  case 2:
                    balance = _context2.sent;


                    if (balance > 0) {
                      if (!flow.state.isEthContractFunded) {
                        // redundant condition but who cares :D
                        flow.finishStep({
                          isEthContractFunded: true
                        }, { step: 'wait-lock-eth' });
                      }
                    } else {
                      checkEthBalance();
                    }

                  case 4:
                  case 'end':
                    return _context2.stop();
                }
              }
            }, _callee2, _this2);
          })), 20 * 1000);
        };

        checkEthBalance();

        flow.swap.room.once('create eth contract', function () {
          if (!flow.state.isEthContractFunded) {
            clearTimeout(timer);
            timer = null;

            flow.finishStep({
              isEthContractFunded: true
            }, { step: 'wait-lock-eth' });
          }
        });
      },

      // 6. Withdraw

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
        var _flow$swap2, buyAmount, participant, data, balanceCheckResult;

        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _flow$swap2 = flow.swap, buyAmount = _flow$swap2.buyAmount, participant = _flow$swap2.participant;
                data = {
                  ownerAddress: participant.eth.address,
                  secret: flow.state.secret
                };
                _context3.next = 4;
                return flow.ethSwap.checkBalance({
                  ownerAddress: participant.eth.address,
                  expectedValue: buyAmount
                });

              case 4:
                balanceCheckResult = _context3.sent;

                if (!balanceCheckResult) {
                  _context3.next = 9;
                  break;
                }

                console.error('Waiting until deposit: ETH balance check error:', balanceCheckResult);
                flow.swap.events.dispatch('eth balance check error', balanceCheckResult);
                return _context3.abrupt('return');

              case 9:
                _context3.prev = 9;
                _context3.next = 12;
                return flow.ethSwap.withdraw(data, function (hash) {
                  flow.setState({
                    ethSwapWithdrawTransactionHash: hash
                  });

                  flow.swap.room.sendMessage({
                    event: 'ethWithdrawTxHash',
                    data: {
                      ethSwapWithdrawTransactionHash: hash
                    }
                  });
                });

              case 12:
                _context3.next = 25;
                break;

              case 14:
                _context3.prev = 14;
                _context3.t0 = _context3['catch'](9);

                if (!/known transaction/.test(_context3.t0.message)) {
                  _context3.next = 20;
                  break;
                }

                return _context3.abrupt('return', console.error('known tx: ' + _context3.t0.message));

              case 20:
                if (!/out of gas/.test(_context3.t0.message)) {
                  _context3.next = 24;
                  break;
                }

                return _context3.abrupt('return', console.error('tx failed (wrong secret?): ' + _context3.t0.message));

              case 24:
                return _context3.abrupt('return', console.error(_context3.t0));

              case 25:

                flow.swap.room.on('request ethWithdrawTxHash', function () {
                  flow.swap.room.sendMessage({
                    event: 'ethWithdrawTxHash',
                    data: {
                      ethSwapWithdrawTransactionHash: flow.state.ethSwapWithdrawTransactionHash
                    }
                  });
                });

                flow.swap.room.sendMessage({
                  event: 'finish eth withdraw'
                });

                flow.finishStep({
                  isEthWithdrawn: true
                });

              case 28:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, _this2, [[9, 14]]);
      })),

      // 7. Finish

      function () {
        flow.swap.room.once('swap finished', function () {
          flow.finishStep({
            isFinished: true
          });
        });
      },

      // 8. Finished!
      function () {}];
    }
  }, {
    key: 'submitSecret',
    value: function submitSecret(secret) {
      if (this.state.secret) {
        return;
      }

      if (!this.state.isParticipantSigned) {
        throw new Error('Cannot proceed: participant not signed. step=' + this.state.step);
      }

      var secretHash = _crypto2.default.ripemd160(Buffer.from(secret, 'hex')).toString('hex');

      this.finishStep({
        secret: secret,
        secretHash: secretHash
      }, { step: 'submit-secret' });
    }
  }, {
    key: 'syncBalance',
    value: function () {
      var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
        var sellAmount, balance, isEnoughMoney;
        return _regenerator2.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                sellAmount = this.swap.sellAmount;


                this.setState({
                  isBalanceFetching: true
                });

                _context4.next = 4;
                return this.ltcSwap.fetchBalance(this.app.services.auth.accounts.ltc.getAddress());

              case 4:
                balance = _context4.sent;
                isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);


                if (isEnoughMoney) {
                  this.finishStep({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: true
                  }, { step: 'sync-balance' });
                } else {
                  console.error('Not enough money: ' + balance + ' < ' + sellAmount);
                  this.setState({
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: false
                  });
                }

              case 7:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function syncBalance() {
        return _ref5.apply(this, arguments);
      }

      return syncBalance;
    }()
  }, {
    key: 'tryRefund',
    value: function tryRefund() {
      var _this3 = this;

      return this.ltcSwap.refund({
        scriptValues: this.state.ltcScriptValues,
        secret: this.state.secret
      }, function (hash) {
        _this3.setState({
          refundTransactionHash: hash,
          isRefunded: true
        });
      }).then(function () {
        _this3.setState({
          isSwapExist: false
        });
      });
    }
  }]);
  return LTC2ETH;
}(_swap3.Flow);

exports.default = LTC2ETH;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3132:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _crypto = __webpack_require__(70);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(82);

var _bignumber = __webpack_require__(30);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BCH2ETH = function (_Flow) {
  (0, _inherits3.default)(BCH2ETH, _Flow);
  (0, _createClass3.default)(BCH2ETH, null, [{
    key: 'getName',
    value: function getName() {
      return this.getFromName() + '2' + this.getToName();
    }
  }, {
    key: 'getFromName',
    value: function getFromName() {
      return _swap.constants.COINS.bch;
    }
  }, {
    key: 'getToName',
    value: function getToName() {
      return _swap.constants.COINS.eth;
    }
  }]);

  function BCH2ETH(swap) {
    (0, _classCallCheck3.default)(this, BCH2ETH);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BCH2ETH.__proto__ || (0, _getPrototypeOf2.default)(BCH2ETH)).call(this, swap));

    _this.getRefundTxHex = function () {
      _this.bchSwap.getRefundHexTransaction({
        scriptValues: _this.state.bchScriptValues,
        secret: _this.state.secret
      }).then(function (txHex) {
        _this.setState({
          refundTxHex: txHex
        });
      });
    };

    _this._flowName = BCH2ETH.getName();

    _this.stepNumbers = {
      'sign': 1,
      'submit-secret': 2,
      'sync-balance': 3,
      'lock-bch': 4,
      'wait-lock-eth': 5,
      'withdraw-eth': 6,
      'finish': 7,
      'end': 8
    };

    _this.ethSwap = swap.ownerSwap;
    _this.bchSwap = swap.participantSwap;

    if (!_this.ethSwap) {
      throw new Error('BCH2ETH: "ethSwap" of type object required');
    }
    if (!_this.bchSwap) {
      throw new Error('BCH2ETH: "bchSwap" of type object required');
    }

    _this.state = {
      step: 0,

      isStoppedSwap: false,
      isEnoughMoney: false,

      signTransactionHash: null,
      isSignFetching: false,
      isParticipantSigned: false,

      bchScriptCreatingTransactionHash: null,
      ethSwapCreationTransactionHash: null,

      secretHash: null,
      bchScriptValues: null,

      bchScriptVerified: false,

      createScriptFee: null,
      createScriptNeedAmount: null,
      isBalanceFetching: false,
      isBalanceEnough: false,
      balance: null,

      isEthContractFunded: false,

      bchSwapWithdrawTransactionHash: null,
      ethSwapWithdrawTransactionHash: null,

      canCreateEthTransaction: true,
      isEthWithdrawn: false,

      refundTransactionHash: null,
      isRefunded: false,
      withdrawFee: null,
      refundTxHex: null,
      isFinished: false,
      isSwapExist: false
    };

    _this.swap.room.once('swap was canceled for core', function () {
      console.error('Swap was stopped');
      _this.setState({
        isStoppedSwap: true
      });
    });

    (0, _get3.default)(BCH2ETH.prototype.__proto__ || (0, _getPrototypeOf2.default)(BCH2ETH.prototype), '_persistSteps', _this).call(_this);
    _this._persistState();
    return _this;
  }

  (0, _createClass3.default)(BCH2ETH, [{
    key: '_persistState',
    value: function _persistState() {
      (0, _get3.default)(BCH2ETH.prototype.__proto__ || (0, _getPrototypeOf2.default)(BCH2ETH.prototype), '_persistState', this).call(this);
    }
  }, {
    key: '_getSteps',
    value: function _getSteps() {
      var _this2 = this;

      var flow = this;

      return [

      // 1. Signs

      function () {
        flow.swap.room.once('swap sign', function () {
          flow.finishStep({
            isParticipantSigned: true
          }, { step: 'sign', silentError: true });
        });

        flow.swap.room.once('swap exists', function () {
          flow.setState({
            isSwapExist: true
          });
        });

        if (flow.state.isSwapExist) {
          flow.swap.room.once('refund completed', function () {
            flow.swap.room.sendMessage({
              event: 'request sign'
            });
          });
        } else {
          flow.swap.room.sendMessage({
            event: 'request sign'
          });
        }
      },
      // 2. Create secret, secret hash

      function () {
        // this.submitSecret()
      },

      // 3. Check balance

      function () {
        _this2.syncBalance();
      },

      // 4. Create BCH Script, fund, notify participant

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
        var sellAmount, onTransactionHash, scriptValues, checkBCHScriptBalance;
        return _regenerator2.default.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                sellAmount = flow.swap.sellAmount;

                onTransactionHash = function onTransactionHash(txID) {
                  if (flow.state.bchScriptCreatingTransactionHash) return;

                  flow.setState({
                    bchScriptCreatingTransactionHash: txID
                  });

                  flow.swap.room.on('request bch script', function () {
                    flow.swap.room.sendMessage({
                      event: 'create bch script',
                      data: {
                        scriptValues: flow.state.bchScriptValues,
                        bchScriptCreatingTransactionHash: txID
                      }
                    });
                  });

                  flow.swap.room.sendMessage({
                    event: 'create bch script',
                    data: {
                      scriptValues: flow.state.bchScriptValues,
                      bchScriptCreatingTransactionHash: txID
                    }
                  });
                };

                // Balance on system wallet enough


                if (!flow.state.isBalanceEnough) {
                  _context2.next = 7;
                  break;
                }

                _context2.next = 5;
                return flow.bchSwap.fundScript({
                  scriptValues: flow.state.bchScriptValues,
                  amount: sellAmount
                }, function (hash) {
                  onTransactionHash(hash);

                  flow.finishStep({
                    isBchScriptFunded: true
                  }, { step: 'lock-bch' });
                });

              case 5:
                _context2.next = 12;
                break;

              case 7:
                scriptValues = flow.state.bchScriptValues;

                checkBCHScriptBalance = function () {
                  var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
                    var _bchSwap$createScript, scriptAddress, unspents, txID, balance, isEnoughMoney;

                    return _regenerator2.default.wrap(function _callee$(_context) {
                      while (1) {
                        switch (_context.prev = _context.next) {
                          case 0:
                            _bchSwap$createScript = _this2.bchSwap.createScript(scriptValues), scriptAddress = _bchSwap$createScript.scriptAddress;
                            _context.next = 3;
                            return _this2.bchSwap.fetchUnspents(scriptAddress);

                          case 3:
                            unspents = _context.sent;

                            if (!(unspents.length === 0)) {
                              _context.next = 6;
                              break;
                            }

                            return _context.abrupt('return', false);

                          case 6:
                            txID = unspents[0].txid;

                            onTransactionHash(txID);

                            _context.next = 10;
                            return _this2.bchSwap.getBalance(scriptValues);

                          case 10:
                            balance = _context.sent;


                            flow.setState({
                              scriptBalance: (0, _bignumber.BigNumber)(balance).div(1e8).dp(8)
                            });

                            isEnoughMoney = (0, _bignumber.BigNumber)(balance).isGreaterThanOrEqualTo(sellAmount.times(1e8));


                            _this2.setState({
                              isEnoughMoney: isEnoughMoney
                            });

                          case 14:
                          case 'end':
                            return _context.stop();
                        }
                      }
                    }, _callee, _this2);
                  }));

                  return function checkBCHScriptBalance() {
                    return _ref2.apply(this, arguments);
                  };
                }();

                _context2.next = 11;
                return _swap.util.helpers.repeatAsyncUntilResult(function (stopRepeat) {
                  if (!_this2.state.isEnoughMoney && !_this2.state.isStoppedSwap) {
                    checkBCHScriptBalance();
                  } else {
                    stopRepeat();
                  }
                });

              case 11:
                if (!_this2.state.isStoppedSwap) {
                  flow.finishStep({
                    isBchScriptFunded: true
                  }, { step: 'lock-bch' });
                }

              case 12:
              case 'end':
                return _context2.stop();
            }
          }
        }, _callee2, _this2);
      })),

      // 5. Wait participant creates ETH Contract

      function () {
        var participant = flow.swap.participant;

        var timer = void 0;

        flow.swap.room.once('create eth contract', function (_ref3) {
          var ethSwapCreationTransactionHash = _ref3.ethSwapCreationTransactionHash;

          flow.setState({
            ethSwapCreationTransactionHash: ethSwapCreationTransactionHash
          });
        });

        var checkEthBalance = function checkEthBalance() {
          timer = setTimeout((0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
            var balance;
            return _regenerator2.default.wrap(function _callee3$(_context3) {
              while (1) {
                switch (_context3.prev = _context3.next) {
                  case 0:
                    _context3.next = 2;
                    return flow.ethSwap.getBalance({
                      ownerAddress: participant.eth.address
                    });

                  case 2:
                    balance = _context3.sent;


                    if (balance > 0) {
                      if (!flow.state.isEthContractFunded) {
                        // redundant condition but who cares :D
                        flow.finishStep({
                          isEthContractFunded: true
                        }, { step: 'wait-lock-eth' });
                      }
                    } else {
                      checkEthBalance();
                    }

                  case 4:
                  case 'end':
                    return _context3.stop();
                }
              }
            }, _callee3, _this2);
          })), 5 * 1000);
        };

        checkEthBalance();

        flow.swap.room.once('create eth contract', function () {
          if (!flow.state.isEthContractFunded) {
            clearTimeout(timer);
            timer = null;

            flow.finishStep({
              isEthContractFunded: true
            }, { step: 'wait-lock-eth' });
          }
        });
      },

      // 6. Withdraw

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
        var _flow$swap, buyAmount, participant, _flow$state, secretHash, secret, data, balanceCheckError, targetWallet, needTargetWallet, onWithdrawReady, tryWithdraw, isEthWithdrawn;

        return _regenerator2.default.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                _flow$swap = flow.swap, buyAmount = _flow$swap.buyAmount, participant = _flow$swap.participant;
                _flow$state = flow.state, secretHash = _flow$state.secretHash, secret = _flow$state.secret;
                data = {
                  ownerAddress: participant.eth.address,
                  secret: secret
                };
                _context5.next = 5;
                return flow.ethSwap.checkBalance({
                  ownerAddress: participant.eth.address,
                  participantAddress: _this2.app.services.auth.accounts.eth.address,
                  expectedValue: buyAmount,
                  expectedHash: secretHash
                });

              case 5:
                balanceCheckError = _context5.sent;

                if (!balanceCheckError) {
                  _context5.next = 10;
                  break;
                }

                console.error('Waiting until deposit: ETH balance check error:', balanceCheckError);
                flow.swap.events.dispatch('eth balance check error', balanceCheckError);

                return _context5.abrupt('return');

              case 10:
                if (!flow.ethSwap.hasTargetWallet()) {
                  _context5.next = 19;
                  break;
                }

                _context5.next = 13;
                return flow.ethSwap.getTargetWallet(participant.eth.address);

              case 13:
                targetWallet = _context5.sent;
                needTargetWallet = flow.swap.destinationBuyAddress ? flow.swap.destinationBuyAddress : _this2.app.services.auth.accounts.eth.address;

                if (!(targetWallet !== needTargetWallet)) {
                  _context5.next = 19;
                  break;
                }

                console.error('Destination address for ether dismatch with needed (Needed, Getted). Stop swap now!', needTargetWallet, targetWallet);
                flow.swap.events.dispatch('address for ether invalid', {
                  needed: needTargetWallet,
                  getted: targetWallet
                });

                return _context5.abrupt('return');

              case 19:
                onWithdrawReady = function onWithdrawReady() {
                  flow.swap.room.on('request ethWithdrawTxHash', function () {
                    // Spot where there was an a vulnerability
                    flow.swap.room.sendMessage({
                      event: 'ethWithdrawTxHash',
                      data: {
                        ethSwapWithdrawTransactionHash: flow.state.ethSwapWithdrawTransactionHash
                      }
                    });
                  });

                  flow.swap.room.sendMessage({
                    event: 'finish eth withdraw'
                  });

                  flow.finishStep({
                    isEthWithdrawn: isEthWithdrawn
                  }, 'withdraw-eth');
                };

                tryWithdraw = function () {
                  var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(stopRepeater) {
                    var withdrawFee, withdrawNeededGas, requireWithdrawFee;
                    return _regenerator2.default.wrap(function _callee4$(_context4) {
                      while (1) {
                        switch (_context4.prev = _context4.next) {
                          case 0:
                            if (flow.state.isEthWithdrawn) {
                              _context4.next = 37;
                              break;
                            }

                            _context4.prev = 1;
                            withdrawFee = flow.state.withdrawFee;

                            if (withdrawFee) {
                              _context4.next = 9;
                              break;
                            }

                            _context4.next = 6;
                            return flow.ethSwap.calcWithdrawGas({
                              ownerAddress: data.ownerAddress,
                              secret: secret
                            });

                          case 6:
                            withdrawNeededGas = _context4.sent;

                            flow.setState({
                              withdrawFee: withdrawNeededGas
                            });
                            (0, _debug2.default)('swap.core:flow')('withdraw gas fee', withdrawNeededGas);

                          case 9:
                            _context4.next = 11;
                            return flow.ethSwap.withdraw(data, function (hash) {
                              flow.setState({
                                ethSwapWithdrawTransactionHash: hash,
                                canCreateEthTransaction: true
                              });

                              // Spot where there was an a vulnerability
                              flow.swap.room.sendMessage({
                                event: 'ethWithdrawTxHash',
                                data: {
                                  ethSwapWithdrawTransactionHash: hash
                                }
                              });
                            });

                          case 11:
                            _context4.next = 37;
                            break;

                          case 13:
                            _context4.prev = 13;
                            _context4.t0 = _context4['catch'](1);

                            if (!/known transaction/.test(_context4.t0.message)) {
                              _context4.next = 19;
                              break;
                            }

                            console.error('known tx: ' + _context4.t0.message);
                            _context4.next = 35;
                            break;

                          case 19:
                            if (!/out of gas/.test(_context4.t0.message)) {
                              _context4.next = 23;
                              break;
                            }

                            console.error('tx failed (wrong secret?): ' + _context4.t0.message);
                            _context4.next = 35;
                            break;

                          case 23:
                            if (!/insufficient funds for gas/.test(_context4.t0.message)) {
                              _context4.next = 34;
                              break;
                            }

                            console.error('insufficient fund for gas: ' + _context4.t0.message);

                            (0, _debug2.default)('swap.core:flow')('insufficient fund for gas... wait fund or request other side to withdraw');

                            requireWithdrawFee = _this2.state.requireWithdrawFee;

                            if (requireWithdrawFee) {
                              _context4.next = 32;
                              break;
                            }

                            flow.swap.room.once('withdraw ready', function (_ref7) {
                              var ethSwapWithdrawTransactionHash = _ref7.ethSwapWithdrawTransactionHash;

                              flow.setState({
                                ethSwapWithdrawTransactionHash: ethSwapWithdrawTransactionHash
                              });

                              onWithdrawReady();
                            });

                            flow.setState({
                              requireWithdrawFee: true,
                              canCreateEthTransaction: true
                            });

                            stopRepeater();
                            return _context4.abrupt('return', false);

                          case 32:
                            _context4.next = 35;
                            break;

                          case 34:
                            console.error(_context4.t0);

                          case 35:

                            flow.setState({
                              canCreateEthTransaction: false
                            });

                            return _context4.abrupt('return', null);

                          case 37:
                            return _context4.abrupt('return', true);

                          case 38:
                          case 'end':
                            return _context4.stop();
                        }
                      }
                    }, _callee4, _this2, [[1, 13]]);
                  }));

                  return function tryWithdraw(_x) {
                    return _ref6.apply(this, arguments);
                  };
                }();

                _context5.next = 23;
                return _swap.util.helpers.repeatAsyncUntilResult(function (stopRepeater) {
                  return tryWithdraw(stopRepeater);
                });

              case 23:
                isEthWithdrawn = _context5.sent;


                if (isEthWithdrawn) {
                  onWithdrawReady();
                }

              case 25:
              case 'end':
                return _context5.stop();
            }
          }
        }, _callee5, _this2);
      })),

      // 7. Finish

      function () {
        flow.swap.room.once('swap finished', function (_ref8) {
          var bchSwapWithdrawTransactionHash = _ref8.bchSwapWithdrawTransactionHash;

          flow.setState({
            bchSwapWithdrawTransactionHash: bchSwapWithdrawTransactionHash
          });
          flow.finishStep({
            isFinished: true
          });
        });
      },

      // 8. Finished!
      function () {}];
    }

    /**
     * TODO - backport version compatibility
     *  mapped to sendWithdrawRequestToAnotherParticipant
     *  remove at next iteration after client software update
     *  Used in swap.react
     */

  }, {
    key: 'sendWithdrawRequest',
    value: function sendWithdrawRequest() {
      return this.sendWithdrawRequestToAnotherParticipant();
    }
  }, {
    key: 'sendWithdrawRequestToAnotherParticipant',
    value: function sendWithdrawRequestToAnotherParticipant() {
      var flow = this;

      if (!this.state.requireWithdrawFee) return;
      if (this.state.requireWithdrawFeeSended) return;

      this.setState({
        requireWithdrawFeeSended: true
      });

      this.swap.room.on('accept withdraw request', function () {
        flow.swap.room.sendMessage({
          event: 'do withdraw',
          data: {
            secret: flow.state.secret
          }
        });
      });

      this.swap.room.sendMessage({
        event: 'request withdraw'
      });
    }
  }, {
    key: 'submitSecret',
    value: function submitSecret(secret) {
      if (this.state.secret) {
        return;
      }

      if (!this.state.isParticipantSigned) {
        throw new Error('Cannot proceed: participant not signed. step=' + this.state.step);
      }

      var secretHash = _crypto2.default.ripemd160(Buffer.from(secret, 'hex')).toString('hex');

      /* Secret hash generated - create BCH script - and only after this notify other part */
      this.createWorkBCHScript(secretHash);

      var _secret = '0x' + secret.replace(/^0x/, '');

      this.finishStep({
        secret: _secret,
        secretHash: secretHash
      }, { step: 'submit-secret' });
    }
  }, {
    key: 'createWorkBCHScript',
    value: function createWorkBCHScript(secretHash) {
      if (this.state.bchScriptValues) {
        (0, _debug2.default)('swap.core:flow')('BCH Script already generated', this.state.bchScriptValues);
        return;
      }

      var participant = this.swap.participant;
      // TODO move this somewhere!

      var utcNow = function utcNow() {
        return Math.floor(Date.now() / 1000);
      };
      var getLockTime = function getLockTime() {
        return utcNow() + 3600 * 3;
      }; // 3 hours from now

      var scriptValues = {
        secretHash: secretHash,
        ownerPublicKey: this.app.services.auth.accounts.bch.getPublicKey(),
        recipientPublicKey: participant.bch.publicKey,
        lockTime: getLockTime()
      };

      var _bchSwap$createScript2 = this.bchSwap.createScript(scriptValues),
          scriptAddress = _bchSwap$createScript2.scriptAddress;

      this.setState({
        scriptAddress: scriptAddress,
        bchScriptValues: scriptValues,
        scriptBalance: 0,
        scriptUnspendBalance: 0
      });
    }
  }, {
    key: 'syncBalance',
    value: function () {
      var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {
        var sellAmount, bchAddress, balance, txFee, needAmount, isEnoughMoney;
        return _regenerator2.default.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                sellAmount = this.swap.sellAmount;


                this.setState({
                  isBalanceFetching: true
                });

                bchAddress = this.app.services.auth.accounts.bch.getAddress();
                _context6.next = 5;
                return this.bchSwap.fetchBalance();

              case 5:
                balance = _context6.sent;
                _context6.next = 8;
                return this.bchSwap.estimateFeeValue({ method: 'swap', fixed: true, address: bchAddress });

              case 8:
                txFee = _context6.sent;
                needAmount = sellAmount.plus(txFee);
                isEnoughMoney = needAmount.isLessThanOrEqualTo(balance);


                if (isEnoughMoney) {
                  this.finishStep({
                    balance: balance,
                    createScriptFee: txFee,
                    createScriptNeedAmount: needAmount,
                    isBalanceFetching: false,
                    isBalanceEnough: isEnoughMoney
                  }, { step: 'sync-balance' });
                } else {
                  console.error('Not enough money: ' + balance + ' < ' + needAmount + ' (' + sellAmount + ' + txFee ' + txFee + ')');
                }

              case 12:
              case 'end':
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function syncBalance() {
        return _ref9.apply(this, arguments);
      }

      return syncBalance;
    }()
  }, {
    key: 'stopSwapProcess',
    value: function stopSwapProcess() {
      // вызывается из реакте
      this.setState({
        isStoppedSwap: true
      });
      this.sendMessageAboutClose();
    }
  }, {
    key: 'tryRefund',
    value: function tryRefund() {
      var _this3 = this;

      return this.bchSwap.refund({
        scriptValues: this.state.bchScriptValues,
        secret: this.state.secret
      }, function (hash) {
        _this3.setState({
          refundTransactionHash: hash,
          isRefunded: true
        });
      }).then(function () {
        _this3.setState({
          isSwapExist: false
        });
      });
    }
  }, {
    key: 'tryWithdraw',
    value: function () {
      var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(_secret) {
        var _this4 = this;

        var _state, secret, secretHash, isEthWithdrawn, isBchWithdrawn, _secretHash, participant, data;

        return _regenerator2.default.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                _state = this.state, secret = _state.secret, secretHash = _state.secretHash, isEthWithdrawn = _state.isEthWithdrawn, isBchWithdrawn = _state.isBchWithdrawn;

                if (_secret) {
                  _context7.next = 3;
                  break;
                }

                throw new Error('Withdrawal is automatic. For manual withdrawal, provide a secret');

              case 3:

                if (secret && secret != _secret) console.warn('Secret already known and is different. Are you sure?');

                if (isEthWithdrawn) console.warn('Looks like money were already withdrawn, are you sure?');

                (0, _debug2.default)('swap.core:flow')('WITHDRAW using secret = ' + _secret);

                _secretHash = _crypto2.default.ripemd160(Buffer.from(_secret, 'hex')).toString('hex');


                if (secretHash != _secretHash) console.warn('Hash does not match! state: ' + secretHash + ', given: ' + _secretHash);

                participant = this.swap.participant;
                data = {
                  ownerAddress: participant.eth.address,
                  secret: _secret
                };
                _context7.next = 12;
                return this.ethSwap.withdraw(data, function (hash) {
                  (0, _debug2.default)('swap.core:flow')('TX hash=' + hash);
                  _this4.setState({
                    ethSwapWithdrawTransactionHash: hash,
                    canCreateEthTransaction: true
                  });
                }).then(function () {

                  _this4.finishStep({
                    isEthWithdrawn: true
                  }, 'withdraw-eth');
                });

              case 12:
              case 'end':
                return _context7.stop();
            }
          }
        }, _callee7, this);
      }));

      function tryWithdraw(_x2) {
        return _ref10.apply(this, arguments);
      }

      return tryWithdraw;
    }()
  }]);
  return BCH2ETH;
}(_swap3.Flow);

exports.default = BCH2ETH;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3133:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _crypto = __webpack_require__(70);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(82);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// move to BchSwap
var ETH2BCH = function (_Flow) {
  (0, _inherits3.default)(ETH2BCH, _Flow);
  (0, _createClass3.default)(ETH2BCH, null, [{
    key: 'getName',
    value: function getName() {
      return this.getFromName() + '2' + this.getToName();
    }
  }, {
    key: 'getFromName',
    value: function getFromName() {
      return _swap.constants.COINS.eth;
    }
  }, {
    key: 'getToName',
    value: function getToName() {
      return _swap.constants.COINS.bch;
    }
  }]);

  function ETH2BCH(swap) {
    (0, _classCallCheck3.default)(this, ETH2BCH);

    var _this = (0, _possibleConstructorReturn3.default)(this, (ETH2BCH.__proto__ || (0, _getPrototypeOf2.default)(ETH2BCH)).call(this, swap));

    _this._flowName = ETH2BCH.getName();

    _this.stepNumbers = {
      'sign': 1,
      'wait-lock-bch': 2,
      'verify-script': 3,
      'sync-balance': 4,
      'lock-eth': 5,
      'wait-withdraw-eth': 6, // aka getSecret
      'withdraw-bch': 7,
      'finish': 8,
      'end': 9
    };

    _this.ethSwap = swap.participantSwap;
    _this.bchSwap = swap.ownerSwap;

    if (!_this.ethSwap) {
      throw new Error('BCH2ETH: "ethSwap" of type object required');
    }
    if (!_this.bchSwap) {
      throw new Error('BCH2ETH: "bchSwap" of type object required');
    }

    _this.state = {
      step: 0,

      isStoppedSwap: false,
      isEnoughMoney: false,

      signTransactionHash: null,
      isSignFetching: false,
      isMeSigned: false,

      secretHash: null,
      bchScriptValues: null,

      bchScriptVerified: false,

      isBalanceFetching: false,
      isBalanceEnough: false,
      balance: null,

      bchScriptCreatingTransactionHash: null,
      ethSwapCreationTransactionHash: null,
      canCreateEthTransaction: true,
      isEthContractFunded: false,

      secret: null,

      isEthWithdrawn: false,
      isBchWithdrawn: false,

      ethSwapWithdrawTransactionHash: null,
      bchSwapWithdrawTransactionHash: null,

      refundTransactionHash: null,
      isRefunded: false,

      isFinished: false,
      isSwapExist: false
    };

    _this.swap.room.once('swap was canceled for core', function () {
      console.error('Swap was stopped');
      _this.setState({
        isStoppedSwap: true
      });
    });

    (0, _get3.default)(ETH2BCH.prototype.__proto__ || (0, _getPrototypeOf2.default)(ETH2BCH.prototype), '_persistSteps', _this).call(_this);
    _this._persistState();

    var flow = _this;
    flow.swap.room.once('request withdraw', function () {
      flow.setState({
        withdrawRequestIncoming: true
      });
    });
    return _this;
  }

  (0, _createClass3.default)(ETH2BCH, [{
    key: '_persistState',
    value: function _persistState() {
      (0, _get3.default)(ETH2BCH.prototype.__proto__ || (0, _getPrototypeOf2.default)(ETH2BCH.prototype), '_persistState', this).call(this);
    }
  }, {
    key: '_getSteps',
    value: function _getSteps() {
      var _this2 = this;

      var flow = this;

      return [

      // 1. Sign swap to start

      function () {
        // this.sign()
      },

      // 2. Wait participant create, fund BCH Script

      function () {
        flow.swap.room.once('create bch script', function (_ref) {
          var scriptValues = _ref.scriptValues,
              bchScriptCreatingTransactionHash = _ref.bchScriptCreatingTransactionHash;

          flow.finishStep({
            secretHash: scriptValues.secretHash,
            bchScriptValues: scriptValues,
            bchScriptCreatingTransactionHash: bchScriptCreatingTransactionHash
          }, { step: 'wait-lock-bch', silentError: true });
        });
        flow.swap.room.sendMessage({
          event: 'request bch script'
        });
      },

      // 3. Verify BCH Script

      function () {
        (0, _debug2.default)('swap.core:flow')('waiting verify bch script');
        // this.verifyBchScript()
      },

      // 4. Check balance

      function () {
        _this2.syncBalance();
      },

      // 5. Create ETH Contract

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
        var _flow$swap, participant, buyAmount, sellAmount, utcNow, getLockTime, swapData, tryCreateSwap, isEthContractFunded;

        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _flow$swap = flow.swap, participant = _flow$swap.participant, buyAmount = _flow$swap.buyAmount, sellAmount = _flow$swap.sellAmount;

                // TODO move this somewhere!

                utcNow = function utcNow() {
                  return Math.floor(Date.now() / 1000);
                };

                getLockTime = function getLockTime() {
                  return utcNow() + 3600 * 1;
                }; // 1 hour from now

                _context3.next = 5;
                return _swap.util.helpers.repeatAsyncUntilResult((0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
                  var scriptCheckError;
                  return _regenerator2.default.wrap(function _callee$(_context) {
                    while (1) {
                      switch (_context.prev = _context.next) {
                        case 0:
                          _context.next = 2;
                          return flow.bchSwap.checkScript(flow.state.bchScriptValues, {
                            value: buyAmount,
                            recipientPublicKey: _this2.app.services.auth.accounts.bch.getPublicKey(),
                            lockTime: getLockTime(),
                            confidence: 0.8
                          });

                        case 2:
                          scriptCheckError = _context.sent;

                          if (!scriptCheckError) {
                            _context.next = 9;
                            break;
                          }

                          console.error('Bch script check error:', scriptCheckError);
                          flow.swap.events.dispatch('bch script check error', scriptCheckError);

                          return _context.abrupt('return', false);

                        case 9:
                          return _context.abrupt('return', true);

                        case 10:
                        case 'end':
                          return _context.stop();
                      }
                    }
                  }, _callee, _this2);
                })));

              case 5:
                swapData = {
                  participantAddress: participant.eth.address,
                  secretHash: flow.state.secretHash,
                  amount: sellAmount,
                  targetWallet: flow.swap.destinationSellAddress
                };

                tryCreateSwap = function () {
                  var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
                    return _regenerator2.default.wrap(function _callee2$(_context2) {
                      while (1) {
                        switch (_context2.prev = _context2.next) {
                          case 0:
                            if (flow.state.isEthContractFunded) {
                              _context2.next = 12;
                              break;
                            }

                            _context2.prev = 1;

                            (0, _debug2.default)('swap.core:flow')('create swap', swapData);
                            _context2.next = 5;
                            return _this2.ethSwap.create(swapData, function (hash) {
                              (0, _debug2.default)('swap.core:flow')('create swap tx hash', hash);
                              flow.swap.room.sendMessage({
                                event: 'create eth contract',
                                data: {
                                  ethSwapCreationTransactionHash: hash
                                }
                              });

                              flow.setState({
                                ethSwapCreationTransactionHash: hash,
                                canCreateEthTransaction: true
                              });
                            });

                          case 5:
                            _context2.next = 12;
                            break;

                          case 7:
                            _context2.prev = 7;
                            _context2.t0 = _context2['catch'](1);

                            if (/known transaction/.test(_context2.t0.message)) {
                              console.error('known tx: ' + _context2.t0.message);
                            } else if (/out of gas/.test(_context2.t0.message)) {
                              console.error('tx failed (wrong secret?): ' + _context2.t0.message);
                            } else {
                              console.error(_context2.t0);
                            }

                            flow.setState({
                              canCreateEthTransaction: false
                            });

                            return _context2.abrupt('return', null);

                          case 12:
                            return _context2.abrupt('return', true);

                          case 13:
                          case 'end':
                            return _context2.stop();
                        }
                      }
                    }, _callee2, _this2, [[1, 7]]);
                  }));

                  return function tryCreateSwap() {
                    return _ref4.apply(this, arguments);
                  };
                }();

                _context3.next = 9;
                return _swap.util.helpers.repeatAsyncUntilResult(function () {
                  return tryCreateSwap();
                });

              case 9:
                isEthContractFunded = _context3.sent;


                if (isEthContractFunded) {
                  (0, _debug2.default)('swap.core:flow')('finish step');
                  flow.finishStep({
                    isEthContractFunded: isEthContractFunded
                  }, { step: 'lock-eth' });
                }

              case 11:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, _this2);
      })),

      // 6. Wait participant withdraw

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {
        var participant, checkSecretExist, secretFromContract;
        return _regenerator2.default.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                flow.swap.room.once('ethWithdrawTxHash', function () {
                  var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(_ref7) {
                    var ethSwapWithdrawTransactionHash = _ref7.ethSwapWithdrawTransactionHash;
                    var secretFromTxhash, isEthWithdrawn;
                    return _regenerator2.default.wrap(function _callee4$(_context4) {
                      while (1) {
                        switch (_context4.prev = _context4.next) {
                          case 0:
                            flow.setState({
                              ethSwapWithdrawTransactionHash: ethSwapWithdrawTransactionHash
                            });

                            _context4.next = 3;
                            return _swap.util.helpers.repeatAsyncUntilResult(function () {
                              var secret = flow.state.secret;


                              if (secret) {
                                return secret;
                              } else {
                                return flow.ethSwap.getSecretFromTxhash(ethSwapWithdrawTransactionHash);
                              }
                            });

                          case 3:
                            secretFromTxhash = _context4.sent;


                            secretFromTxhash = '0x' + secretFromTxhash.replace(/^0x/, '');

                            isEthWithdrawn = flow.state.isEthWithdrawn;


                            if (!isEthWithdrawn && secretFromTxhash) {
                              (0, _debug2.default)('swap.core:flow')('got secret from tx', ethSwapWithdrawTransactionHash, secretFromTxhash);
                              flow.finishStep({
                                isEthWithdrawn: true,
                                secret: secretFromTxhash
                              }, { step: 'wait-withdraw-eth' });
                            }

                          case 7:
                          case 'end':
                            return _context4.stop();
                        }
                      }
                    }, _callee4, _this2);
                  }));

                  return function (_x) {
                    return _ref6.apply(this, arguments);
                  };
                }());

                flow.swap.room.sendMessage({
                  event: 'request ethWithdrawTxHash'
                });

                // If partner decides to scam and doesn't send ethWithdrawTxHash
                // then we try to withdraw as in ETHTOKEN2USDT

                participant = flow.swap.participant;

                checkSecretExist = function () {
                  var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
                    var _secretFromContract;

                    return _regenerator2.default.wrap(function _callee5$(_context5) {
                      while (1) {
                        switch (_context5.prev = _context5.next) {
                          case 0:
                            _context5.prev = 0;
                            _context5.next = 3;
                            return flow.ethSwap.getSecret({
                              participantAddress: participant.eth.address
                            });

                          case 3:
                            _secretFromContract = _context5.sent;

                            if (!_secretFromContract) {
                              _context5.next = 9;
                              break;
                            }

                            _secretFromContract = '0x' + _secretFromContract.replace(/^0x/, '');

                            return _context5.abrupt('return', _secretFromContract);

                          case 9:
                            console.warn('Secret still not exists');

                            return _context5.abrupt('return', null);

                          case 11:
                            _context5.next = 17;
                            break;

                          case 13:
                            _context5.prev = 13;
                            _context5.t0 = _context5['catch'](0);

                            console.error(_context5.t0);

                            return _context5.abrupt('return', null);

                          case 17:
                          case 'end':
                            return _context5.stop();
                        }
                      }
                    }, _callee5, _this2, [[0, 13]]);
                  }));

                  return function checkSecretExist() {
                    return _ref8.apply(this, arguments);
                  };
                }();

                flow.swap.room.once('finish eth withdraw', function () {
                  return checkSecretExist();
                });

                _context6.next = 7;
                return _swap.util.helpers.repeatAsyncUntilResult(function (stopRepeat) {
                  var isEthWithdrawn = flow.state.isEthWithdrawn;


                  if (isEthWithdrawn) {
                    console.warn('Secret already exists');
                    stopRepeat();

                    return false;
                  }

                  return checkSecretExist();
                });

              case 7:
                secretFromContract = _context6.sent;


                if (secretFromContract) {
                  (0, _debug2.default)('swap.core:flow')('got secret from smart contract', secretFromContract);

                  flow.finishStep({
                    isEthWithdrawn: true,
                    secret: secretFromContract
                  }, { step: 'wait-withdraw-eth' });
                }

              case 9:
              case 'end':
                return _context6.stop();
            }
          }
        }, _callee6, _this2);
      })),

      // 7. Withdraw

      (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7() {
        var _flow$state, secret, bchScriptValues;

        return _regenerator2.default.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                _flow$state = flow.state, secret = _flow$state.secret, bchScriptValues = _flow$state.bchScriptValues;

                if (bchScriptValues) {
                  _context7.next = 4;
                  break;
                }

                console.error('There is no "bchScriptValues" in state. No way to continue swap...');
                return _context7.abrupt('return');

              case 4:

                console.log("Debug - destination address....");
                _context7.next = 7;
                return flow.bchSwap.withdraw({
                  scriptValues: flow.state.bchScriptValues,
                  secret: secret,
                  destinationAddress: flow.swap.destinationBuyAddress
                }, function (hash) {
                  flow.setState({
                    bchSwapWithdrawTransactionHash: hash
                  });
                });

              case 7:

                flow.finishStep({
                  isBchWithdrawn: true
                }, { step: 'withdraw-bch' });

              case 8:
              case 'end':
                return _context7.stop();
            }
          }
        }, _callee7, _this2);
      })),

      // 8. Finish

      function () {
        var bchSwapWithdrawTransactionHash = flow.state.bchSwapWithdrawTransactionHash;


        flow.swap.room.sendMessage({
          event: 'swap finished',
          data: {
            bchSwapWithdrawTransactionHash: bchSwapWithdrawTransactionHash
          }
        });

        flow.finishStep({
          isFinished: true
        }, { step: 'finish' });
      },

      // 9. Finished!
      function () {}];
    }
  }, {
    key: 'acceptWithdrawRequest',
    value: function acceptWithdrawRequest() {
      var _this3 = this;

      var flow = this;

      if (this.state.withdrawRequestAccepted) return;
      this.setState({
        withdrawRequestAccepted: true
      });

      this.swap.room.once('do withdraw', function () {
        var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8(_ref11) {
          var secret = _ref11.secret;
          var data;
          return _regenerator2.default.wrap(function _callee8$(_context8) {
            while (1) {
              switch (_context8.prev = _context8.next) {
                case 0:
                  _context8.prev = 0;
                  data = {
                    participantAddress: flow.swap.participant.eth.address,
                    secret: secret
                  };
                  _context8.next = 4;
                  return flow.ethSwap.withdrawNoMoney(data, function (hash) {
                    flow.swap.room.sendMessage({
                      event: 'withdraw ready',
                      data: {
                        ethSwapWithdrawTransactionHash: hash
                      }
                    });
                  });

                case 4:
                  _context8.next = 9;
                  break;

                case 6:
                  _context8.prev = 6;
                  _context8.t0 = _context8['catch'](0);

                  (0, _debug2.default)('swap.core:flow')(_context8.t0.message);

                case 9:
                case 'end':
                  return _context8.stop();
              }
            }
          }, _callee8, _this3, [[0, 6]]);
        }));

        return function (_x2) {
          return _ref10.apply(this, arguments);
        };
      }());

      this.swap.room.sendMessage({
        event: 'accept withdraw request'
      });
    }
  }, {
    key: '_checkSwapAlreadyExists',
    value: function _checkSwapAlreadyExists() {
      var participant = this.swap.participant;


      var swapData = {
        ownerAddress: this.app.services.auth.accounts.eth.address,
        participantAddress: participant.eth.address
      };

      return this.ethSwap.checkSwapExists(swapData);
    }
  }, {
    key: 'sign',
    value: function () {
      var _ref12 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9() {
        var _this4 = this;

        var swapExists;
        return _regenerator2.default.wrap(function _callee9$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                _context9.next = 2;
                return this._checkSwapAlreadyExists();

              case 2:
                swapExists = _context9.sent;

                if (!swapExists) {
                  _context9.next = 8;
                  break;
                }

                this.swap.room.sendMessage({
                  event: 'swap exists'
                });

                this.setState({
                  isSwapExist: true
                });
                _context9.next = 13;
                break;

              case 8:
                this.setState({
                  isSignFetching: true
                });

                this.swap.room.on('request sign', function () {
                  _this4.swap.room.sendMessage({
                    event: 'swap sign'
                  });
                });

                this.swap.room.sendMessage({
                  event: 'swap sign'
                });

                this.finishStep({
                  isMeSigned: true
                }, { step: 'sign', silentError: true });

                return _context9.abrupt('return', true);

              case 13:
              case 'end':
                return _context9.stop();
            }
          }
        }, _callee9, this);
      }));

      function sign() {
        return _ref12.apply(this, arguments);
      }

      return sign;
    }()
  }, {
    key: 'verifyBchScript',
    value: function verifyBchScript() {
      if (this.state.bchScriptVerified) {
        return true;
      }
      if (!this.state.bchScriptValues) {
        throw new Error('No script, cannot verify');
      }

      this.finishStep({
        bchScriptVerified: true
      }, { step: 'verify-script' });

      return true;
    }
  }, {
    key: 'syncBalance',
    value: function () {
      var _ref13 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee11() {
        var _this5 = this;

        var checkBalance;
        return _regenerator2.default.wrap(function _callee11$(_context11) {
          while (1) {
            switch (_context11.prev = _context11.next) {
              case 0:
                checkBalance = function () {
                  var _ref14 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee10() {
                    var sellAmount, balance, isEnoughMoney;
                    return _regenerator2.default.wrap(function _callee10$(_context10) {
                      while (1) {
                        switch (_context10.prev = _context10.next) {
                          case 0:
                            sellAmount = _this5.swap.sellAmount;


                            _this5.setState({
                              isBalanceFetching: true
                            });

                            _context10.next = 4;
                            return _this5.ethSwap.fetchBalance(_this5.app.services.auth.accounts.eth.address);

                          case 4:
                            balance = _context10.sent;
                            isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);


                            _this5.setState({
                              isEnoughMoney: isEnoughMoney
                            });

                            if (isEnoughMoney) {
                              _this5.finishStep({
                                balance: balance,
                                isBalanceFetching: false,
                                isBalanceEnough: true
                              }, { step: 'sync-balance' });
                            } else {
                              _this5.setState({
                                balance: balance,
                                isBalanceFetching: false,
                                isBalanceEnough: false
                              });
                            }

                          case 8:
                          case 'end':
                            return _context10.stop();
                        }
                      }
                    }, _callee10, _this5);
                  }));

                  return function checkBalance() {
                    return _ref14.apply(this, arguments);
                  };
                }();

                _context11.next = 3;
                return _swap.util.helpers.repeatAsyncUntilResult(function (stopRepeat) {
                  if (!_this5.state.isStoppedSwap && !_this5.state.isEnoughMoney) {
                    checkBalance();
                  } else {
                    stopRepeat();
                  }
                });

              case 3:
              case 'end':
                return _context11.stop();
            }
          }
        }, _callee11, this);
      }));

      function syncBalance() {
        return _ref13.apply(this, arguments);
      }

      return syncBalance;
    }()
  }, {
    key: 'tryRefund',
    value: function () {
      var _ref15 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee12() {
        var _this6 = this;

        var secretHash, refundHandler, wasRefunded;
        return _regenerator2.default.wrap(function _callee12$(_context12) {
          while (1) {
            switch (_context12.prev = _context12.next) {
              case 0:
                secretHash = this.state.secretHash;

                refundHandler = function refundHandler() {
                  _this6.swap.room.sendMessage({
                    event: 'refund completed'
                  });

                  _this6.setState({
                    isSwapExist: false,
                    isRefunded: true
                  });

                  return true;
                };

                wasRefunded = this.ethSwap.wasRefunded({ secretHash: secretHash });

                if (!wasRefunded) {
                  _context12.next = 6;
                  break;
                }

                (0, _debug2.default)('swap.core:flow')('This swap was refunded');

                return _context12.abrupt('return', refundHandler());

              case 6:
                return _context12.abrupt('return', this.ethSwap.refund({
                  participantAddress: participant.eth.address
                }, function (hash) {
                  _this6.setState({
                    refundTransactionHash: hash
                  });
                }).then(function () {
                  return refundHandler();
                }));

              case 7:
              case 'end':
                return _context12.stop();
            }
          }
        }, _callee12, this);
      }));

      function tryRefund() {
        return _ref15.apply(this, arguments);
      }

      return tryRefund;
    }()
  }, {
    key: 'stopSwapProcess',
    value: function stopSwapProcess() {
      // вызывается в реакте
      this.setState({
        isStoppedSwap: true
      });
      this.sendMessageAboutClose();
    }
  }, {
    key: 'tryWithdraw',
    value: function () {
      var _ref16 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee13(_secret) {
        var _this7 = this;

        var _state, secret, secretHash, isEthWithdrawn, isBchWithdrawn, bchScriptValues, _secretHash, _bchSwap$createScript, scriptAddress, balance;

        return _regenerator2.default.wrap(function _callee13$(_context13) {
          while (1) {
            switch (_context13.prev = _context13.next) {
              case 0:
                _state = this.state, secret = _state.secret, secretHash = _state.secretHash, isEthWithdrawn = _state.isEthWithdrawn, isBchWithdrawn = _state.isBchWithdrawn, bchScriptValues = _state.bchScriptValues;

                if (_secret) {
                  _context13.next = 3;
                  break;
                }

                throw new Error('Withdrawal is automatic. For manual withdrawal, provide a secret');

              case 3:
                if (bchScriptValues) {
                  _context13.next = 5;
                  break;
                }

                throw new Error('Cannot withdraw without script values');

              case 5:

                if (secret && secret != _secret) console.warn('Secret already known and is different. Are you sure?');

                if (isBchWithdrawn) console.warn('Looks like money were already withdrawn, are you sure?');

                (0, _debug2.default)('swap.core:flow')('WITHDRAW using secret = ' + _secret);

                _secretHash = _crypto2.default.ripemd160(Buffer.from(_secret, 'hex')).toString('hex');

                if (secretHash != _secretHash) console.warn('Hash does not match! state: ' + secretHash + ', given: ' + _secretHash);

                _bchSwap$createScript = this.bchSwap.createScript(bchScriptValues), scriptAddress = _bchSwap$createScript.scriptAddress;
                _context13.next = 13;
                return this.bchSwap.getBalance(scriptAddress);

              case 13:
                balance = _context13.sent;


                (0, _debug2.default)('swap.core:flow')('address=' + scriptAddress + ', balance=' + balance);

                if (!(balance === 0)) {
                  _context13.next = 18;
                  break;
                }

                this.finishStep({
                  isBchWithdrawn: true
                }, { step: 'withdraw-bch' });
                throw new Error('Already withdrawn: address=' + scriptAddress + ',balance=' + balance);

              case 18:
                _context13.next = 20;
                return this.bchSwap.withdraw({
                  scriptValues: bchScriptValues,
                  secret: _secret
                }, function (hash) {
                  (0, _debug2.default)('swap.core:flow')('TX hash=' + hash);
                  _this7.setState({
                    bchSwapWithdrawTransactionHash: hash
                  });
                });

              case 20:
                (0, _debug2.default)('swap.core:flow')('TX withdraw sent: ' + this.state.bchSwapWithdrawTransactionHash);

                this.finishStep({
                  isBchWithdrawn: true
                }, { step: 'withdraw-bch' });

              case 22:
              case 'end':
                return _context13.stop();
            }
          }
        }, _callee13, this);
      }));

      function tryWithdraw(_x3) {
        return _ref16.apply(this, arguments);
      }

      return tryWithdraw;
    }()
  }]);
  return ETH2BCH;
}(_swap3.Flow);

exports.default = ETH2BCH;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3134:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(82);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var sleep = function sleep(ms) {
  return new _promise2.default(function (resolve) {
    return setTimeout(resolve, ms);
  });
}; /* eslint-disable no-await-in-loop */


var transactionHandlers = function transactionHandlers(flow) {
  return {
    openSwap: function openSwap() {
      var secretHash = flow.state.secretHash;
      var _flow$swap = flow.swap,
          amount = _flow$swap.sellAmount,
          participant = _flow$swap.participant;


      return flow.eosSwap.open({
        btcOwner: participant.eos.address,
        secretHash: secretHash,
        amount: amount
      });
    },
    btcWithdraw: function () {
      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        var _flow$state, secret, scriptValues, btcWithdrawTx;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _flow$state = flow.state, secret = _flow$state.secret, scriptValues = _flow$state.scriptValues;
                btcWithdrawTx = null;

              case 2:
                if (btcWithdrawTx) {
                  _context.next = 17;
                  break;
                }

                (0, _debug2.default)('swap.core:flow')('try withdraw btc...');
                _context.prev = 4;
                _context.next = 7;
                return flow.btcSwap.withdraw({ scriptValues: scriptValues, secret: secret }, null, null, 'sha256');

              case 7:
                btcWithdrawTx = _context.sent;
                _context.next = 15;
                break;

              case 10:
                _context.prev = 10;
                _context.t0 = _context['catch'](4);

                console.error(_context.t0);
                _context.next = 15;
                return sleep(5000);

              case 15:
                _context.next = 2;
                break;

              case 17:
                return _context.abrupt('return', btcWithdrawTx.txid);

              case 18:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, undefined, [[4, 10]]);
      }));

      return function btcWithdraw() {
        return _ref.apply(this, arguments);
      };
    }(),
    refund: function refund() {
      var address = flow.swap.participant.eos.address;


      return flow.eosSwap.refund({
        btcOwner: address
      });
    }
  };
};

var pullHandlers = function pullHandlers(flow) {
  return {
    btcScript: function btcScript() {
      return new _promise2.default(function (resolve) {
        flow.swap.room.once(flow.actions.createBtcScript, resolve);
        flow.swap.room.sendMessage({
          event: 'request ' + flow.actions.createBtcScript
        });
      });
    },
    verifyScript: function () {
      var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
        var value, scriptValues, recipientPublicKey, eosLockPeriod, now, lockTime, errorMessage;
        return _regenerator2.default.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                value = flow.swap.buyAmount;
                scriptValues = flow.state.scriptValues;
                recipientPublicKey = undefined.app.services.auth.accounts.btc.getPublicKey();
                eosLockPeriod = flow.eosSwap.getLockPeriod();
                now = Math.floor(Date.now() / 1000);
                lockTime = now + eosLockPeriod;
                errorMessage = true;

              case 7:
                if (!errorMessage) {
                  _context2.next = 18;
                  break;
                }

                (0, _debug2.default)('swap.core:flow')('try verify script...');
                _context2.next = 11;
                return flow.btcSwap.checkScript(scriptValues, {
                  value: value,
                  recipientPublicKey: recipientPublicKey,
                  lockTime: lockTime
                }, 'sha256');

              case 11:
                errorMessage = _context2.sent;

                if (!errorMessage) {
                  _context2.next = 16;
                  break;
                }

                console.error(errorMessage);
                _context2.next = 16;
                return sleep(5000);

              case 16:
                _context2.next = 7;
                break;

              case 18:
              case 'end':
                return _context2.stop();
            }
          }
        }, _callee2, undefined);
      }));

      return function verifyScript() {
        return _ref2.apply(this, arguments);
      };
    }(),
    revealedSecret: function () {
      var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
        var _flow$swap2, eosOwnerData, btcOwnerData, eosOwner, btcOwner, secret;

        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _flow$swap2 = flow.swap, eosOwnerData = _flow$swap2.owner, btcOwnerData = _flow$swap2.participant;
                eosOwner = eosOwnerData.eos.address;
                btcOwner = btcOwnerData.eos.address;
                secret = null;

              case 4:
                if (secret) {
                  _context3.next = 14;
                  break;
                }

                (0, _debug2.default)('swap.core:flow')('try fetch secret...');
                _context3.next = 8;
                return flow.eosSwap.fetchSecret({ eosOwner: eosOwner, btcOwner: btcOwner });

              case 8:
                secret = _context3.sent;

                if (secret) {
                  _context3.next = 12;
                  break;
                }

                _context3.next = 12;
                return sleep(5000);

              case 12:
                _context3.next = 4;
                break;

              case 14:
                return _context3.abrupt('return', secret);

              case 15:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, undefined);
      }));

      return function revealedSecret() {
        return _ref3.apply(this, arguments);
      };
    }(),
    eosWithdrawTx: function eosWithdrawTx() {
      return new _promise2.default(function (resolve) {
        flow.swap.room.once(flow.actions.eosWithdraw, function (_ref4) {
          var eosWithdrawTx = _ref4.eosWithdrawTx,
              secret = _ref4.secret;

          resolve(eosWithdrawTx);
        });
        flow.swap.room.sendMessage({
          event: 'request ' + flow.actions.eosWithdrawTx
        });
      });
    }
  };
};

var pushHandlers = function pushHandlers(flow) {
  return {
    openSwap: function openSwap() {
      var _flow$state2 = flow.state,
          openTx = _flow$state2.openTx,
          swapID = _flow$state2.swapID;


      flow.swap.room.sendMessage({
        event: flow.actions.openSwap,
        data: {
          openTx: openTx, swapID: swapID
        }
      });
    },
    btcWithdraw: function btcWithdraw() {
      var btcWithdrawTx = flow.state.btcWithdrawTx;


      flow.swap.room.sendMessage({
        event: flow.actions.btcWithdraw,
        data: {
          btcWithdrawTx: btcWithdrawTx
        }
      });
    }
  };
};

var EOS2BTC = function (_Flow) {
  (0, _inherits3.default)(EOS2BTC, _Flow);
  (0, _createClass3.default)(EOS2BTC, null, [{
    key: 'getName',
    value: function getName() {
      return this.getFromName() + '2' + this.getToName();
    }
  }, {
    key: 'getFromName',
    value: function getFromName() {
      return _swap.constants.COINS.eos;
    }
  }, {
    key: 'getToName',
    value: function getToName() {
      return _swap.constants.COINS.btc;
    }
  }]);

  function EOS2BTC(swap) {
    (0, _classCallCheck3.default)(this, EOS2BTC);

    var _this = (0, _possibleConstructorReturn3.default)(this, (EOS2BTC.__proto__ || (0, _getPrototypeOf2.default)(EOS2BTC)).call(this, swap));

    _this._flowName = EOS2BTC.getName();

    _this.eosSwap = _this.app.swaps[_swap.constants.COINS.eos];
    _this.btcSwap = _this.app.swaps[_swap.constants.COINS.btc];

    _this.state = (0, _extends3.default)({}, _this.state, {
      swapID: null,

      secret: null,
      secretHash: null,

      scriptValues: null,

      createTx: null,
      openTx: null,
      eosWithdrawTx: null,
      btcWithdrawTx: null,

      eosRefundTx: null,
      btcRefundTx: null
    });

    _this.actions = {
      submitSecret: 'submit secret',
      createBtcScript: 'create btc script',
      verifyScript: 'verify script',
      openSwap: 'open swap',
      eosWithdraw: 'eos withdraw',
      btcWithdraw: 'btc withdraw'
    };

    _this.transact = transactionHandlers(_this);
    _this.pull = pullHandlers(_this);
    _this.push = pushHandlers(_this);

    _this.listenRequests();

    (0, _get3.default)(EOS2BTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(EOS2BTC.prototype), '_persistSteps', _this).call(_this);
    (0, _get3.default)(EOS2BTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(EOS2BTC.prototype), '_persistState', _this).call(_this);
    return _this;
  }

  (0, _createClass3.default)(EOS2BTC, [{
    key: '_getSteps',
    value: function _getSteps() {
      var flow = this;

      return [function () {
        flow.pull.btcScript().then(function (_ref5) {
          var scriptValues = _ref5.scriptValues,
              createTx = _ref5.createTx;
          var secretHash = scriptValues.secretHash;


          flow.finishStep({ scriptValues: scriptValues, secretHash: secretHash, createTx: createTx });
        });
      }, function () {
        flow.pull.verifyScript().then(function () {
          flow.finishStep();
        });
      }, function () {
        flow.transact.openSwap().then(function (_ref6) {
          var openTx = _ref6.openTx,
              swapID = _ref6.swapID;

          flow.finishStep({ openTx: openTx, swapID: swapID });
          flow.push.openSwap();
        });
      }, function () {
        flow.pull.revealedSecret().then(function (secret) {
          flow.finishStep({ secret: secret });
        });
        flow.pull.eosWithdrawTx().then(function (eosWithdrawTx) {
          flow.setState({ eosWithdrawTx: eosWithdrawTx });
        });
      }, function () {
        flow.transact.btcWithdraw().then(function (btcWithdrawTx) {
          flow.finishStep({ btcWithdrawTx: btcWithdrawTx });
          flow.push.btcWithdraw();
        });
      }];
    }
  }, {
    key: 'tryRefund',
    value: function tryRefund() {
      var flow = this;

      return flow.transact.refund().then(function (eosRefundTx) {
        flow.setState({ eosRefundTx: eosRefundTx });
      });
    }
  }, {
    key: 'listenRequests',
    value: function listenRequests() {
      var flow = this;

      flow.swap.room.on('request ' + flow.actions.openSwap, function () {
        if (flow.state.openTx && flow.state.swapID) {
          flow.push.openSwap();
        }
      });

      flow.swap.room.on('request ' + flow.actions.btcWithdraw, function () {
        if (flow.state.btcWithdrawTx) {
          flow.push.btcWithdraw();
        }
      });
    }
  }]);
  return EOS2BTC;
}(_swap3.Flow);

exports.default = EOS2BTC;
module.exports = exports['default'];

/***/ }),

/***/ 3135:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _crypto = __webpack_require__(70);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(82);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var transactionHandlers = function transactionHandlers(flow) {
  return {
    createBtcScript: function createBtcScript() {
      var _flow$swap = flow.swap,
          amount = _flow$swap.sellAmount,
          eosOwner = _flow$swap.participant;


      var getLockTime = function getLockTime() {
        var eosLockTime = flow.eosSwap.getLockPeriod();
        var btcLockTime = eosLockTime * 2;
        var nowTime = Math.floor(Date.now() / 1000);

        return nowTime + btcLockTime;
      };

      var lockTime = getLockTime();

      var scriptValues = {
        secretHash: flow.state.secretHash,
        ownerPublicKey: undefined.app.services.auth.accounts.btc.getPublicKey(),
        recipientPublicKey: eosOwner.btc.publicKey,
        lockTime: lockTime
      };

      return new _promise2.default(function () {
        var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(resolve, reject) {
          return _regenerator2.default.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  _context.prev = 0;
                  _context.next = 3;
                  return flow.btcSwap.fundScript({
                    scriptValues: scriptValues,
                    amount: amount
                  }, function (createTx) {
                    resolve({ createTx: createTx, scriptValues: scriptValues });
                  }, 'sha256');

                case 3:
                  _context.next = 8;
                  break;

                case 5:
                  _context.prev = 5;
                  _context.t0 = _context['catch'](0);

                  console.error('funding tx failed: ' + _context.t0.message);

                case 8:
                case 'end':
                  return _context.stop();
              }
            }
          }, _callee, undefined, [[0, 5]]);
        }));

        return function (_x, _x2) {
          return _ref.apply(this, arguments);
        };
      }());
    },
    eosWithdraw: function eosWithdraw() {
      var secret = flow.state.secret;
      var eosOwner = flow.swap.participant;


      return flow.eosSwap.withdraw({
        eosOwner: eosOwner.eos.address,
        secret: secret
      });
    },
    refund: function refund() {
      var _flow$state = flow.state,
          secret = _flow$state.secret,
          scriptValues = _flow$state.scriptValues;


      return new _promise2.default(function () {
        var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(resolve, reject) {
          return _regenerator2.default.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return flow.btcSwap.refund({
                    scriptValues: scriptValues,
                    secret: secret
                  }, 'sha256').then(function (btcRefundTx) {
                    resolve(btcRefundTx);
                  }).catch(function (error) {
                    console.error('refund failed: ' + error.message);
                  });

                case 2:
                case 'end':
                  return _context2.stop();
              }
            }
          }, _callee2, undefined);
        }));

        return function (_x3, _x4) {
          return _ref2.apply(this, arguments);
        };
      }());
    }
  };
};

var pullHandlers = function pullHandlers(flow) {
  return {
    submitSecret: function submitSecret() {
      return new _promise2.default(function (resolve) {
        flow.swap.events.once(flow.actions.submitSecret, resolve);
      });
    },
    openSwap: function openSwap() {
      return new _promise2.default(function (resolve) {
        flow.swap.room.once(flow.actions.openSwap, resolve);
        flow.swap.room.sendMessage({
          event: 'request ' + flow.actions.openSwap
        });
      });
    },
    btcWithdraw: function btcWithdraw() {
      return new _promise2.default(function (resolve) {
        flow.swap.room.once(flow.actions.btcWithdraw, resolve);
        flow.swap.room.sendMessage({
          event: 'request ' + flow.actions.btcWithdraw
        });
      });
    }
  };
};

var pushHandlers = function pushHandlers(flow) {
  return {
    createBtcScript: function createBtcScript() {
      var _flow$state2 = flow.state,
          scriptValues = _flow$state2.scriptValues,
          createTx = _flow$state2.createTx;


      flow.swap.room.sendMessage({
        event: flow.actions.createBtcScript,
        data: {
          scriptValues: scriptValues, createTx: createTx
        }
      });
    },
    eosWithdraw: function eosWithdraw() {
      var _flow$state3 = flow.state,
          eosWithdrawTx = _flow$state3.eosWithdrawTx,
          secret = _flow$state3.secret;


      flow.swap.room.sendMessage({
        event: flow.actions.eosWithdraw,
        data: {
          eosWithdrawTx: eosWithdrawTx, secret: secret
        }
      });
    }
  };
};

var BTC2EOS = function (_Flow) {
  (0, _inherits3.default)(BTC2EOS, _Flow);
  (0, _createClass3.default)(BTC2EOS, null, [{
    key: 'getName',
    value: function getName() {
      return this.getFromName() + '2' + this.getToName();
    }
  }, {
    key: 'getFromName',
    value: function getFromName() {
      return _swap.constants.COINS.btc;
    }
  }, {
    key: 'getToName',
    value: function getToName() {
      return _swap.constants.COINS.eos;
    }
  }]);

  function BTC2EOS(swap) {
    (0, _classCallCheck3.default)(this, BTC2EOS);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BTC2EOS.__proto__ || (0, _getPrototypeOf2.default)(BTC2EOS)).call(this, swap));

    _this._flowName = BTC2EOS.getName();

    _this.btcSwap = _this.app.swaps[_swap.constants.COINS.btc];
    _this.eosSwap = _this.app.swaps[_swap.constants.COINS.eos];

    _this.state = (0, _extends3.default)({}, _this.state, {
      swapID: null,

      secret: null,
      secretHash: null,

      scriptValues: null,

      createTx: null,
      openTx: null,
      eosWithdrawTx: null,
      btcWithdrawTx: null,

      eosRefundTx: null,
      btcRefundTx: null
    });

    _this.actions = {
      submitSecret: 'submit secret',
      createBtcScript: 'create btc script',
      verifyScript: 'verify script',
      openSwap: 'open swap',
      eosWithdraw: 'eos withdraw',
      btcWithdraw: 'btc withdraw'
    };

    _this.transact = transactionHandlers(_this);
    _this.pull = pullHandlers(_this);
    _this.push = pushHandlers(_this);

    _this.listenRequests();

    (0, _get3.default)(BTC2EOS.prototype.__proto__ || (0, _getPrototypeOf2.default)(BTC2EOS.prototype), '_persistSteps', _this).call(_this);
    (0, _get3.default)(BTC2EOS.prototype.__proto__ || (0, _getPrototypeOf2.default)(BTC2EOS.prototype), '_persistState', _this).call(_this);
    return _this;
  }

  (0, _createClass3.default)(BTC2EOS, [{
    key: '_getSteps',
    value: function _getSteps() {
      var _this2 = this;

      var flow = this;

      return [function () {
        flow.pull.submitSecret().then(function (_ref3) {
          var secret = _ref3.secret,
              secretHash = _ref3.secretHash;

          _this2.finishStep({ secret: secret, secretHash: secretHash });
        });
      }, function () {
        flow.transact.createBtcScript().then(function (_ref4) {
          var scriptValues = _ref4.scriptValues,
              createTx = _ref4.createTx;

          flow.finishStep({ scriptValues: scriptValues, createTx: createTx });
          flow.push.createBtcScript();
        });
      }, function () {
        flow.pull.openSwap().then(function (_ref5) {
          var openTx = _ref5.openTx,
              swapID = _ref5.swapID;

          flow.finishStep({ openTx: openTx, swapID: swapID });
        });
      }, function () {
        flow.transact.eosWithdraw().then(function (eosWithdrawTx) {
          flow.finishStep({ eosWithdrawTx: eosWithdrawTx });
          flow.push.eosWithdraw();
        });
      }, function () {
        flow.pull.btcWithdraw().then(function (_ref6) {
          var btcWithdrawTx = _ref6.btcWithdrawTx;

          flow.finishStep({ btcWithdrawTx: btcWithdrawTx });
        });
      }];
    }
  }, {
    key: 'tryRefund',
    value: function tryRefund() {
      var flow = this;

      return flow.transact.refund().then(function (btcRefundTx) {
        flow.setState({ btcRefundTx: btcRefundTx });
      });
    }
  }, {
    key: 'listenRequests',
    value: function listenRequests() {
      var flow = this;

      flow.swap.room.on('request ' + flow.actions.createBtcScript, function () {
        if (flow.state.scriptValues && flow.state.createTx) {
          flow.push.createBtcScript();
        }
      });

      flow.swap.room.on('request ' + flow.actions.eosWithdraw, function () {
        if (flow.state.eosWithdrawTx && flow.state.secret) {
          flow.push.eosWithdraw();
        }
      });
    }
  }]);
  return BTC2EOS;
}(_swap3.Flow);

exports.default = BTC2EOS;
module.exports = exports['default'];

/***/ }),

/***/ 3136:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _defineProperty2 = __webpack_require__(123);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _crypto = __webpack_require__(70);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(82);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// move to BtcSwap
exports.default = function (tokenName) {
  var ETHTOKEN2BTC = function (_Flow) {
    (0, _inherits3.default)(ETHTOKEN2BTC, _Flow);
    (0, _createClass3.default)(ETHTOKEN2BTC, null, [{
      key: 'getName',
      value: function getName() {
        return this.getFromName() + '2' + this.getToName();
      }
    }, {
      key: 'getFromName',
      value: function getFromName() {
        return tokenName.toUpperCase();
      }
    }, {
      key: 'getToName',
      value: function getToName() {
        return _swap.constants.COINS.btc;
      }
    }]);

    function ETHTOKEN2BTC(swap) {
      var _this$state;

      (0, _classCallCheck3.default)(this, ETHTOKEN2BTC);

      var _this = (0, _possibleConstructorReturn3.default)(this, (ETHTOKEN2BTC.__proto__ || (0, _getPrototypeOf2.default)(ETHTOKEN2BTC)).call(this, swap));

      _this._flowName = ETHTOKEN2BTC.getName();

      _this.stepNumbers = {
        'sign': 1,
        'wait-lock-btc': 2,
        'verify-script': 3,
        'sync-balance': 4,
        'lock-eth': 5,
        'wait-withdraw-eth': 6, // aka getSecret
        'withdraw-btc': 7,
        'finish': 8,
        'end': 9
      };

      _this.ethTokenSwap = swap.participantSwap;
      _this.btcSwap = swap.ownerSwap;

      if (!_this.ethTokenSwap) {
        throw new Error('ETHTOKEN2BTC: "ethTokenSwap" of type object required');
      }
      if (!_this.btcSwap) {
        throw new Error('ETHTOKEN2BTC: "btcSwap" of type object required');
      }

      _this.state = (_this$state = {
        step: 0,

        isStoppedSwap: false,

        signTransactionHash: null,
        isSignFetching: false,
        isMeSigned: false,

        targetWallet: null,
        secretHash: null,
        btcScriptValues: null,

        btcScriptVerified: false,

        isBalanceFetching: false,
        isBalanceEnough: true,
        balance: null,

        btcScriptCreatingTransactionHash: null,
        ethSwapCreationTransactionHash: null,
        canCreateEthTransaction: true,
        isEthContractFunded: false,

        secret: null,

        isEthWithdrawn: false,
        isBtcWithdrawn: false,

        ethSwapWithdrawTransactionHash: null,
        btcSwapWithdrawTransactionHash: null,

        refundTransactionHash: null,
        isRefunded: false,

        isFinished: false,
        isSwapExist: false,

        withdrawRequestIncoming: false,
        withdrawRequestAccepted: false
      }, (0, _defineProperty3.default)(_this$state, 'isSignFetching', false), (0, _defineProperty3.default)(_this$state, 'isMeSigned', false), (0, _defineProperty3.default)(_this$state, 'isFailedTransaction', false), (0, _defineProperty3.default)(_this$state, 'gasAmountNeeded', 0), _this$state);

      (0, _get3.default)(ETHTOKEN2BTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(ETHTOKEN2BTC.prototype), '_persistSteps', _this).call(_this);
      _this._persistState();

      var flow = _this;
      flow.swap.room.once('request withdraw', function () {
        flow.setState({
          withdrawRequestIncoming: true
        });
      });
      return _this;
    }

    (0, _createClass3.default)(ETHTOKEN2BTC, [{
      key: '_persistState',
      value: function _persistState() {
        (0, _get3.default)(ETHTOKEN2BTC.prototype.__proto__ || (0, _getPrototypeOf2.default)(ETHTOKEN2BTC.prototype), '_persistState', this).call(this);
      }
    }, {
      key: '_getSteps',
      value: function _getSteps() {
        var _this2 = this;

        var flow = this;

        return [

        // 1. Sign swap to start

        function () {
          // this.sign()
        },

        // 2. Wait participant create, fund BTC Script

        function () {
          flow.swap.room.on('create btc script', function (_ref) {
            var scriptValues = _ref.scriptValues,
                btcScriptCreatingTransactionHash = _ref.btcScriptCreatingTransactionHash;
            var step = flow.state.step;


            if (step >= 3) {
              return;
            }

            flow.finishStep({
              secretHash: scriptValues.secretHash,
              btcScriptValues: scriptValues,
              btcScriptCreatingTransactionHash: btcScriptCreatingTransactionHash
            }, { step: 'wait-lock-btc', silentError: true });
          });

          flow.swap.room.sendMessage({
            event: 'request btc script'
          });
        },

        // 3. Verify BTC Script

        function () {
          (0, _debug2.default)('swap.core:flow')('waiting verify btc script');
          // this.verifyBtcScript()
        },

        // 4. Check balance

        function () {
          _this2.syncBalance();
        },

        // 5. Create ETH Contract

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
          var _flow$swap, participant, buyAmount, sellAmount, secretHash, utcNow, isBtcScriptOk, swapData, tryCreateSwap, isEthContractFunded, isStoppedSwap;

          return _regenerator2.default.wrap(function _callee4$(_context4) {
            while (1) {
              switch (_context4.prev = _context4.next) {
                case 0:
                  _flow$swap = flow.swap, participant = _flow$swap.participant, buyAmount = _flow$swap.buyAmount, sellAmount = _flow$swap.sellAmount;
                  secretHash = flow.state.secretHash;

                  utcNow = function utcNow() {
                    return Math.floor(Date.now() / 1000);
                  };

                  _context4.next = 5;
                  return _swap.util.helpers.repeatAsyncUntilResult(function () {
                    var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(stopRepeat) {
                      var btcScriptValues, scriptCheckError;
                      return _regenerator2.default.wrap(function _callee$(_context) {
                        while (1) {
                          switch (_context.prev = _context.next) {
                            case 0:
                              btcScriptValues = flow.state.btcScriptValues;
                              _context.next = 3;
                              return flow.btcSwap.checkScript(btcScriptValues, {
                                value: buyAmount,
                                recipientPublicKey: _this2.app.services.auth.accounts.btc.getPublicKey(),
                                lockTime: utcNow(),
                                confidence: 0.8
                              });

                            case 3:
                              scriptCheckError = _context.sent;

                              if (!scriptCheckError) {
                                _context.next = 9;
                                break;
                              }

                              if (/Expected script lockTime/.test(scriptCheckError)) {
                                console.error('Btc script check error: btc was refunded', scriptCheckError);
                                flow.stopSwapProcess();
                                stopRepeat();
                              } else if (/Expected script value/.test(scriptCheckError)) {
                                console.warn('Btc script check: waiting balance');
                              } else {
                                flow.swap.events.dispatch('btc script check error', scriptCheckError);
                              }

                              return _context.abrupt('return', false);

                            case 9:
                              return _context.abrupt('return', true);

                            case 10:
                            case 'end':
                              return _context.stop();
                          }
                        }
                      }, _callee, _this2);
                    }));

                    return function (_x) {
                      return _ref3.apply(this, arguments);
                    };
                  }());

                case 5:
                  isBtcScriptOk = _context4.sent;

                  if (isBtcScriptOk) {
                    _context4.next = 8;
                    break;
                  }

                  return _context4.abrupt('return');

                case 8:
                  swapData = {
                    participantAddress: participant.eth.address,
                    secretHash: secretHash,
                    amount: sellAmount,
                    targetWallet: flow.swap.destinationSellAddress,
                    calcFee: true

                    // TODO fee after allowance
                    // EthTokenSwap -> approve need gas too
                    /* calc create contract fee and save this */
                    /*
                    flow.setState({
                      createSwapFee: await flow.ethTokenSwap.create(swapData),
                    })
                    */
                  };
                  swapData.calcFee = false;
                  //debug('swap.core:flow')('create swap fee', flow.state.createSwapFee)

                  tryCreateSwap = function () {
                    var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
                      var isEthContractFunded, allowance, message, gasAmount;
                      return _regenerator2.default.wrap(function _callee3$(_context3) {
                        while (1) {
                          switch (_context3.prev = _context3.next) {
                            case 0:
                              isEthContractFunded = flow.state.isEthContractFunded;

                              if (isEthContractFunded) {
                                _context3.next = 29;
                                break;
                              }

                              _context3.prev = 2;

                              (0, _debug2.default)('swap.core:flow')('fetching allowance');
                              _context3.next = 6;
                              return flow.ethTokenSwap.checkAllowance({
                                spender: _this2.app.services.auth.getPublicData().eth.address
                              });

                            case 6:
                              allowance = _context3.sent;


                              (0, _debug2.default)('swap.core:flow')('allowance', allowance);

                              if (!(allowance < sellAmount)) {
                                _context3.next = 12;
                                break;
                              }

                              (0, _debug2.default)('swap.core:flow')('allowance < sellAmount', allowance, sellAmount);
                              _context3.next = 12;
                              return flow.ethTokenSwap.approve({
                                amount: sellAmount
                              });

                            case 12:

                              (0, _debug2.default)('swap.core:flow')('create swap', swapData);
                              _context3.next = 15;
                              return flow.ethTokenSwap.create(swapData, function () {
                                var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(hash) {
                                  return _regenerator2.default.wrap(function _callee2$(_context2) {
                                    while (1) {
                                      switch (_context2.prev = _context2.next) {
                                        case 0:
                                          (0, _debug2.default)('swap.core:flow')('create swap tx hash', hash);
                                          flow.swap.room.sendMessage({
                                            event: 'create eth contract',
                                            data: {
                                              ethSwapCreationTransactionHash: hash
                                            }
                                          });

                                          flow.swap.room.on('request eth contract', function () {
                                            flow.swap.room.sendMessage({
                                              event: 'create eth contract',
                                              data: {
                                                ethSwapCreationTransactionHash: hash
                                              }
                                            });
                                          });

                                          flow.setState({
                                            ethSwapCreationTransactionHash: hash,
                                            canCreateEthTransaction: true,
                                            isFailedTransaction: false
                                          });

                                          (0, _debug2.default)('swap.core:flow')('created swap!', hash);

                                        case 5:
                                        case 'end':
                                          return _context2.stop();
                                      }
                                    }
                                  }, _callee2, _this2);
                                }));

                                return function (_x2) {
                                  return _ref5.apply(this, arguments);
                                };
                              }());

                            case 15:
                              _context3.next = 29;
                              break;

                            case 17:
                              _context3.prev = 17;
                              _context3.t0 = _context3['catch'](2);
                              message = _context3.t0.message, gasAmount = _context3.t0.gasAmount;

                              if (!/insufficient funds/.test(message)) {
                                _context3.next = 26;
                                break;
                              }

                              console.error('Insufficient ETH for gas: ' + gasAmount + ' ETH needed');

                              flow.setState({
                                canCreateEthTransaction: false,
                                gasAmountNeeded: gasAmount
                              });

                              return _context3.abrupt('return', null);

                            case 26:
                              if (/known transaction/.test(message)) {
                                console.error('known tx: ' + message);
                              } else if (/out of gas/.test(message)) {
                                console.error('tx failed (wrong secret?): ' + message);
                              } else if (/always failing transaction/.test(message)) {
                                console.error('Insufficient Token for transaction: ' + message);
                              } else {
                                console.error(_context3.t0);
                              }

                            case 27:
                              flow.setState({
                                isFailedTransaction: true
                              });

                              return _context3.abrupt('return', null);

                            case 29:
                              return _context3.abrupt('return', true);

                            case 30:
                            case 'end':
                              return _context3.stop();
                          }
                        }
                      }, _callee3, _this2, [[2, 17]]);
                    }));

                    return function tryCreateSwap() {
                      return _ref4.apply(this, arguments);
                    };
                  }();

                  _context4.next = 13;
                  return _swap.util.helpers.repeatAsyncUntilResult(function () {
                    return tryCreateSwap();
                  });

                case 13:
                  isEthContractFunded = _context4.sent;
                  isStoppedSwap = flow.state.isStoppedSwap;


                  if (isEthContractFunded && !isStoppedSwap) {
                    (0, _debug2.default)('swap.core:flow')('finish step');
                    flow.finishStep({
                      isEthContractFunded: isEthContractFunded
                    }, { step: 'lock-eth' });
                  }

                case 16:
                case 'end':
                  return _context4.stop();
              }
            }
          }, _callee4, _this2);
        })),

        // 6. Wait participant withdraw

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7() {
          var participant, checkSecretExist, secretFromContract, isEthWithdrawn;
          return _regenerator2.default.wrap(function _callee7$(_context7) {
            while (1) {
              switch (_context7.prev = _context7.next) {
                case 0:
                  flow.swap.room.once('ethWithdrawTxHash', function () {
                    var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(_ref8) {
                      var ethSwapWithdrawTransactionHash = _ref8.ethSwapWithdrawTransactionHash;
                      var secretFromTxhash, isEthWithdrawn;
                      return _regenerator2.default.wrap(function _callee5$(_context5) {
                        while (1) {
                          switch (_context5.prev = _context5.next) {
                            case 0:
                              flow.setState({
                                ethSwapWithdrawTransactionHash: ethSwapWithdrawTransactionHash
                              }, true);

                              _context5.next = 3;
                              return _swap.util.helpers.repeatAsyncUntilResult(function () {
                                var secret = flow.state.secret;


                                if (secret) {
                                  return secret;
                                } else {
                                  return flow.ethTokenSwap.getSecretFromTxhash(ethSwapWithdrawTransactionHash);
                                }
                              });

                            case 3:
                              secretFromTxhash = _context5.sent;


                              secretFromTxhash = '0x' + secretFromTxhash.replace(/^0x/, '');

                              isEthWithdrawn = flow.state.isEthWithdrawn;


                              if (!isEthWithdrawn && secretFromTxhash) {
                                (0, _debug2.default)('swap.core:flow')('got secret from tx', ethSwapWithdrawTransactionHash, secretFromTxhash);
                                flow.finishStep({
                                  isEthWithdrawn: true,
                                  secret: secretFromTxhash
                                }, { step: 'wait-withdraw-eth' });
                              }

                            case 7:
                            case 'end':
                              return _context5.stop();
                          }
                        }
                      }, _callee5, _this2);
                    }));

                    return function (_x3) {
                      return _ref7.apply(this, arguments);
                    };
                  }());

                  flow.swap.room.sendMessage({
                    event: 'request ethWithdrawTxHash'
                  });

                  // If partner decides to scam and doesn't send ethWithdrawTxHash
                  // then we try to withdraw as in ETHTOKEN2USDT

                  participant = flow.swap.participant;

                  checkSecretExist = function () {
                    var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {
                      var _secretFromContract;

                      return _regenerator2.default.wrap(function _callee6$(_context6) {
                        while (1) {
                          switch (_context6.prev = _context6.next) {
                            case 0:
                              _context6.prev = 0;
                              _context6.next = 3;
                              return flow.ethTokenSwap.getSecret({
                                participantAddress: participant.eth.address
                              });

                            case 3:
                              _secretFromContract = _context6.sent;

                              if (!_secretFromContract) {
                                _context6.next = 9;
                                break;
                              }

                              _secretFromContract = '0x' + _secretFromContract.replace(/^0x/, '');

                              return _context6.abrupt('return', _secretFromContract);

                            case 9:
                              return _context6.abrupt('return', null);

                            case 10:
                              _context6.next = 15;
                              break;

                            case 12:
                              _context6.prev = 12;
                              _context6.t0 = _context6['catch'](0);
                              return _context6.abrupt('return', null);

                            case 15:
                            case 'end':
                              return _context6.stop();
                          }
                        }
                      }, _callee6, _this2, [[0, 12]]);
                    }));

                    return function checkSecretExist() {
                      return _ref9.apply(this, arguments);
                    };
                  }();

                  _context7.next = 6;
                  return _swap.util.helpers.repeatAsyncUntilResult(function (stopRepeat) {
                    var _flow$state = flow.state,
                        isEthWithdrawn = _flow$state.isEthWithdrawn,
                        isRefunded = _flow$state.isRefunded;


                    if (isEthWithdrawn || isRefunded) {
                      stopRepeat();

                      return false;
                    }

                    return checkSecretExist();
                  });

                case 6:
                  secretFromContract = _context7.sent;
                  isEthWithdrawn = _this2.state.isEthWithdrawn;


                  if (secretFromContract && !isEthWithdrawn) {
                    (0, _debug2.default)('swap.core:flow')('got secret from smart contract', secretFromContract);

                    flow.finishStep({
                      isEthWithdrawn: true,
                      secret: secretFromContract
                    }, { step: 'wait-withdraw-eth' });
                  }

                case 9:
                case 'end':
                  return _context7.stop();
              }
            }
          }, _callee7, _this2);
        })),

        // 7. Withdraw

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8() {
          return _regenerator2.default.wrap(function _callee8$(_context8) {
            while (1) {
              switch (_context8.prev = _context8.next) {
                case 0:
                  _context8.next = 2;
                  return _swap.util.helpers.repeatAsyncUntilResult(function (stopRepeat) {
                    var _flow$state2 = flow.state,
                        secret = _flow$state2.secret,
                        btcScriptValues = _flow$state2.btcScriptValues,
                        destinationBuyAddress = _flow$state2.destinationBuyAddress,
                        btcSwapWithdrawTransactionHash = _flow$state2.btcSwapWithdrawTransactionHash;


                    if (btcSwapWithdrawTransactionHash) {
                      return true;
                    }

                    if (!btcScriptValues) {
                      console.error('There is no "btcScriptValues" in state. No way to continue swap...');
                      return null;
                    }

                    return flow.btcSwap.withdraw({
                      scriptValues: btcScriptValues,
                      secret: secret,
                      destinationAddress: destinationBuyAddress
                    }).then(function (hash) {
                      flow.setState({
                        btcSwapWithdrawTransactionHash: hash
                      }, true);
                      return true;
                    }).catch(function (error) {
                      return null;
                    });
                  });

                case 2:

                  flow.finishStep({
                    isBtcWithdrawn: true
                  }, { step: 'withdraw-btc' });

                case 3:
                case 'end':
                  return _context8.stop();
              }
            }
          }, _callee8, _this2);
        })),

        // 8. Finish

        function () {
          flow.swap.room.once('request swap finished', function () {
            var btcSwapWithdrawTransactionHash = flow.state.btcSwapWithdrawTransactionHash;


            flow.swap.room.sendMessage({
              event: 'swap finished',
              data: {
                btcSwapWithdrawTransactionHash: btcSwapWithdrawTransactionHash
              }
            });
          });

          flow.finishStep({
            isFinished: true
          }, { step: 'finish' });
        },

        // 9. Finished!

        function () {}];
      }
    }, {
      key: 'acceptWithdrawRequest',
      value: function acceptWithdrawRequest() {
        var _this3 = this;

        var flow = this;
        var withdrawRequestAccepted = flow.state.withdrawRequestAccepted;


        if (withdrawRequestAccepted) {
          return;
        }

        this.setState({
          withdrawRequestAccepted: true
        });

        this.swap.room.once('do withdraw', function () {
          var _ref11 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9(_ref12) {
            var secret = _ref12.secret;
            var data;
            return _regenerator2.default.wrap(function _callee9$(_context9) {
              while (1) {
                switch (_context9.prev = _context9.next) {
                  case 0:
                    _context9.prev = 0;
                    data = {
                      participantAddress: flow.swap.participant.eth.address,
                      secret: secret
                    };
                    _context9.next = 4;
                    return flow.ethTokenSwap.withdrawNoMoney(data, function (hash) {
                      flow.swap.room.sendMessage({
                        event: 'withdraw ready',
                        data: {
                          ethSwapWithdrawTransactionHash: hash
                        }
                      });
                    });

                  case 4:
                    _context9.next = 9;
                    break;

                  case 6:
                    _context9.prev = 6;
                    _context9.t0 = _context9['catch'](0);

                    (0, _debug2.default)('swap.core:flow')(_context9.t0.message);

                  case 9:
                  case 'end':
                    return _context9.stop();
                }
              }
            }, _callee9, _this3, [[0, 6]]);
          }));

          return function (_x4) {
            return _ref11.apply(this, arguments);
          };
        }());

        this.swap.room.sendMessage({
          event: 'accept withdraw request'
        });
      }
    }, {
      key: '_checkSwapAlreadyExists',
      value: function _checkSwapAlreadyExists() {
        var participant = this.swap.participant;


        var swapData = {
          ownerAddress: this.app.services.auth.accounts.eth.address,
          participantAddress: participant.eth.address
        };

        return this.ethTokenSwap.checkSwapExists(swapData);
      }
    }, {
      key: 'sign',
      value: function () {
        var _ref13 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee10() {
          var flow, swapExists, _flow$state3, isSignFetching, isMeSigned;

          return _regenerator2.default.wrap(function _callee10$(_context10) {
            while (1) {
              switch (_context10.prev = _context10.next) {
                case 0:
                  flow = this;
                  _context10.next = 3;
                  return flow._checkSwapAlreadyExists();

                case 3:
                  swapExists = _context10.sent;

                  if (!swapExists) {
                    _context10.next = 10;
                    break;
                  }

                  flow.swap.room.sendMessage({
                    event: 'swap exists'
                  });

                  flow.setState({
                    isSwapExist: true
                  });

                  flow.stopSwapProcess();
                  _context10.next = 19;
                  break;

                case 10:
                  _flow$state3 = flow.state, isSignFetching = _flow$state3.isSignFetching, isMeSigned = _flow$state3.isMeSigned;

                  if (!(isSignFetching || isMeSigned)) {
                    _context10.next = 13;
                    break;
                  }

                  return _context10.abrupt('return', true);

                case 13:

                  flow.setState({
                    isSignFetching: true
                  });

                  flow.swap.room.once('btc refund completed', function () {
                    flow.tryRefund();
                  });

                  flow.swap.room.on('request sign', function () {
                    flow.swap.room.sendMessage({
                      event: 'swap sign'
                    });
                  });

                  flow.swap.room.sendMessage({
                    event: 'swap sign'
                  });

                  flow.finishStep({
                    isMeSigned: true
                  }, { step: 'sign', silentError: true });

                  return _context10.abrupt('return', true);

                case 19:
                case 'end':
                  return _context10.stop();
              }
            }
          }, _callee10, this);
        }));

        function sign() {
          return _ref13.apply(this, arguments);
        }

        return sign;
      }()
    }, {
      key: 'verifyBtcScript',
      value: function verifyBtcScript() {
        var flow = this;
        var _flow$state4 = flow.state,
            btcScriptVerified = _flow$state4.btcScriptVerified,
            btcScriptValues = _flow$state4.btcScriptValues;


        if (btcScriptVerified) {
          return true;
        }

        if (!btcScriptValues) {
          throw new Error('No script, cannot verify');
        }

        flow.finishStep({
          btcScriptVerified: true
        }, { step: 'verify-script' });

        return true;
      }
    }, {
      key: 'syncBalance',
      value: function () {
        var _ref14 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee11() {
          var sellAmount, balance, isEnoughMoney, stateData;
          return _regenerator2.default.wrap(function _callee11$(_context11) {
            while (1) {
              switch (_context11.prev = _context11.next) {
                case 0:
                  sellAmount = this.swap.sellAmount;


                  this.setState({
                    isBalanceFetching: true
                  });

                  _context11.next = 4;
                  return this.ethTokenSwap.fetchBalance(this.app.services.auth.accounts.eth.address);

                case 4:
                  balance = _context11.sent;
                  isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);
                  stateData = {
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: isEnoughMoney
                  };


                  if (isEnoughMoney) {
                    this.finishStep(stateData, { step: 'sync-balance' });
                  } else {
                    this.setState(stateData, true);
                  }

                case 8:
                case 'end':
                  return _context11.stop();
              }
            }
          }, _callee11, this);
        }));

        function syncBalance() {
          return _ref14.apply(this, arguments);
        }

        return syncBalance;
      }()
    }, {
      key: 'tryRefund',
      value: function () {
        var _ref15 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee12() {
          var _this4 = this;

          var participant, _state, secretHash, isEthContractFunded, isRefunded, refundHandler, wasRefunded;

          return _regenerator2.default.wrap(function _callee12$(_context12) {
            while (1) {
              switch (_context12.prev = _context12.next) {
                case 0:
                  participant = this.swap.participant;
                  _state = this.state, secretHash = _state.secretHash, isEthContractFunded = _state.isEthContractFunded, isRefunded = _state.isRefunded;

                  if (!(!isEthContractFunded || isRefunded)) {
                    _context12.next = 4;
                    break;
                  }

                  return _context12.abrupt('return', false);

                case 4:
                  refundHandler = function refundHandler() {
                    var hash = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

                    _this4.swap.room.sendMessage({
                      event: 'eth refund completed'
                    });

                    _this4.setState({
                      refundTransactionHash: hash,
                      isRefunded: true,
                      isSwapExist: false
                    }, true);
                  };

                  _context12.prev = 5;
                  _context12.next = 8;
                  return this.ethTokenSwap.wasRefunded({ secretHash: secretHash });

                case 8:
                  wasRefunded = _context12.sent;

                  if (!wasRefunded) {
                    _context12.next = 13;
                    break;
                  }

                  (0, _debug2.default)('swap.core:flow')('This swap was refunded');

                  refundHandler();

                  return _context12.abrupt('return', true);

                case 13:
                  _context12.next = 19;
                  break;

                case 15:
                  _context12.prev = 15;
                  _context12.t0 = _context12['catch'](5);

                  console.warn('wasRefunded error:', _context12.t0);

                  return _context12.abrupt('return', false);

                case 19:
                  return _context12.abrupt('return', this.ethTokenSwap.refund({
                    participantAddress: participant.eth.address
                  }).then(function (hash) {
                    if (!hash) {
                      return false;
                    }

                    refundHandler(hash);

                    return true;
                  }).catch(function (error) {
                    return false;
                  }));

                case 20:
                case 'end':
                  return _context12.stop();
              }
            }
          }, _callee12, this, [[5, 15]]);
        }));

        function tryRefund() {
          return _ref15.apply(this, arguments);
        }

        return tryRefund;
      }()
    }, {
      key: 'stopSwapProcess',
      value: function stopSwapProcess() {
        var flow = this;

        console.warn('Swap was stopped');

        flow.setState({
          isStoppedSwap: true
        }, true);
      }
    }, {
      key: 'tryWithdraw',
      value: function () {
        var _ref16 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee13(_secret) {
          var _this5 = this;

          var _state2, secret, secretHash, isEthWithdrawn, isBtcWithdrawn, btcScriptValues, _secretHash, _btcSwap$createScript, scriptAddress, balance;

          return _regenerator2.default.wrap(function _callee13$(_context13) {
            while (1) {
              switch (_context13.prev = _context13.next) {
                case 0:
                  _state2 = this.state, secret = _state2.secret, secretHash = _state2.secretHash, isEthWithdrawn = _state2.isEthWithdrawn, isBtcWithdrawn = _state2.isBtcWithdrawn, btcScriptValues = _state2.btcScriptValues;

                  if (_secret) {
                    _context13.next = 3;
                    break;
                  }

                  throw new Error('Withdrawal is automatic. For manual withdrawal, provide a secret');

                case 3:
                  if (btcScriptValues) {
                    _context13.next = 5;
                    break;
                  }

                  throw new Error('Cannot withdraw without script values');

                case 5:

                  if (secret && secret != _secret) console.warn('Secret already known and is different. Are you sure?');

                  if (isBtcWithdrawn) console.warn('Looks like money were already withdrawn, are you sure?');

                  (0, _debug2.default)('swap.core:flow')('WITHDRAW using secret = ' + _secret);

                  _secretHash = _crypto2.default.ripemd160(Buffer.from(_secret, 'hex')).toString('hex');


                  if (secretHash != _secretHash) console.warn('Hash does not match! state: ' + secretHash + ', given: ' + _secretHash);

                  _btcSwap$createScript = this.btcSwap.createScript(btcScriptValues), scriptAddress = _btcSwap$createScript.scriptAddress;
                  _context13.next = 13;
                  return this.btcSwap.getBalance(scriptAddress);

                case 13:
                  balance = _context13.sent;


                  (0, _debug2.default)('swap.core:flow')('address=' + scriptAddress + ', balance=' + balance);

                  if (!(balance === 0)) {
                    _context13.next = 18;
                    break;
                  }

                  this.finishStep({
                    isBtcWithdrawn: true
                  }, { step: 'withdraw-btc' });
                  throw new Error('Already withdrawn: address=' + scriptAddress + ',balance=' + balance);

                case 18:
                  _context13.next = 20;
                  return this.btcSwap.withdraw({
                    scriptValues: btcScriptValues,
                    secret: _secret
                  }, function (hash) {
                    (0, _debug2.default)('swap.core:flow')('TX hash=' + hash);
                    _this5.setState({
                      btcSwapWithdrawTransactionHash: hash
                    });
                  });

                case 20:
                  (0, _debug2.default)('swap.core:flow')('TX withdraw sent: ' + this.state.btcSwapWithdrawTransactionHash);

                  this.finishStep({
                    isBtcWithdrawn: true
                  }, { step: 'withdraw-btc' });

                case 22:
                case 'end':
                  return _context13.stop();
              }
            }
          }, _callee13, this);
        }));

        function tryWithdraw(_x6) {
          return _ref16.apply(this, arguments);
        }

        return tryWithdraw;
      }()
    }]);
    return ETHTOKEN2BTC;
  }(_swap3.Flow);

  return ETHTOKEN2BTC;
};

module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3137:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _crypto = __webpack_require__(70);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(82);

var _bignumber = __webpack_require__(30);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (tokenName) {
  var BTC2ETHTOKEN = function (_Flow) {
    (0, _inherits3.default)(BTC2ETHTOKEN, _Flow);
    (0, _createClass3.default)(BTC2ETHTOKEN, null, [{
      key: 'getName',
      value: function getName() {
        return this.getFromName() + '2' + this.getToName();
      }
    }, {
      key: 'getFromName',
      value: function getFromName() {
        return _swap.constants.COINS.btc;
      }
    }, {
      key: 'getToName',
      value: function getToName() {
        return tokenName.toUpperCase();
      }
    }]);

    function BTC2ETHTOKEN(swap) {
      (0, _classCallCheck3.default)(this, BTC2ETHTOKEN);

      var _this = (0, _possibleConstructorReturn3.default)(this, (BTC2ETHTOKEN.__proto__ || (0, _getPrototypeOf2.default)(BTC2ETHTOKEN)).call(this, swap));

      _this.getRefundTxHex = function () {
        _this.btcSwap.getRefundHexTransaction({
          scriptValues: _this.state.btcScriptValues,
          secret: _this.state.secret
        }).then(function (txHex) {
          _this.setState({
            refundTxHex: txHex
          });
        });
      };

      _this._flowName = BTC2ETHTOKEN.getName();

      _this.stepNumbers = {
        'sign': 1,
        'submit-secret': 2,
        'sync-balance': 3,
        'lock-btc': 4,
        'wait-lock-eth': 5,
        'withdraw-eth': 6,
        'finish': 7,
        'end': 8
      };

      _this.ethTokenSwap = swap.ownerSwap;
      _this.btcSwap = swap.participantSwap;

      if (!_this.ethTokenSwap) {
        throw new Error('BTC2ETH: "ethTokenSwap" of type object required');
      }
      if (!_this.btcSwap) {
        throw new Error('BTC2ETH: "btcSwap" of type object required');
      }

      _this.state = {
        step: 0,

        isStoppedSwap: false,

        signTransactionHash: null,
        isSignFetching: false,
        isParticipantSigned: false,

        btcScriptCreatingTransactionHash: null,
        ethSwapCreationTransactionHash: null,

        secretHash: null,
        btcScriptValues: null,

        btcScriptVerified: false,

        isBalanceFetching: false,
        isBalanceEnough: true,
        balance: null,

        isEthContractFunded: false,

        btcSwapWithdrawTransactionHash: null,
        ethSwapWithdrawTransactionHash: null,

        secret: null,

        canCreateEthTransaction: true,
        isEthWithdrawn: false,

        refundTransactionHash: null,
        isRefunded: false,

        withdrawFee: null,
        refundTxHex: null,
        isFinished: false,
        isSwapExist: false
      };

      (0, _get3.default)(BTC2ETHTOKEN.prototype.__proto__ || (0, _getPrototypeOf2.default)(BTC2ETHTOKEN.prototype), '_persistSteps', _this).call(_this);
      _this._persistState();
      return _this;
    }

    (0, _createClass3.default)(BTC2ETHTOKEN, [{
      key: '_persistState',
      value: function _persistState() {
        (0, _get3.default)(BTC2ETHTOKEN.prototype.__proto__ || (0, _getPrototypeOf2.default)(BTC2ETHTOKEN.prototype), '_persistState', this).call(this);
      }
    }, {
      key: '_getSteps',
      value: function _getSteps() {
        var _this2 = this;

        var flow = this;

        return [

        // 1. Signs

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
          return _regenerator2.default.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  flow.swap.room.once('swap sign', function () {
                    var step = flow.state.step;


                    if (step >= 2) {
                      return;
                    }

                    flow.swap.room.once('eth refund completed', function () {
                      flow.tryRefund();
                    });

                    flow.finishStep({
                      isParticipantSigned: true
                    }, { step: 'sign', silentError: true });
                  });

                  flow.swap.room.once('swap exists', function () {
                    flow.setState({
                      isSwapExist: true
                    });

                    flow.stopSwapProcess();
                  });

                  flow.swap.room.sendMessage({
                    event: 'request sign'
                  });

                case 3:
                case 'end':
                  return _context.stop();
              }
            }
          }, _callee, _this2);
        })),

        // 2. Create secret, secret hash and BTC script

        function () {
          // this.submitSecret()
        },

        // 3. Check system wallet balance

        function () {
          _this2.syncBalance();
        },

        // 4. Create BTC Script, fund, notify participant

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
          var onTransactionHash, sellAmount, _flow$state2, isBalanceEnough, btcScriptValues, checkBTCScriptBalance, isStoppedSwap;

          return _regenerator2.default.wrap(function _callee4$(_context4) {
            while (1) {
              switch (_context4.prev = _context4.next) {
                case 0:
                  onTransactionHash = function onTransactionHash(txID) {
                    var _flow$state = flow.state,
                        btcScriptCreatingTransactionHash = _flow$state.btcScriptCreatingTransactionHash,
                        btcScriptValues = _flow$state.btcScriptValues;


                    if (btcScriptCreatingTransactionHash) {
                      return;
                    }

                    flow.setState({
                      btcScriptCreatingTransactionHash: txID
                    });

                    flow.swap.room.once('request btc script', function () {
                      flow.swap.room.sendMessage({
                        event: 'create btc script',
                        data: {
                          scriptValues: btcScriptValues,
                          btcScriptCreatingTransactionHash: txID
                        }
                      });
                    });

                    flow.swap.room.sendMessage({
                      event: 'create btc script',
                      data: {
                        scriptValues: btcScriptValues,
                        btcScriptCreatingTransactionHash: txID
                      }
                    });
                  };

                  sellAmount = flow.swap.sellAmount;
                  _flow$state2 = flow.state, isBalanceEnough = _flow$state2.isBalanceEnough, btcScriptValues = _flow$state2.btcScriptValues;

                  if (!isBalanceEnough) {
                    _context4.next = 6;
                    break;
                  }

                  _context4.next = 6;
                  return flow.btcSwap.fundScript({
                    scriptValues: btcScriptValues,
                    amount: sellAmount
                  });

                case 6:
                  checkBTCScriptBalance = function () {
                    var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
                      var _btcSwap$createScript, scriptAddress, unspents, txID, balance, isEnoughMoney;

                      return _regenerator2.default.wrap(function _callee2$(_context2) {
                        while (1) {
                          switch (_context2.prev = _context2.next) {
                            case 0:
                              _btcSwap$createScript = _this2.btcSwap.createScript(btcScriptValues), scriptAddress = _btcSwap$createScript.scriptAddress;
                              _context2.next = 3;
                              return _this2.btcSwap.fetchUnspents(scriptAddress);

                            case 3:
                              unspents = _context2.sent;

                              if (!(unspents.length === 0)) {
                                _context2.next = 6;
                                break;
                              }

                              return _context2.abrupt('return', false);

                            case 6:
                              txID = unspents[0].txid;
                              _context2.next = 9;
                              return _this2.btcSwap.getBalance(btcScriptValues);

                            case 9:
                              balance = _context2.sent;
                              isEnoughMoney = (0, _bignumber.BigNumber)(balance).isGreaterThanOrEqualTo(sellAmount.times(1e8));


                              if (isEnoughMoney) {
                                flow.setState({
                                  scriptBalance: (0, _bignumber.BigNumber)(balance).div(1e8).dp(8)
                                });

                                onTransactionHash(txID);
                              }

                              return _context2.abrupt('return', isEnoughMoney);

                            case 13:
                            case 'end':
                              return _context2.stop();
                          }
                        }
                      }, _callee2, _this2);
                    }));

                    return function checkBTCScriptBalance() {
                      return _ref3.apply(this, arguments);
                    };
                  }();

                  _context4.next = 9;
                  return _swap.util.helpers.repeatAsyncUntilResult(function () {
                    var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(stopRepeat) {
                      var isStoppedSwap;
                      return _regenerator2.default.wrap(function _callee3$(_context3) {
                        while (1) {
                          switch (_context3.prev = _context3.next) {
                            case 0:
                              isStoppedSwap = flow.state.isStoppedSwap;

                              if (isStoppedSwap) {
                                _context3.next = 7;
                                break;
                              }

                              _context3.next = 4;
                              return checkBTCScriptBalance();

                            case 4:
                              return _context3.abrupt('return', _context3.sent);

                            case 7:
                              stopRepeat();

                            case 8:
                            case 'end':
                              return _context3.stop();
                          }
                        }
                      }, _callee3, _this2);
                    }));

                    return function (_x) {
                      return _ref4.apply(this, arguments);
                    };
                  }());

                case 9:
                  isStoppedSwap = flow.state.isStoppedSwap;


                  if (!isStoppedSwap) {
                    flow.finishStep({
                      isBtcScriptFunded: true
                    }, { step: 'lock-btc' });
                  }

                case 11:
                case 'end':
                  return _context4.stop();
              }
            }
          }, _callee4, _this2);
        })),

        // 5. Wait participant creates ETH Contract

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {
          var participant, isContractBalanceOk, isEthContractFunded;
          return _regenerator2.default.wrap(function _callee6$(_context6) {
            while (1) {
              switch (_context6.prev = _context6.next) {
                case 0:
                  flow.swap.room.sendMessage({
                    event: 'request eth contract'
                  });

                  flow.swap.room.once('request btc script', function () {
                    var _flow$state3 = flow.state,
                        btcScriptValues = _flow$state3.btcScriptValues,
                        btcScriptCreatingTransactionHash = _flow$state3.btcScriptCreatingTransactionHash;


                    flow.swap.room.sendMessage({
                      event: 'create btc script',
                      data: {
                        scriptValues: btcScriptValues,
                        btcScriptCreatingTransactionHash: btcScriptCreatingTransactionHash
                      }
                    });
                  });

                  participant = flow.swap.participant;


                  flow.swap.room.on('create eth contract', function (_ref6) {
                    var ethSwapCreationTransactionHash = _ref6.ethSwapCreationTransactionHash;

                    flow.setState({
                      ethSwapCreationTransactionHash: ethSwapCreationTransactionHash
                    }, true);
                  });

                  _context6.next = 6;
                  return _swap.util.helpers.repeatAsyncUntilResult((0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
                    var balance;
                    return _regenerator2.default.wrap(function _callee5$(_context5) {
                      while (1) {
                        switch (_context5.prev = _context5.next) {
                          case 0:
                            _context5.next = 2;
                            return flow.ethTokenSwap.getBalance({
                              ownerAddress: participant.eth.address
                            });

                          case 2:
                            balance = _context5.sent;


                            (0, _debug2.default)('swap.core:flow')('Checking contract balance:', balance);

                            if (!(balance > 0)) {
                              _context5.next = 6;
                              break;
                            }

                            return _context5.abrupt('return', true);

                          case 6:
                            return _context5.abrupt('return', false);

                          case 7:
                          case 'end':
                            return _context5.stop();
                        }
                      }
                    }, _callee5, _this2);
                  })));

                case 6:
                  isContractBalanceOk = _context6.sent;


                  if (isContractBalanceOk) {
                    isEthContractFunded = flow.state.isEthContractFunded;


                    if (!isEthContractFunded) {
                      flow.finishStep({
                        isEthContractFunded: true
                      }, { step: 'wait-lock-eth' });
                    }
                  }

                case 8:
                case 'end':
                  return _context6.stop();
              }
            }
          }, _callee6, _this2);
        })),

        // 6. Withdraw

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8() {
          var _flow$swap, buyAmount, participant, _flow$state4, secretHash, secret, data, balanceCheckError, targetWallet, needTargetWallet, tokenAddressIsValid, onWithdrawReady, tryWithdraw, isEthWithdrawn;

          return _regenerator2.default.wrap(function _callee8$(_context8) {
            while (1) {
              switch (_context8.prev = _context8.next) {
                case 0:
                  _flow$swap = flow.swap, buyAmount = _flow$swap.buyAmount, participant = _flow$swap.participant;
                  _flow$state4 = flow.state, secretHash = _flow$state4.secretHash, secret = _flow$state4.secret;
                  data = {
                    ownerAddress: participant.eth.address,
                    secret: secret
                  };
                  _context8.next = 5;
                  return flow.ethTokenSwap.checkBalance({
                    ownerAddress: participant.eth.address,
                    participantAddress: _this2.app.services.auth.accounts.eth.address,
                    expectedValue: buyAmount,
                    expectedHash: secretHash
                  });

                case 5:
                  balanceCheckError = _context8.sent;

                  if (!balanceCheckError) {
                    _context8.next = 10;
                    break;
                  }

                  console.error('Waiting until deposit: ETH balance check error:', balanceCheckError);
                  flow.swap.events.dispatch('eth balance check error', balanceCheckError);

                  return _context8.abrupt('return');

                case 10:
                  if (!flow.ethTokenSwap.hasTargetWallet()) {
                    _context8.next = 19;
                    break;
                  }

                  _context8.next = 13;
                  return flow.ethTokenSwap.getTargetWallet(participant.eth.address);

                case 13:
                  targetWallet = _context8.sent;
                  needTargetWallet = flow.swap.destinationBuyAddress ? flow.swap.destinationBuyAddress : _this2.app.services.auth.accounts.eth.address;

                  if (!(targetWallet != needTargetWallet)) {
                    _context8.next = 19;
                    break;
                  }

                  console.error("Destination address for tokens dismatch with needed (Needed, Getted). Stop swap now!", needTargetWallet, targetWallet);

                  flow.swap.events.dispatch('address for tokens invalid', {
                    needed: needTargetWallet,
                    getted: targetWallet
                  });

                  return _context8.abrupt('return');

                case 19:
                  _context8.next = 21;
                  return flow.ethTokenSwap.checkTokenIsValid({
                    ownerAddress: participant.eth.address,
                    participantAddress: _this2.app.services.auth.accounts.eth.address
                  });

                case 21:
                  tokenAddressIsValid = _context8.sent;

                  if (tokenAddressIsValid) {
                    _context8.next = 25;
                    break;
                  }

                  console.error("Tokens, blocked at contract dismatch with needed. Stop swap now!");
                  return _context8.abrupt('return');

                case 25:
                  onWithdrawReady = function onWithdrawReady() {
                    flow.swap.room.once('request ethWithdrawTxHash', function () {
                      var ethSwapWithdrawTransactionHash = flow.state.ethSwapWithdrawTransactionHash;


                      flow.swap.room.sendMessage({
                        event: 'ethWithdrawTxHash',
                        data: {
                          ethSwapWithdrawTransactionHash: ethSwapWithdrawTransactionHash
                        }
                      });
                    });

                    var step = flow.state.step;


                    if (step >= 7) {
                      return;
                    }

                    flow.finishStep({
                      isEthWithdrawn: true
                    }, 'withdraw-eth');
                  };

                  tryWithdraw = function () {
                    var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(stopRepeater) {
                      var isEthWithdrawn, withdrawFee, withdrawNeededGas, requireWithdrawFee;
                      return _regenerator2.default.wrap(function _callee7$(_context7) {
                        while (1) {
                          switch (_context7.prev = _context7.next) {
                            case 0:
                              isEthWithdrawn = flow.state.isEthWithdrawn;

                              if (isEthWithdrawn) {
                                _context7.next = 27;
                                break;
                              }

                              _context7.prev = 2;
                              withdrawFee = flow.state.withdrawFee;

                              if (withdrawFee) {
                                _context7.next = 10;
                                break;
                              }

                              _context7.next = 7;
                              return flow.ethTokenSwap.calcWithdrawGas({
                                ownerAddress: data.ownerAddress,
                                secret: secret
                              });

                            case 7:
                              withdrawNeededGas = _context7.sent;

                              flow.setState({
                                withdrawFee: withdrawNeededGas
                              });
                              (0, _debug2.default)('swap.core:flow')('withdraw gas fee', withdrawNeededGas);

                            case 10:
                              _context7.next = 12;
                              return flow.ethTokenSwap.withdraw(data, function (hash) {
                                flow.setState({
                                  isEthWithdrawn: true,
                                  ethSwapWithdrawTransactionHash: hash,
                                  canCreateEthTransaction: true,
                                  requireWithdrawFee: false
                                }, true);

                                flow.swap.room.sendMessage({
                                  event: 'ethWithdrawTxHash',
                                  data: {
                                    ethSwapWithdrawTransactionHash: hash
                                  }
                                });
                              });

                            case 12:

                              stopRepeater();
                              return _context7.abrupt('return', true);

                            case 16:
                              _context7.prev = 16;
                              _context7.t0 = _context7['catch'](2);

                              if (!/known transaction/.test(_context7.t0.message)) {
                                _context7.next = 24;
                                break;
                              }

                              console.error('known tx: ' + _context7.t0.message);
                              stopRepeater();
                              return _context7.abrupt('return', true);

                            case 24:
                              if (/out of gas/.test(_context7.t0.message)) {
                                console.error('tx failed (wrong secret?): ' + _context7.t0.message);
                              } else if (/insufficient funds for gas/.test(_context7.t0.message)) {
                                console.error('insufficient fund for gas: ' + _context7.t0.message);

                                (0, _debug2.default)('swap.core:flow')('insufficient fund for gas... wait fund or request other side to withdraw');

                                requireWithdrawFee = _this2.state.requireWithdrawFee;


                                if (!requireWithdrawFee) {
                                  flow.swap.room.once('withdraw ready', function (_ref10) {
                                    var ethSwapWithdrawTransactionHash = _ref10.ethSwapWithdrawTransactionHash;

                                    flow.setState({
                                      ethSwapWithdrawTransactionHash: ethSwapWithdrawTransactionHash
                                    });

                                    onWithdrawReady();
                                  });

                                  flow.setState({
                                    requireWithdrawFee: true
                                  });
                                }
                              } else {
                                console.error(_context7.t0);
                              }

                            case 25:
                              flow.setState({
                                canCreateEthTransaction: false
                              });

                              return _context7.abrupt('return', null);

                            case 27:
                              return _context7.abrupt('return', true);

                            case 28:
                            case 'end':
                              return _context7.stop();
                          }
                        }
                      }, _callee7, _this2, [[2, 16]]);
                    }));

                    return function tryWithdraw(_x2) {
                      return _ref9.apply(this, arguments);
                    };
                  }();

                  _context8.next = 29;
                  return _swap.util.helpers.repeatAsyncUntilResult(function (stopRepeater) {
                    return tryWithdraw(stopRepeater);
                  });

                case 29:
                  isEthWithdrawn = _context8.sent;


                  if (isEthWithdrawn) {
                    onWithdrawReady();
                  }

                case 31:
                case 'end':
                  return _context8.stop();
              }
            }
          }, _callee8, _this2);
        })),

        // 7. Finish

        function () {
          flow.swap.room.once('swap finished', function (_ref11) {
            var btcSwapWithdrawTransactionHash = _ref11.btcSwapWithdrawTransactionHash;

            flow.setState({
              btcSwapWithdrawTransactionHash: btcSwapWithdrawTransactionHash
            });
          });

          flow.swap.room.sendMessage({
            event: 'request swap finished'
          });

          flow.finishStep({
            isFinished: true
          }, 'finish');
        },

        // 8. Finished!

        function () {}];
      }

      /**
       * TODO - backport version compatibility
       *  mapped to sendWithdrawRequestToAnotherParticipant
       *  remove at next iteration after client software update
       *  Used in swap.react
       */

    }, {
      key: 'sendWithdrawRequest',
      value: function sendWithdrawRequest() {
        return this.sendWithdrawRequestToAnotherParticipant();
      }
    }, {
      key: 'sendWithdrawRequestToAnotherParticipant',
      value: function sendWithdrawRequestToAnotherParticipant() {
        var flow = this;

        var _flow$state5 = flow.state,
            requireWithdrawFee = _flow$state5.requireWithdrawFee,
            requireWithdrawFeeSended = _flow$state5.requireWithdrawFeeSended;


        if (!requireWithdrawFee || requireWithdrawFeeSended) {
          return;
        }

        flow.setState({
          requireWithdrawFeeSended: true
        });

        flow.swap.room.on('accept withdraw request', function () {
          flow.swap.room.sendMessage({
            event: 'do withdraw',
            data: {
              secret: flow.state.secret
            }
          });
        });

        flow.swap.room.sendMessage({
          event: 'request withdraw'
        });
      }
    }, {
      key: 'submitSecret',
      value: function submitSecret(secret) {
        if (this.state.secretHash) {
          return;
        }

        if (!this.state.isParticipantSigned) {
          throw new Error('Cannot proceed: participant not signed. step=' + this.state.step);
        }

        var secretHash = _crypto2.default.ripemd160(Buffer.from(secret, 'hex')).toString('hex');

        /* Secret hash generated - create BTC script - and only after this notify other part */
        this.createWorkBTCScript(secretHash);

        var _secret = '0x' + secret.replace(/^0x/, '');

        this.finishStep({
          secret: _secret,
          secretHash: secretHash
        }, { step: 'submit-secret' });
      }
    }, {
      key: 'getBTCScriptAddress',
      value: function getBTCScriptAddress() {
        var scriptAddress = this.state.scriptAddress;

        return scriptAddress;
      }
    }, {
      key: 'createWorkBTCScript',
      value: function createWorkBTCScript(secretHash) {
        if (this.state.btcScriptValues) {
          (0, _debug2.default)('swap.core:flow')('BTC Script already generated', this.state.btcScriptValues);
          return;
        }
        var participant = this.swap.participant;


        var utcNow = function utcNow() {
          return Math.floor(Date.now() / 1000);
        };
        var getLockTime = function getLockTime() {
          return utcNow() + 60 * 60 * 3;
        }; // 3 hours from now

        var scriptValues = {
          secretHash: secretHash,
          ownerPublicKey: this.app.services.auth.accounts.btc.getPublicKey(),
          recipientPublicKey: participant.btc.publicKey,
          lockTime: getLockTime()
        };

        var _btcSwap$createScript2 = this.btcSwap.createScript(scriptValues),
            scriptAddress = _btcSwap$createScript2.scriptAddress;

        this.setState({
          scriptAddress: scriptAddress,
          btcScriptValues: scriptValues
        });
      }
    }, {
      key: 'skipSyncBalance',
      value: function () {
        var _ref12 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9() {
          return _regenerator2.default.wrap(function _callee9$(_context9) {
            while (1) {
              switch (_context9.prev = _context9.next) {
                case 0:
                  this.finishStep({}, { step: 'sync-balance' });

                case 1:
                case 'end':
                  return _context9.stop();
              }
            }
          }, _callee9, this);
        }));

        function skipSyncBalance() {
          return _ref12.apply(this, arguments);
        }

        return skipSyncBalance;
      }()
    }, {
      key: 'syncBalance',
      value: function () {
        var _ref13 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee10() {
          var sellAmount, btcAddress, txFee, unspents, totalUnspent, balance, needAmount, isEnoughMoney, stateData;
          return _regenerator2.default.wrap(function _callee10$(_context10) {
            while (1) {
              switch (_context10.prev = _context10.next) {
                case 0:
                  sellAmount = this.swap.sellAmount;


                  this.setState({
                    isBalanceFetching: true
                  });

                  btcAddress = this.app.services.auth.accounts.btc.getAddress();
                  _context10.next = 5;
                  return this.btcSwap.estimateFeeValue({ method: 'swap', fixed: true, address: btcAddress });

                case 5:
                  txFee = _context10.sent;
                  _context10.next = 8;
                  return this.btcSwap.fetchUnspents(btcAddress);

                case 8:
                  unspents = _context10.sent;
                  totalUnspent = unspents.reduce(function (summ, _ref14) {
                    var satoshis = _ref14.satoshis;
                    return summ + satoshis;
                  }, 0);
                  balance = (0, _bignumber.BigNumber)(totalUnspent).dividedBy(1e8);
                  needAmount = sellAmount.plus(txFee);
                  isEnoughMoney = needAmount.isLessThanOrEqualTo(balance);
                  stateData = {
                    balance: balance,
                    isBalanceFetching: false,
                    isBalanceEnough: isEnoughMoney
                  };


                  if (isEnoughMoney) {
                    this.finishStep(stateData, { step: 'sync-balance' });
                  } else {
                    this.setState(stateData, true);
                  }

                case 15:
                case 'end':
                  return _context10.stop();
              }
            }
          }, _callee10, this);
        }));

        function syncBalance() {
          return _ref13.apply(this, arguments);
        }

        return syncBalance;
      }()
    }, {
      key: 'tryRefund',
      value: function tryRefund() {
        var _this3 = this;

        var flow = this;
        var _flow$state6 = flow.state,
            isRefunded = _flow$state6.isRefunded,
            btcScriptValues = _flow$state6.btcScriptValues,
            secret = _flow$state6.secret;


        if (isRefunded) {
          return false;
        }

        return flow.btcSwap.refund({
          scriptValues: btcScriptValues,
          secret: secret
        }).then(function (hash) {
          if (!hash) {
            return false;
          }

          _this3.swap.room.sendMessage({
            event: 'btc refund completed'
          });

          flow.setState({
            refundTransactionHash: hash,
            isRefunded: true,
            isSwapExist: false
          }, true);

          return true;
        }).catch(function (error) {
          console.warn('Btc withdraw:', error);

          return false;
        });
      }
    }, {
      key: 'stopSwapProcess',
      value: function stopSwapProcess() {
        var flow = this;

        console.warn('Swap was stoped');

        flow.setState({
          isStoppedSwap: true
        }, true);
      }
    }, {
      key: 'tryWithdraw',
      value: function () {
        var _ref15 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee11(_secret) {
          var _this4 = this;

          var _state, secret, secretHash, isEthWithdrawn, _secretHash, participant, data;

          return _regenerator2.default.wrap(function _callee11$(_context11) {
            while (1) {
              switch (_context11.prev = _context11.next) {
                case 0:
                  _state = this.state, secret = _state.secret, secretHash = _state.secretHash, isEthWithdrawn = _state.isEthWithdrawn;

                  if (_secret) {
                    _context11.next = 3;
                    break;
                  }

                  throw new Error('Withdrawal is automatic. For manual withdrawal, provide a secret');

                case 3:

                  if (secret && secret != _secret) console.warn('Secret already known and is different. Are you sure?');

                  if (isEthWithdrawn) console.warn('Looks like money were already withdrawn, are you sure?');

                  (0, _debug2.default)('swap.core:flow')('WITHDRAW using secret = ' + _secret);

                  _secretHash = _crypto2.default.ripemd160(Buffer.from(_secret, 'hex')).toString('hex');


                  if (secretHash != _secretHash) console.warn('Hash does not match! state: ' + secretHash + ', given: ' + _secretHash);

                  participant = this.swap.participant;
                  data = {
                    ownerAddress: participant.eth.address,
                    secret: _secret
                  };
                  _context11.next = 12;
                  return this.ethTokenSwap.withdraw(data, function (hash) {
                    (0, _debug2.default)('swap.core:flow')('TX hash=' + hash);
                    _this4.setState({
                      ethSwapWithdrawTransactionHash: hash,
                      canCreateEthTransaction: true
                    });
                  }).then(function () {

                    _this4.finishStep({
                      isEthWithdrawn: true
                    }, 'withdraw-eth');
                  });

                case 12:
                case 'end':
                  return _context11.stop();
              }
            }
          }, _callee11, this);
        }));

        function tryWithdraw(_x3) {
          return _ref15.apply(this, arguments);
        }

        return tryWithdraw;
      }()
    }]);
    return BTC2ETHTOKEN;
  }(_swap3.Flow);

  return BTC2ETHTOKEN;
};

module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3138:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _crypto = __webpack_require__(70);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(82);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (tokenName) {
  var USDT2ETHTOKEN = function (_Flow) {
    (0, _inherits3.default)(USDT2ETHTOKEN, _Flow);
    (0, _createClass3.default)(USDT2ETHTOKEN, null, [{
      key: 'getName',
      value: function getName() {
        return this.getFromName() + '2' + this.getToName();
      }
    }, {
      key: 'getFromName',
      value: function getFromName() {
        return _swap.constants.COINS.usdt;
      }
    }, {
      key: 'getToName',
      value: function getToName() {
        return tokenName.toUpperCase();
      }
    }]);

    function USDT2ETHTOKEN(swap) {
      (0, _classCallCheck3.default)(this, USDT2ETHTOKEN);

      var _this = (0, _possibleConstructorReturn3.default)(this, (USDT2ETHTOKEN.__proto__ || (0, _getPrototypeOf2.default)(USDT2ETHTOKEN)).call(this, swap));

      _this.getRefundTxHex = function () {
        _this.usdtSwap.getRefundHexTransaction({
          scriptValues: _this.state.usdtScriptValues,
          secret: _this.state.secret
        }).then(function (txHex) {
          _this.setState({
            refundTxHex: txHex
          });
        });
      };

      _this._flowName = USDT2ETHTOKEN.getName();

      _this.ethTokenSwap = _this.app.swaps[tokenName.toUpperCase()];
      _this.usdtSwap = _this.app.swaps[_swap.constants.COINS.usdt];

      _this.myBtcAddress = _this.app.services.auth.accounts.btc.getAddress();
      _this.myEthAddress = _this.app.services.auth.accounts.eth.address;

      _this.stepNumbers = {
        'sign': 1,
        'submit-secret': 2,
        'sync-balance': 3,
        'lock-usdt': 4,
        'wait-lock-eth': 5,
        'withdraw-eth': 6,
        'finish': 7,
        'end': 8
      };

      if (!_this.ethTokenSwap) {
        throw new Error('USDT2ETH: "ethTokenSwap" of type object required');
      }
      if (!_this.usdtSwap) {
        throw new Error('USDT2ETH: "usdtSwap" of type object required');
      }

      _this.state = {
        step: 0,

        signTransactionHash: null,
        isSignFetching: false,
        isParticipantSigned: false,

        // btcScriptCreatingTransactionHash: null,
        usdtFundingTransactionHash: null,
        usdtFundingTransactionValues: null,

        ethSwapCreationTransactionHash: null,

        secretHash: null,
        usdtScriptValues: null,

        usdtScriptVerified: false,

        isBalanceFetching: false,
        isBalanceEnough: false,
        balance: null,

        isEthContractFunded: false,

        ethSwapWithdrawTransactionHash: null,
        isEthWithdrawn: false,
        isBtcWithdrawn: false,

        refundTxHex: null,
        isFinished: false
      };

      (0, _get3.default)(USDT2ETHTOKEN.prototype.__proto__ || (0, _getPrototypeOf2.default)(USDT2ETHTOKEN.prototype), '_persistSteps', _this).call(_this);
      _this._persistState();
      return _this;
    }

    (0, _createClass3.default)(USDT2ETHTOKEN, [{
      key: '_persistState',
      value: function _persistState() {
        (0, _get3.default)(USDT2ETHTOKEN.prototype.__proto__ || (0, _getPrototypeOf2.default)(USDT2ETHTOKEN.prototype), '_persistState', this).call(this);
      }
    }, {
      key: '_getSteps',
      value: function _getSteps() {
        var _this2 = this;

        var flow = this;

        return [

        // 1. Signs

        function () {
          flow.swap.room.once('swap sign', function () {
            (0, _debug2.default)('swap.core:flow')('swap sign!');
            flow.finishStep({
              isParticipantSigned: true
            }, { step: 'sign', silentError: true });
          });

          flow.swap.room.once('swap exists', function () {
            (0, _debug2.default)('swap.core:flow')('swap already exists');
          });

          // if I came late and he ALREADY send this, I request AGAIN
          flow.swap.room.sendMessage({
            event: 'request sign'
          });
        },

        // 2. Create secret, secret hash

        function () {
          // this.submitSecret()
        },

        // 3. Check balance

        function () {
          _this2.syncBalance();
        },

        // 4. Create USDT Script, fund, notify participant

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
          var _flow$swap, sellAmount, participant, usdtScriptValues, utcNow, getLockTime, scriptValues, usdtFundingTransactionHash, usdtFunding, fundingValues;

          return _regenerator2.default.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  _flow$swap = flow.swap, sellAmount = _flow$swap.sellAmount, participant = _flow$swap.participant;
                  usdtScriptValues = flow.state.usdtScriptValues;

                  // TODO move this somewhere!

                  utcNow = function utcNow() {
                    return Math.floor(Date.now() / 1000);
                  };

                  getLockTime = function getLockTime() {
                    return utcNow() + 3600 * 3;
                  }; // 3 hours from now

                  scriptValues = void 0;


                  if (!usdtScriptValues) {
                    scriptValues = {
                      secretHash: flow.state.secretHash,
                      ownerPublicKey: _this2.app.services.auth.accounts.btc.getPublicKey(),
                      recipientPublicKey: participant.btc.publicKey,
                      lockTime: getLockTime()
                    };

                    flow.setState({
                      usdtScriptValues: scriptValues
                    });
                  } else {
                    scriptValues = usdtScriptValues;
                  }

                  (0, _debug2.default)('swap.core:flow')('sellAmount', sellAmount);
                  (0, _debug2.default)('swap.core:flow')('scriptValues', scriptValues);

                  usdtFundingTransactionHash = void 0, usdtFunding = void 0;
                  fundingValues = void 0;

                  if (!flow.state.usdtFundingTransactionValues) {
                    _context.next = 14;
                    break;
                  }

                  fundingValues = flow.state.usdtFundingTransactionValues;
                  _context.next = 16;
                  break;

                case 14:
                  _context.next = 16;
                  return flow.usdtSwap.fundScript({ scriptValues: scriptValues, amount: sellAmount }, function (hash, funding) {
                    usdtFundingTransactionHash = hash;
                    fundingValues = {
                      txid: hash,
                      scriptAddress: funding.scriptValues.scriptAddress
                    };

                    flow.setState({
                      usdtFundingTransactionValues: fundingValues,
                      usdtFundingTransactionHash: hash
                    });
                  });

                case 16:

                  flow.swap.room.on('request btc script', function () {
                    flow.swap.room.sendMessage({
                      event: 'create btc script',
                      data: {
                        scriptValues: scriptValues,
                        fundingValues: fundingValues,
                        usdtFundingTransactionHash: usdtFundingTransactionHash
                      }
                    });
                  });

                  flow.swap.room.sendMessage({
                    event: 'create btc script',
                    data: {
                      scriptValues: scriptValues,
                      usdtFundingTransactionHash: usdtFundingTransactionHash
                    }
                  });

                  flow.finishStep({
                    isBtcScriptFunded: true,
                    usdtScriptValues: scriptValues
                  });

                  // leave only when we have and the party has all values
                  // scriptValues: secretHash, lockTime
                  // funding: txHash
                  // redeem: txHex

                case 19:
                case 'end':
                  return _context.stop();
              }
            }
          }, _callee, _this2);
        })),

        // 5. Wait participant creates ETH Contract

        function () {
          var _flow$swap2 = flow.swap,
              buyAmount = _flow$swap2.buyAmount,
              participant = _flow$swap2.participant;


          flow.swap.room.once('create eth contract', function (_ref2) {
            var ethSwapCreationTransactionHash = _ref2.ethSwapCreationTransactionHash;

            flow.setState({
              ethSwapCreationTransactionHash: ethSwapCreationTransactionHash
            });
          });

          var checkContractBalance = function () {
            var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
              var balanceCheckResult;
              return _regenerator2.default.wrap(function _callee2$(_context2) {
                while (1) {
                  switch (_context2.prev = _context2.next) {
                    case 0:
                      _context2.next = 2;
                      return flow.ethTokenSwap.checkBalance({
                        ownerAddress: participant.eth.address,
                        expectedValue: buyAmount
                      });

                    case 2:
                      balanceCheckResult = _context2.sent;


                      if (balanceCheckResult) {
                        console.error('Waiting until deposit: ETH balance check error:', balanceCheckResult);
                        flow.swap.events.dispatch('eth balance check error', balanceCheckResult);
                      } else {
                        clearInterval(checkBalanceTimer);

                        if (!flow.state.isEthContractFunded) {
                          flow.finishStep({
                            isEthContractFunded: true
                          }, { step: 'wait-lock-eth' });
                        }
                      }

                    case 4:
                    case 'end':
                      return _context2.stop();
                  }
                }
              }, _callee2, _this2);
            }));

            return function checkContractBalance() {
              return _ref3.apply(this, arguments);
            };
          }();

          var checkBalanceTimer = setInterval(checkContractBalance, 20 * 1000);

          flow.swap.room.once('create eth contract', function () {
            checkContractBalance();
          });
        },

        // 6. Withdraw

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
          var tokenAddressIsValid, data;
          return _regenerator2.default.wrap(function _callee3$(_context3) {
            while (1) {
              switch (_context3.prev = _context3.next) {
                case 0:
                  if (flow.state.isEthWithdrawn) {
                    flow.finishStep();
                  }

                  _context3.next = 3;
                  return flow.ethTokenSwap.checkTokenIsValid({
                    ownerAddress: flow.swap.participant.eth.address,
                    participantAddress: _this2.app.services.auth.accounts.eth.address
                  });

                case 3:
                  tokenAddressIsValid = _context3.sent;

                  if (tokenAddressIsValid) {
                    _context3.next = 7;
                    break;
                  }

                  console.error("Tokens, blocked at contract dismatch with needed. Stop swap now!");
                  return _context3.abrupt('return');

                case 7:
                  data = {
                    ownerAddress: flow.swap.participant.eth.address,
                    secret: flow.state.secret
                  };
                  _context3.prev = 8;
                  _context3.next = 11;
                  return flow.ethTokenSwap.withdraw(data, function (hash) {
                    (0, _debug2.default)('swap.core:flow')('withdraw tx hash', hash);

                    flow.setState({
                      ethSwapWithdrawTransactionHash: hash
                    });
                  });

                case 11:
                  _context3.next = 17;
                  break;

                case 13:
                  _context3.prev = 13;
                  _context3.t0 = _context3['catch'](8);

                  // TODO user can stuck here after page reload...
                  if (!/known transaction/.test(_context3.t0.message)) console.error(_context3.t0);
                  return _context3.abrupt('return');

                case 17:

                  flow.swap.room.sendMessage({
                    event: 'finish eth withdraw'
                  });

                  flow.finishStep({
                    isEthWithdrawn: true
                  });

                case 19:
                case 'end':
                  return _context3.stop();
              }
            }
          }, _callee3, _this2, [[8, 13]]);
        })),

        // 7. Finish

        function () {
          flow.swap.room.once('swap finished', function () {
            flow.finishStep({
              isFinished: true
            });
          });
        },

        // 8. Finished!
        function () {}];
      }
    }, {
      key: 'submitSecret',
      value: function submitSecret(secret) {
        if (this.state.secretHash) return true;
        if (!this.state.isParticipantSigned) throw new Error('Cannot proceed: participant not signed. step=' + this.state.step);

        var secretHash = _crypto2.default.ripemd160(Buffer.from(secret, 'hex')).toString('hex');

        this.finishStep({
          secret: secret,
          secretHash: secretHash
        }, { step: 'submit-secret' });

        return true;
      }
    }, {
      key: 'syncBalance',
      value: function () {
        var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
          var sellAmount, balance, isEnoughMoney;
          return _regenerator2.default.wrap(function _callee4$(_context4) {
            while (1) {
              switch (_context4.prev = _context4.next) {
                case 0:
                  sellAmount = this.swap.sellAmount;


                  this.setState({
                    isBalanceFetching: true
                  });

                  _context4.next = 4;
                  return this.usdtSwap.fetchBalance(this.app.services.auth.accounts.btc.getAddress());

                case 4:
                  balance = _context4.sent;
                  isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);


                  if (isEnoughMoney) {
                    this.finishStep({
                      balance: balance,
                      isBalanceFetching: false,
                      isBalanceEnough: true
                    }, { step: 'sync-balance' });
                  } else {
                    this.setState({
                      balance: balance,
                      isBalanceFetching: false,
                      isBalanceEnough: false
                    });
                  }

                case 7:
                case 'end':
                  return _context4.stop();
              }
            }
          }, _callee4, this);
        }));

        function syncBalance() {
          return _ref5.apply(this, arguments);
        }

        return syncBalance;
      }()
    }, {
      key: 'tryRefund',
      value: function tryRefund() {
        var _this3 = this;

        return this.usdtSwap.refund({
          amount: this.swap.sellAmount.toNumber(),
          scriptValues: this.state.usdtScriptValues,
          secret: this.state.secret
        }, function (hash) {
          _this3.setState({
            refundTransactionHash: hash
          });
        }).then(function () {
          _this3.setState({
            isRefunded: true
          });
        });
      }
    }]);
    return USDT2ETHTOKEN;
  }(_swap3.Flow);

  return USDT2ETHTOKEN;
};

module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3139:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _crypto = __webpack_require__(70);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _swap3 = __webpack_require__(82);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// move to BtcSwap
exports.default = function (tokenName) {
  var ETHTOKEN2USDT = function (_Flow) {
    (0, _inherits3.default)(ETHTOKEN2USDT, _Flow);
    (0, _createClass3.default)(ETHTOKEN2USDT, null, [{
      key: 'getName',
      value: function getName() {
        return this.getFromName() + '2' + this.getToName();
      }
    }, {
      key: 'getFromName',
      value: function getFromName() {
        return tokenName.toUpperCase();
      }
    }, {
      key: 'getToName',
      value: function getToName() {
        return _swap.constants.COINS.usdt;
      }
    }]);

    function ETHTOKEN2USDT(swap) {
      (0, _classCallCheck3.default)(this, ETHTOKEN2USDT);

      var _this = (0, _possibleConstructorReturn3.default)(this, (ETHTOKEN2USDT.__proto__ || (0, _getPrototypeOf2.default)(ETHTOKEN2USDT)).call(this, swap));

      _this._flowName = ETHTOKEN2USDT.getName();

      _this.ethTokenSwap = _this.app.swaps[tokenName.toUpperCase()];
      _this.usdtSwap = _this.app.swaps[_swap.constants.COINS.usdt];

      _this.myBtcAddress = _this.app.services.auth.accounts.btc.getAddress();
      _this.myEthAddress = _this.app.services.auth.accounts.eth.address;

      _this.stepNumbers = {
        'sign': 1,
        'wait-lock-usdt': 2,
        'verify-script': 3,
        'sync-balance': 4,
        'lock-eth': 5,
        'wait-withdraw-eth': 6, // aka getSecret
        'withdraw-usdt': 7,
        'finish': 8,
        'end': 9
      };

      if (!_this.ethTokenSwap) {
        throw new Error('ETHTOKEN2USDT: "ethTokenSwap" of type object required');
      }
      if (!_this.usdtSwap) {
        throw new Error('ETHTOKEN2USDT: "usdtSwap" of type object required');
      }

      _this.state = {
        step: 0,

        signTransactionHash: null,
        isSignFetching: false,
        isMeSigned: false,

        secretHash: null,
        usdtScriptValues: null,

        usdtScriptVerified: false,

        isBalanceFetching: false,
        isBalanceEnough: false,
        balance: null,

        usdtFundingTransactionHash: null,

        ethSwapCreationTransactionHash: null,
        usdtSwapWithdrawTransactionHash: null,

        isEthContractFunded: false,

        secret: null,

        isEthWithdrawn: false,
        isBtcWithdrawn: false,

        refundTransactionHash: null,

        isFinished: false
      };

      (0, _get3.default)(ETHTOKEN2USDT.prototype.__proto__ || (0, _getPrototypeOf2.default)(ETHTOKEN2USDT.prototype), '_persistSteps', _this).call(_this);
      _this._persistState();
      return _this;
    }

    (0, _createClass3.default)(ETHTOKEN2USDT, [{
      key: '_persistState',
      value: function _persistState() {
        (0, _get3.default)(ETHTOKEN2USDT.prototype.__proto__ || (0, _getPrototypeOf2.default)(ETHTOKEN2USDT.prototype), '_persistState', this).call(this);
      }
    }, {
      key: '_getSteps',
      value: function _getSteps() {
        var _this2 = this;

        var flow = this;

        return [

        // 1. Sign swap to start

        function () {
          // this.sign()
        },

        // 2. Wait participant create, fund USDT Script

        function () {
          flow.swap.room.once('create btc script', function (_ref) {
            var scriptValues = _ref.scriptValues,
                usdtFundingTransactionHash = _ref.usdtFundingTransactionHash;

            flow.finishStep({
              secretHash: scriptValues.secretHash,
              usdtScriptValues: scriptValues,
              usdtFundingTransactionHash: usdtFundingTransactionHash
            }, { step: 'wait-lock-usdt', silentError: true });
          });

          flow.swap.room.sendMessage({
            event: 'request btc script'
          });
        },

        // 3. Verify USDT Script

        function () {
          // this.verifyBtcScript()
        },

        // 4. Check balance

        function () {
          _this2.syncBalance();
        },

        // 5. Create ETH Contract

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
          var _flow$swap, participant, buyAmount, sellAmount, ethSwapCreationTransactionHash, utcNow, getLockTime, scriptValues, scriptCheckResult, swapData;

          return _regenerator2.default.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  _flow$swap = flow.swap, participant = _flow$swap.participant, buyAmount = _flow$swap.buyAmount, sellAmount = _flow$swap.sellAmount;
                  ethSwapCreationTransactionHash = void 0;

                  // TODO move this somewhere!

                  utcNow = function utcNow() {
                    return Math.floor(Date.now() / 1000);
                  };

                  getLockTime = function getLockTime() {
                    return utcNow() + 3600 * 1;
                  }; // 1 hour from now

                  scriptValues = {
                    scriptValues: flow.state.usdtScriptValues,
                    fundingTxHash: flow.state.usdtFundingTransactionHash
                  };
                  _context.next = 7;
                  return flow.usdtSwap.checkScript(scriptValues, {
                    amount: buyAmount,
                    recipientPublicKey: _this2.app.services.auth.accounts.btc.getPublicKey(),
                    lockTime: getLockTime()
                  });

                case 7:
                  scriptCheckResult = _context.sent;

                  if (!scriptCheckResult) {
                    _context.next = 12;
                    break;
                  }

                  console.error('Btc script check error:', scriptCheckResult);
                  flow.swap.events.dispatch('usdt script check error', scriptCheckResult);
                  return _context.abrupt('return');

                case 12:
                  swapData = {
                    participantAddress: participant.eth.address,
                    secretHash: flow.state.secretHash,
                    amount: sellAmount
                  };


                  (0, _debug2.default)('swap.core:flow')('approve');

                  _context.next = 16;
                  return flow.ethTokenSwap.approve({
                    amount: sellAmount
                  }, function (hash) {
                    (0, _debug2.default)('swap.core:flow')('approve tx hash', hash);
                  });

                case 16:

                  (0, _debug2.default)('swap.core:flow')('create swap');

                  _context.next = 19;
                  return flow.ethTokenSwap.create(swapData, function (hash) {
                    ethSwapCreationTransactionHash = hash;

                    (0, _debug2.default)('swap.core:flow')('create swap tx hash', hash);

                    flow.setState({
                      ethSwapCreationTransactionHash: hash
                    });
                  });

                case 19:

                  flow.swap.room.sendMessage({
                    event: 'create eth contract',
                    data: {
                      ethSwapCreationTransactionHash: ethSwapCreationTransactionHash
                    }
                  });

                  flow.finishStep({
                    isEthContractFunded: true
                  });

                case 21:
                case 'end':
                  return _context.stop();
              }
            }
          }, _callee, _this2);
        })),

        // 6. Wait participant withdraw

        function () {
          var participant = flow.swap.participant;


          var checkSecretExist = function () {
            var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
              var secret;
              return _regenerator2.default.wrap(function _callee2$(_context2) {
                while (1) {
                  switch (_context2.prev = _context2.next) {
                    case 0:
                      _context2.prev = 0;
                      _context2.next = 3;
                      return flow.ethTokenSwap.getSecret({
                        participantAddress: participant.eth.address
                      });

                    case 3:
                      secret = _context2.sent;

                      if (!secret) {
                        _context2.next = 9;
                        break;
                      }

                      clearInterval(checkSecretTimer);

                      if (!(flow.state.secret && secret !== flow.state.secret)) {
                        _context2.next = 8;
                        break;
                      }

                      throw new Error('Secret already exists and it differs! ' + secret + ' \u2260 ' + flow.state.secret);

                    case 8:

                      flow.finishStep({
                        secret: secret,
                        isEthWithdrawn: true
                      }, { step: 'wait-withdraw-eth' });

                    case 9:
                      _context2.next = 14;
                      break;

                    case 11:
                      _context2.prev = 11;
                      _context2.t0 = _context2['catch'](0);
                      console.error(_context2.t0);
                    case 14:
                    case 'end':
                      return _context2.stop();
                  }
                }
              }, _callee2, _this2, [[0, 11]]);
            }));

            return function checkSecretExist() {
              return _ref3.apply(this, arguments);
            };
          }();

          var checkSecretTimer = setInterval(checkSecretExist, 20 * 1000);

          flow.swap.room.once('finish eth withdraw', function () {
            checkSecretExist();
          });
        },

        // 7. Withdraw

        (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
          var _flow$swap2, participant, buyAmount, secret;

          return _regenerator2.default.wrap(function _callee3$(_context3) {
            while (1) {
              switch (_context3.prev = _context3.next) {
                case 0:
                  _flow$swap2 = flow.swap, participant = _flow$swap2.participant, buyAmount = _flow$swap2.buyAmount;
                  secret = flow.state.secret;

                  // if there is still no secret stop withdraw

                  if (secret) {
                    _context3.next = 5;
                    break;
                  }

                  console.error('Secret required! Got ' + secret);
                  return _context3.abrupt('return');

                case 5:
                  _context3.prev = 5;
                  _context3.next = 8;
                  return flow.usdtSwap.redeemScript({
                    scriptValues: flow.state.usdtScriptValues,
                    secret: secret,
                    amount: buyAmount
                  }, function (hash) {
                    (0, _debug2.default)('swap.core:flow')('withdraw tx hash', hash);

                    flow.setState({
                      usdtSwapWithdrawTransactionHash: hash
                    });
                  });

                case 8:
                  _context3.next = 14;
                  break;

                case 10:
                  _context3.prev = 10;
                  _context3.t0 = _context3['catch'](5);

                  console.error(_context3.t0);
                  return _context3.abrupt('return');

                case 14:

                  flow.finishStep({
                    isBtcWithdrawn: true
                  });

                case 15:
                case 'end':
                  return _context3.stop();
              }
            }
          }, _callee3, _this2, [[5, 10]]);
        })),

        // 8. Finish

        function () {
          flow.swap.room.sendMessage({
            event: 'swap finished'
          });

          flow.finishStep({
            isFinished: true
          });
        },

        // 9. Finished!

        function () {}];
      }
    }, {
      key: '_checkSwapAlreadyExists',
      value: function _checkSwapAlreadyExists() {
        var participant = this.swap.participant;


        var swapData = {
          ownerAddress: this.app.services.auth.accounts.eth.address,
          participantAddress: participant.eth.address
        };

        return this.ethTokenSwap.checkSwapExists(swapData);
      }
    }, {
      key: 'sign',
      value: function () {
        var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
          var _this3 = this;

          var participant, isMeSigned, swapExists;
          return _regenerator2.default.wrap(function _callee4$(_context4) {
            while (1) {
              switch (_context4.prev = _context4.next) {
                case 0:
                  participant = this.swap.participant;
                  isMeSigned = this.state.isMeSigned;

                  if (!isMeSigned) {
                    _context4.next = 4;
                    break;
                  }

                  return _context4.abrupt('return', this.swap.room.sendMessage({
                    event: 'swap sign'
                  }));

                case 4:
                  _context4.next = 6;
                  return this._checkSwapAlreadyExists();

                case 6:
                  swapExists = _context4.sent;

                  if (!swapExists) {
                    _context4.next = 11;
                    break;
                  }

                  this.swap.room.sendMessage({
                    event: 'swap exists'
                  });
                  // TODO go to 6 step automatically here
                  throw new Error('Cannot sign: swap with ' + participant.eth.address + ' already exists! Please refund it or drop ' + this.swap.id);

                case 11:

                  this.setState({
                    isSignFetching: true
                  });

                  this.swap.room.once('request sign', function () {
                    _this3.swap.room.sendMessage({
                      event: 'swap sign'
                    });
                  });

                  this.swap.room.sendMessage({
                    event: 'swap sign'
                  });

                  this.finishStep({
                    isMeSigned: true
                  }, { step: 'sign' });

                  return _context4.abrupt('return', true);

                case 16:
                case 'end':
                  return _context4.stop();
              }
            }
          }, _callee4, this);
        }));

        function sign() {
          return _ref5.apply(this, arguments);
        }

        return sign;
      }()
    }, {
      key: 'verifyBtcScript',
      value: function verifyBtcScript() {
        if (this.state.usdtScriptVerified) return true;
        if (!this.state.usdtScriptValues) throw new Error('No script, cannot verify');

        this.finishStep({
          usdtScriptVerified: true
        }, { step: 'verify-script' });

        return true;
      }
    }, {
      key: 'syncBalance',
      value: function () {
        var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
          var sellAmount, balance, isEnoughMoney;
          return _regenerator2.default.wrap(function _callee5$(_context5) {
            while (1) {
              switch (_context5.prev = _context5.next) {
                case 0:
                  sellAmount = this.swap.sellAmount;


                  this.setState({
                    isBalanceFetching: true
                  });

                  _context5.next = 4;
                  return this.ethTokenSwap.fetchBalance(this.app.services.auth.accounts.eth.address);

                case 4:
                  balance = _context5.sent;
                  isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance);


                  if (isEnoughMoney) {
                    this.finishStep({
                      balance: balance,
                      isBalanceFetching: false,
                      isBalanceEnough: true
                    }, { step: 'sync-balance' });
                  } else {
                    this.setState({
                      balance: balance,
                      isBalanceFetching: false,
                      isBalanceEnough: false
                    });
                  }

                case 7:
                case 'end':
                  return _context5.stop();
              }
            }
          }, _callee5, this);
        }));

        function syncBalance() {
          return _ref6.apply(this, arguments);
        }

        return syncBalance;
      }()
    }, {
      key: 'tryWithdraw',
      value: function () {
        var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(_secret) {
          var _this4 = this;

          var _state, secret, secretHash, isEthWithdrawn, isBtcWithdrawn, usdtScriptValues, _secretHash, _usdtSwap$createScrip, scriptAddress, balance;

          return _regenerator2.default.wrap(function _callee6$(_context6) {
            while (1) {
              switch (_context6.prev = _context6.next) {
                case 0:
                  _state = this.state, secret = _state.secret, secretHash = _state.secretHash, isEthWithdrawn = _state.isEthWithdrawn, isBtcWithdrawn = _state.isBtcWithdrawn, usdtScriptValues = _state.usdtScriptValues;

                  if (_secret) {
                    _context6.next = 3;
                    break;
                  }

                  throw new Error('Withdrawal is automatic. For manual withdrawal, provide a secret');

                case 3:
                  if (usdtScriptValues) {
                    _context6.next = 5;
                    break;
                  }

                  throw new Error('Cannot withdraw without script values');

                case 5:

                  if (secret && secret != _secret) console.warn('Secret already known and is different. Are you sure?');

                  if (isBtcWithdrawn) console.warn('Looks like money were already withdrawn, are you sure?');

                  (0, _debug2.default)('swap.core:flow')('WITHDRAW using secret = ' + _secret);

                  _secretHash = _crypto2.default.ripemd160(Buffer.from(_secret, 'hex')).toString('hex');


                  if (secretHash != _secretHash) console.warn('Hash does not match!');

                  _usdtSwap$createScrip = this.usdtSwap.createScript(usdtScriptValues), scriptAddress = _usdtSwap$createScrip.scriptAddress;
                  _context6.next = 13;
                  return this.usdtSwap.getBalance(scriptAddress);

                case 13:
                  balance = _context6.sent;


                  (0, _debug2.default)('swap.core:flow')('address=' + scriptAddress + ', balance=' + balance);

                  if (!(balance === 0)) {
                    _context6.next = 18;
                    break;
                  }

                  flow.finishStep({
                    isBtcWithdrawn: true
                  }, { step: 'withdraw-usdt' });

                  throw new Error('Already withdrawn: address=' + scriptAddress + ',balance=' + balance);

                case 18:
                  _context6.next = 20;
                  return this.usdtSwap.withdraw({
                    scriptValues: usdtScriptValues,
                    secret: _secret,
                    amount: this.swap.buyAmount
                  }, function (hash) {
                    (0, _debug2.default)('swap.core:flow')('TX hash=' + hash);
                    _this4.setState({
                      usdtSwapWithdrawTransactionHash: hash
                    });
                  });

                case 20:

                  (0, _debug2.default)('swap.core:flow')('TX withdraw sent: ' + this.state.usdtSwapWithdrawTransactionHash);

                  this.finishStep({
                    isBtcWithdrawn: true
                  }, { step: 'withdraw-usdt' });

                case 22:
                case 'end':
                  return _context6.stop();
              }
            }
          }, _callee6, this);
        }));

        function tryWithdraw(_x) {
          return _ref7.apply(this, arguments);
        }

        return tryWithdraw;
      }()
    }, {
      key: 'tryRefund',
      value: function () {
        var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7() {
          var _this5 = this;

          var participant, _state2, secret, usdtScriptValues;

          return _regenerator2.default.wrap(function _callee7$(_context7) {
            while (1) {
              switch (_context7.prev = _context7.next) {
                case 0:
                  participant = this.swap.participant;
                  _state2 = this.state, secret = _state2.secret, usdtScriptValues = _state2.usdtScriptValues;
                  _context7.prev = 2;

                  (0, _debug2.default)('swap.core:flow')('TRYING REFUND!');

                  _context7.prev = 4;
                  _context7.next = 7;
                  return this.ethTokenSwap.refund({
                    participantAddress: participant.eth.address
                  }, function (hash) {
                    _this5.setState({
                      refundTransactionHash: hash
                    });
                  });

                case 7:

                  (0, _debug2.default)('swap.core:flow')('SUCCESS REFUND!');
                  return _context7.abrupt('return');

                case 11:
                  _context7.prev = 11;
                  _context7.t0 = _context7['catch'](4);

                  console.error('REFUND FAILED!', _context7.t0);

                case 14:
                  _context7.next = 19;
                  break;

                case 16:
                  _context7.prev = 16;
                  _context7.t1 = _context7['catch'](2);

                  console.error('Mbe it\'s still under lockTime?! ' + _context7.t1);

                case 19:

                  if (!usdtScriptValues) {
                    console.error('You can\'t do refund w/o usdt script values! Try wait until lockTime expires on eth contract!');
                  }

                  if (secret) {
                    _context7.next = 31;
                    break;
                  }

                  _context7.prev = 21;
                  _context7.next = 24;
                  return this.ethTokenSwap.getSecret(data);

                case 24:
                  secret = _context7.sent;
                  _context7.next = 31;
                  break;

                case 27:
                  _context7.prev = 27;
                  _context7.t2 = _context7['catch'](21);

                  console.error('Can\'t receive secret from contract');
                  return _context7.abrupt('return');

                case 31:

                  (0, _debug2.default)('swap.core:flow')('TRYING WITHDRAW!');

                  _context7.prev = 32;
                  _context7.next = 35;
                  return this.usdtSwap.withdraw({
                    amount: this.swap.buyAmount,
                    scriptValues: this.state.usdtScriptValues,
                    secret: secret
                  }, function (hash) {
                    _this5.setState({
                      usdtSwapWithdrawTransactionHash: hash
                    });
                  });

                case 35:

                  (0, _debug2.default)('swap.core:flow')('SUCCESS WITHDRAW!');
                  _context7.next = 41;
                  break;

                case 38:
                  _context7.prev = 38;
                  _context7.t3 = _context7['catch'](32);

                  console.error('WITHDRAW FAILED!', _context7.t3);

                case 41:
                case 'end':
                  return _context7.stop();
              }
            }
          }, _callee7, this, [[2, 16], [4, 11], [21, 27], [32, 38]]);
        }));

        function tryRefund() {
          return _ref8.apply(this, arguments);
        }

        return tryRefund;
      }()
    }]);
    return ETHTOKEN2USDT;
  }(_swap3.Flow);

  return ETHTOKEN2USDT;
};

module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 314:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _typeof2 = __webpack_require__(186);

var _typeof3 = _interopRequireDefault(_typeof2);

var _app = __webpack_require__(836);

var _app2 = _interopRequireDefault(_app);

__webpack_require__(850);

__webpack_require__(851);

__webpack_require__(853);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _moment = __webpack_require__(250);

var _moment2 = _interopRequireDefault(_moment);

var _index = __webpack_require__(835);

var _index2 = _interopRequireDefault(_index);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var isWidgetBuild = _appConfig2.default && _appConfig2.default.isWidget;

var addData = function addData(collection, doc, data) {
  if (typeof collection !== 'string' || typeof doc !== 'string') {
    console.error('Collection and document instance must be a string');
    return;
  }
  if ((typeof data === 'undefined' ? 'undefined' : (0, _typeof3.default)(data)) !== 'object') {
    console.error('Data instance must be an object');
    return;
  }

  return new _promise2.default(function () {
    var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(resolve) {
      var db;
      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              try {
                db = _app2.default.firestore(window.firebaseDefaultInstance);

                db.collection(collection).doc(doc).set(data).then(function (docRef) {
                  resolve(docRef);
                }).catch(function (e) {
                  return console.error('Promise add data error: ', e);
                });
              } catch (error) {
                console.error('Add data to firestore error: ', error);
              }

            case 1:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, undefined);
    }));

    return function (_x) {
      return _ref.apply(this, arguments);
    };
  }());
};

var updateData = function updateData(collection, doc, data) {
  if (typeof collection !== 'string' || typeof doc !== 'string') {
    console.error('Collection and document instance must be a string');
    return;
  }
  if ((typeof data === 'undefined' ? 'undefined' : (0, _typeof3.default)(data)) !== 'object') {
    console.error('Data instance must be an object');
    return;
  }

  return new _promise2.default(function () {
    var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(resolve) {
      var db;
      return _regenerator2.default.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              try {
                db = _app2.default.firestore(window.firebaseDefaultInstance);

                db.collection(collection).doc(doc).update(data).then(function (docRef) {
                  resolve(docRef);
                }).catch(function (e) {
                  if (e.message.includes('No document to update')) {
                    console.warn('Promise update data error. Trying to add new document.', e);
                    addData(collection, doc, data);
                    return;
                  }
                  console.error('Promise update data error: ', e);
                });
              } catch (error) {
                console.error('Update data to firestore error: ', error);
              }

            case 1:
            case 'end':
              return _context2.stop();
          }
        }
      }, _callee2, undefined);
    }));

    return function (_x2) {
      return _ref2.apply(this, arguments);
    };
  }());
};

var addUser = function addUser(userData) {
  return new _promise2.default(function () {
    var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(resolve) {
      var userID, date, unixDate, gaID, data;
      return _regenerator2.default.wrap(function _callee3$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              _context3.prev = 0;
              _context3.next = 3;
              return _index2.default.getUserID();

            case 3:
              userID = _context3.sent;
              date = (0, _moment2.default)().format('HH:mm:ss DD/MM/YYYY');
              unixDate = (0, _moment2.default)().unix();
              gaID = _actions2.default.analytics.getClientId() || 'None';
              data = (0, _assign2.default)({}, userData, {
                id: userID,
                date: date,
                unixDate: unixDate,
                gaID: gaID
              });

              if (!userID) {
                _context3.next = 11;
                break;
              }

              _context3.next = 11;
              return addData('users', userID, data);

            case 11:

              resolve(data);

              _context3.next = 17;
              break;

            case 14:
              _context3.prev = 14;
              _context3.t0 = _context3['catch'](0);

              console.error('Add user to firestore error: ', _context3.t0);

            case 17:
            case 'end':
              return _context3.stop();
          }
        }
      }, _callee3, undefined, [[0, 14]]);
    }));

    return function (_x3) {
      return _ref3.apply(this, arguments);
    };
  }());
};

var submitCustomUserData = function submitCustomUserData(collection, userData) {
  if (typeof collection !== 'string') {
    console.error('Collection instance must be a string');
    return;
  }

  return new _promise2.default(function () {
    var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(resolve) {
      var userID, date, unixDate, gaID, data;
      return _regenerator2.default.wrap(function _callee4$(_context4) {
        while (1) {
          switch (_context4.prev = _context4.next) {
            case 0:
              _context4.prev = 0;
              _context4.next = 3;
              return _index2.default.getUserID();

            case 3:
              userID = _context4.sent;
              date = (0, _moment2.default)().format('HH:mm:ss DD/MM/YYYY');
              unixDate = (0, _moment2.default)().unix();
              gaID = _actions2.default.analytics.getClientId() || 'None';
              data = (0, _assign2.default)({}, userData, {
                id: userID,
                date: date,
                unixDate: unixDate,
                gaID: gaID
              });

              if (!userID) {
                _context4.next = 11;
                break;
              }

              _context4.next = 11;
              return addData(collection, userID, data);

            case 11:

              resolve(data);

              _context4.next = 17;
              break;

            case 14:
              _context4.prev = 14;
              _context4.t0 = _context4['catch'](0);

              console.error('Add user to firestore error: ', _context4.t0);

            case 17:
            case 'end':
              return _context4.stop();
          }
        }
      }, _callee4, undefined, [[0, 14]]);
    }));

    return function (_x4) {
      return _ref4.apply(this, arguments);
    };
  }());
};

var updateUserData = function updateUserData(userData) {
  return new _promise2.default(function () {
    var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(resolve) {
      var userID, gaID, data, res;
      return _regenerator2.default.wrap(function _callee5$(_context5) {
        while (1) {
          switch (_context5.prev = _context5.next) {
            case 0:
              _context5.prev = 0;
              _context5.next = 3;
              return _index2.default.getUserID();

            case 3:
              userID = _context5.sent;
              gaID = _actions2.default.analytics.getClientId() || 'None';
              data = (0, _assign2.default)({}, userData, {
                id: userID,
                gaID: gaID
              });

              if (!userID) {
                _context5.next = 11;
                break;
              }

              _context5.next = 9;
              return updateData('users', userID, data);

            case 9:
              res = _context5.sent;

              resolve(res);

            case 11:
              _context5.next = 16;
              break;

            case 13:
              _context5.prev = 13;
              _context5.t0 = _context5['catch'](0);

              console.error('Add user to firestore error: ', _context5.t0);

            case 16:
            case 'end':
              return _context5.stop();
          }
        }
      }, _callee5, undefined, [[0, 13]]);
    }));

    return function (_x5) {
      return _ref5.apply(this, arguments);
    };
  }());
};

var signUpWithPush = function signUpWithPush() {
  return new _promise2.default(function () {
    var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(resolve) {
      var messagingToken, sendResult;
      return _regenerator2.default.wrap(function _callee6$(_context6) {
        while (1) {
          switch (_context6.prev = _context6.next) {
            case 0:
              _context6.next = 2;
              return _index2.default.askPermission();

            case 2:
              messagingToken = _context6.sent;

              if (messagingToken) {
                _context6.next = 6;
                break;
              }

              resolve(messagingToken);
              return _context6.abrupt('return');

            case 6:

              console.log('firebase messagingToken: ', messagingToken);

              _context6.next = 9;
              return updateUserData({
                messagingToken: messagingToken
              });

            case 9:
              sendResult = _context6.sent;


              if (sendResult) {
                _actions2.default.analytics.signUpEvent({ action: 'signed', type: 'push' });
              }
              resolve(true);

            case 12:
            case 'end':
              return _context6.stop();
          }
        }
      }, _callee6, undefined);
    }));

    return function (_x6) {
      return _ref6.apply(this, arguments);
    };
  }());
};

var signUpWithEmail = function signUpWithEmail(subscriptionData) {
  return new _promise2.default(function () {
    var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(resolve) {
      var sendResult;
      return _regenerator2.default.wrap(function _callee7$(_context7) {
        while (1) {
          switch (_context7.prev = _context7.next) {
            case 0:
              _context7.next = 2;
              return updateUserData(subscriptionData);

            case 2:
              sendResult = _context7.sent;


              if (sendResult) {
                _actions2.default.firebase.setSigned();
                _actions2.default.analytics.signUpEvent({ action: 'signed', type: 'email' });
              }
              resolve(sendResult);

            case 5:
            case 'end':
              return _context7.stop();
          }
        }
      }, _callee7, undefined);
    }));

    return function (_x7) {
      return _ref7.apply(this, arguments);
    };
  }());
};

exports.default = {
  addData: addData,
  updateData: updateData,
  addUser: addUser,
  submitCustomUserData: submitCustomUserData,
  updateUserData: updateUserData,
  signUpWithPush: signUpWithPush,
  signUpWithEmail: signUpWithEmail
};

/***/ }),

/***/ 3140:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UsdtSwap = exports.EosSwap = exports.EthTokenSwap = exports.LtcSwap = exports.BchSwap = exports.BtcSwap = exports.EthSwap = undefined;

var _EthSwap = __webpack_require__(3141);

var _EthSwap2 = _interopRequireDefault(_EthSwap);

var _EthTokenSwap = __webpack_require__(3179);

var _EthTokenSwap2 = _interopRequireDefault(_EthTokenSwap);

var _BtcSwap = __webpack_require__(3180);

var _BtcSwap2 = _interopRequireDefault(_BtcSwap);

var _BchSwap = __webpack_require__(3181);

var _BchSwap2 = _interopRequireDefault(_BchSwap);

var _LtcSwap = __webpack_require__(3182);

var _LtcSwap2 = _interopRequireDefault(_LtcSwap);

var _EosSwap = __webpack_require__(3183);

var _EosSwap2 = _interopRequireDefault(_EosSwap);

var _UsdtSwap = __webpack_require__(3184);

var _UsdtSwap2 = _interopRequireDefault(_UsdtSwap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.EthSwap = _EthSwap2.default;
exports.BtcSwap = _BtcSwap2.default;
exports.BchSwap = _BchSwap2.default;
exports.LtcSwap = _LtcSwap2.default;
exports.EthTokenSwap = _EthTokenSwap2.default;
exports.EosSwap = _EosSwap2.default;
exports.UsdtSwap = _UsdtSwap2.default;

/***/ }),

/***/ 3141:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray2 = __webpack_require__(457);

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

var _toArray2 = __webpack_require__(1194);

var _toArray3 = _interopRequireDefault(_toArray2);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _debug2 = __webpack_require__(23);

var _debug3 = _interopRequireDefault(_debug2);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

var _ethereumInputDataDecoder = __webpack_require__(1195);

var _ethereumInputDataDecoder2 = _interopRequireDefault(_ethereumInputDataDecoder);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var debug = (0, _debug3.default)('swap.core:swaps');

var EthSwap = function (_SwapInterface) {
  (0, _inherits3.default)(EthSwap, _SwapInterface);

  /**
   *
   * @param {object}    options
   * @param {string}    options.address
   * @param {array}     options.abi
   * @param {number}    options.gasLimit
   * @param {function}  options.fetchBalance
   */
  function EthSwap(options) {
    (0, _classCallCheck3.default)(this, EthSwap);

    var _this = (0, _possibleConstructorReturn3.default)(this, (EthSwap.__proto__ || (0, _getPrototypeOf2.default)(EthSwap)).call(this));

    _this.getSecretFromTxhash = function (transactionHash) {
      return _this.app.env.web3.eth.getTransaction(transactionHash).then(function (txResult) {
        try {
          var bytes32 = _this.decoder.decodeData(txResult.input);
          return _this.app.env.web3.utils.bytesToHex(bytes32.inputs[0]).split('0x')[1];
        } catch (err) {
          debug('Trying to fetch secret from tx: ' + err.message);
          return;
        }
      });
    };

    if (typeof options.fetchBalance !== 'function') {
      throw new Error('EthSwap: "fetchBalance" required');
    }
    if (typeof options.address !== 'string') {
      throw new Error('EthSwap: "address" required');
    }
    if (!Array.isArray(options.abi)) {
      throw new Error('EthSwap: "abi" required');
    }
    if (typeof options.estimateGasPrice !== 'function') {
      // ({ speed } = {}) => gasPrice
      console.warn('EthTokenSwap: "estimateGasPrice" is not a function. You will not be able use automatic mempool-based fee');
    }

    _this.address = options.address;
    _this.abi = options.abi;

    _this._swapName = _swap.constants.COINS.eth;
    _this.gasLimit = options.gasLimit || 3e5;
    _this.gasPrice = options.gasPrice || 2e9;
    _this.fetchBalance = options.fetchBalance;
    _this.estimateGasPrice = options.estimateGasPrice || function () {};
    return _this;
  }

  (0, _createClass3.default)(EthSwap, [{
    key: '_initSwap',
    value: function _initSwap(app) {
      (0, _get3.default)(EthSwap.prototype.__proto__ || (0, _getPrototypeOf2.default)(EthSwap.prototype), '_initSwap', this).call(this, app);

      this.app = app;

      this.decoder = new _ethereumInputDataDecoder2.default(this.abi);
      this.contract = new this.app.env.web3.eth.Contract(this.abi, this.address);
    }

    /**
     * @deprecated
     */

  }, {
    key: 'updateGas',
    value: function updateGas() {
      console.warn('EthSwap.updateGas() is deprecated and will be removed. Use .updateGasPrice()');
      return updateGasPrice();
    }
  }, {
    key: 'updateGasPrice',
    value: function () {
      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                debug('gas price before update', this.gasPrice);

                _context.prev = 1;
                _context.next = 4;
                return this.estimateGasPrice({ speed: 'fast' });

              case 4:
                this.gasPrice = _context.sent;
                _context.next = 10;
                break;

              case 7:
                _context.prev = 7;
                _context.t0 = _context['catch'](1);

                debug('EthSwap: Error with gas update: ' + _context.t0.message + ', using old value gasPrice=' + this.gasPrice);

              case 10:

                debug('gas price after update', this.gasPrice);

              case 11:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, this, [[1, 7]]);
      }));

      function updateGasPrice() {
        return _ref.apply(this, arguments);
      }

      return updateGasPrice;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @param {string} data.participantAddress
     * @param {string} data.targetWallet
     * @param {number} data.amount
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'create',
    value: function () {
      var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(data, handleTransactionHash) {
        return _regenerator2.default.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                if (!(data.targetWallet && data.targetWallet !== data.participantAddress && this.hasTargetWallet())) {
                  _context2.next = 4;
                  break;
                }

                return _context2.abrupt('return', this.createSwapTarget(data, handleTransactionHash));

              case 4:
                return _context2.abrupt('return', this.createSwap(data, handleTransactionHash));

              case 5:
              case 'end':
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function create(_x, _x2) {
        return _ref2.apply(this, arguments);
      }

      return create;
    }()
  }, {
    key: 'send',
    value: function () {
      var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(methodName, args) {
        var _this2 = this;

        var _params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

        var handleTransactionHash = arguments[3];
        return _regenerator2.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                if (!(typeof this.contract.methods[methodName] !== 'function')) {
                  _context4.next = 2;
                  break;
                }

                throw new Error('EthSwap.send: No method ' + methodName + ' in contract');

              case 2:
                _context4.next = 4;
                return this.updateGasPrice();

              case 4:
                return _context4.abrupt('return', new _promise2.default(function () {
                  var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(resolve, reject) {
                    var _contract$methods, _contract$methods2;

                    var params, gasAmount, receipt;
                    return _regenerator2.default.wrap(function _callee3$(_context3) {
                      while (1) {
                        switch (_context3.prev = _context3.next) {
                          case 0:
                            params = (0, _extends3.default)({
                              from: _this2.app.services.auth.accounts.eth.address,
                              gas: _this2.gasLimit,
                              gasPrice: _this2.gasPrice
                            }, _params);


                            debug('EthSwap -> ' + methodName + ' -> params', params);

                            _context3.next = 4;
                            return (_contract$methods = _this2.contract.methods)[methodName].apply(_contract$methods, (0, _toConsumableArray3.default)(args)).estimateGas(params);

                          case 4:
                            gasAmount = _context3.sent;


                            params.gas = gasAmount;

                            debug('EthSwap -> ' + methodName + ' -> gas', gasAmount);

                            _context3.next = 9;
                            return (_contract$methods2 = _this2.contract.methods)[methodName].apply(_contract$methods2, (0, _toConsumableArray3.default)(args)).send(params).on('transactionHash', function (hash) {
                              if (typeof handleTransactionHash === 'function') {
                                handleTransactionHash(hash);
                              }
                            }).on('error', function (err) {
                              reject(err);
                            });

                          case 9:
                            receipt = _context3.sent;


                            resolve(receipt);

                          case 11:
                          case 'end':
                            return _context3.stop();
                        }
                      }
                    }, _callee3, _this2);
                  }));

                  return function (_x6, _x7) {
                    return _ref4.apply(this, arguments);
                  };
                }()));

              case 5:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function send(_x3, _x4) {
        return _ref3.apply(this, arguments);
      }

      return send;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @param {string} data.participantAddress
     * @param {string} data.targetWallet
     * @param {number} data.amount
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'createSwap',
    value: function () {
      var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(data, handleTransactionHash) {
        var secretHash, participantAddress, amount, amountWei, hash, args;
        return _regenerator2.default.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                secretHash = data.secretHash, participantAddress = data.participantAddress, amount = data.amount;
                amountWei = this.app.env.web3.utils.toWei(amount.toString());
                hash = '0x' + secretHash.replace(/^0x/, '');
                args = [hash, participantAddress];
                return _context5.abrupt('return', this.send('createSwap', [].concat(args), { value: amountWei }, handleTransactionHash));

              case 5:
              case 'end':
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function createSwap(_x8, _x9) {
        return _ref5.apply(this, arguments);
      }

      return createSwap;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @param {string} data.participantAddress
     * @param {string} data.targetWallet
     * @param {number} data.amount
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'createSwapTarget',
    value: function () {
      var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(data, handleTransactionHash) {
        var secretHash, participantAddress, amount, targetWallet, amountWei, hash, values;
        return _regenerator2.default.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                secretHash = data.secretHash, participantAddress = data.participantAddress, amount = data.amount, targetWallet = data.targetWallet;
                _context6.next = 3;
                return this.updateGasPrice();

              case 3:
                amountWei = this.app.env.web3.utils.toWei(amount.toString());
                hash = '0x' + secretHash.replace(/^0x/, '');
                values = [hash, participantAddress, targetWallet];
                return _context6.abrupt('return', this.send('createSwapTarget', [].concat(values), { value: amountWei }, handleTransactionHash));

              case 7:
              case 'end':
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function createSwapTarget(_x10, _x11) {
        return _ref6.apply(this, arguments);
      }

      return createSwapTarget;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.ownerAddress
     * @returns {Promise}
     */

  }, {
    key: 'getBalance',
    value: function getBalance(data) {
      var ownerAddress = data.ownerAddress;


      return this.contract.methods.getBalance(ownerAddress).call({
        from: this.app.services.auth.accounts.eth.address
      });
    }

    /**
     *
     * @param {object} data
     * @param {string} data.ownerAddress
     * @param {string} data.participantAddress
     * @returns {Promise}
     */

  }, {
    key: 'swaps',
    value: function swaps(data) {
      var ownerAddress = data.ownerAddress,
          participantAddress = data.participantAddress;


      return this.contract.methods.swaps(ownerAddress, participantAddress).call();
    }

    /**
     *
     * @param {object} data
     * @param {string} data.ownerAddress
     * @param {string} data.participantAddress
     * @returns {Promise}
     */

  }, {
    key: 'checkSwapExists',
    value: function () {
      var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(data) {
        var swap, balance;
        return _regenerator2.default.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                _context7.next = 2;
                return this.swaps(data);

              case 2:
                swap = _context7.sent;


                debug('swapExists', swap);

                balance = swap && swap.balance ? parseInt(swap.balance) : 0;
                return _context7.abrupt('return', balance > 0);

              case 6:
              case 'end':
                return _context7.stop();
            }
          }
        }, _callee7, this);
      }));

      function checkSwapExists(_x12) {
        return _ref7.apply(this, arguments);
      }

      return checkSwapExists;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.ownerAddress
     * @param {BigNumber} data.expectedValue
     * @returns {Promise.<string>}
     */

  }, {
    key: 'checkBalance',
    value: function () {
      var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8(data) {
        var _this3 = this;

        var ownerAddress, participantAddress, expectedValue, expectedHash, balance, swap, secretHash, _secretHash, expectedValueWei;

        return _regenerator2.default.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                ownerAddress = data.ownerAddress, participantAddress = data.participantAddress, expectedValue = data.expectedValue, expectedHash = data.expectedHash;
                _context8.next = 3;
                return _swap.util.helpers.repeatAsyncUntilResult(function () {
                  return _this3.getBalance({ ownerAddress: ownerAddress });
                });

              case 3:
                balance = _context8.sent;
                _context8.next = 6;
                return _swap.util.helpers.repeatAsyncUntilResult(function () {
                  return _this3.contract.methods.swaps(ownerAddress, participantAddress).call();
                });

              case 6:
                swap = _context8.sent;
                secretHash = swap.secretHash;

                debug('swap.secretHash', secretHash);

                _secretHash = '' + secretHash.replace(/^0x/, '');


                debug('secretHash: expected hash = ' + expectedHash + ', contract hash = ' + _secretHash);

                if (!(expectedHash !== _secretHash)) {
                  _context8.next = 13;
                  break;
                }

                return _context8.abrupt('return', 'Expected hash: ' + expectedHash + ', got: ' + _secretHash);

              case 13:
                expectedValueWei = (0, _bignumber2.default)(expectedValue).multipliedBy(1e18);

                if (!expectedValueWei.isGreaterThan(balance)) {
                  _context8.next = 16;
                  break;
                }

                return _context8.abrupt('return', 'Expected value: ' + expectedValueWei.toString() + ', got: ' + balance);

              case 16:
              case 'end':
                return _context8.stop();
            }
          }
        }, _callee8, this);
      }));

      function checkBalance(_x13) {
        return _ref8.apply(this, arguments);
      }

      return checkBalance;
    }()

    /**
     *
     * @returns {Promise}
     */

  }, {
    key: 'fetchSwapEvents',
    value: function () {
      var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9() {
        var _this4 = this;

        var allSwapEvents;
        return _regenerator2.default.wrap(function _callee9$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                if (!this._allSwapEvents) {
                  _context9.next = 2;
                  break;
                }

                return _context9.abrupt('return', this._allSwapEvents);

              case 2:
                _context9.next = 4;
                return this.contract.getPastEvents('allEvents', {
                  fromBlock: 0,
                  toBlock: 'latest'
                });

              case 4:
                allSwapEvents = _context9.sent;


                this.contract.events.allEvents({ fromBlock: 0, toBlock: 'latest' }).on('data', function (event) {
                  _this4._allSwapEvents.push(event);
                }).on('changed', function (event) {
                  console.error('EthSwap: fetchEvents: needs rescan');
                  _this4._allSwapEvents = null;
                }).on('error', function (err) {
                  console.error(err);
                  _this4._allSwapEvents = null;
                });

                this._allSwapEvents = allSwapEvents;

                return _context9.abrupt('return', allSwapEvents);

              case 8:
              case 'end':
                return _context9.stop();
            }
          }
        }, _callee9, this);
      }));

      function fetchSwapEvents() {
        return _ref9.apply(this, arguments);
      }

      return fetchSwapEvents;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @returns {Promise}
     */

  }, {
    key: 'findSwap',
    value: function () {
      var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee10(data) {
        var secretHash, allSwapEvents, swapEvents, _swapEvents, create, close, rest;

        return _regenerator2.default.wrap(function _callee10$(_context10) {
          while (1) {
            switch (_context10.prev = _context10.next) {
              case 0:
                secretHash = data.secretHash;
                _context10.next = 3;
                return this.fetchSwapEvents();

              case 3:
                allSwapEvents = _context10.sent;
                swapEvents = allSwapEvents.filter(function (_ref11) {
                  var returnValues = _ref11.returnValues;
                  return returnValues._secretHash === '0x' + secretHash.replace('0x', '');
                });
                _swapEvents = (0, _toArray3.default)(swapEvents), create = _swapEvents[0], close = _swapEvents[1], rest = _swapEvents.slice(2);


                if (rest && rest.length) {
                  console.error('More than two swaps with same hash', rest);
                  // throw new Error(`More than two swaps with same hash`)
                }

                return _context10.abrupt('return', [create, close]);

              case 8:
              case 'end':
                return _context10.stop();
            }
          }
        }, _callee10, this);
      }));

      function findSwap(_x14) {
        return _ref10.apply(this, arguments);
      }

      return findSwap;
    }()

    /**
      *
      * @param {object} data
      * @param {string} data.secretHash
      * @returns {Promise(status)}
      */

  }, {
    key: 'wasClosed',
    value: function () {
      var _ref12 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee11(data) {
        var _ref13, _ref14, create, close;

        return _regenerator2.default.wrap(function _callee11$(_context11) {
          while (1) {
            switch (_context11.prev = _context11.next) {
              case 0:
                _context11.next = 2;
                return this.findSwap(data);

              case 2:
                _ref13 = _context11.sent;
                _ref14 = (0, _slicedToArray3.default)(_ref13, 2);
                create = _ref14[0];
                close = _ref14[1];

                if (create) {
                  _context11.next = 11;
                  break;
                }

                debug('No swap with hash ' + data.secretHash);
                return _context11.abrupt('return', 'no swap');

              case 11:
                if (!(create && !close)) {
                  _context11.next = 16;
                  break;
                }

                debug('Open yet!');
                return _context11.abrupt('return', 'open');

              case 16:
                if (!(close.event == 'Withdraw')) {
                  _context11.next = 21;
                  break;
                }

                debug('Withdrawn');
                return _context11.abrupt('return', 'withdrawn');

              case 21:
                if (!(close.event == 'Refund')) {
                  _context11.next = 26;
                  break;
                }

                debug('Refund');
                return _context11.abrupt('return', 'refunded');

              case 26:
                debug('Unknown event, error');
                return _context11.abrupt('return', 'error');

              case 28:
              case 'end':
                return _context11.stop();
            }
          }
        }, _callee11, this);
      }));

      function wasClosed(_x15) {
        return _ref12.apply(this, arguments);
      }

      return wasClosed;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @returns {Promise(boolean)}
     */

  }, {
    key: 'wasRefunded',
    value: function wasRefunded(data) {
      return this.wasClosed(data).then(function (status) {
        return status === 'refunded';
      });
    }

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @returns {Promise(boolean)}
     */

  }, {
    key: 'wasWithdrawn',
    value: function () {
      var _ref15 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee12(data) {
        var status;
        return _regenerator2.default.wrap(function _callee12$(_context12) {
          while (1) {
            switch (_context12.prev = _context12.next) {
              case 0:
                _context12.next = 2;
                return this.wasClosed(data);

              case 2:
                status = _context12.sent;
                return _context12.abrupt('return', status === 'withdrawn');

              case 4:
              case 'end':
                return _context12.stop();
            }
          }
        }, _callee12, this);
      }));

      function wasWithdrawn(_x16) {
        return _ref15.apply(this, arguments);
      }

      return wasWithdrawn;
    }()

    /**
     *
     * @returns {boolean}
     */

  }, {
    key: 'hasTargetWallet',
    value: function hasTargetWallet() {
      return !!this.contract.methods.getTargetWallet;
    }

    /**
     *
     * @param {string} ownerAddress
     * @returns {Promise.<string>}
     */

  }, {
    key: 'getTargetWallet',
    value: function () {
      var _ref16 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee13(ownerAddress) {
        var _this5 = this;

        var address;
        return _regenerator2.default.wrap(function _callee13$(_context13) {
          while (1) {
            switch (_context13.prev = _context13.next) {
              case 0:
                console.log('EthSwap->getTargetWallet');
                _context13.next = 3;
                return _swap.util.helpers.repeatAsyncUntilResult(function () {
                  return _this5.getTargetWalletPromise(ownerAddress);
                });

              case 3:
                address = _context13.sent;
                return _context13.abrupt('return', address);

              case 5:
              case 'end':
                return _context13.stop();
            }
          }
        }, _callee13, this);
      }));

      function getTargetWallet(_x17) {
        return _ref16.apply(this, arguments);
      }

      return getTargetWallet;
    }()

    /**
     *
     * @param {string} ownerAddress
     * @param {number} repeatCount
     * @returns {string}
     */

  }, {
    key: 'getTargetWalletPromise',
    value: function () {
      var _ref17 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee15(ownerAddress) {
        var _this6 = this;

        return _regenerator2.default.wrap(function _callee15$(_context15) {
          while (1) {
            switch (_context15.prev = _context15.next) {
              case 0:
                return _context15.abrupt('return', new _promise2.default(function () {
                  var _ref18 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee14(resolve, reject) {
                    var targetWallet;
                    return _regenerator2.default.wrap(function _callee14$(_context14) {
                      while (1) {
                        switch (_context14.prev = _context14.next) {
                          case 0:
                            _context14.prev = 0;
                            _context14.next = 3;
                            return _this6.contract.methods.getTargetWallet(ownerAddress).call({
                              from: _this6.app.services.auth.accounts.eth.address
                            });

                          case 3:
                            targetWallet = _context14.sent;


                            resolve(targetWallet);
                            _context14.next = 10;
                            break;

                          case 7:
                            _context14.prev = 7;
                            _context14.t0 = _context14['catch'](0);

                            reject(_context14.t0);

                          case 10:
                          case 'end':
                            return _context14.stop();
                        }
                      }
                    }, _callee14, _this6, [[0, 7]]);
                  }));

                  return function (_x19, _x20) {
                    return _ref18.apply(this, arguments);
                  };
                }()));

              case 1:
              case 'end':
                return _context15.stop();
            }
          }
        }, _callee15, this);
      }));

      function getTargetWalletPromise(_x18) {
        return _ref17.apply(this, arguments);
      }

      return getTargetWalletPromise;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secret
     * @param {string} data.ownerAddress
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'calcWithdrawGas',
    value: function () {
      var _ref19 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee16(data) {
        return _regenerator2.default.wrap(function _callee16$(_context16) {
          while (1) {
            switch (_context16.prev = _context16.next) {
              case 0:
                return _context16.abrupt('return', this.calcWithdrawOtherGas({
                  ownerAddress: data.ownerAddress,
                  participantAddress: this.app.services.auth.accounts.eth.address,
                  secret: data.secret
                }));

              case 1:
              case 'end':
                return _context16.stop();
            }
          }
        }, _callee16, this);
      }));

      function calcWithdrawGas(_x21) {
        return _ref19.apply(this, arguments);
      }

      return calcWithdrawGas;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secret
     * @param {string} data.ownerAddress
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'withdraw',
    value: function () {
      var _ref20 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee17(data, handleTransactionHash) {
        return _regenerator2.default.wrap(function _callee17$(_context17) {
          while (1) {
            switch (_context17.prev = _context17.next) {
              case 0:
                return _context17.abrupt('return', this.withdrawOther({
                  ownerAddress: data.ownerAddress,
                  participantAddress: this.app.services.auth.accounts.eth.address,
                  secret: data.secret
                }, handleTransactionHash));

              case 1:
              case 'end':
                return _context17.stop();
            }
          }
        }, _callee17, this);
      }));

      function withdraw(_x22, _x23) {
        return _ref20.apply(this, arguments);
      }

      return withdraw;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secret
     * @param {string} data.participantAddress
     * @returns {Promise}
     */

  }, {
    key: 'calcWithdrawNoMoneyGas',
    value: function () {
      var _ref21 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee18(data) {
        return _regenerator2.default.wrap(function _callee18$(_context18) {
          while (1) {
            switch (_context18.prev = _context18.next) {
              case 0:
                return _context18.abrupt('return', this.calcWithdrawOtherGas({
                  ownerAddress: this.app.services.auth.accounts.eth.address,
                  participantAddress: data.participantAddress,
                  secret: data.secret
                }));

              case 1:
              case 'end':
                return _context18.stop();
            }
          }
        }, _callee18, this);
      }));

      function calcWithdrawNoMoneyGas(_x24) {
        return _ref21.apply(this, arguments);
      }

      return calcWithdrawNoMoneyGas;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secret
     * @param {string} data.participantAddress
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'withdrawNoMoney',
    value: function () {
      var _ref22 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee19(data, handleTransactionHash) {
        return _regenerator2.default.wrap(function _callee19$(_context19) {
          while (1) {
            switch (_context19.prev = _context19.next) {
              case 0:
                return _context19.abrupt('return', this.withdrawOther({
                  ownerAddress: this.app.services.auth.accounts.eth.address,
                  participantAddress: data.participantAddress,
                  secret: data.secret
                }, handleTransactionHash));

              case 1:
              case 'end':
                return _context19.stop();
            }
          }
        }, _callee19, this);
      }));

      function withdrawNoMoney(_x25, _x26) {
        return _ref22.apply(this, arguments);
      }

      return withdrawNoMoney;
    }()
  }, {
    key: 'calcWithdrawOtherGas',
    value: function () {
      var _ref23 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee21(data) {
        var _this7 = this;

        var ownerAddress, participantAddress, secret;
        return _regenerator2.default.wrap(function _callee21$(_context21) {
          while (1) {
            switch (_context21.prev = _context21.next) {
              case 0:
                ownerAddress = data.ownerAddress, participantAddress = data.participantAddress, secret = data.secret;
                _context21.next = 3;
                return this.updateGasPrice();

              case 3:
                return _context21.abrupt('return', new _promise2.default(function () {
                  var _ref24 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee20(resolve, reject) {
                    var _secret, params, gasFee;

                    return _regenerator2.default.wrap(function _callee20$(_context20) {
                      while (1) {
                        switch (_context20.prev = _context20.next) {
                          case 0:
                            _secret = '0x' + secret.replace(/^0x/, '');
                            params = {
                              from: _this7.app.services.auth.accounts.eth.address,
                              gas: _this7.gasLimit,
                              gasPrice: _this7.gasPrice
                            };
                            _context20.prev = 2;
                            _context20.next = 5;
                            return _this7.contract.methods.withdrawOther(_secret, ownerAddress, participantAddress).estimateGas(params);

                          case 5:
                            gasFee = _context20.sent;

                            resolve(gasFee);
                            _context20.next = 12;
                            break;

                          case 9:
                            _context20.prev = 9;
                            _context20.t0 = _context20['catch'](2);

                            reject(_context20.t0);

                          case 12:
                          case 'end':
                            return _context20.stop();
                        }
                      }
                    }, _callee20, _this7, [[2, 9]]);
                  }));

                  return function (_x28, _x29) {
                    return _ref24.apply(this, arguments);
                  };
                }()));

              case 4:
              case 'end':
                return _context21.stop();
            }
          }
        }, _callee21, this);
      }));

      function calcWithdrawOtherGas(_x27) {
        return _ref23.apply(this, arguments);
      }

      return calcWithdrawOtherGas;
    }()
    /**
     *
     * @param {object} data
     * @param {string} data.secret
     * @param {string} data.ownerAddress
     * @param {string} data.participantAddress
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'withdrawOther',
    value: function () {
      var _ref25 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee22(data, handleTransactionHash) {
        var ownerAddress, participantAddress, secret, _secret;

        return _regenerator2.default.wrap(function _callee22$(_context22) {
          while (1) {
            switch (_context22.prev = _context22.next) {
              case 0:
                ownerAddress = data.ownerAddress, participantAddress = data.participantAddress, secret = data.secret;
                _secret = '0x' + secret.replace(/^0x/, '');
                _context22.next = 4;
                return this.updateGasPrice();

              case 4:
                return _context22.abrupt('return', this.send('withdrawOther', [_secret, ownerAddress, participantAddress], {}, handleTransactionHash));

              case 5:
              case 'end':
                return _context22.stop();
            }
          }
        }, _callee22, this);
      }));

      function withdrawOther(_x30, _x31) {
        return _ref25.apply(this, arguments);
      }

      return withdrawOther;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.participantAddress
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'refund',
    value: function () {
      var _ref26 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee23(data, handleTransactionHash) {
        var participantAddress;
        return _regenerator2.default.wrap(function _callee23$(_context23) {
          while (1) {
            switch (_context23.prev = _context23.next) {
              case 0:
                participantAddress = data.participantAddress;
                _context23.next = 3;
                return this.updateGasPrice();

              case 3:
                return _context23.abrupt('return', this.send('refund', [participantAddress], {}, handleTransactionHash));

              case 4:
              case 'end':
                return _context23.stop();
            }
          }
        }, _callee23, this);
      }));

      function refund(_x32, _x33) {
        return _ref26.apply(this, arguments);
      }

      return refund;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.participantAddress
     * @returns {Promise}
     */

  }, {
    key: 'getSecret',
    value: function getSecret(data) {
      var participantAddress = data.participantAddress;


      return this.contract.methods.getSecret(participantAddress).call({
        from: this.app.services.auth.accounts.eth.address
      }).then(function (secret) {
        debug('secret ethswap.js', secret);
        return secret && !/^0x0+$/.test(secret) ? secret : null;
      }).catch(function (error) {
        return error;
      });
    }

    /*
      Function: withdraw(bytes32 _secret, address _ownerAddress)
      bytes32 {...}
      inputs: (2) […]
        0: Uint8Array(32) [ 208, 202, 170, … ]
        1: "e918c8719bae0525786548b8da7fbef9b33d4e25"
      name: "withdraw"
      types: (2) […]
        0: "bytes32"
        1: "address"
    */

    /**
     *
     * @param {string} transactionHash
     * @returns {Promise<any>}
     */

  }]);
  return EthSwap;
}(_swap.SwapInterface);

exports.default = EthSwap;
module.exports = exports['default'];

/***/ }),

/***/ 315:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var getPaddingValue = function getPaddingValue(_ref) {
  var step = _ref.step;

  if (step <= 2) {
    var _getPaddingValue = 120;
    return _getPaddingValue;
  }
  if (step > 2 && step <= 5) {
    var _getPaddingValue2 = 120;
    return _getPaddingValue2;
  }
  if (step >= 6 && step < 7) {
    var _getPaddingValue3 = 120;
    return _getPaddingValue3;
  }
  if (step >= 7) {
    var _getPaddingValue4 = 120;
    return _getPaddingValue4;
  }
};
exports.default = getPaddingValue;

/***/ }),

/***/ 3179:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray2 = __webpack_require__(457);

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

var _toArray2 = __webpack_require__(1194);

var _toArray3 = _interopRequireDefault(_toArray2);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _values = __webpack_require__(251);

var _values2 = _interopRequireDefault(_values);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

var _ethereumInputDataDecoder = __webpack_require__(1195);

var _ethereumInputDataDecoder2 = _interopRequireDefault(_ethereumInputDataDecoder);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EthTokenSwap = function (_SwapInterface) {
  (0, _inherits3.default)(EthTokenSwap, _SwapInterface);

  /**
   *
   * @param {object}    options
   * @param {string}    options.name
   * @param {string}    options.address
   * @param {array}     options.abi
   * @param {string}    options.tokenAddress
   * @param {array}     options.tokenAbi
   * @param {number}    options.gasLimit
   * @param {function}  options.fetchBalance
   */
  function EthTokenSwap(options) {
    (0, _classCallCheck3.default)(this, EthTokenSwap);

    var _this = (0, _possibleConstructorReturn3.default)(this, (EthTokenSwap.__proto__ || (0, _getPrototypeOf2.default)(EthTokenSwap)).call(this));

    _this.getSecretFromTxhash = function (transactionHash) {
      return _this.app.env.web3.eth.getTransaction(transactionHash).then(function (txResult) {
        try {
          var bytes32 = _this.decoder.decodeData(txResult.input);
          return _this.app.env.web3.utils.bytesToHex(bytes32.inputs[0]).split('0x')[1];
        } catch (err) {
          (0, _debug2.default)('swap.core:swaps')('Trying to fetch secret from tx: ' + err.message);
          return;
        }
      });
    };

    if (!options.name) {
      throw new Error('EthTokenSwap: "name" required');
    }
    if (!(0, _values2.default)(_swap.constants.COINS).includes(options.name.toUpperCase())) {
      throw new Error('EthTokenSwap: "name" should be correct');
    }
    if (typeof options.address !== 'string') {
      throw new Error('EthTokenSwap: "address" required');
    }
    if (typeof options.decimals !== 'number') {
      throw new Error('EthTokenSwap: "decimals" required');
    }
    if (!Array.isArray(options.abi)) {
      throw new Error('EthTokenSwap: "abi" required');
    }
    if (typeof options.tokenAddress !== 'string') {
      throw new Error('EthTokenSwap: "tokenAddress" required');
    }
    if (!Array.isArray(options.tokenAbi)) {
      throw new Error('EthTokenSwap: "tokenAbi" required');
    }
    if (typeof options.estimateGasPrice !== 'function') {
      // ({ speed } = {}) => gasPrice
      console.warn('EthTokenSwap: "estimateGasPrice" is not a function. You will not be able use automatic mempool-based fee');
    }

    _this._swapName = options.name.toUpperCase();

    _this.address = options.address;
    _this.abi = options.abi;
    _this.decimals = options.decimals;
    _this.tokenAddress = options.tokenAddress;
    _this.tokenAbi = options.tokenAbi;

    _this.gasLimit = options.gasLimit || 2e5;
    _this.gasPrice = options.gasPrice || 2e9;
    _this.fetchBalance = options.fetchBalance;
    _this.estimateGasPrice = options.estimateGasPrice || function () {};

    return _this;
  }

  (0, _createClass3.default)(EthTokenSwap, [{
    key: '_initSwap',
    value: function _initSwap(app) {
      (0, _get3.default)(EthTokenSwap.prototype.__proto__ || (0, _getPrototypeOf2.default)(EthTokenSwap.prototype), '_initSwap', this).call(this, app);

      this.app = app;

      this.decoder = new _ethereumInputDataDecoder2.default(this.abi);
      this.contract = new this.app.env.web3.eth.Contract(this.abi, this.address);
      this.ERC20 = new this.app.env.web3.eth.Contract(this.tokenAbi, this.tokenAddress);
    }

    /**
     * @deprecated
     */

  }, {
    key: 'updateGas',
    value: function updateGas() {
      console.warn('EthSwap.updateGas() is deprecated and will be removed. Use .updateGasPrice()');
      return this.updateGasPrice();
    }
  }, {
    key: 'updateGasPrice',
    value: function () {
      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                (0, _debug2.default)('gas price before update', this.gasPrice);

                _context.prev = 1;
                _context.next = 4;
                return this.estimateGasPrice({ speed: 'fast' });

              case 4:
                this.gasPrice = _context.sent;
                _context.next = 10;
                break;

              case 7:
                _context.prev = 7;
                _context.t0 = _context['catch'](1);

                (0, _debug2.default)('EthTokenSwap: Error with gas update: ' + _context.t0.message + ', using old value gasPrice=' + this.gasPrice);

              case 10:

                (0, _debug2.default)('gas price after update', this.gasPrice);

              case 11:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, this, [[1, 7]]);
      }));

      function updateGasPrice() {
        return _ref.apply(this, arguments);
      }

      return updateGasPrice;
    }()
  }, {
    key: 'send',
    value: function () {
      var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(methodName, args) {
        var _this2 = this;

        var _params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

        var handleTransactionHash = arguments[3];
        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                if (!(typeof this.contract.methods[methodName] !== 'function')) {
                  _context3.next = 2;
                  break;
                }

                throw new Error('EthTokenSwap.send: No method ' + methodName + ' in contract');

              case 2:
                _context3.next = 4;
                return this.updateGasPrice();

              case 4:
                return _context3.abrupt('return', new _promise2.default(function () {
                  var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(resolve, reject) {
                    var _contract$methods, _contract$methods2;

                    var params, gasAmount, receipt;
                    return _regenerator2.default.wrap(function _callee2$(_context2) {
                      while (1) {
                        switch (_context2.prev = _context2.next) {
                          case 0:
                            params = (0, _extends3.default)({
                              from: _this2.app.services.auth.accounts.eth.address,
                              gas: _this2.gasLimit,
                              gasPrice: _this2.gasPrice
                            }, _params);


                            (0, _debug2.default)('EthTokenSwap -> ' + methodName + ' -> params', params);

                            _context2.next = 4;
                            return (_contract$methods = _this2.contract.methods)[methodName].apply(_contract$methods, (0, _toConsumableArray3.default)(args)).estimateGas(params);

                          case 4:
                            gasAmount = _context2.sent;


                            params.gas = gasAmount;

                            (0, _debug2.default)('EthTokenSwap -> ' + methodName + ' -> gas', gasAmount);

                            _context2.next = 9;
                            return (_contract$methods2 = _this2.contract.methods)[methodName].apply(_contract$methods2, (0, _toConsumableArray3.default)(args)).send(params).on('transactionHash', function (hash) {
                              if (typeof handleTransactionHash === 'function') {
                                handleTransactionHash(hash);
                              }
                            }).catch(function (error) {
                              reject({ message: error.message, gasAmount: (0, _bignumber2.default)(gasAmount).dividedBy(1e8).toString() });
                            });

                          case 9:
                            receipt = _context2.sent;


                            resolve(receipt);

                          case 11:
                          case 'end':
                            return _context2.stop();
                        }
                      }
                    }, _callee2, _this2);
                  }));

                  return function (_x4, _x5) {
                    return _ref3.apply(this, arguments);
                  };
                }()));

              case 5:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function send(_x, _x2) {
        return _ref2.apply(this, arguments);
      }

      return send;
    }()

    /**
     *
     * @param {object} data
     * @param {BigNumber} data.amount
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'approve',
    value: function () {
      var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(data, handleTransactionHash) {
        var _this3 = this;

        var amount, exp, newAmount;
        return _regenerator2.default.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                amount = data.amount;
                exp = (0, _bignumber2.default)(10).pow(this.decimals);
                newAmount = (0, _bignumber2.default)(amount).times(exp).toString();
                _context5.next = 5;
                return this.updateGasPrice();

              case 5:
                return _context5.abrupt('return', new _promise2.default(function () {
                  var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(resolve, reject) {
                    var params, gasAmount, result;
                    return _regenerator2.default.wrap(function _callee4$(_context4) {
                      while (1) {
                        switch (_context4.prev = _context4.next) {
                          case 0:
                            _context4.prev = 0;
                            params = {
                              from: _this3.app.services.auth.accounts.eth.address,
                              gas: _this3.gasLimit,
                              gasPrice: _this3.gasPrice
                            };


                            (0, _debug2.default)('EthTokenSwap -> approve -> params', params);

                            _context4.next = 5;
                            return _this3.ERC20.methods.approve(_this3.address, newAmount).estimateGas(params);

                          case 5:
                            gasAmount = _context4.sent;


                            params.gas = gasAmount;

                            (0, _debug2.default)('EthTokenSwap -> approve -> gas', gasAmount);

                            _context4.next = 10;
                            return _this3.ERC20.methods.approve(_this3.address, newAmount).send(params).on('transactionHash', function (hash) {
                              if (typeof handleTransactionHash === 'function') {
                                handleTransactionHash(hash);
                              }
                            }).catch(function (error) {
                              reject({ message: error.message, gasAmount: (0, _bignumber2.default)(gasAmount).dividedBy(1e8).toString() });
                            });

                          case 10:
                            result = _context4.sent;


                            resolve(result);
                            _context4.next = 17;
                            break;

                          case 14:
                            _context4.prev = 14;
                            _context4.t0 = _context4['catch'](0);

                            reject(_context4.t0);

                          case 17:
                          case 'end':
                            return _context4.stop();
                        }
                      }
                    }, _callee4, _this3, [[0, 14]]);
                  }));

                  return function (_x8, _x9) {
                    return _ref5.apply(this, arguments);
                  };
                }()));

              case 6:
              case 'end':
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function approve(_x6, _x7) {
        return _ref4.apply(this, arguments);
      }

      return approve;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.spender
     * @returns {Promise}
     */

  }, {
    key: 'checkAllowance',
    value: function checkAllowance(data) {
      var _this4 = this;

      var spender = data.spender;


      return new _promise2.default(function () {
        var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(resolve, reject) {
          var result;
          return _regenerator2.default.wrap(function _callee6$(_context6) {
            while (1) {
              switch (_context6.prev = _context6.next) {
                case 0:
                  _context6.prev = 0;
                  _context6.next = 3;
                  return _this4.ERC20.methods.allowance(spender, _this4.address).call({
                    from: _this4.app.services.auth.accounts.eth.address
                  });

                case 3:
                  result = _context6.sent;


                  resolve(result);
                  _context6.next = 10;
                  break;

                case 7:
                  _context6.prev = 7;
                  _context6.t0 = _context6['catch'](0);

                  reject(_context6.t0);

                case 10:
                case 'end':
                  return _context6.stop();
              }
            }
          }, _callee6, _this4, [[0, 7]]);
        }));

        return function (_x10, _x11) {
          return _ref6.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @param {string} data.participantAddress
     * @param {BigNumber} data.amount
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'create',
    value: function () {
      var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(data, handleTransactionHash) {
        return _regenerator2.default.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                if (!(data.targetWallet && data.targetWallet !== data.participantAddress)) {
                  _context7.next = 4;
                  break;
                }

                return _context7.abrupt('return', this.createSwapTarget(data, handleTransactionHash));

              case 4:
                return _context7.abrupt('return', this.createSwap(data, handleTransactionHash));

              case 5:
              case 'end':
                return _context7.stop();
            }
          }
        }, _callee7, this);
      }));

      function create(_x12, _x13) {
        return _ref7.apply(this, arguments);
      }

      return create;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @param {string} data.participantAddress
     * @param {BigNumber} data.amount
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'createSwap',
    value: function () {
      var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8(data, handleTransactionHash) {
        var secretHash, participantAddress, amount, exp, newAmount, hash, args;
        return _regenerator2.default.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                secretHash = data.secretHash, participantAddress = data.participantAddress, amount = data.amount;
                exp = (0, _bignumber2.default)(10).pow(this.decimals);
                newAmount = (0, _bignumber2.default)(amount).times(exp).toString();
                hash = '0x' + secretHash.replace(/^0x/, '');
                args = [hash, participantAddress, newAmount, this.tokenAddress];
                return _context8.abrupt('return', this.send('createSwap', [].concat(args), {}, handleTransactionHash));

              case 6:
              case 'end':
                return _context8.stop();
            }
          }
        }, _callee8, this);
      }));

      function createSwap(_x14, _x15) {
        return _ref8.apply(this, arguments);
      }

      return createSwap;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @param {string} data.participantAddress
     * @param {BigNumber} data.amount
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'createSwapTarget',
    value: function () {
      var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9(data, handleTransactionHash) {
        var secretHash, participantAddress, amount, targetWallet, exp, newAmount, hash, args;
        return _regenerator2.default.wrap(function _callee9$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                secretHash = data.secretHash, participantAddress = data.participantAddress, amount = data.amount, targetWallet = data.targetWallet;
                exp = (0, _bignumber2.default)(10).pow(this.decimals);
                newAmount = (0, _bignumber2.default)(amount).times(exp).toString();
                hash = '0x' + secretHash.replace(/^0x/, '');
                args = [hash, participantAddress, targetWallet, newAmount, this.tokenAddress];
                return _context9.abrupt('return', this.send('createSwapTarget', [].concat(args), {}, handleTransactionHash));

              case 6:
              case 'end':
                return _context9.stop();
            }
          }
        }, _callee9, this);
      }));

      function createSwapTarget(_x16, _x17) {
        return _ref9.apply(this, arguments);
      }

      return createSwapTarget;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.ownerAddress
     * @param {string} data.participantAddress
     * @returns {Promise}
     */

  }, {
    key: 'swaps',
    value: function swaps(data) {
      var ownerAddress = data.ownerAddress,
          participantAddress = data.participantAddress;


      return this.contract.methods.swaps(ownerAddress, participantAddress).call();
    }

    /**
     *
     * @param {object} data
     * @param {string} data.ownerAddress
     * @param {string} data.participantAddress
     * @returns {Promise}
     */

  }, {
    key: 'checkSwapExists',
    value: function () {
      var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee10(data) {
        var swap, balance;
        return _regenerator2.default.wrap(function _callee10$(_context10) {
          while (1) {
            switch (_context10.prev = _context10.next) {
              case 0:
                _context10.next = 2;
                return this.swaps(data);

              case 2:
                swap = _context10.sent;


                (0, _debug2.default)('swapExists', swap);

                balance = swap && swap.balance ? parseInt(swap.balance) : 0;
                return _context10.abrupt('return', balance > 0);

              case 6:
              case 'end':
                return _context10.stop();
            }
          }
        }, _callee10, this);
      }));

      function checkSwapExists(_x18) {
        return _ref10.apply(this, arguments);
      }

      return checkSwapExists;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.ownerAddress
     * @returns {Promise}
     */

  }, {
    key: 'getBalance',
    value: function getBalance(data) {
      var ownerAddress = data.ownerAddress;


      return this.contract.methods.getBalance(ownerAddress).call({
        from: this.app.services.auth.accounts.eth.address
      });
    }

    /**
     *
     * @param {object} data
     * @param {string} data.ownerAddress
     * @param {BigNumber} data.expectedValue
     * @returns {Promise.<string>}
     */

  }, {
    key: 'checkBalance',
    value: function () {
      var _ref11 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee11(data) {
        var _this5 = this;

        var ownerAddress, participantAddress, expectedValue, expectedHash, balance, swap, secretHash, _secretHash, expectedValueWei;

        return _regenerator2.default.wrap(function _callee11$(_context11) {
          while (1) {
            switch (_context11.prev = _context11.next) {
              case 0:
                ownerAddress = data.ownerAddress, participantAddress = data.participantAddress, expectedValue = data.expectedValue, expectedHash = data.expectedHash;
                _context11.next = 3;
                return _swap.util.helpers.repeatAsyncUntilResult(function () {
                  return _this5.getBalance({ ownerAddress: ownerAddress });
                });

              case 3:
                balance = _context11.sent;
                _context11.next = 6;
                return _swap.util.helpers.repeatAsyncUntilResult(function () {
                  return _this5.contract.methods.swaps(ownerAddress, participantAddress).call();
                });

              case 6:
                swap = _context11.sent;
                secretHash = swap.secretHash;

                (0, _debug2.default)('swap.core:swaps')('swap.secretHash', secretHash);

                _secretHash = '' + secretHash.replace(/^0x/, '');


                (0, _debug2.default)('swap.core:swaps')('secretHash: expected hash = ' + expectedHash + ', contract hash = ' + _secretHash);

                if (!(expectedHash !== _secretHash)) {
                  _context11.next = 13;
                  break;
                }

                return _context11.abrupt('return', 'Expected hash: ' + expectedHash + ', got: ' + _secretHash);

              case 13:
                expectedValueWei = (0, _bignumber2.default)(expectedValue).multipliedBy(this.decimals);

                if (!expectedValueWei.isGreaterThan(balance)) {
                  _context11.next = 16;
                  break;
                }

                return _context11.abrupt('return', 'Expected value: ' + expectedValueWei.toString() + ', got: ' + balance);

              case 16:
              case 'end':
                return _context11.stop();
            }
          }
        }, _callee11, this);
      }));

      function checkBalance(_x19) {
        return _ref11.apply(this, arguments);
      }

      return checkBalance;
    }()

    /**
     *
     * @returns {Promise}
     */

  }, {
    key: 'fetchSwapEvents',
    value: function () {
      var _ref12 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee12() {
        var _this6 = this;

        var allSwapEvents;
        return _regenerator2.default.wrap(function _callee12$(_context12) {
          while (1) {
            switch (_context12.prev = _context12.next) {
              case 0:
                if (!this._allSwapEvents) {
                  _context12.next = 2;
                  break;
                }

                return _context12.abrupt('return', this._allSwapEvents);

              case 2:
                _context12.next = 4;
                return this.contract.getPastEvents('allEvents', {
                  fromBlock: 0,
                  toBlock: 'latest'
                });

              case 4:
                allSwapEvents = _context12.sent;


                this.contract.events.allEvents({ fromBlock: 0, toBlock: 'latest' }).on('data', function (event) {
                  _this6._allSwapEvents.push(event);
                }).on('changed', function (event) {
                  console.error('EthTokenSwap: fetchEvents: needs rescan');
                  _this6._allSwapEvents = null;
                }).on('error', function (err) {
                  console.error(err);
                  _this6._allSwapEvents = null;
                });

                this._allSwapEvents = allSwapEvents;

                return _context12.abrupt('return', allSwapEvents);

              case 8:
              case 'end':
                return _context12.stop();
            }
          }
        }, _callee12, this);
      }));

      function fetchSwapEvents() {
        return _ref12.apply(this, arguments);
      }

      return fetchSwapEvents;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @returns {Promise}
     */

  }, {
    key: 'findSwap',
    value: function () {
      var _ref13 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee13(data) {
        var secretHash, allSwapEvents, swapEvents, _swapEvents, create, close, rest;

        return _regenerator2.default.wrap(function _callee13$(_context13) {
          while (1) {
            switch (_context13.prev = _context13.next) {
              case 0:
                secretHash = data.secretHash;
                _context13.next = 3;
                return this.fetchSwapEvents();

              case 3:
                allSwapEvents = _context13.sent;
                swapEvents = allSwapEvents.filter(function (_ref14) {
                  var returnValues = _ref14.returnValues;
                  return returnValues._secretHash === '0x' + secretHash.replace('0x', '');
                });
                _swapEvents = (0, _toArray3.default)(swapEvents), create = _swapEvents[0], close = _swapEvents[1], rest = _swapEvents.slice(2);


                if (rest && rest.length) {
                  console.error('More than two swaps with same hash', rest);
                  // throw new Error(`More than two swaps with same hash`)
                }

                return _context13.abrupt('return', [create, close]);

              case 8:
              case 'end':
                return _context13.stop();
            }
          }
        }, _callee13, this);
      }));

      function findSwap(_x20) {
        return _ref13.apply(this, arguments);
      }

      return findSwap;
    }()

    /**
      *
      * @param {object} data
      * @param {string} data.secretHash
      * @returns {Promise(status)}
      */

  }, {
    key: 'wasClosed',
    value: function () {
      var _ref15 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee14(data) {
        var _ref16, _ref17, create, close;

        return _regenerator2.default.wrap(function _callee14$(_context14) {
          while (1) {
            switch (_context14.prev = _context14.next) {
              case 0:
                _context14.next = 2;
                return this.findSwap(data);

              case 2:
                _ref16 = _context14.sent;
                _ref17 = (0, _slicedToArray3.default)(_ref16, 2);
                create = _ref17[0];
                close = _ref17[1];

                if (create) {
                  _context14.next = 11;
                  break;
                }

                (0, _debug2.default)('No swap with hash ' + data.secretHash);
                return _context14.abrupt('return', 'no swap');

              case 11:
                if (!(create && !close)) {
                  _context14.next = 16;
                  break;
                }

                (0, _debug2.default)('Open yet!');
                return _context14.abrupt('return', 'open');

              case 16:
                if (!(close.event == 'Withdraw')) {
                  _context14.next = 21;
                  break;
                }

                (0, _debug2.default)('Withdrawn');
                return _context14.abrupt('return', 'withdrawn');

              case 21:
                if (!(close.event == 'Refund')) {
                  _context14.next = 26;
                  break;
                }

                (0, _debug2.default)('Refund');
                return _context14.abrupt('return', 'refunded');

              case 26:
                (0, _debug2.default)('Unknown event, error');
                return _context14.abrupt('return', 'error');

              case 28:
              case 'end':
                return _context14.stop();
            }
          }
        }, _callee14, this);
      }));

      function wasClosed(_x21) {
        return _ref15.apply(this, arguments);
      }

      return wasClosed;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @returns {Promise(boolean)}
     */

  }, {
    key: 'wasRefunded',
    value: function wasRefunded(data) {
      return this.wasClosed(data).then(function (status) {
        return status === 'refunded';
      });
    }

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @returns {Promise(boolean)}
     */

  }, {
    key: 'wasWithdrawn',
    value: function () {
      var _ref18 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee15(data) {
        var status;
        return _regenerator2.default.wrap(function _callee15$(_context15) {
          while (1) {
            switch (_context15.prev = _context15.next) {
              case 0:
                _context15.next = 2;
                return this.wasClosed(data);

              case 2:
                status = _context15.sent;
                return _context15.abrupt('return', status === 'withdrawn');

              case 4:
              case 'end':
                return _context15.stop();
            }
          }
        }, _callee15, this);
      }));

      function wasWithdrawn(_x22) {
        return _ref18.apply(this, arguments);
      }

      return wasWithdrawn;
    }()

    /**
     * @param {object} data
     * @param {string} data.ownerAddress
     * @param {string} tokenAddress
     */

  }, {
    key: 'checkTokenIsValid',
    value: function () {
      var _ref19 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee16(data) {
        var _this7 = this;

        var ownerAddress, participantAddress, swap, token;
        return _regenerator2.default.wrap(function _callee16$(_context16) {
          while (1) {
            switch (_context16.prev = _context16.next) {
              case 0:
                ownerAddress = data.ownerAddress, participantAddress = data.participantAddress;


                (0, _debug2.default)('swap.core:swaps')('Check token is valid. Needed token address: ' + this.tokenAddress.toUpperCase());
                _context16.next = 4;
                return _swap.util.helpers.repeatAsyncUntilResult(function () {
                  return _this7.contract.methods.swaps(ownerAddress, participantAddress).call();
                });

              case 4:
                swap = _context16.sent;
                token = swap.token;

                (0, _debug2.default)('swap.core:swaps')('Token address at swap contract: ' + token.toUpperCase());

                return _context16.abrupt('return', this.tokenAddress.toUpperCase() == token.toUpperCase());

              case 8:
              case 'end':
                return _context16.stop();
            }
          }
        }, _callee16, this);
      }));

      function checkTokenIsValid(_x23) {
        return _ref19.apply(this, arguments);
      }

      return checkTokenIsValid;
    }()

    /**
     *
     * @returns {boolean}
     */

  }, {
    key: 'hasTargetWallet',
    value: function hasTargetWallet() {
      return !!this.contract.methods.getTargetWallet;
    }

    /**
     *
     * @param {string} ownerAddress
     * @returns {Promise.<string>}
     */

  }, {
    key: 'getTargetWallet',
    value: function () {
      var _ref20 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee17(ownerAddress) {
        var _this8 = this;

        var address;
        return _regenerator2.default.wrap(function _callee17$(_context17) {
          while (1) {
            switch (_context17.prev = _context17.next) {
              case 0:
                _context17.next = 2;
                return _swap.util.helpers.repeatAsyncUntilResult(function () {
                  return _this8.getTargetWalletPromise(ownerAddress);
                });

              case 2:
                address = _context17.sent;
                return _context17.abrupt('return', address);

              case 4:
              case 'end':
                return _context17.stop();
            }
          }
        }, _callee17, this);
      }));

      function getTargetWallet(_x24) {
        return _ref20.apply(this, arguments);
      }

      return getTargetWallet;
    }()

    /**
     *
     * @param {string} ownerAddress
     * @returns {string}
     */

  }, {
    key: 'getTargetWalletPromise',
    value: function () {
      var _ref21 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee19(ownerAddress) {
        var _this9 = this;

        return _regenerator2.default.wrap(function _callee19$(_context19) {
          while (1) {
            switch (_context19.prev = _context19.next) {
              case 0:
                (0, _debug2.default)('swap.core:swaps')('EthTokenSwap->getTargetWallet');
                return _context19.abrupt('return', new _promise2.default(function () {
                  var _ref22 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee18(resolve, reject) {
                    var targetWallet;
                    return _regenerator2.default.wrap(function _callee18$(_context18) {
                      while (1) {
                        switch (_context18.prev = _context18.next) {
                          case 0:
                            _context18.prev = 0;
                            _context18.next = 3;
                            return _this9.contract.methods.getTargetWallet(ownerAddress).call({
                              from: _this9.app.services.auth.accounts.eth.address
                            });

                          case 3:
                            targetWallet = _context18.sent;

                            (0, _debug2.default)('swap.core:swaps')('EthTokenSwap->getTargetWallet', targetWallet);

                            resolve(targetWallet);
                            _context18.next = 11;
                            break;

                          case 8:
                            _context18.prev = 8;
                            _context18.t0 = _context18['catch'](0);

                            reject(_context18.t0);

                          case 11:
                          case 'end':
                            return _context18.stop();
                        }
                      }
                    }, _callee18, _this9, [[0, 8]]);
                  }));

                  return function (_x26, _x27) {
                    return _ref22.apply(this, arguments);
                  };
                }()));

              case 2:
              case 'end':
                return _context19.stop();
            }
          }
        }, _callee19, this);
      }));

      function getTargetWalletPromise(_x25) {
        return _ref21.apply(this, arguments);
      }

      return getTargetWalletPromise;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secret
     * @param {string} data.ownerAddress
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'calcWithdrawGas',
    value: function () {
      var _ref23 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee20(data) {
        return _regenerator2.default.wrap(function _callee20$(_context20) {
          while (1) {
            switch (_context20.prev = _context20.next) {
              case 0:
                return _context20.abrupt('return', this.calcWithdrawOtherGas({
                  ownerAddress: data.ownerAddress,
                  participantAddress: this.app.services.auth.accounts.eth.address,
                  secret: data.secret
                }));

              case 1:
              case 'end':
                return _context20.stop();
            }
          }
        }, _callee20, this);
      }));

      function calcWithdrawGas(_x28) {
        return _ref23.apply(this, arguments);
      }

      return calcWithdrawGas;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secret
     * @param {string} data.ownerAddress
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'withdraw',
    value: function () {
      var _ref24 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee21(data, handleTransactionHash) {
        return _regenerator2.default.wrap(function _callee21$(_context21) {
          while (1) {
            switch (_context21.prev = _context21.next) {
              case 0:
                return _context21.abrupt('return', this.withdrawOther({
                  ownerAddress: data.ownerAddress,
                  participantAddress: this.app.services.auth.accounts.eth.address,
                  secret: data.secret
                }, handleTransactionHash));

              case 1:
              case 'end':
                return _context21.stop();
            }
          }
        }, _callee21, this);
      }));

      function withdraw(_x29, _x30) {
        return _ref24.apply(this, arguments);
      }

      return withdraw;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secret
     * @param {string} data.participantAddress
     * @returns {Promise}
     */

  }, {
    key: 'calcWithdrawNoMoneyGas',
    value: function () {
      var _ref25 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee22(data) {
        return _regenerator2.default.wrap(function _callee22$(_context22) {
          while (1) {
            switch (_context22.prev = _context22.next) {
              case 0:
                return _context22.abrupt('return', this.calcWithdrawOtherGas({
                  ownerAddress: this.app.services.auth.accounts.eth.address,
                  participantAddress: data.participantAddress,
                  secret: data.secret
                }));

              case 1:
              case 'end':
                return _context22.stop();
            }
          }
        }, _callee22, this);
      }));

      function calcWithdrawNoMoneyGas(_x31) {
        return _ref25.apply(this, arguments);
      }

      return calcWithdrawNoMoneyGas;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.secret
     * @param {string} data.participantAddress
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'withdrawNoMoney',
    value: function () {
      var _ref26 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee23(data, handleTransactionHash) {
        return _regenerator2.default.wrap(function _callee23$(_context23) {
          while (1) {
            switch (_context23.prev = _context23.next) {
              case 0:
                return _context23.abrupt('return', this.withdrawOther({
                  ownerAddress: this.app.services.auth.accounts.eth.address,
                  participantAddress: data.participantAddress,
                  secret: data.secret
                }, handleTransactionHash));

              case 1:
              case 'end':
                return _context23.stop();
            }
          }
        }, _callee23, this);
      }));

      function withdrawNoMoney(_x32, _x33) {
        return _ref26.apply(this, arguments);
      }

      return withdrawNoMoney;
    }()
  }, {
    key: 'calcWithdrawOtherGas',
    value: function () {
      var _ref27 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee25(data) {
        var _this10 = this;

        var ownerAddress, participantAddress, secret;
        return _regenerator2.default.wrap(function _callee25$(_context25) {
          while (1) {
            switch (_context25.prev = _context25.next) {
              case 0:
                ownerAddress = data.ownerAddress, participantAddress = data.participantAddress, secret = data.secret;
                _context25.next = 3;
                return this.updateGasPrice();

              case 3:
                return _context25.abrupt('return', new _promise2.default(function () {
                  var _ref28 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee24(resolve, reject) {
                    var _secret, params, gasAmount;

                    return _regenerator2.default.wrap(function _callee24$(_context24) {
                      while (1) {
                        switch (_context24.prev = _context24.next) {
                          case 0:
                            _secret = '0x' + secret.replace(/^0x/, '');
                            params = {
                              from: _this10.app.services.auth.accounts.eth.address,
                              gas: _this10.gasLimit,
                              gasPrice: _this10.gasPrice
                            };
                            _context24.prev = 2;
                            _context24.next = 5;
                            return _this10.contract.methods.withdrawOther(_secret, ownerAddress, participantAddress).estimateGas(params);

                          case 5:
                            gasAmount = _context24.sent;

                            resolve(gasAmount);
                            _context24.next = 12;
                            break;

                          case 9:
                            _context24.prev = 9;
                            _context24.t0 = _context24['catch'](2);

                            reject(_context24.t0);

                          case 12:
                          case 'end':
                            return _context24.stop();
                        }
                      }
                    }, _callee24, _this10, [[2, 9]]);
                  }));

                  return function (_x35, _x36) {
                    return _ref28.apply(this, arguments);
                  };
                }()));

              case 4:
              case 'end':
                return _context25.stop();
            }
          }
        }, _callee25, this);
      }));

      function calcWithdrawOtherGas(_x34) {
        return _ref27.apply(this, arguments);
      }

      return calcWithdrawOtherGas;
    }()
    /**
     *
     * @param {object} data
     * @param {string} data.secret
     * @param {string} data.ownerAddress
     * @param {string} data.participantAddress
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'withdrawOther',
    value: function () {
      var _ref29 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee26(data, handleTransactionHash) {
        var ownerAddress, participantAddress, secret, _secret;

        return _regenerator2.default.wrap(function _callee26$(_context26) {
          while (1) {
            switch (_context26.prev = _context26.next) {
              case 0:
                ownerAddress = data.ownerAddress, participantAddress = data.participantAddress, secret = data.secret;
                _secret = '0x' + secret.replace(/^0x/, '');
                _context26.next = 4;
                return this.updateGasPrice();

              case 4:
                return _context26.abrupt('return', this.send('withdrawOther', [_secret, ownerAddress, participantAddress], {}, handleTransactionHash));

              case 5:
              case 'end':
                return _context26.stop();
            }
          }
        }, _callee26, this);
      }));

      function withdrawOther(_x37, _x38) {
        return _ref29.apply(this, arguments);
      }

      return withdrawOther;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.participantAddress
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'refund',
    value: function () {
      var _ref30 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee27(data, handleTransactionHash) {
        var participantAddress;
        return _regenerator2.default.wrap(function _callee27$(_context27) {
          while (1) {
            switch (_context27.prev = _context27.next) {
              case 0:
                participantAddress = data.participantAddress;
                _context27.next = 3;
                return this.updateGasPrice();

              case 3:
                return _context27.abrupt('return', this.send('refund', [participantAddress], {}, handleTransactionHash));

              case 4:
              case 'end':
                return _context27.stop();
            }
          }
        }, _callee27, this);
      }));

      function refund(_x39, _x40) {
        return _ref30.apply(this, arguments);
      }

      return refund;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.participantAddress
     * @returns {Promise}
     */

  }, {
    key: 'getSecret',
    value: function getSecret(data) {
      var _this11 = this;

      var participantAddress = data.participantAddress;


      return new _promise2.default(function () {
        var _ref31 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee28(resolve, reject) {
          var secret, secretValue;
          return _regenerator2.default.wrap(function _callee28$(_context28) {
            while (1) {
              switch (_context28.prev = _context28.next) {
                case 0:
                  _context28.prev = 0;
                  _context28.next = 3;
                  return _this11.contract.methods.getSecret(participantAddress).call({
                    from: _this11.app.services.auth.accounts.eth.address
                  });

                case 3:
                  secret = _context28.sent;
                  secretValue = secret && !/^0x0+$/.test(secret) ? secret : null;


                  resolve(secretValue);
                  _context28.next = 11;
                  break;

                case 8:
                  _context28.prev = 8;
                  _context28.t0 = _context28['catch'](0);

                  reject(_context28.t0);

                case 11:
                case 'end':
                  return _context28.stop();
              }
            }
          }, _callee28, _this11, [[0, 8]]);
        }));

        return function (_x41, _x42) {
          return _ref31.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {string} transactionHash
     * @returns {Promise<any>}
     */

  }]);
  return EthTokenSwap;
}(_swap.SwapInterface);

exports.default = EthTokenSwap;
module.exports = exports['default'];

/***/ }),

/***/ 3180:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof2 = __webpack_require__(186);

var _typeof3 = _interopRequireDefault(_typeof2);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BtcSwap = function (_SwapInterface) {
  (0, _inherits3.default)(BtcSwap, _SwapInterface);

  /**
   *
   * @param options
   * @param options.fetchBalance
   * @param options.fetchUnspents
   * @param options.broadcastTx
   * @param options.fetchTxInfo {(tx_hash) => Promise({ confidence, fees })}
   * @param options.estimateFeeValue { ({ inSatoshis, speed, address, txSize }) => Promise(fee_value) }
   */
  function BtcSwap(options) {
    (0, _classCallCheck3.default)(this, BtcSwap);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BtcSwap.__proto__ || (0, _getPrototypeOf2.default)(BtcSwap)).call(this));

    if (typeof options.fetchBalance !== 'function') {
      throw new Error('BtcSwap: "fetchBalance" required');
    }
    if (typeof options.fetchUnspents !== 'function') {
      throw new Error('BtcSwap: "fetchUnspents" required');
    }
    if (typeof options.broadcastTx !== 'function') {
      throw new Error('BtcSwap: "broadcastTx" required');
    }
    if (typeof options.fetchTxInfo !== 'function') {
      // tx_hash => { confidence, fees }
      console.warn('BtcSwap: "fetchTxInfo" is not a function. You will not be able to use tx-confidence feature');
    }
    if (typeof options.estimateFeeValue !== 'function') {
      // ({ speed } = {}) => feeRate
      console.warn('BtcSwap: "estimateFeeValue" is not a function. You will not be able use automatic mempool-based fee');
    }

    _this._swapName = _swap.constants.COINS.btc;
    _this.fetchBalance = options.fetchBalance;
    _this.fetchUnspents = options.fetchUnspents;
    _this.broadcastTx = options.broadcastTx;
    _this.feeValue = options.feeValue || 546;
    _this.fetchTxInfo = options.fetchTxInfo || function () {};
    _this.estimateFeeValue = options.estimateFeeValue || function () {
      return 0;
    };
    return _this;
  }

  (0, _createClass3.default)(BtcSwap, [{
    key: '_initSwap',
    value: function _initSwap(app) {
      (0, _get3.default)(BtcSwap.prototype.__proto__ || (0, _getPrototypeOf2.default)(BtcSwap.prototype), '_initSwap', this).call(this, app);

      this.app = app;

      this.network = this.app.isMainNet() ? this.app.env.bitcoin.networks.bitcoin : this.app.env.bitcoin.networks.testnet;
    }

    /**
     *
     * @param {object} options
     * @param {boolean} options.inSatoshis
     * @param {Number} options.size
     * @param {String} options.speed
     * @param {String} options.address
     * @returns {BigNumber}
     * @public
     */

  }, {
    key: 'getTxFee',
    value: function () {
      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
            inSatoshis = _ref2.inSatoshis,
            size = _ref2.size,
            _ref2$speed = _ref2.speed,
            speed = _ref2$speed === undefined ? 'fast' : _ref2$speed,
            address = _ref2.address;

        var estimatedFee;
        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.t0 = _bignumber2.default;
                _context.next = 3;
                return this.estimateFeeValue({ inSatoshis: inSatoshis, address: address, speed: speed, txSize: size });

              case 3:
                _context.t1 = _context.sent;
                estimatedFee = (0, _context.t0)(_context.t1);


                this.feeValue = estimatedFee;

                return _context.abrupt('return', inSatoshis ? estimatedFee : estimatedFee.dividedBy(1e8).dp(0, _bignumber2.default.ROUND_UP));

              case 7:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function getTxFee() {
        return _ref.apply(this, arguments);
      }

      return getTxFee;
    }()

    /**
     *
     * @param {array} unspents
     * @param {Number} expectedConfidenceLevel
     * @returns {array}
     * @private
     */

  }, {
    key: 'filterConfidentUnspents',
    value: function () {
      var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(unspents) {
        var _this2 = this;

        var expectedConfidenceLevel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.95;
        var feesToConfidence, confirmationsToConfidence, fetchConfidence, confidences;
        return _regenerator2.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                feesToConfidence = function () {
                  var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(fees, size, address) {
                    var currentFastestFee;
                    return _regenerator2.default.wrap(function _callee2$(_context2) {
                      while (1) {
                        switch (_context2.prev = _context2.next) {
                          case 0:
                            _context2.next = 2;
                            return _this2.getTxFee({ inSatoshis: true, size: size, speed: 'fast', address: address });

                          case 2:
                            currentFastestFee = _context2.sent;
                            return _context2.abrupt('return', (0, _bignumber2.default)(fees).isLessThan(currentFastestFee) ? (0, _bignumber2.default)(fees).dividedBy(currentFastestFee).toNumber() : 1);

                          case 4:
                          case 'end':
                            return _context2.stop();
                        }
                      }
                    }, _callee2, _this2);
                  }));

                  return function feesToConfidence(_x4, _x5, _x6) {
                    return _ref4.apply(this, arguments);
                  };
                }();

                confirmationsToConfidence = function confirmationsToConfidence(confs) {
                  return confs > 0 ? 1 : 0;
                };

                fetchConfidence = function () {
                  var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(_ref6) {
                    var txid = _ref6.txid,
                        confirmations = _ref6.confirmations;
                    var confidenceFromConfirmations, info, fees, size, senderAddress;
                    return _regenerator2.default.wrap(function _callee3$(_context3) {
                      while (1) {
                        switch (_context3.prev = _context3.next) {
                          case 0:
                            confidenceFromConfirmations = confirmationsToConfidence(confirmations);

                            if (!(0, _bignumber2.default)(confidenceFromConfirmations).isGreaterThanOrEqualTo(expectedConfidenceLevel)) {
                              _context3.next = 3;
                              break;
                            }

                            return _context3.abrupt('return', confidenceFromConfirmations);

                          case 3:
                            _context3.prev = 3;
                            _context3.next = 6;
                            return _this2.fetchTxInfo(txid);

                          case 6:
                            info = _context3.sent;
                            fees = info.fees, size = info.size, senderAddress = info.senderAddress;

                            if (!fees) {
                              _context3.next = 12;
                              break;
                            }

                            _context3.next = 11;
                            return feesToConfidence(fees, size, senderAddress);

                          case 11:
                            return _context3.abrupt('return', _context3.sent);

                          case 12:
                            throw new Error('txinfo=' + { confirmations: confirmations, fees: fees, size: size, senderAddress: senderAddress });

                          case 15:
                            _context3.prev = 15;
                            _context3.t0 = _context3['catch'](3);

                            console.error('BtcSwap: Error fetching confidence: using confirmations > 0:', _context3.t0.message);
                            return _context3.abrupt('return', confidenceFromConfirmations);

                          case 19:
                          case 'end':
                            return _context3.stop();
                        }
                      }
                    }, _callee3, _this2, [[3, 15]]);
                  }));

                  return function fetchConfidence(_x7) {
                    return _ref5.apply(this, arguments);
                  };
                }();

                _context4.next = 5;
                return _promise2.default.all(unspents.map(fetchConfidence));

              case 5:
                confidences = _context4.sent;
                return _context4.abrupt('return', unspents.filter(function (utxo, index) {
                  (0, _debug2.default)('swap.core:swaps')('confidence[' + index + ']:', confidences[index]);
                  return (0, _bignumber2.default)(confidences[index]).isGreaterThanOrEqualTo(expectedConfidenceLevel);
                }));

              case 7:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function filterConfidentUnspents(_x2) {
        return _ref3.apply(this, arguments);
      }

      return filterConfidentUnspents;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.script
     * @param {*} data.txRaw
     * @param {string} data.secret
     * @param {number} inputIndex
     * @private
     */

  }, {
    key: '_signTransaction',
    value: function _signTransaction(data) {
      var inputIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

      (0, _debug2.default)('swap.core:swaps')('signing script input', inputIndex);
      var script = data.script,
          txRaw = data.txRaw,
          secret = data.secret;


      var hashType = this.app.env.bitcoin.Transaction.SIGHASH_ALL;
      var signatureHash = txRaw.hashForSignature(inputIndex, script, hashType);
      var signature = this.app.services.auth.accounts.btc.sign(signatureHash).toScriptSignature(hashType);

      var scriptSig = this.app.env.bitcoin.script.scriptHash.input.encode([signature, this.app.services.auth.accounts.btc.getPublicKeyBuffer(), Buffer.from(secret.replace(/^0x/, ''), 'hex')], script);

      txRaw.setInputScript(inputIndex, scriptSig);
    }

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @param {string} data.ownerPublicKey
     * @param {string} data.recipientPublicKey
     * @param {number} data.lockTime
     * @returns {{scriptAddress: *, script: (*|{ignored})}}
     */

  }, {
    key: 'createScript',
    value: function createScript(data) {
      var hashName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'ripemd160';

      var hashOpcodeName = 'OP_' + hashName.toUpperCase();
      var hashOpcode = this.app.env.bitcoin.opcodes[hashOpcodeName];

      var secretHash = data.secretHash,
          ownerPublicKey = data.ownerPublicKey,
          recipientPublicKey = data.recipientPublicKey,
          lockTime = data.lockTime;


      var script = this.app.env.bitcoin.script.compile([hashOpcode, Buffer.from(secretHash, 'hex'), this.app.env.bitcoin.opcodes.OP_EQUALVERIFY, Buffer.from(recipientPublicKey, 'hex'), this.app.env.bitcoin.opcodes.OP_EQUAL, this.app.env.bitcoin.opcodes.OP_IF, Buffer.from(recipientPublicKey, 'hex'), this.app.env.bitcoin.opcodes.OP_CHECKSIG, this.app.env.bitcoin.opcodes.OP_ELSE, this.app.env.bitcoin.script.number.encode(lockTime), this.app.env.bitcoin.opcodes.OP_CHECKLOCKTIMEVERIFY, this.app.env.bitcoin.opcodes.OP_DROP, Buffer.from(ownerPublicKey, 'hex'), this.app.env.bitcoin.opcodes.OP_CHECKSIG, this.app.env.bitcoin.opcodes.OP_ENDIF]);

      var scriptPubKey = this.app.env.bitcoin.script.scriptHash.output.encode(this.app.env.bitcoin.crypto.hash160(script));
      var scriptAddress = this.app.env.bitcoin.address.fromOutputScript(scriptPubKey, this.network);

      return {
        scriptAddress: scriptAddress,
        script: script
      };
    }

    /**
     *
     * @param {object} data
     * @param {string} data.recipientPublicKey
     * @param {number} data.lockTime
     * @param {object} expected
     * @param {number} expected.value
     * @param {number} expected.lockTime
     * @param {string} expected.recipientPublicKey
     * @returns {Promise.<string>}
     */

  }, {
    key: 'checkScript',
    value: function () {
      var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(data, expected, hashName) {
        var recipientPublicKey, lockTime, _createScript, scriptAddress, script, expectedConfidence, unspents, expectedValue, totalUnspent, confidentUnspents, totalConfidentUnspent;

        return _regenerator2.default.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                recipientPublicKey = data.recipientPublicKey, lockTime = data.lockTime;
                _createScript = this.createScript(data, hashName), scriptAddress = _createScript.scriptAddress, script = _createScript.script;
                expectedConfidence = expected.confidence || 0.95;
                _context5.next = 5;
                return this.fetchUnspents(scriptAddress);

              case 5:
                unspents = _context5.sent;
                expectedValue = expected.value.multipliedBy(1e8).integerValue();
                totalUnspent = unspents.reduce(function (summ, _ref8) {
                  var satoshis = _ref8.satoshis;
                  return summ + satoshis;
                }, 0);
                _context5.next = 10;
                return this.filterConfidentUnspents(unspents, expectedConfidence);

              case 10:
                confidentUnspents = _context5.sent;
                totalConfidentUnspent = confidentUnspents.reduce(function (summ, _ref9) {
                  var satoshis = _ref9.satoshis;
                  return summ + satoshis;
                }, 0);

                if (!expectedValue.isGreaterThan(totalUnspent)) {
                  _context5.next = 14;
                  break;
                }

                return _context5.abrupt('return', 'Expected script value: ' + expectedValue.toNumber() + ', got: ' + totalUnspent + ', address: ' + scriptAddress);

              case 14:
                if (!(expected.lockTime > lockTime)) {
                  _context5.next = 16;
                  break;
                }

                return _context5.abrupt('return', 'Expected script lockTime: ' + expected.lockTime + ', got: ' + lockTime + ', address: ' + scriptAddress);

              case 16:
                if (!(expected.recipientPublicKey !== recipientPublicKey)) {
                  _context5.next = 18;
                  break;
                }

                return _context5.abrupt('return', 'Expected script recipient publicKey: ' + expected.recipientPublicKey + ', got: ' + recipientPublicKey);

              case 18:
                if (!expectedValue.isGreaterThan(totalConfidentUnspent)) {
                  _context5.next = 20;
                  break;
                }

                return _context5.abrupt('return', 'Expected script value: ' + expectedValue.toString() + ' with confidence above ' + expectedConfidence + ', got: ' + totalConfidentUnspent + ', address: ' + scriptAddress);

              case 20:
              case 'end':
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function checkScript(_x10, _x11, _x12) {
        return _ref7.apply(this, arguments);
      }

      return checkScript;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {BigNumber} data.amount
     * @param {function} handleTransactionHash
     * @param {string} hashName
     * @returns {Promise}
     */

  }, {
    key: 'fundScript',
    value: function fundScript(data, handleTransactionHash, hashName) {
      var _this3 = this;

      var scriptValues = data.scriptValues,
          amount = data.amount;


      return new _promise2.default(function () {
        var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(resolve, reject) {
          var _createScript2, scriptAddress, ownerAddress, tx, unspents, fundValue, feeValueBN, feeValue, totalUnspent, skipValue, txRaw, result;

          return _regenerator2.default.wrap(function _callee6$(_context6) {
            while (1) {
              switch (_context6.prev = _context6.next) {
                case 0:
                  _context6.prev = 0;
                  _createScript2 = _this3.createScript(scriptValues, hashName), scriptAddress = _createScript2.scriptAddress;
                  ownerAddress = _this3.app.services.auth.accounts.btc.getAddress();
                  tx = new _this3.app.env.bitcoin.TransactionBuilder(_this3.network);
                  _context6.next = 6;
                  return _this3.fetchUnspents(ownerAddress);

                case 6:
                  unspents = _context6.sent;
                  fundValue = amount.multipliedBy(1e8).integerValue().toNumber();
                  _context6.next = 10;
                  return _this3.getTxFee({ inSatoshis: true, address: ownerAddress });

                case 10:
                  feeValueBN = _context6.sent;
                  feeValue = feeValueBN.integerValue().toNumber();
                  totalUnspent = unspents.reduce(function (summ, _ref11) {
                    var satoshis = _ref11.satoshis;
                    return summ + satoshis;
                  }, 0);
                  skipValue = totalUnspent - fundValue - feeValue;

                  if (!(totalUnspent < feeValue + fundValue)) {
                    _context6.next = 16;
                    break;
                  }

                  throw new Error('Total less than fee: ' + totalUnspent + ' < ' + feeValue + ' + ' + fundValue);

                case 16:

                  unspents.forEach(function (_ref12) {
                    var txid = _ref12.txid,
                        vout = _ref12.vout;
                    return tx.addInput(txid, vout);
                  });
                  tx.addOutput(scriptAddress, fundValue);
                  tx.addOutput(_this3.app.services.auth.accounts.btc.getAddress(), skipValue);
                  tx.inputs.forEach(function (input, index) {
                    tx.sign(index, _this3.app.services.auth.accounts.btc);
                  });

                  txRaw = tx.buildIncomplete();


                  if (typeof handleTransactionHash === 'function') {
                    handleTransactionHash(txRaw.getId());
                  }

                  _context6.prev = 22;
                  _context6.next = 25;
                  return _this3.broadcastTx(txRaw.toHex());

                case 25:
                  result = _context6.sent;


                  resolve(result);
                  _context6.next = 32;
                  break;

                case 29:
                  _context6.prev = 29;
                  _context6.t0 = _context6['catch'](22);

                  reject(_context6.t0);

                case 32:
                  _context6.next = 37;
                  break;

                case 34:
                  _context6.prev = 34;
                  _context6.t1 = _context6['catch'](0);

                  reject(_context6.t1);

                case 37:
                case 'end':
                  return _context6.stop();
              }
            }
          }, _callee6, _this3, [[0, 34], [22, 29]]);
        }));

        return function (_x13, _x14) {
          return _ref10.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {object|string} data - scriptValues or wallet address
     * @returns {Promise.<void>}
     */

  }, {
    key: 'getBalance',
    value: function () {
      var _ref13 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(data, hashName) {
        var address, _createScript3, scriptAddress, unspents, totalUnspent;

        return _regenerator2.default.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                address = void 0;

                if (!(typeof data === 'string')) {
                  _context7.next = 5;
                  break;
                }

                address = data;
                _context7.next = 11;
                break;

              case 5:
                if (!((typeof data === 'undefined' ? 'undefined' : (0, _typeof3.default)(data)) === 'object')) {
                  _context7.next = 10;
                  break;
                }

                _createScript3 = this.createScript(data, hashName), scriptAddress = _createScript3.scriptAddress;


                address = scriptAddress;
                _context7.next = 11;
                break;

              case 10:
                throw new Error('Wrong data type');

              case 11:
                _context7.next = 13;
                return this.fetchUnspents(address);

              case 13:
                unspents = _context7.sent;
                totalUnspent = unspents && unspents.length && unspents.reduce(function (summ, _ref14) {
                  var satoshis = _ref14.satoshis;
                  return summ + satoshis;
                }, 0) || 0;
                return _context7.abrupt('return', totalUnspent);

              case 16:
              case 'end':
                return _context7.stop();
            }
          }
        }, _callee7, this);
      }));

      function getBalance(_x15, _x16) {
        return _ref13.apply(this, arguments);
      }

      return getBalance;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {boolean} isRefund
     * @returns {Promise}
     */

  }, {
    key: 'getWithdrawRawTransaction',
    value: function () {
      var _ref15 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8(data, isRefund, hashName) {
        var _this4 = this;

        var scriptValues, secret, destinationAddress, _createScript4, script, scriptAddress, tx, unspents, feeValueBN, feeValue, totalUnspent, txRaw;

        return _regenerator2.default.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                scriptValues = data.scriptValues, secret = data.secret, destinationAddress = data.destinationAddress;
                _createScript4 = this.createScript(scriptValues, hashName), script = _createScript4.script, scriptAddress = _createScript4.scriptAddress;
                tx = new this.app.env.bitcoin.TransactionBuilder(this.network);
                _context8.next = 5;
                return this.fetchUnspents(scriptAddress);

              case 5:
                unspents = _context8.sent;
                _context8.next = 8;
                return this.getTxFee({ inSatoshis: true, address: scriptAddress });

              case 8:
                feeValueBN = _context8.sent;
                feeValue = feeValueBN.integerValue().toNumber();
                totalUnspent = unspents.reduce(function (summ, _ref16) {
                  var satoshis = _ref16.satoshis;
                  return summ + satoshis;
                }, 0);

                if (!(0, _bignumber2.default)(totalUnspent).isLessThan(feeValue)) {
                  _context8.next = 13;
                  break;
                }

                throw new Error('Total less than fee: ' + totalUnspent + ' < ' + feeValue);

              case 13:

                if (isRefund) {
                  tx.setLockTime(scriptValues.lockTime);
                }

                unspents.forEach(function (_ref17) {
                  var txid = _ref17.txid,
                      vout = _ref17.vout;
                  return tx.addInput(txid, vout, 0xfffffffe);
                });
                tx.addOutput(destinationAddress ? destinationAddress : this.app.services.auth.accounts.btc.getAddress(), totalUnspent - feeValue);

                txRaw = tx.buildIncomplete();


                unspents.map(function (_, index) {
                  return _this4._signTransaction({
                    script: script,
                    secret: secret,
                    txRaw: txRaw
                  }, index);
                });

                return _context8.abrupt('return', txRaw);

              case 19:
              case 'end':
                return _context8.stop();
            }
          }
        }, _callee8, this);
      }));

      function getWithdrawRawTransaction(_x17, _x18, _x19) {
        return _ref15.apply(this, arguments);
      }

      return getWithdrawRawTransaction;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {boolean} isRefund
     * @returns {Promise}
     */

  }, {
    key: 'getWithdrawHexTransaction',
    value: function () {
      var _ref18 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9(data, isRefund) {
        var txRaw;
        return _regenerator2.default.wrap(function _callee9$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                _context9.next = 2;
                return this.getWithdrawRawTransaction(data, isRefund);

              case 2:
                txRaw = _context9.sent;
                return _context9.abrupt('return', txRaw.toHex());

              case 4:
              case 'end':
                return _context9.stop();
            }
          }
        }, _callee9, this);
      }));

      function getWithdrawHexTransaction(_x20, _x21) {
        return _ref18.apply(this, arguments);
      }

      return getWithdrawHexTransaction;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @returns {Promise}
     */

  }, {
    key: 'getRefundRawTransaction',
    value: function getRefundRawTransaction(data) {
      return this.getWithdrawRawTransaction(data, true);
    }

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @returns {Promise}
     */

  }, {
    key: 'getRefundHexTransaction',
    value: function () {
      var _ref19 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee10(data) {
        var txRaw;
        return _regenerator2.default.wrap(function _callee10$(_context10) {
          while (1) {
            switch (_context10.prev = _context10.next) {
              case 0:
                _context10.next = 2;
                return this.getRefundRawTransaction(data);

              case 2:
                txRaw = _context10.sent;
                return _context10.abrupt('return', txRaw.toHex());

              case 4:
              case 'end':
                return _context10.stop();
            }
          }
        }, _callee10, this);
      }));

      function getRefundHexTransaction(_x22) {
        return _ref19.apply(this, arguments);
      }

      return getRefundHexTransaction;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {function} handleTransactionHash
     * @param {boolean} isRefund
     * @param {string} hashName
     * @returns {Promise}
     */

  }, {
    key: 'withdraw',
    value: function withdraw(data, isRefund, hashName) {
      var _this5 = this;

      return new _promise2.default(function () {
        var _ref20 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee11(resolve, reject) {
          var txRaw, result, errorMessage;
          return _regenerator2.default.wrap(function _callee11$(_context11) {
            while (1) {
              switch (_context11.prev = _context11.next) {
                case 0:
                  _context11.prev = 0;
                  _context11.next = 3;
                  return _this5.getWithdrawRawTransaction(data, isRefund, hashName);

                case 3:
                  txRaw = _context11.sent;

                  (0, _debug2.default)('swap.core:swaps')('raw tx withdraw', txRaw.toHex());

                  _context11.next = 7;
                  return _this5.broadcastTx(txRaw.toHex());

                case 7:
                  result = _context11.sent;


                  resolve(txRaw.getId());
                  _context11.next = 17;
                  break;

                case 11:
                  _context11.prev = 11;
                  _context11.t0 = _context11['catch'](0);

                  console.warn('BtcSwap: cant withdraw', _context11.t0.message);

                  errorMessage = void 0;


                  if (_context11.t0.res && /non-final/.test(_context11.t0.res.text)) {
                    errorMessage = 'Try it later';
                  } else {
                    errorMessage = _context11.t0;
                  }

                  reject(errorMessage);

                case 17:
                case 'end':
                  return _context11.stop();
              }
            }
          }, _callee11, _this5, [[0, 11]]);
        }));

        return function (_x23, _x24) {
          return _ref20.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {function} handleTransactionHash
     * @param {string} hashName
     * @returns {Promise}
     */

  }, {
    key: 'refund',
    value: function refund(data, hashName) {
      return this.withdraw(data, true, hashName);
    }
  }]);
  return BtcSwap;
}(_swap.SwapInterface);

exports.default = BtcSwap;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3181:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof2 = __webpack_require__(186);

var _typeof3 = _interopRequireDefault(_typeof2);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BchSwap = function (_SwapInterface) {
  (0, _inherits3.default)(BchSwap, _SwapInterface);

  /**
   *
   * @param options
   * @param options.fetchBalance
   * @param options.fetchUnspents
   * @param options.broadcastTx
   * @param options.fetchTxInfo {(tx_hash) => Promise({ confidence, fees })}
   * @param options.estimateFeeValue { ({ inSatoshis, speed, address, txSize }) => Promise(fee_value) }
   */
  function BchSwap(options) {
    (0, _classCallCheck3.default)(this, BchSwap);

    var _this = (0, _possibleConstructorReturn3.default)(this, (BchSwap.__proto__ || (0, _getPrototypeOf2.default)(BchSwap)).call(this));

    if (typeof options.fetchBalance !== 'function') {
      throw new Error('BchSwap: "fetchBalance" required');
    }
    if (typeof options.fetchUnspents !== 'function') {
      throw new Error('BchSwap: "fetchUnspents" required');
    }
    if (typeof options.broadcastTx !== 'function') {
      throw new Error('BchSwap: "broadcastTx" required');
    }
    if (typeof options.fetchTxInfo !== 'function') {
      // tx_hash => { confidence, fees }
      console.warn('BchSwap: "fetchTxInfo" is not a function. You will not be able to use tx-confidence feature');
    }
    if (typeof options.estimateFeeValue !== 'function') {
      // ({ speed } = {}) => feeRate
      console.warn('BchSwap: "estimateFeeValue" is not a function. You will not be able use automatic mempool-based fee');
    }

    _this._swapName = _swap.constants.COINS.bch;
    _this.fetchBalance = options.fetchBalance;
    _this.fetchUnspents = options.fetchUnspents;
    _this.broadcastTx = options.broadcastTx;
    _this.feeValue = options.feeValue || 546;
    _this.fetchTxInfo = options.fetchTxInfo || function () {};
    _this.estimateFeeValue = options.estimateFeeValue || function () {
      return 0;
    };
    return _this;
  }

  (0, _createClass3.default)(BchSwap, [{
    key: '_initSwap',
    value: function _initSwap(app) {
      (0, _get3.default)(BchSwap.prototype.__proto__ || (0, _getPrototypeOf2.default)(BchSwap.prototype), '_initSwap', this).call(this, app);

      this.app = app;

      this.network = this.app.isMainNet() ? this.app.env.bitcoincash.networks.bitcoincash : this.app.env.bitcoincash.networks.testnet;
    }

    /**
     *
     * @param {object} options
     * @param {boolean} options.inSatoshis
     * @param {Number} options.size
     * @param {String} options.speed
     * @param {String} options.address
     * @returns {BigNumber}
     * @public
     */

  }, {
    key: 'getTxFee',
    value: function () {
      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
            inSatoshis = _ref2.inSatoshis,
            size = _ref2.size,
            _ref2$speed = _ref2.speed,
            speed = _ref2$speed === undefined ? 'fast' : _ref2$speed,
            address = _ref2.address;

        var estimatedFee;
        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.t0 = _bignumber2.default;
                _context.next = 3;
                return this.estimateFeeValue({ inSatoshis: inSatoshis, address: address, speed: speed, txSize: size });

              case 3:
                _context.t1 = _context.sent;
                estimatedFee = (0, _context.t0)(_context.t1);


                this.feeValue = estimatedFee;

                return _context.abrupt('return', inSatoshis ? estimatedFee : estimatedFee.dividedBy(1e8).dp(0, _bignumber2.default.ROUND_UP));

              case 7:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function getTxFee() {
        return _ref.apply(this, arguments);
      }

      return getTxFee;
    }()

    /**
     *
     * @param {array} unspents
     * @param {Number} expectedConfidenceLevel
     * @returns {array}
     * @private
     */

  }, {
    key: 'filterConfidentUnspents',
    value: function () {
      var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(unspents) {
        var _this2 = this;

        var expectedConfidenceLevel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.95;
        var feesToConfidence, confirmationsToConfidence, fetchConfidence, confidences;
        return _regenerator2.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                feesToConfidence = function () {
                  var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(fees, size, address) {
                    var currentFastestFee;
                    return _regenerator2.default.wrap(function _callee2$(_context2) {
                      while (1) {
                        switch (_context2.prev = _context2.next) {
                          case 0:
                            _context2.next = 2;
                            return _this2.getTxFee({ inSatoshis: true, size: size, speed: 'fast', address: address });

                          case 2:
                            currentFastestFee = _context2.sent;


                            (0, _debug2.default)('swap.core:swaps')('currentFastestFee: ' + currentFastestFee);

                            return _context2.abrupt('return', (0, _bignumber2.default)(fees).isLessThan(currentFastestFee) ? (0, _bignumber2.default)(fees).dividedBy(currentFastestFee).toNumber() : 1);

                          case 5:
                          case 'end':
                            return _context2.stop();
                        }
                      }
                    }, _callee2, _this2);
                  }));

                  return function feesToConfidence(_x4, _x5, _x6) {
                    return _ref4.apply(this, arguments);
                  };
                }();

                confirmationsToConfidence = function confirmationsToConfidence(confs) {
                  return confs > 0 ? 1 : 0;
                };

                fetchConfidence = function () {
                  var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(_ref6) {
                    var txid = _ref6.txid,
                        confirmations = _ref6.confirmations;
                    var confidenceFromConfirmations, info, confidence, fees, size, senderAddress;
                    return _regenerator2.default.wrap(function _callee3$(_context3) {
                      while (1) {
                        switch (_context3.prev = _context3.next) {
                          case 0:
                            confidenceFromConfirmations = confirmationsToConfidence(confirmations);

                            if (!(0, _bignumber2.default)(confidenceFromConfirmations).isGreaterThanOrEqualTo(expectedConfidenceLevel)) {
                              _context3.next = 3;
                              break;
                            }

                            return _context3.abrupt('return', confidenceFromConfirmations);

                          case 3:
                            _context3.prev = 3;
                            _context3.next = 6;
                            return _this2.fetchTxInfo(txid);

                          case 6:
                            info = _context3.sent;
                            confidence = info.confidence, fees = info.fees, size = info.size, senderAddress = info.senderAddress;


                            (0, _debug2.default)('swap.core:swaps')('tx ' + txid + ':', { confidence: confidence, confirmations: confirmations, fees: fees, size: size, senderAddress: senderAddress });

                            if (!(0, _bignumber2.default)(confidence).isGreaterThan(0)) {
                              _context3.next = 11;
                              break;
                            }

                            return _context3.abrupt('return', confidence);

                          case 11:
                            if (!fees) {
                              _context3.next = 15;
                              break;
                            }

                            _context3.next = 14;
                            return feesToConfidence(fees, size, senderAddress);

                          case 14:
                            return _context3.abrupt('return', _context3.sent);

                          case 15:
                            throw new Error('txinfo=' + { confidence: confidence, confirmations: confirmations, fees: fees, size: size, senderAddress: senderAddress });

                          case 18:
                            _context3.prev = 18;
                            _context3.t0 = _context3['catch'](3);

                            console.error('BchSwap: Error fetching confidence: using confirmations > 0:', _context3.t0.message);
                            return _context3.abrupt('return', confidenceFromConfirmations);

                          case 22:
                          case 'end':
                            return _context3.stop();
                        }
                      }
                    }, _callee3, _this2, [[3, 18]]);
                  }));

                  return function fetchConfidence(_x7) {
                    return _ref5.apply(this, arguments);
                  };
                }();

                _context4.next = 5;
                return _promise2.default.all(unspents.map(fetchConfidence));

              case 5:
                confidences = _context4.sent;
                return _context4.abrupt('return', unspents.filter(function (utxo, index) {
                  (0, _debug2.default)('swap.core:swaps')('confidence[' + index + ']:', confidences[index]);
                  return (0, _bignumber2.default)(confidences[index]).isGreaterThanOrEqualTo(expectedConfidenceLevel);
                }));

              case 7:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function filterConfidentUnspents(_x2) {
        return _ref3.apply(this, arguments);
      }

      return filterConfidentUnspents;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.script
     * @param {*} data.tx
     * @param {string} data.secret
     * @param {number} inputIndex
     * @private
     */

  }, {
    key: '_signTransaction',
    value: function _signTransaction(data) {
      var inputIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

      (0, _debug2.default)('swap.core:swaps')('signing script input', inputIndex);
      var script = data.script,
          txRaw = data.txRaw,
          secret = data.secret,
          value = data.value;


      var hashType = this.app.env.bitcoincash.Transaction.SIGHASH_ALL | this.app.env.bitcoincash.Transaction.SIGHASH_BITCOINCASHBIP143;
      var signatureHash = txRaw.hashForCashSignature(inputIndex, script, value, hashType);

      var signature = this.app.services.auth.accounts.bch.sign(signatureHash).toScriptSignature(hashType);

      var scriptSig = this.app.env.bitcoincash.script.scriptHash.input.encode([signature, this.app.services.auth.accounts.bch.getPublicKeyBuffer(), Buffer.from(secret.replace(/^0x/, ''), 'hex')], script);

      txRaw.setInputScript(inputIndex, scriptSig);
    }

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @param {string} data.ownerPublicKey
     * @param {string} data.recipientPublicKey
     * @param {number} data.lockTime
     * @returns {{scriptAddress: *, script: (*|{ignored})}}
     */

  }, {
    key: 'createScript',
    value: function createScript(data) {
      var hashName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'ripemd160';

      var hashOpcodeName = 'OP_' + hashName.toUpperCase();
      var hashOpcode = this.app.env.bitcoincash.opcodes[hashOpcodeName];

      var secretHash = data.secretHash,
          ownerPublicKey = data.ownerPublicKey,
          recipientPublicKey = data.recipientPublicKey,
          lockTime = data.lockTime;


      var script = this.app.env.bitcoincash.script.compile([hashOpcode, Buffer.from(secretHash, 'hex'), this.app.env.bitcoincash.opcodes.OP_EQUALVERIFY, Buffer.from(recipientPublicKey, 'hex'), this.app.env.bitcoincash.opcodes.OP_EQUAL, this.app.env.bitcoincash.opcodes.OP_IF, Buffer.from(recipientPublicKey, 'hex'), this.app.env.bitcoincash.opcodes.OP_CHECKSIG, this.app.env.bitcoincash.opcodes.OP_ELSE, this.app.env.bitcoincash.script.number.encode(lockTime), this.app.env.bitcoincash.opcodes.OP_CHECKLOCKTIMEVERIFY, this.app.env.bitcoincash.opcodes.OP_DROP, Buffer.from(ownerPublicKey, 'hex'), this.app.env.bitcoincash.opcodes.OP_CHECKSIG, this.app.env.bitcoincash.opcodes.OP_ENDIF]);

      var scriptPubKey = this.app.env.bitcoincash.script.scriptHash.output.encode(this.app.env.bitcoincash.crypto.hash160(script));
      var scriptAddress = this.app.env.bitcoincash.address.fromOutputScript(scriptPubKey, this.network);

      return {
        scriptAddress: scriptAddress,
        script: script
      };
    }

    /**
     *
     * @param {object} data
     * @param {string} data.recipientPublicKey
     * @param {number} data.lockTime
     * @param {object} expected
     * @param {number} expected.value
     * @param {number} expected.lockTime
     * @param {string} expected.recipientPublicKey
     * @returns {Promise.<string>}
     */

  }, {
    key: 'checkScript',
    value: function () {
      var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(data, expected, hashName) {
        var recipientPublicKey, lockTime, _createScript, scriptAddress, script, expectedConfidence, unspents, expectedValue, totalUnspent, confidentUnspents, totalConfidentUnspent;

        return _regenerator2.default.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                recipientPublicKey = data.recipientPublicKey, lockTime = data.lockTime;
                _createScript = this.createScript(data, hashName), scriptAddress = _createScript.scriptAddress, script = _createScript.script;
                expectedConfidence = expected.confidence || 0.95;
                _context5.next = 5;
                return this.fetchUnspents(scriptAddress);

              case 5:
                unspents = _context5.sent;
                expectedValue = expected.value.multipliedBy(1e8).integerValue();
                totalUnspent = unspents.reduce(function (summ, _ref8) {
                  var satoshis = _ref8.satoshis;
                  return summ + satoshis;
                }, 0);
                _context5.next = 10;
                return this.filterConfidentUnspents(unspents, expectedConfidence);

              case 10:
                confidentUnspents = _context5.sent;
                totalConfidentUnspent = confidentUnspents.reduce(function (summ, _ref9) {
                  var satoshis = _ref9.satoshis;
                  return summ + satoshis;
                }, 0);

                if (!expectedValue.isGreaterThan(totalUnspent)) {
                  _context5.next = 14;
                  break;
                }

                return _context5.abrupt('return', 'Expected script value: ' + expectedValue.toNumber() + ', got: ' + totalUnspent + ', address: ' + scriptAddress);

              case 14:
                if (!(expected.lockTime > lockTime)) {
                  _context5.next = 16;
                  break;
                }

                return _context5.abrupt('return', 'Expected script lockTime: ' + expected.lockTime + ', got: ' + lockTime + ', address: ' + scriptAddress);

              case 16:
                if (!(expected.recipientPublicKey !== recipientPublicKey)) {
                  _context5.next = 18;
                  break;
                }

                return _context5.abrupt('return', 'Expected script recipient publicKey: ' + expected.recipientPublicKey + ', got: ' + recipientPublicKey);

              case 18:
                if (!expectedValue.isGreaterThan(totalConfidentUnspent)) {
                  _context5.next = 20;
                  break;
                }

                return _context5.abrupt('return', 'Expected script value: ' + expectedValue.toString() + ' with confidence above ' + expectedConfidence + ', got: ' + totalConfidentUnspent + ', address: ' + scriptAddress);

              case 20:
              case 'end':
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function checkScript(_x10, _x11, _x12) {
        return _ref7.apply(this, arguments);
      }

      return checkScript;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {BigNumber} data.amount
     * @param {function} handleTransactionHash
     * @param {string} hashName
     * @returns {Promise}
     */

  }, {
    key: 'fundScript',
    value: function fundScript(data, handleTransactionHash, hashName) {
      var _this3 = this;

      var scriptValues = data.scriptValues,
          amount = data.amount;


      return new _promise2.default(function () {
        var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(resolve, reject) {
          var _createScript2, scriptAddress, ownerAddress, tx, unspents, fundValue, feeValueBN, feeValue, totalUnspent, skipValue, txRaw, result;

          return _regenerator2.default.wrap(function _callee6$(_context6) {
            while (1) {
              switch (_context6.prev = _context6.next) {
                case 0:
                  _context6.prev = 0;
                  _createScript2 = _this3.createScript(scriptValues, hashName), scriptAddress = _createScript2.scriptAddress;
                  ownerAddress = _this3.app.services.auth.accounts.bch.getAddress();
                  tx = new _this3.app.env.bitcoincash.TransactionBuilder(_this3.network);
                  _context6.next = 6;
                  return _this3.fetchUnspents(ownerAddress);

                case 6:
                  unspents = _context6.sent;
                  fundValue = amount.multipliedBy(1e8).integerValue().toNumber();
                  _context6.next = 10;
                  return _this3.getTxFee({ inSatoshis: true, address: ownerAddress });

                case 10:
                  feeValueBN = _context6.sent;
                  feeValue = feeValueBN.integerValue().toNumber();
                  totalUnspent = unspents.reduce(function (summ, _ref11) {
                    var satoshis = _ref11.satoshis;
                    return summ + satoshis;
                  }, 0);
                  skipValue = totalUnspent - fundValue - feeValue;

                  if (!(totalUnspent < feeValue + fundValue)) {
                    _context6.next = 16;
                    break;
                  }

                  throw new Error('Total less than fee: ' + totalUnspent + ' < ' + feeValue + ' + ' + fundValue);

                case 16:

                  unspents.forEach(function (_ref12) {
                    var txid = _ref12.txid,
                        vout = _ref12.vout;
                    return tx.addInput(txid, vout);
                  });
                  tx.addOutput(_this3.app.env.bchaddr.toLegacyAddress(scriptAddress), fundValue);
                  tx.addOutput(_this3.app.env.bchaddr.toLegacyAddress(ownerAddress), skipValue);
                  tx.inputs.forEach(function (input, index) {
                    var amount = unspents[index].satoshis;
                    tx.sign(index, _this3.app.services.auth.accounts.bch, null, _this3.app.env.bitcoincash.Transaction.SIGHASH_ALL, amount, null);
                  });

                  txRaw = tx.buildIncomplete();


                  if (typeof handleTransactionHash === 'function') {
                    handleTransactionHash(txRaw.getId());
                  }

                  _context6.prev = 22;
                  _context6.next = 25;
                  return _this3.broadcastTx(txRaw.toHex());

                case 25:
                  result = _context6.sent;


                  resolve(result);
                  _context6.next = 32;
                  break;

                case 29:
                  _context6.prev = 29;
                  _context6.t0 = _context6['catch'](22);

                  reject(_context6.t0);

                case 32:
                  _context6.next = 37;
                  break;

                case 34:
                  _context6.prev = 34;
                  _context6.t1 = _context6['catch'](0);

                  reject(_context6.t1);

                case 37:
                case 'end':
                  return _context6.stop();
              }
            }
          }, _callee6, _this3, [[0, 34], [22, 29]]);
        }));

        return function (_x13, _x14) {
          return _ref10.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {object|string} data - scriptValues or wallet address
     * @returns {Promise.<void>}
     */

  }, {
    key: 'getBalance',
    value: function () {
      var _ref13 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(data, hashName) {
        var address, _createScript3, scriptAddress, unspents, totalUnspent;

        return _regenerator2.default.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                address = void 0;

                if (!(typeof data === 'string')) {
                  _context7.next = 5;
                  break;
                }

                address = data;
                _context7.next = 11;
                break;

              case 5:
                if (!((typeof data === 'undefined' ? 'undefined' : (0, _typeof3.default)(data)) === 'object')) {
                  _context7.next = 10;
                  break;
                }

                _createScript3 = this.createScript(data, hashName), scriptAddress = _createScript3.scriptAddress;


                address = scriptAddress;
                _context7.next = 11;
                break;

              case 10:
                throw new Error('Wrong data type');

              case 11:
                _context7.next = 13;
                return this.fetchUnspents(address);

              case 13:
                unspents = _context7.sent;
                totalUnspent = unspents && unspents.length && unspents.reduce(function (summ, _ref14) {
                  var satoshis = _ref14.satoshis;
                  return summ + satoshis;
                }, 0) || 0;
                return _context7.abrupt('return', totalUnspent);

              case 16:
              case 'end':
                return _context7.stop();
            }
          }
        }, _callee7, this);
      }));

      function getBalance(_x15, _x16) {
        return _ref13.apply(this, arguments);
      }

      return getBalance;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {boolean} isRefund
     * @returns {Promise}
     */

  }, {
    key: 'getWithdrawRawTransaction',
    value: function () {
      var _ref15 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8(data, isRefund, hashName) {
        var _this4 = this;

        var scriptValues, secret, _createScript4, script, scriptAddress, ownerAddress, destinationAddress, tx, unspents, feeValueBN, feeValue, totalUnspent, skipValue, txRaw;

        return _regenerator2.default.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                scriptValues = data.scriptValues, secret = data.secret;
                _createScript4 = this.createScript(scriptValues, hashName), script = _createScript4.script, scriptAddress = _createScript4.scriptAddress;
                ownerAddress = this.app.services.auth.accounts.bch.getAddress();
                destinationAddress = data.destinationAddress;
                tx = new this.app.env.bitcoincash.TransactionBuilder(this.network);
                _context8.next = 7;
                return this.fetchUnspents(scriptAddress);

              case 7:
                unspents = _context8.sent;
                _context8.next = 10;
                return this.getTxFee({ inSatoshis: true, address: scriptAddress });

              case 10:
                feeValueBN = _context8.sent;
                feeValue = feeValueBN.integerValue().toNumber();
                totalUnspent = unspents.reduce(function (summ, _ref16) {
                  var satoshis = _ref16.satoshis;
                  return summ + satoshis;
                }, 0);
                skipValue = totalUnspent - feeValue;

                if (!(0, _bignumber2.default)(totalUnspent).isLessThan(feeValue)) {
                  _context8.next = 16;
                  break;
                }

                throw new Error('Total less than fee: ' + totalUnspent + ' < ' + feeValue);

              case 16:

                if (isRefund) {
                  tx.setLockTime(scriptValues.lockTime);
                }

                unspents.forEach(function (_ref17) {
                  var txid = _ref17.txid,
                      vout = _ref17.vout;
                  return tx.addInput(txid, vout, 0xfffffffe);
                });
                tx.addOutput(this.app.env.bchaddr.toLegacyAddress(destinationAddress || ownerAddress), skipValue);

                txRaw = tx.buildIncomplete();


                unspents.map(function (item, index) {
                  return _this4._signTransaction({
                    script: script,
                    secret: secret,
                    txRaw: txRaw,
                    value: item.satoshis
                  }, index);
                });

                return _context8.abrupt('return', txRaw);

              case 22:
              case 'end':
                return _context8.stop();
            }
          }
        }, _callee8, this);
      }));

      function getWithdrawRawTransaction(_x17, _x18, _x19) {
        return _ref15.apply(this, arguments);
      }

      return getWithdrawRawTransaction;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {boolean} isRefund
     * @returns {Promise}
     */

  }, {
    key: 'getWithdrawHexTransaction',
    value: function () {
      var _ref18 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9(data, isRefund) {
        var txRaw;
        return _regenerator2.default.wrap(function _callee9$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                _context9.next = 2;
                return this.getWithdrawRawTransaction(data, isRefund);

              case 2:
                txRaw = _context9.sent;
                return _context9.abrupt('return', txRaw.toHex());

              case 4:
              case 'end':
                return _context9.stop();
            }
          }
        }, _callee9, this);
      }));

      function getWithdrawHexTransaction(_x20, _x21) {
        return _ref18.apply(this, arguments);
      }

      return getWithdrawHexTransaction;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @returns {Promise}
     */

  }, {
    key: 'getRefundRawTransaction',
    value: function getRefundRawTransaction(data) {
      return this.getWithdrawRawTransaction(data, true);
    }

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @returns {Promise}
     */

  }, {
    key: 'getRefundHexTransaction',
    value: function () {
      var _ref19 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee10(data) {
        var txRaw;
        return _regenerator2.default.wrap(function _callee10$(_context10) {
          while (1) {
            switch (_context10.prev = _context10.next) {
              case 0:
                _context10.next = 2;
                return this.getRefundRawTransaction(data);

              case 2:
                txRaw = _context10.sent;
                return _context10.abrupt('return', txRaw.toHex());

              case 4:
              case 'end':
                return _context10.stop();
            }
          }
        }, _callee10, this);
      }));

      function getRefundHexTransaction(_x22) {
        return _ref19.apply(this, arguments);
      }

      return getRefundHexTransaction;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {function} handleTransactionHash
     * @param {boolean} isRefund
     * @param {string} hashName
     * @returns {Promise}
     */

  }, {
    key: 'withdraw',
    value: function withdraw(data, handleTransactionHash, isRefund, hashName) {
      var _this5 = this;

      return new _promise2.default(function () {
        var _ref20 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee11(resolve, reject) {
          var txRaw, result;
          return _regenerator2.default.wrap(function _callee11$(_context11) {
            while (1) {
              switch (_context11.prev = _context11.next) {
                case 0:
                  _context11.prev = 0;
                  _context11.next = 3;
                  return _this5.getWithdrawRawTransaction(data, isRefund, hashName);

                case 3:
                  txRaw = _context11.sent;

                  (0, _debug2.default)('swap.core:swaps')('raw tx withdraw', txRaw.toHex());

                  if (typeof handleTransactionHash === 'function') {
                    handleTransactionHash(txRaw.getId());
                  }
                  console.warn('txRaw', txRaw.toHex());
                  _context11.next = 9;
                  return _this5.broadcastTx(txRaw.toHex());

                case 9:
                  result = _context11.sent;


                  resolve(result);
                  _context11.next = 16;
                  break;

                case 13:
                  _context11.prev = 13;
                  _context11.t0 = _context11['catch'](0);

                  reject(_context11.t0);

                case 16:
                case 'end':
                  return _context11.stop();
              }
            }
          }, _callee11, _this5, [[0, 13]]);
        }));

        return function (_x23, _x24) {
          return _ref20.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'refund',
    value: function refund(data, handleTransactionHash) {
      return this.withdraw(data, handleTransactionHash, true);
    }
  }]);
  return BchSwap;
}(_swap.SwapInterface);

exports.default = BchSwap;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3182:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof2 = __webpack_require__(186);

var _typeof3 = _interopRequireDefault(_typeof2);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LtcSwap = function (_SwapInterface) {
  (0, _inherits3.default)(LtcSwap, _SwapInterface);

  /**
   *
   * @param options
   * @param options.fetchBalance
   * @param options.fetchUnspents
   * @param options.broadcastTx
   * @param options.fetchTx
   */
  function LtcSwap(options) {
    (0, _classCallCheck3.default)(this, LtcSwap);

    var _this = (0, _possibleConstructorReturn3.default)(this, (LtcSwap.__proto__ || (0, _getPrototypeOf2.default)(LtcSwap)).call(this));

    _this.getSecretFromTxhash = function (transactionHash) {
      return _swap.util.helpers.repeatAsyncUntilResult(function () {
        return _this.fetchTx(transactionHash).then(function (txResult) {
          return txResult.vin[0].scriptSig.asm.split(' ')[2];
        });
      });
    };

    if (typeof options.fetchBalance !== 'function') {
      throw new Error('LtcSwap: "fetchBalance" required');
    }
    if (typeof options.fetchUnspents !== 'function') {
      throw new Error('LtcSwap: "fetchUnspents" required');
    }
    if (typeof options.broadcastTx !== 'function') {
      throw new Error('LtcSwap: "broadcastTx" required');
    }
    if (typeof options.fetchTx !== 'function') {
      throw new Error('LtcSwap: "fetchTx" required');
    }

    _this._swapName = _swap.constants.COINS.ltc;
    _this.fetchBalance = options.fetchBalance;
    _this.fetchUnspents = options.fetchUnspents;
    _this.broadcastTx = options.broadcastTx;
    _this.fetchTx = options.fetchTx;
    _this.feeValue = options.feeValue || 100000;
    return _this;
  }

  (0, _createClass3.default)(LtcSwap, [{
    key: '_initSwap',
    value: function _initSwap(app) {
      (0, _get3.default)(LtcSwap.prototype.__proto__ || (0, _getPrototypeOf2.default)(LtcSwap.prototype), '_initSwap', this).call(this, app);

      this.app = app;

      this.network = this.app.services.auth.accounts.ltc.network; // TODO: templess solution, try to find better solution
      /*
      * this.network != this.app.services.auth.accounts.ltc.network
      *
      this.network = (
       this.app.isMainNet()
         ? this.app.env.coininfo.litecoin.main
         : this.app.env.coininfo.litecoin.test
      ).toBitcoinJS()
      */
    }

    /**
     *
     * @param {object} data
     * @param {object} data.script
     * @param {*} data.txRaw
     * @param {string} data.secret
     * @private
     */

  }, {
    key: '_signTransaction',
    value: function _signTransaction(data) {
      var script = data.script,
          txRaw = data.txRaw,
          secret = data.secret;


      var hashType = this.app.env.bitcoin.Transaction.SIGHASH_ALL;
      var signatureHash = txRaw.hashForSignature(0, script, hashType);
      var signature = this.app.services.auth.accounts.ltc.sign(signatureHash).toScriptSignature(hashType);

      var scriptSig = this.app.env.bitcoin.script.scriptHash.input.encode([signature, this.app.services.auth.accounts.ltc.getPublicKeyBuffer(), Buffer.from(secret.replace(/^0x/, ''), 'hex')], script);

      txRaw.setInputScript(0, scriptSig);
    }

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @param {string} data.ownerPublicKey
     * @param {string} data.recipientPublicKey
     * @param {number} data.lockTime
     * @returns {{scriptAddress: *, script: (*|{ignored})}}
     */

  }, {
    key: 'createScript',
    value: function createScript(data) {
      var hashName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'ripemd160';

      var hashOpcodeName = 'OP_' + hashName.toUpperCase();
      var hashOpcode = this.app.env.bitcoin.opcodes[hashOpcodeName];

      var secretHash = data.secretHash,
          ownerPublicKey = data.ownerPublicKey,
          recipientPublicKey = data.recipientPublicKey,
          lockTime = data.lockTime;


      (0, _debug2.default)('swap.core:swaps')('DATA', data);

      var script = this.app.env.bitcoin.script.compile([hashOpcode, Buffer.from(secretHash, 'hex'), this.app.env.bitcoin.opcodes.OP_EQUALVERIFY, Buffer.from(recipientPublicKey, 'hex'), this.app.env.bitcoin.opcodes.OP_EQUAL, this.app.env.bitcoin.opcodes.OP_IF, Buffer.from(recipientPublicKey, 'hex'), this.app.env.bitcoin.opcodes.OP_CHECKSIG, this.app.env.bitcoin.opcodes.OP_ELSE, this.app.env.bitcoin.script.number.encode(lockTime), this.app.env.bitcoin.opcodes.OP_CHECKLOCKTIMEVERIFY, this.app.env.bitcoin.opcodes.OP_DROP, Buffer.from(ownerPublicKey, 'hex'), this.app.env.bitcoin.opcodes.OP_CHECKSIG, this.app.env.bitcoin.opcodes.OP_ENDIF]);

      var scriptPubKey = this.app.env.bitcoin.script.scriptHash.output.encode(this.app.env.bitcoin.crypto.hash160(script));
      var scriptAddress = this.app.env.bitcoin.address.fromOutputScript(scriptPubKey, this.network);

      return {
        scriptAddress: scriptAddress,
        script: script
      };
    }

    /**
     *
     * @param {object} data
     * @param {string} data.recipientPublicKey
     * @param {number} data.lockTime
     * @param {object} expected
     * @param {number} expected.value
     * @param {number} expected.lockTime
     * @param {string} expected.recipientPublicKey
     * @returns {Promise.<string>}
     */

  }, {
    key: 'checkScript',
    value: function () {
      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(data, expected, hashName) {
        var recipientPublicKey, lockTime, _createScript, scriptAddress, script, unspents, totalUnspent, expectedValue;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                recipientPublicKey = data.recipientPublicKey, lockTime = data.lockTime;
                _createScript = this.createScript(data, hashName), scriptAddress = _createScript.scriptAddress, script = _createScript.script;
                _context.next = 4;
                return this.fetchUnspents(scriptAddress);

              case 4:
                unspents = _context.sent;
                totalUnspent = unspents.reduce(function (summ, _ref2) {
                  var satoshis = _ref2.satoshis;
                  return summ + satoshis;
                }, 0);
                expectedValue = expected.value.multipliedBy(1e8).integerValue();

                if (!expectedValue.isGreaterThan(totalUnspent)) {
                  _context.next = 9;
                  break;
                }

                return _context.abrupt('return', 'Expected script value: ' + expectedValue.toNumber() + ', got: ' + totalUnspent);

              case 9:
                if (!(expected.lockTime > lockTime)) {
                  _context.next = 11;
                  break;
                }

                return _context.abrupt('return', 'Expected script lockTime: ' + expected.lockTime + ', got: ' + lockTime);

              case 11:
                if (!(expected.recipientPublicKey !== recipientPublicKey)) {
                  _context.next = 13;
                  break;
                }

                return _context.abrupt('return', 'Expected script recipient publicKey: ' + expected.recipientPublicKey + ', got: ' + recipientPublicKey);

              case 13:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function checkScript(_x2, _x3, _x4) {
        return _ref.apply(this, arguments);
      }

      return checkScript;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {BigNumber} data.amount
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'fundScript',
    value: function fundScript(data, handleTransactionHash, hashName) {
      var _this2 = this;

      var scriptValues = data.scriptValues,
          amount = data.amount;


      return new _promise2.default(function () {
        var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(resolve, reject) {
          var _createScript2, scriptAddress, tx, unspents, fundValue, feeValue, totalUnspent, skipValue, txRaw, result;

          return _regenerator2.default.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.prev = 0;
                  _createScript2 = _this2.createScript(scriptValues, hashName), scriptAddress = _createScript2.scriptAddress;
                  tx = new _this2.app.env.bitcoin.TransactionBuilder(_this2.network);
                  _context2.next = 5;
                  return _this2.fetchUnspents(_this2.app.services.auth.accounts.ltc.getAddress());

                case 5:
                  unspents = _context2.sent;
                  fundValue = amount.multipliedBy(1e8).integerValue().toNumber();
                  feeValue = _this2.feeValue; // TODO how to get this value

                  totalUnspent = unspents.reduce(function (summ, _ref4) {
                    var satoshis = _ref4.satoshis;
                    return summ + satoshis;
                  }, 0);
                  skipValue = totalUnspent - fundValue - feeValue;

                  if (!(totalUnspent < feeValue + fundValue)) {
                    _context2.next = 12;
                    break;
                  }

                  throw new Error('Total less than fee: ' + totalUnspent + ' < ' + feeValue + ' + ' + fundValue);

                case 12:

                  unspents.forEach(function (_ref5) {
                    var txid = _ref5.txid,
                        vout = _ref5.vout;
                    return tx.addInput(txid, vout);
                  });
                  tx.addOutput(scriptAddress, fundValue);
                  tx.addOutput(_this2.app.services.auth.accounts.ltc.getAddress(), skipValue);
                  tx.inputs.forEach(function (input, index) {
                    tx.sign(index, _this2.app.services.auth.accounts.ltc);
                  });

                  txRaw = tx.buildIncomplete();


                  if (typeof handleTransactionHash === 'function') {
                    handleTransactionHash(txRaw.getId());
                  }

                  _context2.prev = 18;
                  _context2.next = 21;
                  return _this2.broadcastTx(txRaw.toHex());

                case 21:
                  result = _context2.sent;


                  resolve(result);
                  _context2.next = 28;
                  break;

                case 25:
                  _context2.prev = 25;
                  _context2.t0 = _context2['catch'](18);

                  reject(_context2.t0);

                case 28:
                  _context2.next = 33;
                  break;

                case 30:
                  _context2.prev = 30;
                  _context2.t1 = _context2['catch'](0);

                  reject(_context2.t1);

                case 33:
                case 'end':
                  return _context2.stop();
              }
            }
          }, _callee2, _this2, [[0, 30], [18, 25]]);
        }));

        return function (_x5, _x6) {
          return _ref3.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {object|string} data - scriptValues or wallet address
     * @returns {Promise.<void>}
     */

  }, {
    key: 'getBalance',
    value: function () {
      var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(data, hashName) {
        var address, _createScript3, scriptAddress, unspents, totalUnspent;

        return _regenerator2.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                address = void 0;

                if (!(typeof data === 'string')) {
                  _context3.next = 5;
                  break;
                }

                address = data;
                _context3.next = 11;
                break;

              case 5:
                if (!((typeof data === 'undefined' ? 'undefined' : (0, _typeof3.default)(data)) === 'object')) {
                  _context3.next = 10;
                  break;
                }

                _createScript3 = this.createScript(data, hashName), scriptAddress = _createScript3.scriptAddress;


                address = scriptAddress;
                _context3.next = 11;
                break;

              case 10:
                throw new Error('Wrong data type');

              case 11:
                _context3.next = 13;
                return this.fetchUnspents(address);

              case 13:
                unspents = _context3.sent;
                totalUnspent = unspents && unspents.length && unspents.reduce(function (summ, _ref7) {
                  var satoshis = _ref7.satoshis;
                  return summ + satoshis;
                }, 0) || 0;
                return _context3.abrupt('return', totalUnspent);

              case 16:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function getBalance(_x7, _x8) {
        return _ref6.apply(this, arguments);
      }

      return getBalance;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {boolean} isRefund
     * @returns {Promise}
     */

  }, {
    key: 'getWithdrawRawTransaction',
    value: function () {
      var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(data, isRefund, hashName) {
        var scriptValues, secret, _createScript4, script, scriptAddress, tx, unspents, feeValue, totalUnspent, txRaw;

        return _regenerator2.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                scriptValues = data.scriptValues, secret = data.secret;
                _createScript4 = this.createScript(scriptValues, hashName), script = _createScript4.script, scriptAddress = _createScript4.scriptAddress;
                tx = new this.app.env.bitcoin.TransactionBuilder(this.network);
                _context4.next = 5;
                return this.fetchUnspents(scriptAddress);

              case 5:
                unspents = _context4.sent;
                feeValue = this.feeValue; // TODO how to get this value

                totalUnspent = unspents.reduce(function (summ, _ref9) {
                  var satoshis = _ref9.satoshis;
                  return summ + satoshis;
                }, 0);

                if (!(totalUnspent < feeValue)) {
                  _context4.next = 10;
                  break;
                }

                throw new Error('Total less than fee: ' + totalUnspent + ' < ' + feeValue);

              case 10:

                if (isRefund) {
                  tx.setLockTime(scriptValues.lockTime);
                }

                unspents.forEach(function (_ref10) {
                  var txid = _ref10.txid,
                      vout = _ref10.vout;
                  return tx.addInput(txid, vout, 0xfffffffe);
                });
                tx.addOutput(this.app.services.auth.accounts.ltc.getAddress(), totalUnspent - feeValue);

                txRaw = tx.buildIncomplete();


                this._signTransaction({
                  script: script,
                  secret: secret,
                  txRaw: txRaw
                });

                return _context4.abrupt('return', txRaw);

              case 16:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function getWithdrawRawTransaction(_x9, _x10, _x11) {
        return _ref8.apply(this, arguments);
      }

      return getWithdrawRawTransaction;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {boolean} isRefund
     * @returns {Promise}
     */

  }, {
    key: 'getWithdrawHexTransaction',
    value: function () {
      var _ref11 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(data, isRefund) {
        var txRaw;
        return _regenerator2.default.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                _context5.next = 2;
                return this.getWithdrawRawTransaction(data, isRefund);

              case 2:
                txRaw = _context5.sent;
                return _context5.abrupt('return', txRaw.toHex());

              case 4:
              case 'end':
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function getWithdrawHexTransaction(_x12, _x13) {
        return _ref11.apply(this, arguments);
      }

      return getWithdrawHexTransaction;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @returns {Promise}
     */

  }, {
    key: 'getRefundRawTransaction',
    value: function getRefundRawTransaction(data) {
      return this.getWithdrawRawTransaction(data, true);
    }

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @returns {Promise}
     */

  }, {
    key: 'getRefundHexTransaction',
    value: function () {
      var _ref12 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(data) {
        var txRaw;
        return _regenerator2.default.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                _context6.next = 2;
                return this.getRefundRawTransaction(data);

              case 2:
                txRaw = _context6.sent;
                return _context6.abrupt('return', txRaw.toHex());

              case 4:
              case 'end':
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function getRefundHexTransaction(_x14) {
        return _ref12.apply(this, arguments);
      }

      return getRefundHexTransaction;
    }()

    /**
     *
     * @param {object} data
     * @param {string} data.ownerAddress
     * @param {BigNumber} data.expectedValue
     * @returns {Promise.<string>}
     */

  }, {
    key: 'checkBalance',
    value: function () {
      var _ref13 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(data) {
        var _this3 = this;

        var ownerAddress, expectedValue, balance;
        return _regenerator2.default.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                ownerAddress = data.ownerAddress, expectedValue = data.expectedValue;
                _context7.next = 3;
                return _swap.util.helpers.repeatAsyncUntilResult(function () {
                  return _this3.getBalance(ownerAddress);
                });

              case 3:
                balance = _context7.sent;

                if (!expectedValue.isGreaterThan(balance)) {
                  _context7.next = 6;
                  break;
                }

                return _context7.abrupt('return', 'Expected value: ' + expectedValue.toNumber() + ', got: ' + balance);

              case 6:
              case 'end':
                return _context7.stop();
            }
          }
        }, _callee7, this);
      }));

      function checkBalance(_x15) {
        return _ref13.apply(this, arguments);
      }

      return checkBalance;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {function} handleTransactionHash
     * @param {boolean} isRefund
     * @returns {Promise}
     */

  }, {
    key: 'withdraw',
    value: function withdraw(data, handleTransactionHash, isRefund, hashName) {
      var _this4 = this;

      return new _promise2.default(function () {
        var _ref14 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8(resolve, reject) {
          var txRaw, result;
          return _regenerator2.default.wrap(function _callee8$(_context8) {
            while (1) {
              switch (_context8.prev = _context8.next) {
                case 0:
                  _context8.prev = 0;
                  _context8.next = 3;
                  return _this4.getWithdrawRawTransaction(data, isRefund, hashName);

                case 3:
                  txRaw = _context8.sent;

                  (0, _debug2.default)('swap.core:swaps')('raw tx withdraw', txRaw.toHex());

                  if (typeof handleTransactionHash === 'function') {
                    handleTransactionHash(txRaw.getId());
                  }

                  _context8.next = 8;
                  return _this4.broadcastTx(txRaw.toHex());

                case 8:
                  result = _context8.sent;


                  resolve(result);
                  _context8.next = 15;
                  break;

                case 12:
                  _context8.prev = 12;
                  _context8.t0 = _context8['catch'](0);

                  reject(_context8.t0);

                case 15:
                case 'end':
                  return _context8.stop();
              }
            }
          }, _callee8, _this4, [[0, 12]]);
        }));

        return function (_x16, _x17) {
          return _ref14.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'refund',
    value: function refund(data, handleTransactionHash) {
      return this.withdraw(data, handleTransactionHash, true);
    }

    /**
     *
     * @param {string} transactionHash
     * @returns {Promise<any>}
     */

  }]);
  return LtcSwap;
}(_swap.SwapInterface);

exports.default = LtcSwap;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3183:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _parseFloat = __webpack_require__(375);

var _parseFloat2 = _interopRequireDefault(_parseFloat);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var amountToUnits = function amountToUnits(amount) {
  return (0, _parseFloat2.default)(amount.toString()).toFixed(4) * 10 ** 4;
};

var amountToAsset = function amountToAsset(amount) {
  return (0, _parseFloat2.default)(amount.toString()).toFixed(4).concat(' EOS');
};

var EosSwap = function (_SwapInterface) {
  (0, _inherits3.default)(EosSwap, _SwapInterface);

  function EosSwap(options) {
    (0, _classCallCheck3.default)(this, EosSwap);

    var _this = (0, _possibleConstructorReturn3.default)(this, (EosSwap.__proto__ || (0, _getPrototypeOf2.default)(EosSwap)).call(this));

    _this._getAccounts = function () {
      return {
        userAccount: _this.app.services.auth.getPublicData().eos.address,
        swapAccount: _this.swapAccount,
        tokenAccount: 'eosio.token'
      };
    };

    _this._swapName = _swap.constants.COINS.eos;

    _this.swapAccount = options.swapAccount;
    _this.swapLockPeriod = options.swapLockPeriod;

    _this.eos = null;
    return _this;
  }

  (0, _createClass3.default)(EosSwap, [{
    key: '_initSwap',
    value: function _initSwap(app) {
      (0, _get3.default)(EosSwap.prototype.__proto__ || (0, _getPrototypeOf2.default)(EosSwap.prototype), '_initSwap', this).call(this, app);

      this.app = app;
    }
  }, {
    key: '_lazyInit',
    value: function _lazyInit() {
      var _this2 = this;

      return this.app.env.eos.getInstance().then(function (eosInstance) {
        _this2.eos = eosInstance;
      });
    }
  }, {
    key: '_getAllSwaps',
    value: function _getAllSwaps() {
      return this.eos.getTableRows({
        code: this.swapAccount,
        scope: this.swapAccount,
        table: 'swap',
        json: true,
        limit: 1000
      });
    }
  }, {
    key: '_findSwaps',
    value: function _findSwaps(_ref) {
      var btcOwner = _ref.btcOwner,
          eosOwner = _ref.eosOwner;

      var encodedEosOwner = new _bignumber2.default(this.eos.modules.format.encodeName(eosOwner, false));

      return this.eos.getTableRows({
        code: this.swapAccount,
        scope: this.swapAccount,
        table: 'swap',
        json: true,
        key_type: 'i64',
        index_position: 2,
        lower_bound: encodedEosOwner.toString(),
        upper_bound: encodedEosOwner.plus(1).toString()
      }).then(function (result) {
        return result.rows.filter(function (row) {
          return row.eosOwner === eosOwner && row.btcOwner === btcOwner;
        });
      });
    }
  }, {
    key: '_findOpenSwapID',
    value: function _findOpenSwapID(_ref2) {
      var btcOwner = _ref2.btcOwner,
          eosOwner = _ref2.eosOwner;

      return this._findSwaps({ btcOwner: btcOwner, eosOwner: eosOwner }).then(function (swaps) {
        var openSwap = swaps.find(function (swap) {
          return swap.status === 0;
        });
        return openSwap ? openSwap.swapID : null;
      });
    }
  }, {
    key: '_findActiveSwapID',
    value: function _findActiveSwapID(_ref3) {
      var btcOwner = _ref3.btcOwner,
          eosOwner = _ref3.eosOwner;

      return this._findSwaps({ btcOwner: btcOwner, eosOwner: eosOwner }).then(function (swaps) {
        var activeSwap = swaps.find(function (swap) {
          return swap.status === 1;
        });
        return activeSwap ? activeSwap.swapID : null;
      });
    }
  }, {
    key: 'open',
    value: function open(_ref4, finishCallback) {
      var _this3 = this;

      var btcOwner = _ref4.btcOwner,
          secretHash = _ref4.secretHash,
          amount = _ref4.amount;

      var _getAccounts = this._getAccounts(),
          eosOwner = _getAccounts.userAccount,
          swapAccount = _getAccounts.swapAccount,
          tokenAccount = _getAccounts.tokenAccount;

      var quantity = amountToAsset(amount);

      var openSwap = function openSwap() {
        return _this3.eos.transaction({
          actions: [{
            account: swapAccount,
            name: 'open',
            authorization: [{
              actor: eosOwner,
              permission: 'active'
            }],
            data: {
              secretHash: secretHash,
              eosOwner: eosOwner,
              btcOwner: btcOwner,
              quantity: quantity
            }
          }]
        });
      };

      var findSwapID = function findSwapID() {
        return _this3._findOpenSwapID({ btcOwner: btcOwner, eosOwner: eosOwner });
      };

      var depositFunds = function depositFunds(swapID) {
        (0, _debug2.default)('swap.core:swaps')('depositFunds', swapID);

        return _this3.eos.transaction({
          actions: [{
            account: tokenAccount,
            name: 'transfer',
            authorization: [{
              actor: eosOwner,
              permission: 'active'
            }],
            data: {
              from: eosOwner,
              to: swapAccount,
              quantity: quantity,
              memo: swapID
            }
          }]
        }).then(function (transaction) {
          return { transaction: transaction, swapID: swapID };
        });
      };

      var finish = function finish(_ref5) {
        var transaction = _ref5.transaction,
            swapID = _ref5.swapID;

        var openTx = transaction.transaction_id;
        if (typeof finishCallback === 'function') {
          finishCallback({ openTx: openTx, swapID: swapID });
        }
        return { openTx: openTx, swapID: swapID };
      };

      return this._lazyInit().then(openSwap.bind(this)).then(findSwapID.bind(this)).then(depositFunds.bind(this)).then(finish);
    }
  }, {
    key: 'withdraw',
    value: function withdraw(_ref6, finishCallback) {
      var _this4 = this;

      var eosOwner = _ref6.eosOwner,
          secret = _ref6.secret;

      var _getAccounts2 = this._getAccounts(),
          btcOwner = _getAccounts2.userAccount,
          swapAccount = _getAccounts2.swapAccount;

      var findSwapID = function findSwapID() {
        return _this4._findActiveSwapID({ btcOwner: btcOwner, eosOwner: eosOwner });
      };

      var withdrawDeposit = function withdrawDeposit(swapID) {
        return _this4.eos.transaction({
          actions: [{
            account: swapAccount,
            name: 'withdraw',
            authorization: [{
              actor: btcOwner,
              permission: 'active'
            }],
            data: {
              swapID: swapID, secret: secret
            }
          }]
        });
      };

      var finish = function finish(transaction) {
        var eosWithdrawTx = transaction.transaction_id;

        if (typeof finishCallback === 'function') {
          finishCallback(eosWithdrawTx);
        }
        return eosWithdrawTx;
      };

      return this._lazyInit().then(findSwapID.bind(this)).then(withdrawDeposit.bind(this)).then(finish);
    }
  }, {
    key: 'refund',
    value: function refund(_ref7, finishCallback) {
      var _this5 = this;

      var btcOwner = _ref7.btcOwner;

      var _getAccounts3 = this._getAccounts(),
          eosOwner = _getAccounts3.userAccount,
          swapAccount = _getAccounts3.swapAccount;

      var findSwapID = function findSwapID() {
        return _this5._findActiveSwapID({ btcOwner: btcOwner, eosOwner: eosOwner });
      };

      var refundDeposit = function refundDeposit(swapID) {
        return _this5.eos.transaction({
          actions: [{
            account: swapAccount,
            name: 'refund',
            authorization: [{
              actor: eosOwner,
              permission: 'active'
            }],
            data: {
              swapID: swapID
            }
          }]
        });
      };

      var finish = function finish(transaction) {
        var eosRefundTx = transaction.transaction_id;

        if (typeof finishCallback === 'function') {
          finishCallback(eosRefundTx);
        }
        return eosRefundTx;
      };

      return this._lazyInit().then(findSwapID.bind(this)).then(refundDeposit.bind(this)).then(finish);
    }
  }, {
    key: 'fetchSecret',
    value: function fetchSecret(_ref8) {
      var _this6 = this;

      var btcOwner = _ref8.btcOwner,
          eosOwner = _ref8.eosOwner;

      var fetchSecret = function () {
        var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
          var swaps, activeSwapID, finishedSwap;
          return _regenerator2.default.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  _context.next = 2;
                  return _this6._findSwaps({ btcOwner: btcOwner, eosOwner: eosOwner });

                case 2:
                  swaps = _context.sent;
                  activeSwapID = swaps.find(function (swap) {
                    return swap.status === 1;
                  });

                  if (activeSwapID) {
                    _context.next = 8;
                    break;
                  }

                  finishedSwap = swaps.reverse().find(function (swap) {
                    return swap.status === 2;
                  });

                  if (!finishedSwap) {
                    _context.next = 8;
                    break;
                  }

                  return _context.abrupt('return', finishedSwap.secret);

                case 8:
                  return _context.abrupt('return', 0);

                case 9:
                case 'end':
                  return _context.stop();
              }
            }
          }, _callee, _this6);
        }));

        return function fetchSecret() {
          return _ref9.apply(this, arguments);
        };
      }();

      return this._lazyInit().then(fetchSecret);
    }
  }, {
    key: 'getLockPeriod',
    value: function getLockPeriod() {
      return this.swapLockPeriod;
    }
  }]);
  return EosSwap;
}(_swap.SwapInterface);

exports.default = EosSwap;
module.exports = exports['default'];

/***/ }),

/***/ 3184:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Buffer) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof2 = __webpack_require__(186);

var _typeof3 = _interopRequireDefault(_typeof2);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(63);

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var FEE_VALUE = 2000; // satoshis TODO how to get this value
var DUST = 546;

var createOmniScript = __webpack_require__(1203);
var createScript = __webpack_require__(1204);
var createFundingTransaction = __webpack_require__(3185);

var UsdtSwap = function (_SwapInterface) {
  (0, _inherits3.default)(UsdtSwap, _SwapInterface);

  /**
   *
   * @param options
   * @param options.fetchBalance
   * @param options.fetchUnspents
   * @param options.broadcastTx
   */
  function UsdtSwap(options) {
    (0, _classCallCheck3.default)(this, UsdtSwap);

    var _this = (0, _possibleConstructorReturn3.default)(this, (UsdtSwap.__proto__ || (0, _getPrototypeOf2.default)(UsdtSwap)).call(this));

    if (typeof options.fetchBalance !== 'function') {
      throw new Error('UsdtSwap: "fetchBalance" required');
    }
    if (typeof options.fetchUnspents !== 'function') {
      throw new Error('UsdtSwap: "fetchUnspents" required');
    }
    if (typeof options.broadcastTx !== 'function') {
      throw new Error('UsdtSwap: "broadcastTx" required');
    }

    _this._swapName = _swap.constants.COINS.usdt;
    _this.fetchBalance = options.fetchBalance;
    _this.fetchUnspents = options.fetchUnspents;
    _this.broadcastTx = options.broadcastTx;
    _this.fetchTx = options.fetchTx;

    _this.getRecommendedFees = options.getRecommendedFees || function () {};
    return _this;
  }

  (0, _createClass3.default)(UsdtSwap, [{
    key: '_initSwap',
    value: function _initSwap(app) {
      (0, _get3.default)(UsdtSwap.prototype.__proto__ || (0, _getPrototypeOf2.default)(UsdtSwap.prototype), '_initSwap', this).call(this, app);

      this.app = app;

      this.network = this.app.isMainNet() ? this.app.env.bitcoin.networks.bitcoin : this.app.env.bitcoin.networks.testnet;

      if (!this.app.isMainNet()) {
        throw new Error('Sorry, USDT does not yet works on testnet!');
      }
    }

    /**
     *
     * @param {object} data
     * @param {object} data.script
     * @param {*} data.txRaw
     * @param {string} data.secret
     * @private
     */

  }, {
    key: '_signTransaction',
    value: function _signTransaction(data) {
      var inputIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      var script = data.script,
          txRaw = data.txRaw,
          secret = data.secret;


      var hashType = this.app.env.bitcoin.Transaction.SIGHASH_ALL;
      var signatureHash = txRaw.hashForSignature(inputIndex, script, hashType);
      var signature = this.app.services.auth.accounts.btc.sign(signatureHash).toScriptSignature(hashType);

      var scriptSig = this.app.env.bitcoin.script.scriptHash.input.encode([signature, this.app.services.auth.accounts.btc.getPublicKeyBuffer(), Buffer.from(secret.replace(/^0x/, ''), 'hex')], script);

      txRaw.setInputScript(inputIndex, scriptSig);
    }

    /**
     *
     * @param {object} data
     * @param {string} data.secretHash
     * @param {string} data.ownerPublicKey
     * @param {string} data.recipientPublicKey
     * @param {number} data.lockTime
     * @returns {{scriptAddress: *, script: (*|{ignored})}}
     */

  }, {
    key: 'createScript',
    value: function createScript(data) {
      var secretHash = data.secretHash,
          ownerPublicKey = data.ownerPublicKey,
          recipientPublicKey = data.recipientPublicKey,
          lockTime = data.lockTime;


      (0, _debug2.default)('swap.core:swaps')('DATA', data);

      var script = this.app.env.bitcoin.script.compile([this.app.env.bitcoin.opcodes.OP_RIPEMD160, Buffer.from(secretHash, 'hex'), this.app.env.bitcoin.opcodes.OP_EQUALVERIFY, Buffer.from(recipientPublicKey, 'hex'), this.app.env.bitcoin.opcodes.OP_EQUAL, this.app.env.bitcoin.opcodes.OP_IF, Buffer.from(recipientPublicKey, 'hex'), this.app.env.bitcoin.opcodes.OP_CHECKSIG, this.app.env.bitcoin.opcodes.OP_ELSE, this.app.env.bitcoin.script.number.encode(lockTime), this.app.env.bitcoin.opcodes.OP_CHECKLOCKTIMEVERIFY, this.app.env.bitcoin.opcodes.OP_DROP, Buffer.from(ownerPublicKey, 'hex'), this.app.env.bitcoin.opcodes.OP_CHECKSIG, this.app.env.bitcoin.opcodes.OP_ENDIF]);

      var scriptPubKey = this.app.env.bitcoin.script.scriptHash.output.encode(this.app.env.bitcoin.crypto.hash160(script));
      var scriptAddress = this.app.env.bitcoin.address.fromOutputScript(scriptPubKey, this.network);

      return {
        scriptAddress: scriptAddress,
        script: script
      };
    }

    /**
     *
     * @param {object} data
     * @param {string} data.recipientPublicKey
     * @param {number} data.lockTime
     * @param {object} expected
     * @param {number} expected.value
     * @param {number} expected.lockTime
     * @param {string} expected.recipientPublicKey
     * @returns {Promise.<string>}
     */

  }, {
    key: 'checkScript',
    value: function () {
      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(data, expected) {
        var scriptValues, fundingTxHash, secretHash, ownerPublicKey, recipientPublicKey, lockTime, _createScript, scriptAddress, script, unspents, totalUnspent, expectedValue, outputs, tx, htlcScriptOutput, fundedScriptAddress, omniOutput, omniScript, expectedOmniScript, expectedOmniOutput;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                scriptValues = data.scriptValues, fundingTxHash = data.fundingTxHash;
                secretHash = scriptValues.secretHash, ownerPublicKey = scriptValues.ownerPublicKey, recipientPublicKey = scriptValues.recipientPublicKey, lockTime = scriptValues.lockTime;
                _createScript = createScript(secretHash, ownerPublicKey, recipientPublicKey, lockTime), scriptAddress = _createScript.scriptAddress, script = _createScript.script;
                _context.next = 5;
                return this.fetchUnspents(scriptAddress);

              case 5:
                unspents = _context.sent;
                totalUnspent = unspents.reduce(function (summ, _ref2) {
                  var satoshis = _ref2.satoshis;
                  return summ + satoshis;
                }, 0);
                expectedValue = 546;

                if (!(expectedValue > totalUnspent)) {
                  _context.next = 10;
                  break;
                }

                return _context.abrupt('return', 'Expected script value: ' + expectedValue + ', got: ' + totalUnspent + '. Maybe the script was not mined?');

              case 10:
                outputs = void 0;
                _context.prev = 11;
                _context.next = 14;
                return this.fetchTx(fundingTxHash);

              case 14:
                tx = _context.sent;


                outputs = tx.vout;
                _context.next = 22;
                break;

              case 18:
                _context.prev = 18;
                _context.t0 = _context['catch'](11);

                console.error(_context.t0);
                return _context.abrupt('return', 'Can\'t get funding tx outputs ' + fundingTxHash);

              case 22:
                (0, _debug2.default)('swap.core:swaps')(outputs);

                if (!(!outputs || outputs.length < 2)) {
                  _context.next = 25;
                  break;
                }

                return _context.abrupt('return', 'Expected at least 2 outputs at funding tx ' + fundingTxHash + ', got: ' + outputs);

              case 25:

                // check output-0 is script with same address
                htlcScriptOutput = outputs[0];
                _context.prev = 26;
                fundedScriptAddress = htlcScriptOutput.scriptPubKey.addresses[0];

                if (!(scriptAddress !== fundedScriptAddress)) {
                  _context.next = 30;
                  break;
                }

                return _context.abrupt('return', 'Expected script address: ' + scriptAddress + ', got: ' + fundedScriptAddress);

              case 30:
                _context.next = 36;
                break;

              case 32:
                _context.prev = 32;
                _context.t1 = _context['catch'](26);

                console.error(_context.t1);
                return _context.abrupt('return', 'Expected script address: ' + scriptAddress + ', got error at ' + htlcScriptOutput);

              case 36:

                // check output-1 is a OMNI
                omniOutput = outputs[1];
                _context.prev = 37;
                omniScript = omniOutput.scriptPubKey.asm;
                expectedOmniScript = createOmniScript(expected.amount);
                expectedOmniOutput = this.app.env.bitcoin.script.toASM(expectedOmniScript);

                if (!(expectedOmniOutput !== omniScript)) {
                  _context.next = 44;
                  break;
                }

                (0, _debug2.default)('swap.core:swaps')(expectedOmniOutput, omniScript);
                return _context.abrupt('return', 'Expected first output value: ' + expectedOmniOutput + ', got: ' + omniScript);

              case 44:
                _context.next = 50;
                break;

              case 46:
                _context.prev = 46;
                _context.t2 = _context['catch'](37);

                console.error(_context.t2);
                return _context.abrupt('return', 'Expected omni output for amount = ' + expected.amount + ', got error at ' + omniOutput);

              case 50:
                if (!(expected.lockTime > lockTime)) {
                  _context.next = 52;
                  break;
                }

                return _context.abrupt('return', 'Expected script lockTime: ' + expected.lockTime + ', got: ' + lockTime);

              case 52:
                if (!(expected.recipientPublicKey !== recipientPublicKey)) {
                  _context.next = 54;
                  break;
                }

                return _context.abrupt('return', 'Expected script recipient publicKey: ' + expected.recipientPublicKey + ', got: ' + recipientPublicKey);

              case 54:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, this, [[11, 18], [26, 32], [37, 46]]);
      }));

      function checkScript(_x2, _x3) {
        return _ref.apply(this, arguments);
      }

      return checkScript;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {BigNumber} data.amount
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'fundScript',
    value: function fundScript(data, handleTransactionHash) {
      var _this2 = this;

      var scriptValues = data.scriptValues,
          amount = data.amount;


      return new _promise2.default(function () {
        var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(resolve, reject) {
          var ownerPublicKey, recipientPublicKey, dialog, funding, txRaw, result;
          return _regenerator2.default.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.prev = 0;
                  ownerPublicKey = scriptValues.ownerPublicKey, recipientPublicKey = scriptValues.recipientPublicKey;
                  dialog = {
                    owner: _this2.app.services.auth.accounts.btc,
                    party: Buffer.from(recipientPublicKey, 'hex')
                  };
                  _context2.next = 5;
                  return createFundingTransaction(amount, dialog, scriptValues, _this2.fetchUnspents, _this2.network);

                case 5:
                  funding = _context2.sent;


                  if (typeof handleTransactionHash === 'function') {
                    txRaw = funding.tx.buildIncomplete();

                    handleTransactionHash(txRaw.getId(), funding);
                  }

                  _context2.prev = 7;
                  _context2.next = 10;
                  return _this2.broadcastTx(funding.hex);

                case 10:
                  result = _context2.sent;


                  resolve(result);
                  _context2.next = 17;
                  break;

                case 14:
                  _context2.prev = 14;
                  _context2.t0 = _context2['catch'](7);

                  reject(_context2.t0);

                case 17:
                  _context2.next = 22;
                  break;

                case 19:
                  _context2.prev = 19;
                  _context2.t1 = _context2['catch'](0);

                  reject(_context2.t1);

                case 22:
                case 'end':
                  return _context2.stop();
              }
            }
          }, _callee2, _this2, [[0, 19], [7, 14]]);
        }));

        return function (_x4, _x5) {
          return _ref3.apply(this, arguments);
        };
      }());
    }
  }, {
    key: 'redeemScript',
    value: function redeemScript(data, handleTransactionHash, isRefund) {
      var _this3 = this;

      var amount = data.amount,
          scriptValues = data.scriptValues,
          secret = data.secret;


      if (!amount) {
        throw new Error('USDT Redeem Error: amount not given: ' + amount);
      }

      return new _promise2.default(function () {
        var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(resolve, reject) {
          var secretHash, lockTime, ownerPublicKey, recipientPublicKey, redeem_tx, _createScript2, script, scriptAddress, keyPair, myBtcAddress, myUnspents, scriptUnspents, unspents, fundValue, feeValue, totalUnspent, totalValue, omniOutput, txRaw, forSigning, tx, result;

          return _regenerator2.default.wrap(function _callee3$(_context3) {
            while (1) {
              switch (_context3.prev = _context3.next) {
                case 0:
                  _context3.prev = 0;
                  secretHash = scriptValues.secretHash, lockTime = scriptValues.lockTime;
                  ownerPublicKey = scriptValues.ownerPublicKey, recipientPublicKey = scriptValues.recipientPublicKey;
                  redeem_tx = new _this3.app.env.bitcoin.TransactionBuilder(_this3.network);
                  _createScript2 = createScript(secretHash, ownerPublicKey, recipientPublicKey, lockTime), script = _createScript2.script, scriptAddress = _createScript2.scriptAddress;


                  (0, _debug2.default)('swap.core:swaps')('script address', scriptAddress);
                  keyPair = _this3.app.services.auth.accounts.btc;
                  myBtcAddress = keyPair.getAddress();
                  _context3.next = 10;
                  return _this3.fetchUnspents(myBtcAddress);

                case 10:
                  myUnspents = _context3.sent;
                  _context3.next = 13;
                  return _this3.fetchUnspents(scriptAddress);

                case 13:
                  scriptUnspents = _context3.sent;
                  unspents = [].concat((0, _toConsumableArray3.default)(scriptUnspents), (0, _toConsumableArray3.default)(myUnspents));

                  (0, _debug2.default)('swap.core:swaps')('unspents', unspents);
                  fundValue = DUST;
                  feeValue = 5000;
                  totalUnspent = unspents.reduce(function (summ, _ref5) {
                    var satoshis = _ref5.satoshis;
                    return summ + satoshis;
                  }, 0);
                  totalValue = totalUnspent - feeValue - fundValue;

                  if (!(totalUnspent < feeValue + fundValue)) {
                    _context3.next = 22;
                    break;
                  }

                  throw new Error('Total less than fee: ' + totalUnspent + ' < ' + fundValue + ' + ' + feeValue);

                case 22:

                  if (isRefund) {
                    redeem_tx.setLockTime(lockTime);
                  }

                  scriptUnspents.forEach(function (_ref6) {
                    var txid = _ref6.txid,
                        vout = _ref6.vout;

                    redeem_tx.addInput(txid, vout, 0xfffffffe);
                  });

                  myUnspents.forEach(function (_ref7, index) {
                    var txid = _ref7.txid,
                        vout = _ref7.vout;

                    redeem_tx.addInput(txid, vout);
                  });

                  omniOutput = createOmniScript(amount);


                  redeem_tx.addOutput(myBtcAddress, fundValue);
                  redeem_tx.addOutput(myBtcAddress, totalValue);
                  redeem_tx.addOutput(omniOutput, 0);

                  myUnspents.forEach(function (utxo, index) {
                    var inputIndex = index + scriptUnspents.length;
                    redeem_tx.sign(inputIndex, keyPair);
                  });

                  txRaw = redeem_tx.buildIncomplete();
                  forSigning = {
                    txRaw: txRaw,
                    script: script,
                    secret: secret
                  };


                  _this3._signTransaction(forSigning, 0);

                  tx = txRaw;


                  (0, _debug2.default)('swap.core:swaps')('redeem tx hash', tx.getId());
                  (0, _debug2.default)('swap.core:swaps')('redeem tx hex ' + tx.toHex());

                  if (typeof handleTransactionHash === 'function') {
                    handleTransactionHash(tx.getId());
                  }

                  _context3.prev = 37;
                  _context3.next = 40;
                  return _this3.broadcastTx(tx.toHex());

                case 40:
                  result = _context3.sent;


                  resolve(result);
                  _context3.next = 47;
                  break;

                case 44:
                  _context3.prev = 44;
                  _context3.t0 = _context3['catch'](37);

                  reject(_context3.t0);

                case 47:
                  _context3.next = 52;
                  break;

                case 49:
                  _context3.prev = 49;
                  _context3.t1 = _context3['catch'](0);

                  reject(_context3.t1);

                case 52:
                case 'end':
                  return _context3.stop();
              }
            }
          }, _callee3, _this3, [[0, 49], [37, 44]]);
        }));

        return function (_x6, _x7) {
          return _ref4.apply(this, arguments);
        };
      }());
    }

    /**
     *
     * @param {object|string} data - scriptValues or wallet address
     * @returns {Promise.<void>}
     */

  }, {
    key: 'getBalance',
    value: function () {
      var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(data) {
        var address, _createScript3, scriptAddress, unspents, totalUnspent;

        return _regenerator2.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                address = void 0;

                if (!(typeof data === 'string')) {
                  _context4.next = 5;
                  break;
                }

                address = data;
                _context4.next = 11;
                break;

              case 5:
                if (!((typeof data === 'undefined' ? 'undefined' : (0, _typeof3.default)(data)) === 'object')) {
                  _context4.next = 10;
                  break;
                }

                _createScript3 = this.createScript(data), scriptAddress = _createScript3.scriptAddress;


                address = scriptAddress;
                _context4.next = 11;
                break;

              case 10:
                throw new Error('Wrong data type');

              case 11:
                _context4.next = 13;
                return this.fetchUnspents(address);

              case 13:
                unspents = _context4.sent;
                totalUnspent = unspents && unspents.length && unspents.reduce(function (summ, _ref9) {
                  var satoshis = _ref9.satoshis;
                  return summ + satoshis;
                }, 0) || 0;
                return _context4.abrupt('return', totalUnspent);

              case 16:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function getBalance(_x8) {
        return _ref8.apply(this, arguments);
      }

      return getBalance;
    }()

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {function} handleTransactionHash
     * @param {boolean} isRefund
     * @returns {Promise}
     */

  }, {
    key: 'withdraw',
    value: function withdraw(data, handleTransactionHash) {
      return this.redeemScript(data, handleTransactionHash, false);
    }

    /**
     *
     * @param {object} data
     * @param {object} data.scriptValues
     * @param {string} data.secret
     * @param {function} handleTransactionHash
     * @returns {Promise}
     */

  }, {
    key: 'refund',
    value: function refund(data, handleTransactionHash) {
      return this.redeemScript(data, handleTransactionHash, true);
    }
  }]);
  return UsdtSwap;
}(_swap.SwapInterface);

exports.default = UsdtSwap;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))

/***/ }),

/***/ 3185:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var bitcoin = __webpack_require__(151);
var net = bitcoin.networks.bitcoin;

var createScript = __webpack_require__(1204);
var createOmniScript = __webpack_require__(1203);
var BITCOIN_DUST = 546;

var createLockTransaction = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(lockAmount, dialog, scriptValues, getUnspents, network) {
    var secretHash, lockTime, ownerKey, recipientPublicKey, ownerPublicKey, funding_tx, unspents, fundValue, feeValue, totalUnspent, skipValue, SwapScript, omniOutput;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            secretHash = scriptValues.secretHash, lockTime = scriptValues.lockTime;
            ownerKey = dialog.owner, recipientPublicKey = dialog.party;
            ownerPublicKey = ownerKey.getPublicKeyBuffer();
            funding_tx = new bitcoin.TransactionBuilder(network);
            _context.next = 6;
            return getUnspents(ownerKey.getAddress());

          case 6:
            unspents = _context.sent;
            fundValue = BITCOIN_DUST; // dust

            feeValue = 5000;
            totalUnspent = unspents.reduce(function (summ, _ref2) {
              var satoshis = _ref2.satoshis;
              return summ + satoshis;
            }, 0);
            skipValue = totalUnspent - fundValue - feeValue;

            if (!(totalUnspent < feeValue + fundValue)) {
              _context.next = 13;
              break;
            }

            throw new Error('Total less than fee: ' + totalUnspent + ' < ' + feeValue + ' + ' + fundValue);

          case 13:

            unspents.forEach(function (_ref3) {
              var txid = _ref3.txid,
                  vout = _ref3.vout;
              return funding_tx.addInput(txid, vout, 0xfffffffe);
            });

            SwapScript = createScript(secretHash, ownerPublicKey.toString('hex'), recipientPublicKey.toString('hex'), lockTime);
            omniOutput = createOmniScript(lockAmount);


            funding_tx.addOutput(SwapScript.scriptAddress, fundValue);
            funding_tx.addOutput(omniOutput, 0);
            funding_tx.addOutput(ownerKey.getAddress(), skipValue);

            unspents.forEach(function (utxo, index) {
              funding_tx.sign(index, ownerKey);
            });

            return _context.abrupt('return', {
              tx: funding_tx,
              scriptValues: {
                secretHash: secretHash,
                lockTime: lockTime,
                scriptAddress: SwapScript.scriptAddress,
                scriptPubKey: SwapScript.scriptPubKey
              },
              hex: funding_tx.buildIncomplete().toHex()
            });

          case 21:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function createLockTransaction(_x, _x2, _x3, _x4, _x5) {
    return _ref.apply(this, arguments);
  };
}();

module.exports = createLockTransaction;

/***/ }),

/***/ 3186:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _redaction = __webpack_require__(37);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Core = (_dec = (0, _redaction.connect)(function (_ref) {
  var ipfs = _ref.ipfs;
  return { ipfs: ipfs };
}), _dec(_class = function (_Component) {
  (0, _inherits3.default)(Core, _Component);

  function Core() {
    var _ref2;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Core);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = Core.__proto__ || (0, _getPrototypeOf2.default)(Core)).call.apply(_ref2, [this].concat(args))), _this), _this.state = {
      orders: []
    }, _this.setIpfs = function () {
      var setupIPFS = function setupIPFS() {
        try {
          var ipfs = _this.props.ipfs;


          if (ipfs.isOnline) return;

          if (!_swap2.default.shared().services.room.connection) {
            throw new Error('SwapRoom not ready');
          }

          var isOnline = _swap2.default.shared().services.room.connection._ipfs.isOnline();

          var peer = _swap2.default.shared().services.room.peer;

          _this.updateOrders();

          _actions2.default.core.initPartialOrders();

          if (_actions2.default.core.hasHiddenOrders()) {
            _actions2.default.core.showMyOrders();
          }

          _swap2.default.shared().services.room.connection.on('peer joined', _actions2.default.ipfs.userJoined).on('peer left', _actions2.default.ipfs.userLeft);

          clearInterval(ipfsLoadingInterval);

          _actions2.default.ipfs.set({
            isOnline: isOnline,
            peer: peer
          });
        } catch (error) {
          console.warn('IPFS setup:', error);
        }
      };

      _swap2.default.shared().services.room.on('ready', setupIPFS);

      var ipfsLoadingInterval = setInterval(setupIPFS, 5000);
    }, _this.updateOrders = function () {
      var orders = _swap2.default.shared().services.orders.items;
      _this.setState(function () {
        return {
          orders: orders
        };
      });
      _actions2.default.core.updateCore();
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Core, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      _actions2.default.core.getSwapHistory();
      _swap2.default.shared().services.orders.on('new orders', this.updateOrders).on('new order', this.updateOrders).on('order update', this.updateOrders).on('remove order', this.updateOrders).on('new order request', this.updateOrders);
      this.setIpfs();
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _swap2.default.shared().services.orders.off('new orders', this.updateOrders).off('new order', this.updateOrders).off('order update', this.updateOrders).off('remove order', this.updateOrders).off('new order request', this.updateOrders);
      if (_swap2.default.shared().services.room.connection) {
        console.log('leave room');
        _swap2.default.shared().services.room.connection.removeListener('peer joined', _actions2.default.ipfs.userJoined).removeListener('peer left', _actions2.default.ipfs.userLeft);
        _swap2.default.shared().services.room.connection.leave();
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return null;
    }
  }]);
  return Core;
}(_react.Component)) || _class);
exports.default = Core;

/***/ }),

/***/ 3187:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _isInteger = __webpack_require__(297);

var _isInteger2 = _interopRequireDefault(_isInteger);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp, _initialiseProps; /* eslint-disable max-len */


var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouterDom = __webpack_require__(51);

var _reactDeviceDetect = __webpack_require__(53);

var _redaction = __webpack_require__(37);

var _links = __webpack_require__(214);

var _links2 = _interopRequireDefault(_links);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(17);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _reactIntl = __webpack_require__(8);

var _reactour = __webpack_require__(1205);

var _reactour2 = _interopRequireDefault(_reactour);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Header = __webpack_require__(3209);

var _Header2 = _interopRequireDefault(_Header);

var _Nav = __webpack_require__(3210);

var _Nav2 = _interopRequireDefault(_Nav);

var _User = __webpack_require__(3215);

var _User2 = _interopRequireDefault(_User);

var _SignUpButton = __webpack_require__(1213);

var _SignUpButton2 = _interopRequireDefault(_SignUpButton);

var _NavMobile = __webpack_require__(3225);

var _NavMobile2 = _interopRequireDefault(_NavMobile);

var _LogoTooltip = __webpack_require__(1214);

var _LogoTooltip2 = _interopRequireDefault(_LogoTooltip);

var _WidthContainer = __webpack_require__(195);

var _WidthContainer2 = _interopRequireDefault(_WidthContainer);

var _TourPartial = __webpack_require__(3227);

var _TourPartial2 = _interopRequireDefault(_TourPartial);

var _Logo = __webpack_require__(219);

var _Logo2 = _interopRequireDefault(_Logo);

var _Loader = __webpack_require__(456);

var _Loader2 = _interopRequireDefault(_Loader);

var _locale = __webpack_require__(50);

var _locale2 = __webpack_require__(50);

var _UserTooltip = __webpack_require__(1212);

var _UserTooltip2 = _interopRequireDefault(_UserTooltip);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var lastScrollTop = 0;

var messages = (0, _reactIntl.defineMessages)({
  products: {
    id: 'menu.products',
    description: 'Menu item "Wallet"',
    defaultMessage: 'Our products'
  },
  wallet: {
    id: 'menu.wallet',
    description: 'Menu item "Wallet"',
    defaultMessage: 'Wallet'
  },
  createWallet: {
    id: 'menu.CreateWallet',
    description: 'Menu item "Wallet"',
    defaultMessage: 'Create wallet'
  },
  exchange: {
    id: 'menu.exchange',
    description: 'Menu item "Exchange"',
    defaultMessage: 'Exchange'
  },
  history: {
    id: 'menu.history',
    description: 'Menu item "History"',
    defaultMessage: 'My history'
  },
  IEO: {
    id: 'menu.IEO',
    description: 'Menu item "IEO"',
    defaultMessage: 'Earn'
  },
  invest: {
    id: 'menu.invest',
    description: 'Menu item "My History"',
    defaultMessage: 'How to invest?'
  },
  investMobile: {
    id: 'menu.invest',
    description: 'Menu item "My History"',
    defaultMessage: 'Invest'
  }
});

var Header = (_dec = (0, _redaction.connect)({
  feeds: 'feeds.items',
  peer: 'ipfs.peer',
  isSigned: 'signUp.isSigned',
  isInputActive: 'inputActive.isInputActive',
  reputation: 'ipfs.reputation'
}), _dec2 = (0, _reactCssModules2.default)(_Header2.default, { allowMultiple: true }), (0, _reactIntl.injectIntl)(_class = (0, _reactRouterDom.withRouter)(_class = _dec(_class = _dec2(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(Header, _Component);
  (0, _createClass3.default)(Header, null, [{
    key: 'getDerivedStateFromProps',
    value: function getDerivedStateFromProps(_ref) {
      var pathname = _ref.history.location.pathname;

      if (pathname === '/ru' || pathname === '/' || pathname === _links2.default.currencyWallet) {
        return { path: true };
      }
      return { path: false };
    }
  }]);

  function Header(props) {
    (0, _classCallCheck3.default)(this, Header);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Header.__proto__ || (0, _getPrototypeOf2.default)(Header)).call(this, props));

    _initialiseProps.call(_this);

    if (localStorage.getItem(_helpers.constants.localStorage.lastCheckBalance) || localStorage.getItem(_helpers.constants.localStorage.wasCautionPassed)) {
      localStorage.setItem(_helpers.constants.localStorage.didWalletCreated, true);
    }

    var dinamicPath = props.location.pathname.includes(_links2.default.exchange) ? '' + (0, _locale2.unlocalisedUrl)(props.intl.locale, props.location.pathname) : '' + _links2.default.home;

    var didWalletCreated = localStorage.getItem(_helpers.constants.localStorage.didWalletCreated);

    var isWalletPage = props.location.pathname === _links2.default.currencyWallet || props.location.pathname === '/ru' + _links2.default.currencyWallet;

    _this.state = {
      isPartialTourOpen: false,
      path: false,
      isTourOpen: false,
      isShowingMore: false,
      sticky: false,
      isWallet: false,
      menuItemsFill: [{
        title: props.intl.formatMessage(messages.products),
        link: 'openMySesamPlease',
        exact: true,
        haveSubmenu: true,
        icon: 'products',
        currentPageFlag: true
      }, {
        title: props.intl.formatMessage(messages.invest),
        link: 'exchange/btc-to-swap',
        icon: 'invest',
        haveSubmenu: false
      }, {
        title: props.intl.formatMessage(messages.history),
        link: _links2.default.history,
        icon: 'history',
        haveSubmenu: false
      }],
      menuItems: _this.getMenuItems(props, didWalletCreated, dinamicPath),
      menuItemsMobile: _this.getMenuItemsMobile(props, didWalletCreated, dinamicPath),
      createdWalletLoader: isWalletPage && !didWalletCreated
    };
    _this.lastScrollTop = 0;
    return _this;
  }

  (0, _createClass3.default)(Header, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.handlerAsync();
    }
  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          sticky = _state.sticky,
          menuItemsFill = _state.menuItemsFill,
          isTourOpen = _state.isTourOpen,
          isShowingMore = _state.isShowingMore,
          path = _state.path,
          isPartialTourOpen = _state.isPartialTourOpen,
          isWallet = _state.isWallet,
          menuItems = _state.menuItems,
          menuItemsMobile = _state.menuItemsMobile,
          createdWalletLoader = _state.createdWalletLoader;
      var _props = this.props,
          _props$intl = _props.intl,
          locale = _props$intl.locale,
          formatMessage = _props$intl.formatMessage,
          history = _props.history,
          pathname = _props.pathname,
          feeds = _props.feeds,
          peer = _props.peer,
          isSigned = _props.isSigned,
          isInputActive = _props.isInputActive;


      var accentColor = '#510ed8';

      var isExchange = history.location.pathname.includes('/exchange') || history.location.pathname === '/' || history.location.pathname === '/ru';

      if (_appConfig2.default && _appConfig2.default.isWidget) {
        return _react2.default.createElement(_User2.default, {
          acceptRequest: this.acceptRequest,
          declineRequest: this.declineRequest
        });
      }

      if (_reactDeviceDetect.isMobile) {
        return _react2.default.createElement(
          'div',
          { styleName: isInputActive ? 'header-mobile header-mobile__hidden' : 'header-mobile' },
          createdWalletLoader && _react2.default.createElement(
            'div',
            { styleName: 'loaderCreateWallet' },
            _react2.default.createElement(_Loader2.default, { showMyOwnTip: formatMessage({ id: 'createWalletLoaderTip', defaultMessage: 'Creating wallet... Please wait.' }) })
          ),
          _react2.default.createElement(_UserTooltip2.default, {
            feeds: feeds,
            peer: peer,
            acceptRequest: this.acceptRequest,
            declineRequest: this.declineRequest
          }),
          _react2.default.createElement(_NavMobile2.default, { menu: menuItemsMobile }),
          !isSigned && _react2.default.createElement(_SignUpButton2.default, { mobile: true })
        );
      }

      return _react2.default.createElement(
        'div',
        { styleName: sticky ? 'header header-fixed' : isExchange ? 'header header-promo' : 'header' },
        createdWalletLoader && _react2.default.createElement(
          'div',
          { styleName: 'loaderCreateWallet' },
          _react2.default.createElement(_Loader2.default, { showMyOwnTip: formatMessage({ id: 'createWalletLoaderTip', defaultMessage: 'Creating wallet... Please wait.' }) })
        ),
        _react2.default.createElement(
          _WidthContainer2.default,
          { styleName: 'container' },
          _react2.default.createElement(_LogoTooltip2.default, { withLink: true, isExchange: isExchange }),
          _react2.default.createElement(_Nav2.default, { menu: menuItems }),
          _react2.default.createElement(_Logo2.default, { withLink: true, mobile: true }),
          isPartialTourOpen && _react2.default.createElement(_TourPartial2.default, { isTourOpen: isPartialTourOpen }),
          _react2.default.createElement(_User2.default, {
            openTour: isExchange ? this.openExchangeTour : this.openWalletTour,
            path: path,
            acceptRequest: this.acceptRequest,
            declineRequest: this.declineRequest
          }),
          isTourOpen && _react2.default.createElement(_reactour2.default, {
            steps: tourSteps,
            onRequestClose: this.closeTour,
            isOpen: isTourOpen,
            maskClassName: 'mask',
            className: 'helper',
            accentColor: accentColor
          })
        )
      );
    }
  }]);
  return Header;
}(_react.Component), _class2.propTypes = {
  history: _propTypes2.default.object.isRequired
}, _initialiseProps = function _initialiseProps() {
  var _this2 = this;

  this.handlerAsync = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
    var history;
    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            history = _this2.props.history;
            _context2.next = 3;
            return _this2.tapCreateWalletButton();

          case 3:

            _this2.startTourAndSignInModal();

            history.listen(function () {
              var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(location) {
                return _regenerator2.default.wrap(function _callee$(_context) {
                  while (1) {
                    switch (_context.prev = _context.next) {
                      case 0:
                        _context.next = 2;
                        return _this2.tapCreateWalletButton({ location: location });

                      case 2:

                        _this2.startTourAndSignInModal({ location: location });

                      case 3:
                      case 'end':
                        return _context.stop();
                    }
                  }
                }, _callee, _this2);
              }));

              return function (_x) {
                return _ref3.apply(this, arguments);
              };
            }());

          case 5:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, _this2);
  }));

  this.getMenuItems = function (props, didWalletCreated, dinamicPath) {
    return (0, _isInteger2.default)(_this2.props.reputation) && _this2.props.reputation !== 0 || _this2.props.isSigned || window.localStorage.getItem('didOpenSignUpModal') === 'true' ? [{
      title: props.intl.formatMessage(didWalletCreated ? messages.wallet : messages.createWallet),
      link: _links2.default.currencyWallet,
      exact: true,
      haveSubmenu: true,
      icon: 'products',
      currentPageFlag: true
    }, {
      title: props.intl.formatMessage(messages.exchange),
      link: dinamicPath,
      exact: true,
      haveSubmenu: true,
      icon: 'products',
      currentPageFlag: true
    }, {
      title: props.intl.formatMessage(messages.history),
      link: _links2.default.history,
      icon: 'history',
      haveSubmenu: false,
      displayNone: !didWalletCreated
    }, {
      title: props.intl.formatMessage(messages.IEO),
      link: _links2.default.ieo,
      icon: 'IEO',
      haveSubmenu: false
    }] : [{
      title: props.intl.formatMessage(didWalletCreated ? messages.wallet : messages.createWallet),
      link: _links2.default.currencyWallet,
      exact: true,
      haveSubmenu: true,
      icon: 'products',
      currentPageFlag: true
    }, {
      title: props.intl.formatMessage(messages.exchange),
      link: dinamicPath,
      exact: true,
      haveSubmenu: true,
      icon: 'products',
      currentPageFlag: true
    }, {
      title: props.intl.formatMessage(messages.history),
      link: _links2.default.history,
      icon: 'history',
      haveSubmenu: false,
      displayNone: !didWalletCreated
    }];
  };

  this.getMenuItemsMobile = function (props, didWalletCreated, dinamicPath) {
    return [{
      title: props.intl.formatMessage(didWalletCreated ? messages.wallet : messages.createWallet),
      link: _links2.default.currencyWallet,
      exact: true,
      haveSubmenu: true,
      icon: 'products'
    }, {
      title: props.intl.formatMessage(messages.exchange),
      link: dinamicPath,
      exact: true,
      haveSubmenu: true,
      icon: 'products'
    }, {
      title: props.intl.formatMessage(messages.history),
      link: _links2.default.history,
      icon: 'history',
      haveSubmenu: false,
      displayNone: !didWalletCreated
    }];
  };

  this.tapCreateWalletButton = function (customProps) {
    return new _promise2.default(function (resolve) {
      var finishProps = (0, _assign2.default)({}, _this2.props, customProps);

      var location = finishProps.location,
          intl = finishProps.intl;


      var dinamicPath = location.pathname.includes(_links2.default.exchange) ? '' + (0, _locale2.unlocalisedUrl)(intl.locale, location.pathname) : '' + _links2.default.home;

      var didWalletCreated = localStorage.getItem(_helpers.constants.localStorage.didWalletCreated);

      var isWalletPage = location.pathname === _links2.default.currencyWallet || location.pathname === '/ru' + _links2.default.currencyWallet;

      if (isWalletPage && !didWalletCreated) {
        localStorage.setItem(_helpers.constants.localStorage.didWalletCreated, true);
        didWalletCreated = true;

        _this2.setState(function () {
          return {
            menuItems: _this2.getMenuItems(_this2.props, didWalletCreated, dinamicPath),
            menuItemsMobile: _this2.getMenuItemsMobile(_this2.props, didWalletCreated, dinamicPath),
            createdWalletLoader: true
          };
        }, function () {
          setTimeout(function () {
            _this2.setState(function () {
              return { createdWalletLoader: false };
            });

            resolve();
          }, 4000);
        });
      } else {
        resolve();
      }
    });
  };

  this.startTourAndSignInModal = function (customProps) {
    var finishProps = (0, _assign2.default)({}, _this2.props, customProps);

    var location = finishProps.location,
        intl = finishProps.intl;


    var isGuestLink = !(!location.hash || location.hash.slice(1) !== 'guest');

    if (isGuestLink) {
      localStorage.setItem(_helpers.constants.localStorage.wasOnWallet, true);
      localStorage.setItem(_helpers.constants.localStorage.wasOnExchange, true);

      return;
    }

    var isWalletPage = location.pathname === _links2.default.currencyWallet || location.pathname === '/ru' + _links2.default.currencyWallet;

    var isPartialPage = location.pathname.includes(_links2.default.exchange) || location.pathname === '/' || location.pathname === '/ru';

    var didOpenSignUpModal = localStorage.getItem(_helpers.constants.localStorage.didOpenSignUpModal);

    var wasOnWallet = localStorage.getItem(_helpers.constants.localStorage.wasOnWallet);
    var wasOnExchange = localStorage.getItem(_helpers.constants.localStorage.wasOnExchange);

    var tourEvent = function tourEvent() {};

    switch (true) {
      case isWalletPage && !wasOnWallet:
        tourEvent = _this2.openWalletTour;
        localStorage.setItem(_helpers.constants.localStorage.wasOnWallet, true);
        break;
      case isPartialPage && !wasOnExchange:
        tourEvent = _this2.openExchangeTour;
        localStorage.setItem(_helpers.constants.localStorage.wasOnExchange, true);
        break;
      default:
        return;
    }

    if (!didOpenSignUpModal && isWalletPage) {
      _this2.openSignUpModal({ onClose: tourEvent });
      return;
    }

    tourEvent();
  };

  this.declineRequest = function (orderId, participantPeer) {
    _actions2.default.core.declineRequest(orderId, participantPeer);
    _actions2.default.core.updateCore();
  };

  this.acceptRequest = function () {
    var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(orderId, participantPeer, link) {
      var _props2, toggle, history, locale;

      return _regenerator2.default.wrap(function _callee3$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              _props2 = _this2.props, toggle = _props2.toggle, history = _props2.history, locale = _props2.intl.locale;


              _actions2.default.core.acceptRequest(orderId, participantPeer);
              _actions2.default.core.updateCore();

              if (typeof toggle === 'function') {
                toggle();
              }

              _context3.next = 6;
              return history.replace((0, _locale2.localisedUrl)(locale, link));

            case 6:
              _context3.next = 8;
              return history.push((0, _locale2.localisedUrl)(locale, link));

            case 8:
            case 'end':
              return _context3.stop();
          }
        }
      }, _callee3, _this2);
    }));

    return function (_x2, _x3, _x4) {
      return _ref4.apply(this, arguments);
    };
  }();

  this.handleScroll = function () {
    if (_this2.props.history.location.pathname === '/') {
      _this2.setState(function () {
        return {
          sticky: false
        };
      });
      return;
    }
    var scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    if (scrollTop > _this2.lastScrollTop) {
      _this2.setState(function () {
        return { sticky: false };
      });
    } else {
      _this2.setState(function () {
        return { sticky: true };
      });
    }
    _this2.lastScrollTop = scrollTop;
  };

  this.toggleShowMore = function () {
    _this2.setState(function (prevState) {
      return {
        isShowingMore: !prevState.isShowingMore
      };
    });
  };

  this.closeTour = function () {
    _this2.setState(function () {
      return { isTourOpen: false };
    });
  };

  this.openSignUpModal = function (options) {
    localStorage.setItem(_helpers.constants.localStorage.didOpenSignUpModal, true);
    _actions2.default.modals.open(_helpers.constants.modals.SignUp, options);
  };

  this.openWalletTour = function () {
    _this2.setState(function () {
      return { isTourOpen: true };
    });
  };

  this.openExchangeTour = function () {
    _this2.setState(function () {
      return { isPartialTourOpen: true };
    });
  };
}, _temp)) || _class) || _class) || _class) || _class);
exports.default = Header;


var tourSteps = [{
  selector: '[data-tut="reactour__address"]',
  content: _react2.default.createElement(_reactIntl.FormattedMessage, {
    id: 'Header184',
    defaultMessage: 'This is your personal bitcoin address. We do not store your private keys. Everything is kept in your browser. No server, no back-end, completely decentralized. ' })
}, {
  selector: '[data-tut="reactour__save"]',
  content: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Header188', defaultMessage: 'Swap Online does NOT store your private keys, please download and keep them in a secured place' })
}, {
  selector: '[data-tut="reactour__balance"]',
  content: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Header192', defaultMessage: 'This is your bitcoin balance. You can close your browser, reboot your computer. Your funds will remain safe, just don\'t forget to save your private keys' })
}, {
  selector: '[data-tut="reactour__store"]',
  content: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Header196', defaultMessage: 'You can store crypto of different blockchains including Bitcoin, Ethereum, EOS, Bitcoin Cash, Litecoin and various token' })
}, {
  selector: '[data-tut="reactour__exchange"]',
  content: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Header200', defaultMessage: 'Our killer feature is the peer-to-peer exchange available in our wallet powered by atomic swap technology. You can perfrom swaps with any crypto listed in our wallet.' })
}, {
  selector: '[data-tut="reactour__sign-up"]',
  content: _react2.default.createElement(_reactIntl.FormattedMessage, {
    id: 'Header205',
    defaultMessage: 'You will receive notifications regarding updates with your account (orders, transactions) and monthly updates about our project' })
}, {
  selector: '[data-tut="reactour__goTo"]',
  content: function content(_ref5) {
    var goTo = _ref5.goTo;
    return _react2.default.createElement(
      'div',
      null,
      _react2.default.createElement(
        'strong',
        null,
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Header194', defaultMessage: 'Do not forget to save your keys' })
      ),
      _react2.default.createElement(
        'button',
        {
          style: {
            border: '1px solid #f7f7f7',
            background: 'none',
            padding: '.3em .7em',
            fontSize: 'inherit',
            display: 'block',
            cursor: 'pointer',
            margin: '1em auto'
          },
          onClick: function onClick() {
            return goTo(1);
          }
        },
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Header207', defaultMessage: 'show how to save' })
      )
    );
  }
}];

/***/ }),

/***/ 319:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _redaction = __webpack_require__(37);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(17);

var _helpers2 = _interopRequireDefault(_helpers);

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Swap = __webpack_require__(158);

var _Swap2 = _interopRequireDefault(_Swap);

var _bignumber = __webpack_require__(30);

var _reactIntl = __webpack_require__(8);

var _reactCopyToClipboard = __webpack_require__(130);

var _reactCopyToClipboard2 = _interopRequireDefault(_reactCopyToClipboard);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactTooltip = __webpack_require__(103);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _QR = __webpack_require__(895);

var _QR2 = _interopRequireDefault(_QR);

var _Timer = __webpack_require__(128);

var _Timer2 = _interopRequireDefault(_Timer);

var _Tooltip = __webpack_require__(104);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _InlineLoader = __webpack_require__(115);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _coinsWithDynamicFee = __webpack_require__(376);

var _coinsWithDynamicFee2 = _interopRequireDefault(_coinsWithDynamicFee);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DepositWindow = (_dec = (0, _reactCssModules2.default)(_Swap2.default), _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(DepositWindow, _Component);

  function DepositWindow(_ref) {
    var swap = _ref.swap,
        flow = _ref.flow,
        onCopyAddress = _ref.onCopyAddress,
        currencyData = _ref.currencyData;
    (0, _classCallCheck3.default)(this, DepositWindow);

    var _this = (0, _possibleConstructorReturn3.default)(this, (DepositWindow.__proto__ || (0, _getPrototypeOf2.default)(DepositWindow)).call(this));

    _initialiseProps.call(_this);

    _this.swap = swap;

    _this.currency = swap.sellCurrency.toLowerCase();

    _this.isSellCurrencyEthOrEthToken = _helpers2.default.ethToken.isEthOrEthToken({ name: swap.sellCurrency });
    _this.isSellCurrencyEthToken = _helpers2.default.ethToken.isEthToken({ name: swap.sellCurrency });

    _this.state = {
      swap: swap,
      dynamicFee: 0,
      remainingBalance: _this.swap.sellAmount,
      flow: swap.flow.state,
      isBalanceEnough: false,
      isAddressCopied: false,
      isBalanceFetching: false,
      balance: _this.isSellCurrencyEthOrEthToken ? currencyData.balance - (currencyData.unconfirmedBalance || 0) : flow.scriptBalance,
      address: _this.isSellCurrencyEthOrEthToken ? currencyData.address : flow.scriptAddress,
      currencyFullName: currencyData.fullName,
      sellAmount: _this.swap.sellAmount
    };
    return _this;
  }

  (0, _createClass3.default)(DepositWindow, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.createCycleUpdatingBalance();
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate(prevProps, prevState) {
      if (this.state.balance !== prevState.balance) {
        this.updateRemainingBalance();
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          swap = _state.swap,
          flow = _state.flow,
          balance = _state.balance,
          address = _state.address,
          dynamicFee = _state.dynamicFee,
          sellAmount = _state.sellAmount,
          isPressCtrl = _state.isPressCtrl,
          flowBalance = _state.flowBalance,
          requiredAmount = _state.requiredAmount,
          missingBalance = _state.missingBalance,
          isAddressCopied = _state.isAddressCopied,
          isBalanceEnough = _state.isBalanceEnough,
          currencyFullName = _state.currencyFullName,
          remainingBalance = _state.remainingBalance,
          isBalanceFetching = _state.isBalanceFetching;


      var isWidgetBuild = _appConfig2.default && _appConfig2.default.isWidget;

      var DontHaveEnoughtFoundsValues = {
        missingBalance: _react2.default.createElement(
          'div',
          null,
          remainingBalance > 0 ? _react2.default.createElement(
            'strong',
            null,
            '' + remainingBalance,
            ' ',
            swap.sellCurrency,
            '  '
          ) : _react2.default.createElement(
            'span',
            { styleName: 'loaderHolder' },
            _react2.default.createElement(_InlineLoader2.default, null)
          ),
          _react2.default.createElement(
            _Tooltip2.default,
            { id: 'dep170' },
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'deposit177',
                defaultMessage: 'Do not top up the contract with the greater amount than recommended. The remaining balance will be send to the counter party. You can send {tokenName} from a wallet of any exchange',
                values: {
                  amount: '' + swap.sellAmount,
                  tokenName: swap.sellCurrency,
                  br: _react2.default.createElement('br', null)
                }
              })
            )
          )
        ),
        amount: '' + swap.sellAmount,
        tokenName: swap.sellCurrency,
        br: _react2.default.createElement('br', null)
      };

      return _react2.default.createElement(
        _react.Fragment,
        null,
        _react2.default.createElement(
          'div',
          {
            styleName: 'topUpLink',
            target: '_blank',
            rel: 'noopener noreferrer'
          },
          _react2.default.createElement(
            'div',
            { styleName: 'top' },
            _react2.default.createElement(
              'div',
              { styleName: 'btcMessage' },
              isWidgetBuild ? _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'deposit165widget',
                defaultMessage: 'Copy the address below and top it up with the recommended amount of {missingBalance} ',
                values: DontHaveEnoughtFoundsValues
              }) : _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'deposit165',
                defaultMessage: 'To continue the swap copy this address and top it up with {missingBalance}',
                values: DontHaveEnoughtFoundsValues
              })
            ),
            _react2.default.createElement(
              'div',
              { styleName: 'qrImg' },
              _react2.default.createElement(_QR2.default, {
                network: currencyFullName.toLowerCase(),
                address: address + '?amount=' + remainingBalance,
                size: 160
              })
            )
          ),
          _react2.default.createElement(
            _reactCopyToClipboard2.default,
            {
              text: address,
              onCopy: this.onCopyAddress
            },
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(
                'a',
                { styleName: 'linkText' },
                _react2.default.createElement(_reactIntl.FormattedMessage, {
                  id: 'deposit256',
                  defaultMessage: 'The address of {tokenName} smart contract ',
                  values: {
                    tokenName: swap.sellCurrency
                  }
                })
              ),
              _react2.default.createElement(
                'div',
                { styleName: 'linkTransactions' },
                _react2.default.createElement(
                  'strong',
                  null,
                  _react2.default.createElement(
                    'a',
                    {
                      href: swap.sellCurrency === 'BTC' ? _appConfig2.default.link.bitpay + '/address/' + address : _appConfig2.default.link.etherscan + '/address/' + address,
                      target: '_blank',
                      rel: 'noopener noreferrer'
                    },
                    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'deposit297', defaultMessage: 'link to explorer' })
                  )
                )
              ),
              _react2.default.createElement(
                'p',
                { styleName: 'qr' },
                _react2.default.createElement(
                  'a',
                  {
                    styleName: 'linkAddress',
                    onDoubleClick: this.onCopy,
                    onClick: this.onCopyAddress
                  },
                  address
                ),
                _react2.default.createElement(
                  _Button2.default,
                  {
                    brand: true,
                    disabled: isAddressCopied,
                    fullWidth: true
                  },
                  _react2.default.createElement(
                    'span',
                    { className: 'copyText' },
                    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'deposit312', defaultMessage: 'copy' })
                  ),
                  isAddressCopied ? _react2.default.createElement('i', { className: 'fas fa-copy fa-copy-in' }) : _react2.default.createElement('i', { className: 'fas fa-copy' })
                )
              )
            )
          ),
          _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement('i', { className: 'fas fa-sync-alt', styleName: 'icon', onClick: this.handleReloadBalance }),
            isBalanceFetching ? _react2.default.createElement(
              'a',
              { styleName: 'loaderHolder' },
              _react2.default.createElement(_InlineLoader2.default, null)
            ) : _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'deposit300',
              defaultMessage: 'Received {balance} / {need} {tooltip}',
              values: {
                br: _react2.default.createElement('br', null),
                balance: _react2.default.createElement(
                  'strong',
                  null,
                  balance === undefined ? this.updateBalance : '' + (0, _bignumber.BigNumber)(balance).dp(6, _bignumber.BigNumber.ROUND_HALF_CEIL),
                  ' ',
                  swap.sellCurrency,
                  '  '
                ),
                need: _react2.default.createElement(
                  'strong',
                  null,
                  '' + requiredAmount,
                  ' ',
                  swap.sellCurrency
                ),
                tooltip: _react2.default.createElement(
                  _Tooltip2.default,
                  { id: 'dep226' },
                  _react2.default.createElement(_reactIntl.FormattedMessage, {
                    id: 'deposit239',
                    defaultMessage: 'Swap will continue after {tokenName} contract receives the funds. Is usually takes less than 10 min',
                    values: {
                      tokenName: swap.sellCurrency,
                      br: _react2.default.createElement('br', null)
                    }
                  })
                )
              }
            }),
            isBalanceEnough ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'deposit198.1', defaultMessage: 'create Ethereum Contract.{br}Please wait, it can take a few minutes...', values: { br: _react2.default.createElement('br', null) } }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'deposit198', defaultMessage: 'waiting for payment...' }),
            _react2.default.createElement(
              'a',
              { styleName: 'loaderHolder' },
              _react2.default.createElement(_InlineLoader2.default, null)
            ),
            dynamicFee > 0 && _react2.default.createElement(
              'a',
              { styleName: 'included' },
              _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'deposit320',
                defaultMessage: '(included {mineerFee} {sellCurrency} miners fee) ',
                values: {
                  mineerFee: dynamicFee,
                  sellCurrency: swap.sellCurrency
                }
              })
            ),
            _react2.default.createElement('div', null)
          ),
          flow.btcScriptValues !== null && _react2.default.createElement(
            'div',
            { styleName: 'lockTime' },
            _react2.default.createElement('i', { className: 'far fa-clock' }),
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'Deposit52',
              defaultMessage: 'You have {timer} min to make the payment',
              values: { timer: _react2.default.createElement(_Timer2.default, { lockTime: flow.btcScriptValues.lockTime * 1000, defaultMessage: false }) } })
          )
        )
      );
    }
  }]);
  return DepositWindow;
}(_react.Component), _initialiseProps = function _initialiseProps() {
  var _this2 = this;

  this.updateBalance = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var swap, _state2, sellAmount, address, actualBalance, unspents, totalUnspent;

    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            swap = _this2.props.swap;
            _state2 = _this2.state, sellAmount = _state2.sellAmount, address = _state2.address;
            actualBalance = void 0;

            if (!_this2.isSellCurrencyEthOrEthToken) {
              _context.next = 15;
              break;
            }

            if (!_this2.isSellCurrencyEthToken) {
              _context.next = 10;
              break;
            }

            _context.next = 7;
            return _actions2.default.token.getBalance(_this2.currency);

          case 7:
            actualBalance = _context.sent;
            _context.next = 13;
            break;

          case 10:
            _context.next = 12;
            return _actions2.default.eth.getBalance(_this2.currency);

          case 12:
            actualBalance = _context.sent;

          case 13:
            _context.next = 20;
            break;

          case 15:
            _context.next = 17;
            return _actions2.default[_this2.currency].fetchUnspents(address);

          case 17:
            unspents = _context.sent;
            totalUnspent = unspents.reduce(function (summ, _ref3) {
              var satoshis = _ref3.satoshis;
              return summ + satoshis;
            }, 0);

            actualBalance = (0, _bignumber.BigNumber)(totalUnspent).dividedBy(1e8);

          case 20:

            _this2.setState(function () {
              return {
                balance: actualBalance
              };
            });

          case 21:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, _this2);
  }));
  this.updateRemainingBalance = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
    var swap, _state3, sellAmount, balance, dynamicFee, remainingBalance;

    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            swap = _this2.props.swap;
            _state3 = _this2.state, sellAmount = _state3.sellAmount, balance = _state3.balance, dynamicFee = _state3.dynamicFee;
            remainingBalance = new _bignumber.BigNumber(sellAmount).minus(balance);


            if (!_this2.isSellCurrencyEthToken) {
              remainingBalance = remainingBalance.plus(dynamicFee);
            }

            _this2.setState(function () {
              return {
                remainingBalance: remainingBalance.dp(6, _bignumber.BigNumber.ROUND_UP)
              };
            });

          case 5:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, _this2);
  }));
  this.getRequiredAmount = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
    var swap, sellAmount, dynamicFee, requiredAmount;
    return _regenerator2.default.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            swap = _this2.props.swap;
            sellAmount = _this2.state.sellAmount;
            dynamicFee = 0;

            if (!_coinsWithDynamicFee2.default.includes(_this2.currency)) {
              _context3.next = 8;
              break;
            }

            _context3.next = 6;
            return _helpers2.default[_this2.currency].estimateFeeValue({ method: 'swap', fixed: true });

          case 6:
            dynamicFee = _context3.sent;


            _this2.setState(function () {
              return {
                dynamicFee: dynamicFee
              };
            });

          case 8:
            requiredAmount = (0, _bignumber.BigNumber)(sellAmount).plus(dynamicFee).dp(6, _bignumber.BigNumber.ROUND_CEIL);


            _this2.setState(function () {
              return {
                requiredAmount: requiredAmount
              };
            });

            _this2.updateRemainingBalance();

          case 11:
          case 'end':
            return _context3.stop();
        }
      }
    }, _callee3, _this2);
  }));

  this.checkThePayment = function () {
    var _state4 = _this2.state,
        swap = _state4.swap,
        dynamicFee = _state4.dynamicFee,
        sellAmount = _state4.sellAmount,
        balance = _state4.balance;


    if (sellAmount.plus(dynamicFee).isLessThanOrEqualTo(balance)) {
      _this2.setState(function () {
        return {
          isBalanceEnough: true
        };
      });

      if (!_this2.isSellCurrencyEthOrEthToken) {
        swap.flow.skipSyncBalance();
      } else {
        swap.flow.syncBalance();
      }
    }
  };

  this.createCycleUpdatingBalance = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {
    var _state5, sellAmount, balance, checker, balanceCheckHandler;

    return _regenerator2.default.wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            _state5 = _this2.state, sellAmount = _state5.sellAmount, balance = _state5.balance;
            checker = void 0;
            _context6.next = 4;
            return _this2.getRequiredAmount();

          case 4:
            _context6.next = 6;
            return _this2.updateRemainingBalance();

          case 6:
            balanceCheckHandler = function () {
              var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
                var flow, btcScriptValues, isBalanceEnough, utcNow, timeLeft;
                return _regenerator2.default.wrap(function _callee4$(_context4) {
                  while (1) {
                    switch (_context4.prev = _context4.next) {
                      case 0:
                        flow = _this2.props.swap.flow;
                        btcScriptValues = flow.state.btcScriptValues;
                        isBalanceEnough = _this2.state.isBalanceEnough;
                        utcNow = Math.floor(Date.now() / 1000);
                        timeLeft = Math.ceil((btcScriptValues.lockTime - utcNow) / 60);

                        if (!(timeLeft <= 0)) {
                          _context4.next = 8;
                          break;
                        }

                        flow.stopSwapProcess();

                        return _context4.abrupt('return', true);

                      case 8:
                        if (!isBalanceEnough) {
                          _context4.next = 10;
                          break;
                        }

                        return _context4.abrupt('return', true);

                      case 10:
                        _context4.next = 12;
                        return _this2.updateBalance();

                      case 12:
                        _this2.checkThePayment();

                        return _context4.abrupt('return', false);

                      case 14:
                      case 'end':
                        return _context4.stop();
                    }
                  }
                }, _callee4, _this2);
              }));

              return function balanceCheckHandler() {
                return _ref7.apply(this, arguments);
              };
            }();

            _context6.next = 9;
            return balanceCheckHandler();

          case 9:

            checker = setInterval((0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
              var needStop;
              return _regenerator2.default.wrap(function _callee5$(_context5) {
                while (1) {
                  switch (_context5.prev = _context5.next) {
                    case 0:
                      _context5.next = 2;
                      return balanceCheckHandler();

                    case 2:
                      needStop = _context5.sent;


                      if (needStop) {
                        clearInterval(checker);
                      }

                    case 4:
                    case 'end':
                      return _context5.stop();
                  }
                }
              }, _callee5, _this2);
            })), 5000);

          case 10:
          case 'end':
            return _context6.stop();
        }
      }
    }, _callee6, _this2);
  }));

  this.onCopyAddress = function (e) {
    _this2.setState({
      isPressCtrl: true
    });
  };

  this.handleReloadBalance = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7() {
    var isBalanceFetching;
    return _regenerator2.default.wrap(function _callee7$(_context7) {
      while (1) {
        switch (_context7.prev = _context7.next) {
          case 0:
            isBalanceFetching = _this2.state.isBalanceFetching;


            _this2.updateBalance();

            _this2.setState({
              isBalanceFetching: true
            }, function () {
              setTimeout(function () {
                _this2.setState({
                  isBalanceFetching: false
                });
              }, 500);
            });

          case 3:
          case 'end':
            return _context7.stop();
        }
      }
    }, _callee7, _this2);
  }));

  this.handleCopyAddress = function (e) {
    _this2.setState({
      isAddressCopied: true
    }, function () {
      setTimeout(function () {
        _this2.setState({
          isAddressCopied: false
        });
      }, 500);
    });
  };

  this.handlerBuyWithCreditCard = function (e) {
    e.preventDefault();
  };
}, _temp)) || _class);
exports.default = DepositWindow;

/***/ }),

/***/ 320:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"stepList":"_195lnx","stepItem":"_1a2wFb","stepNumber":"_4FowzS","stepText":"_3R6iA2","cancelSwap":"_121RPb","tooltip":"_1q6_Jc","active":"_2fN6Ux","checked":"m58vhE","transactionInStep":"_1Vaiq-","isMobile":"_2F-d9x"};

/***/ }),

/***/ 3209:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"container":"_1uduwC","buttonLan":"_2Mbmcg","header":"-QJzcI","header-fixed":"_3NkUKR","slide-down":"_3fI_NO","header-promo":"_2Kl7se","header-mobile":"_1jiUrA","header-mobile__hidden":"_24Hbcx","loaderCreateWallet":"jMU3VA"};

/***/ }),

/***/ 321:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouterDom = __webpack_require__(51);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Href = __webpack_require__(1988);

var _Href2 = _interopRequireDefault(_Href);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Href = function Href(_ref) {
  var children = _ref.children,
      to = _ref.to,
      redirect = _ref.redirect,
      tab = _ref.tab,
      rel = _ref.rel,
      className = _ref.className;

  if (to) {
    return _react2.default.createElement(
      _reactRouterDom.NavLink,
      { styleName: 'link' },
      children
    );
  }

  return _react2.default.createElement(
    'a',
    {
      styleName: 'link',
      className: className,
      href: redirect || tab,
      target: tab ? '_blank' : null,
      rel: rel || null
    },
    children
  );
};

Href.propTypes = {
  children: _propTypes2.default.node.isRequired,
  to: _propTypes2.default.string,
  redirect: _propTypes2.default.string,
  tab: _propTypes2.default.string,
  rel: _propTypes2.default.string,
  className: _propTypes2.default.string
};

exports.default = (0, _reactCssModules2.default)(Href, _Href2.default);

/***/ }),

/***/ 3210:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _helpers = __webpack_require__(17);

var _reactRouterDom = __webpack_require__(51);

var _SubMenu = __webpack_require__(3211);

var _SubMenu2 = _interopRequireDefault(_SubMenu);

var _classnames = __webpack_require__(72);

var _classnames2 = _interopRequireDefault(_classnames);

var _Nav = __webpack_require__(3213);

var _Nav2 = _interopRequireDefault(_Nav);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _reactIntl = __webpack_require__(8);

var _locale = __webpack_require__(50);

var _ArrowDown = __webpack_require__(3214);

var _ArrowDown2 = _interopRequireDefault(_ArrowDown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var checkOnExchange = function checkOnExchange(pathname) {
  if (pathname.includes(_helpers.links.exchange) || pathname === '/' || pathname === '/ru') {
    return true;
  }
  return false;
};

var Nav = (_dec = (0, _reactCssModules2.default)(_Nav2.default, { allowMultiple: true }), (0, _reactIntl.injectIntl)(_class = (0, _reactRouterDom.withRouter)(_class = _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(Nav, _Component);

  function Nav() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Nav);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Nav.__proto__ || (0, _getPrototypeOf2.default)(Nav)).call.apply(_ref, [this].concat(args))), _this), _this.handleScrollToTopClick = function (link) {
      _this.setState({ activeRoute: link });
      //
      // const scrollStep = -window.scrollY / (500 / 15)
      // const scrollInterval = setInterval(() => {
      //   if (window.scrollY !== 0) {
      //     window.scrollBy(0, scrollStep)
      //   } else {
      //     clearInterval(scrollInterval)
      //   }
      // }, 15)
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Nav, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          menu = _props.menu,
          locale = _props.intl.locale,
          location = _props.location;


      var isExchange = location.pathname.includes(_helpers.links.exchange) || location.pathname === '/' || location.pathname === '/ru';

      return _react2.default.createElement(
        'div',
        { styleName: 'nav' },
        _react2.default.createElement(
          _react.Fragment,
          null,
          menu.filter(function (i) {
            return i.isDesktop !== false;
          }).map(function (_ref2) {
            var title = _ref2.title,
                link = _ref2.link,
                exact = _ref2.exact,
                tour = _ref2.tour,
                haveSubmenu = _ref2.haveSubmenu,
                index = _ref2.index,
                isBold = _ref2.isBold,
                rest = (0, _objectWithoutProperties3.default)(_ref2, ['title', 'link', 'exact', 'tour', 'haveSubmenu', 'index', 'isBold']);
            return !rest.displayNone && _react2.default.createElement(
              'div',
              { styleName: 'mainMenu', key: title + ' ' + link },
              _react2.default.createElement(
                _reactRouterDom.NavLink,
                {
                  onClick: _this2.handleScrollToTopClick,
                  key: index,
                  'data-tut': title === 'Exchange' ? 'reactour__exchange' : '',
                  exact: exact
                  /* eslint-disable indent */
                  , className: '\n                      ' + _Nav2.default.link + '\n                      ' + rest.currentPageFlag + '\n                      ' + (isExchange && _Nav2.default.exchangeMenuLink) + '\n                      ' + (isExchange ? ' ' + _Nav2.default.active_exchange : '') + '\n                      ' + (checkOnExchange(link) && isExchange ? ' ' + _Nav2.default.active : '') + '\n                    '
                  /* eslint-enable indent */
                  , to: (0, _locale.localisedUrl)(locale, link),
                  activeClassName: _Nav2.default.active // it does not work in all cases, so it duplicates in className for some cases
                  // im hurry, so fix it, if you are here
                },
                _react2.default.createElement(
                  'div',
                  null,
                  title
                )
              ),
              _react2.default.createElement('div', null)
            );
          })
        )
      );
    }
  }]);
  return Nav;
}(_react.Component), _class2.propTypes = {
  menu: _propTypes2.default.array.isRequired
}, _temp2)) || _class) || _class) || _class);
exports.default = Nav;

/***/ }),

/***/ 3211:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _links = __webpack_require__(214);

var _links2 = _interopRequireDefault(_links);

var _reactIntl = __webpack_require__(8);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SubMenu = __webpack_require__(3212);

var _SubMenu2 = _interopRequireDefault(_SubMenu);

var _locale = __webpack_require__(50);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var subMenuItems = [{
  link: '/exchange',
  title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Swap.OnlineSubmenu', defaultMessage: 'Swap.Exhange' }),
  description: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Submenu16', defaultMessage: 'Fast atomic swap exchanges BTC, BCH, ETH, LTC, ERC20 online' }),
  image: 'https://img.icons8.com/wired/30/000000/transfer-between-users.png'
}, {
  link: '/',
  title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Swap.WalletSubMeny', defaultMessage: 'Swap.Wallet' }),
  description: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Submenu22', defaultMessage: 'Cryptocurrency storage without loading wallets' }),
  image: 'https://img.icons8.com/ios/30/000000/bonds.png'
}, {
  link: _links2.default.footer.widget,
  title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Swap.WidgetSubMenu', defaultMessage: 'Swap.Widget' }),
  description: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Submenu28', defaultMessage: 'Turn your website into a cryptocurrency portal (wallet, stock exchange, etc.)' }),
  image: 'https://img.icons8.com/wired/30/000000/r2-d2.png'
}, {
  link: _links2.default.footer.widget,
  title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'launchpadSubMenu', defaultMessage: 'IEO launchpad' }),
  description: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Submenu34', defaultMessage: 'Launch IEO on your website' }),
  image: 'https://img.icons8.com/wired/30/000000/data-protection.png'
}];

var SubMenu = function (_React$PureComponent) {
  (0, _inherits3.default)(SubMenu, _React$PureComponent);

  function SubMenu() {
    (0, _classCallCheck3.default)(this, SubMenu);
    return (0, _possibleConstructorReturn3.default)(this, (SubMenu.__proto__ || (0, _getPrototypeOf2.default)(SubMenu)).apply(this, arguments));
  }

  (0, _createClass3.default)(SubMenu, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          className = _props.className,
          styleName = _props.styleName,
          history = _props.history,
          locale = _props.locale;


      return _react2.default.createElement(
        'ul',
        { styleName: 'submenu' },
        subMenuItems.map(function (item, index) {
          return _react2.default.createElement(
            'li',
            { key: index },
            _react2.default.createElement(
              'a',
              (0, _extends3.default)({
                styleName: 'submenu-item'
              }, index !== 2 ? {
                onClick: function onClick() {
                  return history.push((0, _locale.localisedUrl)(locale, item.link));
                }
              } : {
                rel: 'noopener noreferrer',
                target: '_blank',
                href: item.link
              }),
              _react2.default.createElement('img', { src: item.image, alt: item.title }),
              _react2.default.createElement(
                'div',
                { styleName: 'text-container-submenu' },
                _react2.default.createElement(
                  'span',
                  null,
                  item.title
                ),
                _react2.default.createElement(
                  'p',
                  null,
                  item.description
                )
              )
            )
          );
        })
      );
    }
  }]);
  return SubMenu;
}(_react2.default.PureComponent);

exports.default = (0, _reactCssModules2.default)(SubMenu, _SubMenu2.default);

/***/ }),

/***/ 3212:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"submenu":"_2vSOeX","submenu-item":"qUFJZf","text-container-submenu":"_2411TW"};

/***/ }),

/***/ 3213:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"nav":"_32xpDs","mainMenu":"_3BfkYE","fixed-width":"_3G-DTM","link":"_2q3iYI","active":"_2X-K5z","active_exchange":"_1LBqY8","exchangeMenuLink":"Zk18eX","container":"_2iVJnf","humburger":"_1wzcWQ","bold":"ftnrVW","arrowSub":"_2JeTQ0"};

/***/ }),

/***/ 3214:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/ArrowDown_d5aedc.svg";

/***/ }),

/***/ 3215:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _isInteger = __webpack_require__(297);

var _isInteger2 = _interopRequireDefault(_isInteger);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouter = __webpack_require__(110);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _redaction = __webpack_require__(37);

var _helpers = __webpack_require__(17);

var _User = __webpack_require__(3216);

var _User2 = _interopRequireDefault(_User);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Sound = __webpack_require__(1211);

var _Sound2 = _interopRequireDefault(_Sound);

var _Question = __webpack_require__(3217);

var _Question2 = _interopRequireDefault(_Question);

var _UserAvatar = __webpack_require__(3219);

var _UserAvatar2 = _interopRequireDefault(_UserAvatar);

var _UserTooltip = __webpack_require__(1212);

var _UserTooltip2 = _interopRequireDefault(_UserTooltip);

var _SignUpButton = __webpack_require__(1213);

var _SignUpButton2 = _interopRequireDefault(_SignUpButton);

var _links = __webpack_require__(214);

var _links2 = _interopRequireDefault(_links);

var _Avatar = __webpack_require__(551);

var _Avatar2 = _interopRequireDefault(_Avatar);

var _reactIntl = __webpack_require__(8);

var _locale = __webpack_require__(50);

var _reactTooltip = __webpack_require__(103);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var User = (_dec = (0, _redaction.connect)({
  feeds: 'feeds.items',
  peer: 'ipfs.peer',
  isSigned: 'signUp.isSigned',
  reputation: 'ipfs.reputation'
}), _dec2 = (0, _reactCssModules2.default)(_User2.default, { allowMultiple: true }), (0, _reactRouter.withRouter)(_class = (0, _reactIntl.injectIntl)(_class = _dec(_class = _dec2(_class = (_temp2 = _class2 = function (_React$Component) {
  (0, _inherits3.default)(User, _React$Component);

  function User() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, User);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = User.__proto__ || (0, _getPrototypeOf2.default)(User)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      view: true
    }, _this.handleChangeView = function () {
      _this.setState({ view: true });
    }, _this.handleToggleTooltip = function () {
      _this.setState({
        view: !_this.state.view
      });
    }, _this.soundClick = function () {
      var audio = new Audio();
      audio.src = _Sound2.default;
      audio.autoplay = true;
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(User, [{
    key: 'render',
    value: function render() {
      var view = this.state.view;
      var history = this.props.history;


      var isWidgetHash = history.location.pathname.includes('/exchange/') && history.location.hash === '#widget';
      var isWidgetBuild = _appConfig2.default && _appConfig2.default.isWidget;
      var isWidget = isWidgetBuild || isWidgetHash;

      var reputationPlaceholder = '0';

      var _props = this.props,
          feeds = _props.feeds,
          peer = _props.peer,
          reputation = _props.reputation,
          openTour = _props.openTour,
          path = _props.path,
          isSigned = _props.isSigned;


      return _react2.default.createElement(
        'div',
        { styleName: 'user-cont' },
        !isSigned && !isWidget && _react2.default.createElement(_SignUpButton2.default, null),
        path && !isWidget && _react2.default.createElement(_Question2.default, { openTour: openTour }),
        !isWidget && _react2.default.createElement(_UserAvatar2.default, {
          isToggle: this.handleToggleTooltip,
          feeds: feeds,
          declineRequest: this.props.declineRequest,
          getInfoBySwapId: _actions2.default.core.getInformationAboutSwap,
          soundClick: this.soundClick,
          changeView: this.handleChangeView
        }),
        view && _react2.default.createElement(_UserTooltip2.default, {
          feeds: feeds,
          peer: peer,
          toggle: this.handleToggleTooltip,
          acceptRequest: this.props.acceptRequest,
          declineRequest: this.props.declineRequest
        }),
        !!peer && !isWidget && _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'div',
            (0, _extends3.default)({
              styleName: 'avatar-container'
            }, (0, _isInteger2.default)(reputation) && reputation !== 0 ? {
              'data-tip': true,
              'data-for': 'gravatar'
            } : {}),
            _react2.default.createElement(_Avatar2.default, {
              className: _User2.default.avatar,
              value: peer,
              size: 40
            }),
            _react2.default.createElement(
              'div',
              { styleName: 'avatar-reputation-centered' + (!(0, _isInteger2.default)(reputation) || reputation === 0 ? ' noBg' : '') },
              (0, _isInteger2.default)(reputation) && reputation !== 0 ? reputation : _react2.default.createElement(
                'a',
                { href: _links2.default.telegram, target: '_blank', rel: 'noopener noreferrer' },
                _react2.default.createElement('i', { styleName: 'icon', className: 'fab fa-telegram-plane' })
              )
            )
          ),
          _react2.default.createElement(
            _reactTooltip2.default,
            { id: 'gravatar', effect: 'solid' },
            _react2.default.createElement(
              'span',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'avatar24',
                defaultMessage: 'This is your (personal) gravatar, it is unique for each user.\r The number is your rating within the system (it grows with the number of successful swaps)'
              })
            )
          )
        )
      );
    }
  }]);
  return User;
}(_react2.default.Component), _class2.propTypes = {
  feeds: _propTypes2.default.array.isRequired,
  peer: _propTypes2.default.string.isRequired,
  declineRequest: _propTypes2.default.func.isRequired,
  acceptRequest: _propTypes2.default.func.isRequired
}, _class2.defaultProps = {
  peer: null,
  feeds: []
}, _temp2)) || _class) || _class) || _class) || _class);
exports.default = User;

/***/ }),

/***/ 3216:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"avatar-container":"_2MJUtu","avatar-reputation-centered":"_1dAov1","noBg":"_3XtPT6","user-cont":"_2pmz1I","hidden":"DHHm8V","avatar":"_1LE8yr","icon":"_2Xt0O2"};

/***/ }),

/***/ 3217:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Question = __webpack_require__(3218);

var _Question2 = _interopRequireDefault(_Question);

var _reactTooltip = __webpack_require__(103);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Question = function Question(_ref) {
  var openTour = _ref.openTour;
  return _react2.default.createElement(
    _react.Fragment,
    null,
    _react2.default.createElement(
      'span',
      { onClick: openTour, styleName: 'question', 'data-tip': true, 'data-for': 'Knowmore' },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'question12', defaultMessage: '?' })
    ),
    _react2.default.createElement(
      _reactTooltip2.default,
      { id: 'Knowmore', type: 'light', effect: 'solid' },
      _react2.default.createElement(
        'span',
        null,
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'question15', defaultMessage: 'Know more about us' })
      )
    )
  );
};

exports.default = (0, _reactCssModules2.default)(Question, _Question2.default);

/***/ }),

/***/ 3218:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"question":"_2NGCzX"};

/***/ }),

/***/ 3219:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouter = __webpack_require__(110);

var _avatar = __webpack_require__(3220);

var _avatar2 = _interopRequireDefault(_avatar);

var _UserAvatar = __webpack_require__(3221);

var _UserAvatar2 = _interopRequireDefault(_UserAvatar);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var UserAvatar = (_dec = (0, _reactCssModules2.default)(_UserAvatar2.default, { allowMultiple: true }), (0, _reactRouter.withRouter)(_class = _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(UserAvatar, _Component);

  function UserAvatar() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, UserAvatar);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = UserAvatar.__proto__ || (0, _getPrototypeOf2.default)(UserAvatar)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      feeds: null,
      animation: 'user'
    }, _this.handleClick = function () {
      var isToggle = _this.props.isToggle;


      isToggle();
      _this.setState({
        animation: 'user'
      });
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(UserAvatar, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      var _this2 = this;

      var _props = this.props,
          feeds = _props.feeds,
          soundClick = _props.soundClick,
          changeView = _props.changeView,
          history = _props.history,
          getInfoBySwapId = _props.getInfoBySwapId;

      var path = history.location.pathname.split('/')[1];

      if (path === 'swaps') {
        var swapId = history.location.pathname.split('/')[3];
        var swapInfo = getInfoBySwapId(swapId);

        if (!swapInfo.isFinished) {
          soundClick = function soundClick() {};
          feeds.forEach(function (offer) {
            var id = offer.id,
                peer = offer.peer;


            if (id === swapId) {
              _this2.props.declineRequest(id, peer);
              changeView();
              return;
            }

            offer.request.forEach(function (request) {
              _this2.props.declineRequest(id, request.participant.peer);
            });
          });
        }
      }

      if (nextProps.feeds.length > feeds.length) {
        changeView();

        this.setState({
          feeds: nextProps.feeds,
          animation: 'user shake new'
        });

        setTimeout(function () {
          _this2.setState({
            animation: 'user new'
          });
        }, 820);

        soundClick();
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var animation = this.state.animation;


      return _react2.default.createElement(
        'div',
        { styleName: animation, onClick: this.handleClick },
        _react2.default.createElement('img', { styleName: 'bell', src: _avatar2.default, alt: 'Bell' })
      );
    }
  }]);
  return UserAvatar;
}(_react.Component), _class2.propTypes = {
  feeds: _propTypes2.default.array.isRequired,
  soundClick: _propTypes2.default.func.isRequired,
  changeView: _propTypes2.default.func.isRequired
}, _class2.defaultProps = {
  feeds: []
}, _temp2)) || _class) || _class);
exports.default = UserAvatar;

/***/ }),

/***/ 322:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _classnames = __webpack_require__(72);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Center = __webpack_require__(2002);

var _Center2 = _interopRequireDefault(_Center);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Center = function Center(_ref) {
  var children = _ref.children,
      scrollable = _ref.scrollable,
      centerHorizontally = _ref.centerHorizontally,
      centerVertically = _ref.centerVertically,
      keepFontSize = _ref.keepFontSize,
      relative = _ref.relative,
      rest = (0, _objectWithoutProperties3.default)(_ref, ['children', 'scrollable', 'centerHorizontally', 'centerVertically', 'keepFontSize', 'relative']);

  // TODO move overflow to Modal and any other cases where it belongs
  var styleName = (0, _classnames2.default)('centringContainer', {
    'scrollable': scrollable,
    'centerHorizontally': centerHorizontally,
    'centerVertically': centerVertically,
    'keepFontSize': keepFontSize,
    'relative': relative
  });

  return _react2.default.createElement(
    'div',
    (0, _extends3.default)({ styleName: styleName }, rest),
    _react2.default.createElement(
      'div',
      { styleName: 'centringContent' },
      children
    )
  );
};

Center.propTypes = {
  relative: _propTypes2.default.bool,
  children: _propTypes2.default.node,
  scrollable: _propTypes2.default.bool,
  keepFontSize: _propTypes2.default.bool,
  centerVertically: _propTypes2.default.bool,
  centerHorizontally: _propTypes2.default.bool
};

Center.defaultProps = {
  relative: false,
  scrollable: false,
  keepFontSize: false,
  centerVertically: true,
  centerHorizontally: true
};

exports.default = (0, _reactCssModules2.default)(Center, _Center2.default, { allowMultiple: true });

/***/ }),

/***/ 3220:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/avatar_33edf0.svg";

/***/ }),

/***/ 3221:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"user":"_2RGag8","bell":"_1kxsPB","status":"_1HA8Rs","new":"_3pPu-T","shake":"_2JMEzu"};

/***/ }),

/***/ 3222:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"column":"_3rHFm5","feed":"_2wHzlm","userTooltip":"v8POQM","title":"_3DK_1S","currency":"_1qKKUr","coin":"X934On","arrow":"_1T0JYa","checked":"_3RrmBT","decline":"_2sv9ZW","icon":"_2etP7N"};

/***/ }),

/***/ 3223:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/arrow-right_014b04.svg";

/***/ }),

/***/ 3224:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_3RIIwx","buttonMobile":"_3DQAqJ","mobile":"Lzd1Mo"};

/***/ }),

/***/ 3225:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouterDom = __webpack_require__(51);

var _reactIntl = __webpack_require__(8);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _NavMobile = __webpack_require__(3226);

var _NavMobile2 = _interopRequireDefault(_NavMobile);

var _locale = __webpack_require__(50);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _constants = __webpack_require__(154);

var _constants2 = _interopRequireDefault(_constants);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var NavMobile = (_dec = (0, _reactCssModules2.default)(_NavMobile2.default), (0, _reactIntl.injectIntl)(_class = _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(NavMobile, _Component);

  function NavMobile() {
    (0, _classCallCheck3.default)(this, NavMobile);
    return (0, _possibleConstructorReturn3.default)(this, (NavMobile.__proto__ || (0, _getPrototypeOf2.default)(NavMobile)).apply(this, arguments));
  }

  (0, _createClass3.default)(NavMobile, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          menu = _props.menu,
          locale = _props.intl.locale;


      return _react2.default.createElement(
        'div',
        { styleName: 'navbar' },
        menu.filter(function (i) {
          return i.isMobile !== false;
        }).map(function (_ref) {
          var title = _ref.title,
              link = _ref.link,
              exact = _ref.exact,
              icon = _ref.icon,
              isBold = _ref.isBold,
              currentPageFlag = _ref.currentPageFlag,
              rest = (0, _objectWithoutProperties3.default)(_ref, ['title', 'link', 'exact', 'icon', 'isBold', 'currentPageFlag']);
          return !rest.displayNone && (currentPageFlag ? _react2.default.createElement(
            'a',
            {
              key: title,
              onClick: function onClick() {
                return _actions2.default.modals.open(_constants2.default.modals.MobMenu, {});
              },
              tabIndex: '-1'
            },
            _react2.default.createElement(
              'span',
              { className: isBold && _NavMobile2.default.bold },
              title
            )
          ) : _react2.default.createElement(
            _reactRouterDom.NavLink,
            {
              key: title,
              exact: exact,
              to: (0, _locale.localisedUrl)(locale, link),
              activeClassName: _NavMobile2.default.active
            },
            _react2.default.createElement(
              'span',
              { className: isBold && _NavMobile2.default.bold },
              title
            )
          ));
        })
      );
    }
  }]);
  return NavMobile;
}(_react.Component), _class2.propTypes = {
  menu: _propTypes2.default.array.isRequired
}, _temp)) || _class) || _class);
exports.default = NavMobile;

/***/ }),

/***/ 3226:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"navbar":"_2WsNtV","active":"_3470Y1","bold":"_19jhTe"};

/***/ }),

/***/ 3227:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactIntl = __webpack_require__(8);

var _reactour = __webpack_require__(1205);

var _reactour2 = _interopRequireDefault(_reactour);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TourPartial = function (_Component) {
  (0, _inherits3.default)(TourPartial, _Component);

  function TourPartial(props) {
    (0, _classCallCheck3.default)(this, TourPartial);

    var _this = (0, _possibleConstructorReturn3.default)(this, (TourPartial.__proto__ || (0, _getPrototypeOf2.default)(TourPartial)).call(this, props));

    _this.closeTour = function () {
      _this.setState({ shouldTourOpen: false });
    };

    _this.state = {
      shouldTourOpen: true
    };
    return _this;
  }

  (0, _createClass3.default)(TourPartial, [{
    key: 'render',
    value: function render() {
      var shouldTourOpen = this.state.shouldTourOpen;


      var accentColor = '#510ed8';

      return _react2.default.createElement(_reactour2.default, {
        steps: tourSteps,
        onRequestClose: this.closeTour,
        isOpen: shouldTourOpen,
        maskClassName: 'mask',
        className: 'helper',
        accentColor: accentColor
      });
    }
  }]);
  return TourPartial;
}(_react.Component);
/* eslint-disable */


exports.default = TourPartial;
var tourSteps = [{
  selector: '[data-tut="have"]', //have currency
  content: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'tourPartial94', defaultMessage: 'Please enter the amount you would like to sell and select the currency to sell. You can also sell currency from an external wallet.' })
}, {
  selector: '[data-tut="get"]',
  content: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'tourPartial99', defaultMessage: 'Please enter the amount you would like to buy and select the currency to buy.' })
}, {
  selector: '[data-tut="status"]',
  content: _react2.default.createElement(_reactIntl.FormattedMessage, {
    id: 'tourPartial103',
    defaultMessage: 'Here you can see the status of the search for exchange offers. When loading there will be `Searching orders...` shown. When the order is found, check the exchange rate here' })
}, {
  selector: '[data-tut="togle"]',
  content: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'tourPartial107', defaultMessage: 'Switch this button to receive funds after exchanging to the internal wallet on Swap.online or to another wallet' })
}, {
  selector: '[data-tut="Exchange"]',
  content: _react2.default.createElement(_reactIntl.FormattedMessage, {
    id: 'tourPartial116',
    defaultMessage: 'Switch this button to see the direct URL of the exchange operation. This is possible when the button is pink.' })
}, {
  selector: '[data-tut="Orderbook"]',
  content: _react2.default.createElement(_reactIntl.FormattedMessage, {
    id: 'tourPartial128',
    defaultMessage: 'Click on this button to see the page with offers for exchange. Offers will be presented for the particular currencies. Also you can create your own offer on the offer page.' })
}];

/* eslint-enable */

/***/ }),

/***/ 3228:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"overlay":"AOfotv","loader":"_2DlhHx","small":"fMD4oL","loader1":"_3xH56a","loader2":"_2bU_0h","loader3":"_2fM_Pw","text":"_1NTkxU","link":"_2yP3dV","over":"EGbgsw","tips":"gjUF3G","Firefox":"_1DC7gI"};

/***/ }),

/***/ 3229:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactRouterDom = __webpack_require__(51);

var _reactDeviceDetect = __webpack_require__(53);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _redaction = __webpack_require__(37);

var _Footer = __webpack_require__(3230);

var _Footer2 = _interopRequireDefault(_Footer);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Referral = __webpack_require__(559);

var _Referral2 = _interopRequireDefault(_Referral);

var _Info = __webpack_require__(3231);

var _Info2 = _interopRequireDefault(_Info);

var _Links = __webpack_require__(3237);

var _Links2 = _interopRequireDefault(_Links);

var _SocialMenu = __webpack_require__(3239);

var _SocialMenu2 = _interopRequireDefault(_SocialMenu);

var _WidthContainer = __webpack_require__(195);

var _WidthContainer2 = _interopRequireDefault(_WidthContainer);

var _SwitchLang = __webpack_require__(3241);

var _SwitchLang2 = _interopRequireDefault(_SwitchLang);

var _GetIeo = __webpack_require__(3243);

var _GetIeo2 = _interopRequireDefault(_GetIeo);

var _locationPaths = __webpack_require__(3245);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Footer = function Footer(props) {
  return _react2.default.createElement(
    _react.Fragment,
    null,
    !_appConfig2.default.isWidget && !(0, _locationPaths.isMainOrPartialPages)(props.location.pathname) && _react2.default.createElement(
      _WidthContainer2.default,
      { styleName: 'shareText' },
      _react2.default.createElement(_Referral2.default, { address: props.userEthAddress })
    ),
    _react2.default.createElement(
      'div',
      { styleName: 'footer' },
      _react2.default.createElement(
        _WidthContainer2.default,
        { styleName: 'container' },
        _react2.default.createElement(_GetIeo2.default, null),
        !_appConfig2.default.isWidget && !_reactDeviceDetect.isMobile && _react2.default.createElement(_Links2.default, null),
        !_appConfig2.default.isWidget && _react2.default.createElement(_SwitchLang2.default, null),
        !_appConfig2.default.isWidget && _react2.default.createElement(_SocialMenu2.default, null),
        !_reactDeviceDetect.isMobile && _react2.default.createElement(_Info2.default, props),
        _react2.default.createElement(
          'span',
          { style: { color: '#ffffff', fontSize: '12px', marginTop: '20px' } },
          _appConfig2.default.time
        )
      )
    )
  );
};

Footer.propTypes = {
  props: _propTypes2.default.shape({
    serverAddress: _propTypes2.default.string.isRequired,
    isOnline: _propTypes2.default.bool.isRequired,
    onlineUsers: _propTypes2.default.number,
    userEthAddress: _propTypes2.default.string.isRequired
  })
};

exports.default = (0, _reactRouterDom.withRouter)((0, _redaction.connect)({
  'serverAddress': 'ipfs.server',
  'isOnline': 'ipfs.isOnline',
  'onlineUsers': 'ipfs.onlineUsers',
  'userEthAddress': 'user.ethData.address'
})((0, _reactCssModules2.default)(Footer, _Footer2.default, { allowMultiple: true })));

/***/ }),

/***/ 323:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var seo = {
  config: {
    medium: 'https://medium.com/@swaponline',
    twitter: 'https://twitter.com/SwapOnlineTeam',
    facebook: 'https://www.facebook.com/SwapOnlineTeam',
    telegram: 'https://t.me/swaponlineint',
    email: 'info@swap.online',
    mainUrl: 'https://swap.online',
    logo: 'https://screenshots.wpmix.net/chrome_2019-03-28_18-55-506746c4c5-44e6-4bb5-89cb-52ce8fabcedf.png'
  },
  pages: [{
    uri: '/',
    title: 'Swap.Online - Cryptocurrency Wallet with Atomic Swap Exchange',
    description: 'Our online wallet with Atomic swap algorithms will help you store and exchange' + ' cryptocurrency instantly and more secure without third-parties. Decentralized exchange.'
  }, {
    uri: '/exchange',
    title: 'Exchange',
    description: 'Exchange'
  }, {
    uri: '/exchange/btc',
    title: 'Bitcoin',
    description: 'Bitcoin',
    h1: 'Bitcoin Trade'
  }, {
    uri: '/exchange/bch',
    title: 'Bitcoin Cash',
    description: 'Bitcoin Cash',
    h1: 'Bitcoin Cash Trade'
  }, {
    uri: '/exchange/ltc',
    title: 'Litecoin',
    description: 'Litecoin',
    h1: 'Litecoin Trade'
  }, {
    uri: '/exchange/eth',
    title: 'Ethereum',
    description: 'Ethereum',
    h1: 'Ethereum Trade'
  }, {
    uri: '/exchange/swap',
    title: 'Swap',
    description: 'Swap',
    h1: 'Swap Trade'
  }, {
    uri: '/exchange/noxon',
    title: 'Noxon',
    description: 'Noxon',
    h1: 'Noxon Trade'
  }, {
    uri: '/exchange/jot',
    title: 'Jot',
    description: 'Jot',
    h1: 'Jot Trade'
  }, {
    uri: '/history',
    title: 'My History',
    description: 'My History'
  }, {
    uri: '/aboutus',
    title: 'About Us',
    description: 'About Us'
  }, {
    uri: '/listing',
    title: 'Listing',
    description: 'Listing'
  }, {
    uri: '/swap',
    title: 'Swap',
    description: 'Swap'
  }, {
    uri: '/feed',
    title: 'Feed',
    description: 'Feed'
  }, {
    uri: '/eth-btc',
    title: 'Atomic Swap Ethereum (ETH) to Bitcoin (BTC) Decentralized Exchange',
    description: 'Best exchange rate for Ethereum (ETH) to Bitcoin (BTC) atomic swap. Decentralized exchange of digital currencies with online wallet.',
    h1: 'Atomic Swap Ethereum (ETH) to Bitcoin (BTC) - Instant Exchange'
  }, {
    uri: '/btc-eth',
    title: 'Atomic Swap Bitcoin (BTC) to Ethereum (ETH) Cross-Chain Exchange',
    description: 'Looking for best exchange rate to buy Ethereum (ETH) with Bitcoin (BTC)? Place your order on Swap.online to get the best rate.',
    h1: 'Atomic Swap Bitcoin (BTC) to Ethereum (ETH) - Decentralized Exchange'
  }, {
    uri: '/eth-bch',
    title: 'Atomic Swap Ethereum (ETH) to Bitcoin Cash (BCH) Decentralized Exchange',
    description: 'Best exchange rate for Ethereum (ETH) to Bitcoin Cash (BCH) atomic swap. Decentralized exchange of digital currencies with online wallet.',
    h1: 'Atomic Swap Ethereum (ETH) to Bitcoin Cash (BCH) - Instant Exchange'
  }, {
    uri: '/bch-eth',
    title: 'Atomic Swap Bitcoin Cash (BCH) to Ethereum (ETH) Cross-Chain Exchange',
    description: 'Looking for best exchange rate to buy Ethereum (ETH) with Bitcoin Cash (BCH)? Place your order on Swap.online to get the best rate.',
    h1: 'Atomic Swap Bitcoin Cash (BCH) to Ethereum (ETH) - Decentralized Exchange'
  }, {
    uri: '/eth-ltc',
    title: 'Atomic Swap Ethereum (ETH) to Litecoin (LTC) Decentralized Exchange',
    description: 'Best exchange rate for Ethereum (ETH) to Litecoin (LTC) atomic swap. Decentralized exchange of digital currencies with online wallet.',
    h1: 'Atomic Swap Ethereum (ETH) to Litecoin (LTC) - Instant Exchange'
  }, {
    uri: '/ltc-eth',
    title: 'Atomic Swap Litecoin (LTC) to Ethereum (ETH) Cross-Chain Exchange',
    description: 'Looking for best exchange rate to buy Ethereum (ETH) with Litecoin (LTC)? Place your order on Swap.online to get the best rate.',
    h1: 'Atomic Swap Litecoin (LTC) to Ethereum (ETH) - Decentralized Exchange'
  }, {
    uri: '/ltc-btc',
    title: 'Atomic Swap Litecoin (LTC) to Bitcoin (BTC) Decentralized Exchange',
    desctption: 'Best exchange rate for Litecoin (LTC) to Bitcoin (BTC) atomic swap. Decentralized exchange of digital currencies with online wallet.',
    h1: 'Atomic Swap Litecoin (LTC) to Bitcoin (BTC) - Instant Exchange'
  }, {
    uri: '/btc-ltc',
    title: 'Atomic Swap Bitcoin (BTC) to Litecoin (LTC) Cross-Chain Exchange',
    desctption: 'Looking for best exchange rate to buy Litecoin (LTC) with Bitcoin (BTC)? Place your order on Swap.online to get the best rate.',
    h1: 'Atomic Swap Bitcoin (BTC) to Litecoin (LTC) - Decentralized Exchange'
  }, {
    uri: '/eos-btc',
    title: 'Atomic Swap EOS to Bitcoin (BTC) Instant Exchange',
    description: 'How to exchange EOS to BTC instantly and safely? Use Swap.Online service to exchange coins with atomic swap algorithm. ',
    h1: 'Best Exchange Rate EOS to Bitcoin (BTC) - Atomic Swap',
    footer: 'Swap.Online is proudly presenting first ever decentralized service for direct exchange between Bitcoin and EOS blockchains.\n        Here we\u2019re solving the bulk of problems with the EOS and Bitcoin exchange. Firstly, it is a registration in the EOS network,\n        well-known for its rather cumbersome design. On Swap.Online you can get it in a couple of seconds for small registration fee.\n        Secondly, it is a problem of EOS integration into the wallets with mass-adopted blockchains like Bitcoin and Ethereum.\n        At the moment, vast majority of EOS users store and exchange it via the EOS-pegged services which results in the complicated\n        interaction with Bitcoin and Ethereum.\n        Centralized exchanges offer poor remedy for this problem since they demand KYC/AML-procedures and store users\u2019 keys and funds.\n        Swap.Online team finalized first direct EOS-to-Bitcoin Atomic Swap in September, 2018 and now it allows users to exchange their crypto with no third party involved.\n        EOS itself is one of the world leading dApp-hosting platforms and very promising blockchain widely called \u2018Ethereum-killer\u2019 for the high scalability and developability.\n        So, Swap.Online provides users with the possibility to invest in the rising and prospective project using familiar Bitcoin and Ethereum coins.\n        Moreover, even USDTomni is accepted on our platform which makes the EOS purchasing easier than ever.'
  }, {
    uri: '/btc-eos',
    title: 'Atomic Swap Bitcoin (BTC) to EOS Instant Exchange',
    description: 'Atomic Swap Bitcoin (BTC) to EOS is the best way of exchanging cryptocurrencies decenralized. Swap.Online - Multi Currency Wallet.',
    h1: 'Best Exchange Rate Bitcoin (BTC) to EOS - Atomic Swap'
  },
  //  Wallets.
  {
    uri: '/Ethereum-wallet',
    title: 'Ethereum Wallet with Atomic Swap (exchange)',
    description: 'Exchange Ethereum (ETH) & ERC20 token using Swap.Online (hot) wallet with built-in Atomic Swap exchange. (No fees, No registration or KYC)',
    h1: 'Your online Ethereum (ETH) web wallet with Atomic Swap.'
  }, {
    uri: '/Bitcoin-wallet',
    title: 'Bitcoin (BTC) Web Wallet with Atomic Swap.',
    description: 'Swap.Online Bitcoin Wallet will allow you to exchange your coins using Atomic Swap technology.',
    h1: 'Your online Bitcoin (BTC) web wallet with Atomic Swap.',
    footer: 'Use Swap.Online as your safe and high-performance Bitcoin wallet. Firstly, you need to open https://swap.online/  in your browser.\n        Secondly, please, download your private and public key-pair for the Bitcoin network and save it somewhere in the reliable place.\n        In case of your failure to access your Bitcoin account, no one will be able to help you to restore your funds.\n        With the key downloaded and saved, you can start to store, send, receive and exchange Bitcoin.\n        Nowadays, the trades with USDT, EOS, ETH, BCH, GUSD and multiple amazing ERC-20 tokens are available.\n        Taking the fact into account, you can build your own investment strategy, starting with the Bitcoin  - the most popular blockchain in the world.\n        Mass-adopted in early 2010s it became a first expression of decentralized \u2018electronic cash\u2019 system based on Smart Contracts.\n        Swap.Online compares favourably with the rest of Bitcoin wallets since it uses the Atomic Swaps technology allowing\n        the direct interaction between blockchains with nok third party involved. Thus, Swap.Online is not pegged to single blockchain,\n        it allows to store, send, receive and exchange Bitcoin, Ethereum, USDT, BCH and the number of ERC-20 tokens.'
  }, {
    uri: '/Eos-wallet',
    title: 'Swap.Online - EOS Web Wallet with Atomic Swap (exchange).',
    description: 'Swap.Online multi-currency wallet with built-in Atomic Swap exchange. Store, send, and exchange EOS.',
    h1: 'Your online EOS hot wallet with Atomic Swap exchange.'
  }, {
    uri: '/BitcoinCash-wallet',
    title: 'Swap.Online - Bitcoin Cash (BCH) Wallet with Atomic Swap exchange.',
    description: 'Swap.Online Web Wallet - here you can store, send, receive, and exchange Bitcoin Cash (BCH) using Atomic Swap algorithms.',
    h1: 'Your online Bitcoin Cash (BCH) wallet with Atomic Swap.'
  }, {
    uri: '/Litecoin-wallet',
    title: 'Swap.Online - Litecoin (LTC) Web Wallet with Atomic Swap.',
    description: 'Litecoin (LTC) web wallet with Atomic Swap exchange. Send, receive, store, and swap your cryptocurrency online.',
    h1: 'Your online Litecoin (LTC) web wallet with Atomic Swap.'
  }, {
    uri: '/USDT-wallet',
    title: 'Swap.Online - Tether (USDT) Web Wallet with Atomic Swap.',
    description: 'Atomic Swap web wallet allows you to store and exchange USDT to Bitcoin. Multi-currency wallet with a decentralized exchange (based on Atomic Swap technology)',
    h1: 'Your online Tether (USDT) wallet with Atomic Swap.'
  }]
};

var getSeoPage = exports.getSeoPage = function getSeoPage(uri) {
  return seo.pages.find(function (p) {
    return p.uri === uri;
  });
};

var getUrl = exports.getUrl = function getUrl(uri) {
  return '' + seo.config.mainUrl + uri;
};

exports.default = seo;

/***/ }),

/***/ 3230:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"footer":"_3L1uLe","information-footer":"_2gCfCu","text":"_2jetqP","shareText":"_3JYpj7","container":"_1NdTcu","copyright":"_2jKK2q","container--copyright":"_1WH4Ua"};

/***/ }),

/***/ 3231:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Info = __webpack_require__(3232);

var _Info2 = _interopRequireDefault(_Info);

var _ProgressBar = __webpack_require__(3233);

var _ProgressBar2 = _interopRequireDefault(_ProgressBar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Info = (_temp = _class = function (_React$Component) {
  (0, _inherits3.default)(Info, _React$Component);

  function Info() {
    (0, _classCallCheck3.default)(this, Info);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Info.__proto__ || (0, _getPrototypeOf2.default)(Info)).call(this));

    _this.hideProgressBar = function () {
      _this.setState(function () {
        return { isVisibleProgressBar: false };
      });
    };

    _this.state = {
      isVisibleProgressBar: true
    };
    return _this;
  }

  (0, _createClass3.default)(Info, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          isOnline = _props.isOnline,
          serverAddress = _props.serverAddress,
          onlineUsers = _props.onlineUsers;
      var isVisibleProgressBar = this.state.isVisibleProgressBar;


      var onlinePeersHack = onlineUsers >= 0 ? onlineUsers : 1;

      return _react2.default.createElement(
        'div',
        { styleName: 'title' },
        'libp2p network status:',
        ' ',
        _react2.default.createElement(
          'span',
          null,
          _react2.default.createElement(
            'span',
            { styleName: isOnline ? 'connect' : 'disconnect' },
            isOnline ? 'Connected' : 'Disconnected. You cannot make exchanges until you are disconnected. Turn off VPN or try another network or browser'
          ),
          ' ',
          isOnline && '/ peers online: ' + onlinePeersHack
        ),
        isVisibleProgressBar && _react2.default.createElement(_ProgressBar2.default, { handleClick: this.hideProgressBar })
      );
    }
  }]);
  return Info;
}(_react2.default.Component), _class.propTypes = {
  serverAddress: _propTypes2.default.string.isRequired,
  isOnline: _propTypes2.default.bool.isRequired,
  onlineUsers: _propTypes2.default.number
}, _class.defaultProps = {
  serverAddress: 'array.io',
  isOnline: false,
  onlineUsers: 1
}, _temp);
exports.default = (0, _reactCssModules2.default)(Info, _Info2.default, { allowMultiple: true });

/***/ }),

/***/ 3232:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"title":"_3jeZdn","connect":"_117bHe","disconnect":"R0mxo3","copyright":"_3hi5Mj","copyright-text":"_3_uD8r"};

/***/ }),

/***/ 3233:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _index = __webpack_require__(14);

var _index2 = _interopRequireDefault(_index);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _rcProgress = __webpack_require__(3234);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ProgressBar = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(ProgressBar, _Component);

  function ProgressBar(_ref) {
    var maxValue = _ref.maxValue,
        endTime = _ref.endTime,
        step = _ref.step;
    (0, _classCallCheck3.default)(this, ProgressBar);

    var _this = (0, _possibleConstructorReturn3.default)(this, (ProgressBar.__proto__ || (0, _getPrototypeOf2.default)(ProgressBar)).call(this));

    _initialiseProps.call(_this);

    _this.state = {
      step: step,
      endTime: endTime,
      maxValue: maxValue,
      progressNow: 0
    };
    return _this;
  }

  // seconds


  (0, _createClass3.default)(ProgressBar, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.step();
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      clearInterval(this.timer);
    }
  }, {
    key: 'render',
    value: function render() {
      var progressNow = this.state.progressNow;


      return _react2.default.createElement(_rcProgress.Line, { strokeColor: '#2181F7', percent: progressNow, strokeWidth: '1' });
    }
  }]);
  return ProgressBar;
}(_react.Component), _class.propTypes = {
  step: _propTypes2.default.number,
  endTime: _propTypes2.default.number,
  maxValue: _propTypes2.default.number,
  handleClick: _propTypes2.default.func
}, _class.defaultProps = {
  maxValue: 100,
  endTime: 60000,
  step: 1000
}, _initialiseProps = function _initialiseProps() {
  var _this2 = this;

  this.timer = null;

  this.step = function () {
    var _state = _this2.state,
        progressNow = _state.progressNow,
        maxValue = _state.maxValue,
        endTime = _state.endTime,
        step = _state.step;
    var handleClick = _this2.props.handleClick;


    var progress = maxValue / (endTime / step);
    var newValue = progressNow + progress;

    if (progressNow >= maxValue) {
      _index2.default.ipfs.allPeersLoaded();
      handleClick();
    } else {
      _this2.timer = setTimeout(_this2.step, step);
      _this2.setState(function () {
        return { progressNow: newValue };
      });
    }
  };
}, _temp);
exports.default = ProgressBar;

/***/ }),

/***/ 3237:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _Links = __webpack_require__(3238);

var _Links2 = _interopRequireDefault(_Links);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _links = __webpack_require__(214);

var _links2 = _interopRequireDefault(_links);

var _reactIntl = __webpack_require__(8);

var _LogoTooltip = __webpack_require__(1214);

var _LogoTooltip2 = _interopRequireDefault(_LogoTooltip);

var _Logo = __webpack_require__(219);

var _Logo2 = _interopRequireDefault(_Logo);

var _logo = __webpack_require__(890);

var _logo2 = _interopRequireDefault(_logo);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var link = [[
/* Наши продукты (Our products) */
{ header: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterOurProductsHeader', defaultMessage: 'Our products' }),
  /* Криптовалютный обменник (Exchange) https://swap.online/exchange */
  link: _links2.default.footer.exchange, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterOurProductsExchange', defaultMessage: 'Exchange' }) },
/* Криптовалютый онлайн кошелек (Wallet) https://swap.online */
{ link: _links2.default.footer.wallet, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterOurProductsWallet', defaultMessage: 'Wallet' }) },
/* Виджет для сайтов (Widget) https://widget.swap.online/ */
{ link: _links2.default.footer.widget, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterOurProductsWidget', defaultMessage: 'Widget' }) },
/* Chrome extantion https://chrome.google.com/webstore/detail/swaponline/oldojieloelkkfeacfinhcngmbkepnlm */
{ link: _links2.default.footer.chromeextantion, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterOurProductsChromeExtantion', defaultMessage: 'Chrome extantion' }) },
/* Bank dashboard */
{ link: _links2.default.footer.bankdashboard, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterOurProductsBankDashboard', defaultMessage: 'Bank dashboard' }) }], [
/* Партнерам (Partnership) */
{ header: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterPartnershipHeader', defaultMessage: 'Partnership' }),
  /* Для стейблкоинов (For stablecoins) https://wiki.swap.online/for_stablecoins/ */
  link: _links2.default.footer.forstablecoin, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterPartnershipForstablecoin', defaultMessage: 'For stablecoins' }) },
/* Другим DEX (For DEXes) https://wiki.swap.online/for_dexs/ */
{ link: _links2.default.footer.fordexses, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterPartnershipForDEXes', defaultMessage: 'For DEXes' }) },
/* Блокчейнам (For Blockchains) https://wiki.swap.online/for_blockchains/ */
{ link: _links2.default.footer.forblockchains, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterPartnershipForBlockchains', defaultMessage: 'For Blockchains' }) },
/* Токенам (For ERC20 tokens) https://listing.swap.online/ */
{ link: _links2.default.footer.forerc20tokens, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterPartnershipForERC20', defaultMessage: 'For ERC20 tokens' }) },
/* Виджет для криптосайтов (For news websites) https://widget.swap.online/ */
{ link: _links2.default.footer.fornewswebsites, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterPartnershipForNewsWebsites', defaultMessage: 'For news websites' }) }], [
/* Технология (Technology) */
{ header: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterTechnologyHeader', defaultMessage: 'Technology' }),
  /* Whitepaper https://wiki.swap.online/en.pdf */
  link: _links2.default.footer.whitepaper, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterTechnologyWhitepaper', defaultMessage: 'Whitepaper' }) },
/* Wiki https://wiki.swap.online/ */
{ link: _links2.default.footer.wiki, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterTechnologyWiki', defaultMessage: 'Wiki' }) },
/* GitHub https://github.com/swaponline */
{ link: _links2.default.footer.github, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterTechnologyGithub', defaultMessage: 'GitHub' }) },
/* Сравнение (Comparsion) */
{ link: _links2.default.footer.comparsion, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterTechnologyComparsion', defaultMessage: 'Comparsion' }) },
/* LN research */
{ link: _links2.default.footer.lnresearch, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterTechnologyLNResearch', defaultMessage: 'LN' }), icon: 'lightling' }], [
/* О компании (About company) */
{ header: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterAboutHeader', defaultMessage: 'About company' }),
  /* О компании (About company) https://wiki.swap.online/about-swap-online/ */
  link: _links2.default.footer.about, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterAboutCompany', defaultMessage: 'About company' }) },
/* Условия использования (Agreements) https://drive.google.com/file/d/0Bz2ZwZCmFtj_Nm9qSm0tUm9Ia1kwVGhWRlVlVXRJTGZtYW5N/view?usp=sharing */
{ link: _links2.default.footer.agreements, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterAboutAgreements', defaultMessage: 'Agreements' }) },
/* Политика конфиденциальности (Privacy policy) https://drive.google.com/file/d/1LdsCOfX_pOJAMqlL4g6DfUpZrGF5eRe9/view?usp=sharing */
{ link: _links2.default.footer.privacypolicy, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterAboutPrivacyPolicy', defaultMessage: 'Privacy policy' }) },
/* Юридическая правомерность (Legal) https://drive.google.com/file/d/0Bz2ZwZCmFtj_WlNkY0ZYN0ZpNUo2VFVEeW9rWEVoTlNja0VZ/view?usp=sharing */
{ link: _links2.default.footer.legal, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterAboutLegal', defaultMessage: 'Legal' }) },
/* Контакты (Contacts) https://wiki.swap.online/contacts-swap-online/ */
{ link: _links2.default.footer.contacts, title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FooterAboutContacts', defaultMessage: 'Contacts' }) }]];

var getIcon = function getIcon(icon) {
  switch (icon) {
    case 'lightling':
      return _react2.default.createElement('img', { alt: 'Lightling', src: 'https://s.w.org/images/core/emoji/11/svg/26a1.svg' });
    default:
      return null;
  }
};
var Rows = function Rows(items) {
  return items.map(function (item, index) {
    return _react2.default.createElement(
      'li',
      { key: index },
      item.header && _react2.default.createElement(
        'h4',
        null,
        item.header
      ),
      item.icon && _react2.default.createElement(
        'div',
        null,
        getIcon(item.icon),
        _react2.default.createElement(
          'a',
          { href: item.link, target: '_blank', rel: 'noopener noreferrer' },
          item.title
        )
      ),
      !item.icon && _react2.default.createElement(
        'a',
        { href: item.link, target: '_blank', rel: 'noopener noreferrer' },
        item.title
      )
    );
  });
};

var Links = function Links() {
  var pathname = window.location.pathname;

  var isExchange = pathname.includes('/exchange') || pathname === '/' || pathname === '/ru';

  return _react2.default.createElement(
    'div',
    { styleName: 'links' },
    _react2.default.createElement(
      'div',
      { styleName: 'logoPosition logo whiteFill' },
      _react2.default.createElement('img', { src: _logo2.default, alt: 'swap.online logo' })
    ),
    _react2.default.createElement(
      'div',
      { styleName: 'linkPosition' },
      link.map(function (items, index) {
        return _react2.default.createElement(
          'ul',
          { styleName: 'column', key: index },
          Rows(items)
        );
      })
    )
  );
};

exports.default = (0, _reactCssModules2.default)(_Links2.default, { allowMultiple: true })(Links);

/***/ }),

/***/ 3238:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"links":"_3MKjAb","logoPosition":"_1YHoM4","linkPosition":"_jl904","logo":"_1ronX9","whiteFill":"_299dAy","column":"_2a5a-f"};

/***/ }),

/***/ 3239:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SocialMenu = __webpack_require__(3240);

var _SocialMenu2 = _interopRequireDefault(_SocialMenu);

var _links = __webpack_require__(214);

var _links2 = _interopRequireDefault(_links);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var nav = [{ links: _links2.default.medium, icon: 'fa-medium-m' }, { links: _links2.default.twitter, icon: 'fa-twitter' }, { links: _links2.default.facebook, icon: 'fa-facebook' }, { links: _links2.default.telegram, icon: 'fa-telegram-plane' }, { links: _links2.default.bitcointalk, icon: 'fa-btc' }, { links: _links2.default.discord, icon: 'fab fa-discord' }, { links: _links2.default.youtube, icon: 'fab fa-youtube' }, { links: _links2.default.reddit, icon: 'fab fa-reddit' }];

var SocialMenu = function SocialMenu() {
  return _react2.default.createElement(
    'ul',
    { styleName: 'social-menu' },
    nav.map(function (item, index) {
      return _react2.default.createElement(
        'li',
        { key: index },
        _react2.default.createElement(
          'a',
          { href: item.links, target: '_blank', rel: 'noopener noreferrer' },
          _react2.default.createElement('i', { styleName: 'icon', className: 'fab ' + item.icon })
        )
      );
    })
  );
};

exports.default = (0, _reactCssModules2.default)(SocialMenu, _SocialMenu2.default);

/***/ }),

/***/ 324:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Coin = __webpack_require__(2057);

var _Coin2 = _interopRequireDefault(_Coin);

var _CurrencyIcon = __webpack_require__(898);

var _CurrencyIcon2 = _interopRequireDefault(_CurrencyIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Coin = function Coin(_ref) {
  var className = _ref.className,
      size = _ref.size,
      name = _ref.name;

  var style = {
    width: size ? size + 'px' : null
  };

  var iconProps = {
    name: name.toLowerCase()
  };

  var isIconExist = _CurrencyIcon.iconNames.includes(name.toLowerCase());

  if (isIconExist) {
    iconProps = (0, _assign2.default)({}, iconProps, {
      styleName: 'icon'
    });
  } else {
    iconProps = (0, _assign2.default)({}, iconProps, {
      styleName: 'letter',
      style: {
        lineHeight: size + 'px',
        fontSize: size / 2 + 'px'
      }
    });
  }

  return _react2.default.createElement(
    'div',
    { styleName: 'coin', className: className, style: style },
    _react2.default.createElement(_CurrencyIcon2.default, iconProps)
  );
};

Coin.defaultProps = {
  size: 40
};

Coin.propTypes = {
  className: _propTypes2.default.string,
  size: _propTypes2.default.number,
  name: _propTypes2.default.string.isRequired
};

exports.default = (0, _reactCssModules2.default)(Coin, _Coin2.default);

/***/ }),

/***/ 3240:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"social-menu":"_1fr0XC","icon":"_2LkrV7"};

/***/ }),

/***/ 3241:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _SwitchLang = __webpack_require__(3242);

var _SwitchLang2 = _interopRequireDefault(_SwitchLang);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _locale = __webpack_require__(50);

var _utils = __webpack_require__(833);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SwitchLang = (_dec = (0, _reactCssModules2.default)(_SwitchLang2.default), (0, _reactIntl.injectIntl)(_class = _dec(_class = function (_Component) {
  (0, _inherits3.default)(SwitchLang, _Component);

  function SwitchLang() {
    (0, _classCallCheck3.default)(this, SwitchLang);
    return (0, _possibleConstructorReturn3.default)(this, (SwitchLang.__proto__ || (0, _getPrototypeOf2.default)(SwitchLang)).apply(this, arguments));
  }

  (0, _createClass3.default)(SwitchLang, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          locale = _props.intl.locale,
          className = _props.className;


      return _react2.default.createElement(
        'div',
        { styleName: 'langSwitcher' },
        _react2.default.createElement(
          'a',
          {
            href: locale.toUpperCase() === 'RU' ? (0, _locale.relocalisedUrl)(locale) : undefined,
            styleName: 'language',
            onClick: function onClick() {
              return (0, _utils.setCookie)('mylang', 'EN', new Date(new Date().getFullYear() + 1, 1));
            }
          },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwitchLang20', defaultMessage: 'EN ' })
        ),
        '|',
        _react2.default.createElement(
          'a',
          {
            href: locale.toUpperCase() === 'EN' ? (0, _locale.relocalisedUrl)(locale) : undefined,
            styleName: 'language',
            onClick: function onClick() {
              return (0, _utils.setCookie)('mylang', 'RU', new Date(new Date().getFullYear() + 1, 1));
            }
          },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwitchLang24', defaultMessage: ' RU' })
        )
      );
    }
  }]);
  return SwitchLang;
}(_react.Component)) || _class) || _class);
exports.default = SwitchLang;

/***/ }),

/***/ 3242:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"langSwitcher":"_3AMW1Z","language":"_8VqRzB"};

/***/ }),

/***/ 3243:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _GetIeo = __webpack_require__(3244);

var _GetIeo2 = _interopRequireDefault(_GetIeo);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _reactIntl = __webpack_require__(8);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(17);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var handleSignUp = function handleSignUp() {
  _actions2.default.modals.open(_helpers.constants.modals.SignUp, {});
};

var href = _react2.default.createElement(
  'a',
  { href: 'https://swap.online/exchange/swap-to-btc', target: '_blank', rel: 'noopener noreferrer' },
  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'getIeo17', defaultMessage: 'Exchange SWAP token to BTC through our service' })
); // eslint-disable-line

var quotes =
/* eslint-disable */
_react2.default.createElement(
  'span',
  { style: { cursor: "pointer" }, onClick: handleSignUp },
  '"',
  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'getIeo40', defaultMessage: 'Get started' }),
  '"'
);
/* eslint-enable */

var GetIeo = function GetIeo() {
  return _react2.default.createElement(
    'div',
    { styleName: 'container' },
    _react2.default.createElement(
      'div',
      { styleName: 'text' },
      _react2.default.createElement(
        'h2',
        null,
        _react2.default.createElement(
          'span',
          { styleName: 'title' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'getIeo13', defaultMessage: 'Be one of the first users.' })
        ),
        _react2.default.createElement(_reactIntl.FormattedMessage, {
          id: 'getIeo21',
          defaultMessage: 'We will reward all users with our native {br}SWAP tokens that can be exchanged to BTC on our platform.{br} ',
          values: {
            br: _react2.default.createElement('br', null)
          }
        }),
        _react2.default.createElement(
          'span',
          { styleName: 'steps' },
          _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'getIeo29',
            defaultMessage: '1. Click {quotes};{br} 2. Allow push notifications{br} 3. Wait for notification (we send gift manually);{br} 4. {href}',
            values: {
              br: _react2.default.createElement('br', null),
              quotes: quotes,
              href: href
            }
          })
        )
      )
    ),
    _react2.default.createElement(
      'div',
      { styleName: 'btnGroup' },
      _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'button',
          { styleName: 'button dark', onClick: handleSignUp },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'getIeo22', defaultMessage: 'Get Started' })
        ),
        _react2.default.createElement(
          'button',
          { styleName: 'button light' },
          _react2.default.createElement(
            'a',
            { href: 'https://wiki.swap.online/en.pdf', target: '_blank', rel: 'noopener noreferrer' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'getIeo25', defaultMessage: 'Read WhitePaper' })
          )
        )
      )
    )
  );
};

exports.default = (0, _reactCssModules2.default)(GetIeo, _GetIeo2.default, { allowMultiple: true });

/***/ }),

/***/ 3244:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"container":"_5dAv7h","text":"lYvA0Q","steps":"_3NjL9e","title":"Br-huC","btnGroup":"_3ZlzxF","button":"_2Lou-_","dark":"_3SiHl8","light":"gFRgMB"};

/***/ }),

/***/ 3245:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var mainPagePaths = ['/', // - /exchange
'/wallet', '/ru', '/ru/wallet'];

var isMainOrPartialPages = exports.isMainOrPartialPages = function isMainOrPartialPages(pathname) {
  return mainPagePaths.reduce(function (acc, item) {
    return acc || pathname === item || pathname.includes('/exchange');
  }, false);
};

/***/ }),

/***/ 3246:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _WidthContainer = __webpack_require__(195);

var _WidthContainer2 = _interopRequireDefault(_WidthContainer);

var _reactIntl = __webpack_require__(8);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var isWidgetBuild = _appConfig2.default && _appConfig2.default.isWidget;

var PreventMultiTabs = function PreventMultiTabs() {
  return _react2.default.createElement(
    _WidthContainer2.default,
    null,
    _react2.default.createElement(
      'h1',
      null,
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PreventMultiTabs', defaultMessage: 'Such error, many tabs' })
    ),
    isWidgetBuild && _react2.default.createElement(_reactIntl.FormattedMessage, {
      id: 'PreventMultiTabsWidgetBuild',
      defaultMessage: 'Atomic Swap Widget supports only one active tab. Please reload this page to continue using this tab or close it'
    }),
    !isWidgetBuild && _react2.default.createElement(_reactIntl.FormattedMessage, {
      id: 'PreventMultiTabs12',
      defaultMessage: 'Swap.Online supports only one active tab. Please reload this page to continue using this tab or close it'
    })
  );
};
exports.default = PreventMultiTabs;

/***/ }),

/***/ 3247:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(37);

var _Loader = __webpack_require__(456);

var _Loader2 = _interopRequireDefault(_Loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var RequestLoader = function RequestLoader(_ref) {
  var isVisible = _ref.isVisible,
      data = _ref.data;

  if (!isVisible) {
    return null;
  }

  return _react2.default.createElement(_Loader2.default, { data: data });
};

RequestLoader.propTypes = {
  isVisible: _propTypes2.default.bool.isRequired
};

RequestLoader.defaultProps = {
  isVisible: false
};

exports.default = (0, _redaction.connect)({
  isVisible: 'loader.isVisible',
  data: 'loader.data'
})(RequestLoader);

/***/ }),

/***/ 3248:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _SignUpModal = __webpack_require__(3249);

var _SignUpModal2 = _interopRequireDefault(_SignUpModal);

var _OfferModal = __webpack_require__(3251);

var _OfferModal2 = _interopRequireDefault(_OfferModal);

var _WithdrawModal = __webpack_require__(3276);

var _WithdrawModal2 = _interopRequireDefault(_WithdrawModal);

var _PrivateKeysModal = __webpack_require__(913);

var _PrivateKeysModal2 = _interopRequireDefault(_PrivateKeysModal);

var _EosRegisterModal = __webpack_require__(3278);

var _EosRegisterModal2 = _interopRequireDefault(_EosRegisterModal);

var _EosBuyAccountModal = __webpack_require__(3282);

var _EosBuyAccountModal2 = _interopRequireDefault(_EosBuyAccountModal);

var _TelosChangeAccountModal = __webpack_require__(3284);

var _TelosChangeAccountModal2 = _interopRequireDefault(_TelosChangeAccountModal);

var _Approve = __webpack_require__(3286);

var _Approve2 = _interopRequireDefault(_Approve);

var _ImportKeys = __webpack_require__(3288);

var _ImportKeys2 = _interopRequireDefault(_ImportKeys);

var _ShowMoreCoins = __webpack_require__(3292);

var _ShowMoreCoins2 = _interopRequireDefault(_ShowMoreCoins);

var _EthChecker = __webpack_require__(3296);

var _EthChecker2 = _interopRequireDefault(_EthChecker);

var _Keychain = __webpack_require__(3298);

var _Keychain2 = _interopRequireDefault(_Keychain);

var _ReceiveModal = __webpack_require__(3300);

var _ReceiveModal2 = _interopRequireDefault(_ReceiveModal);

var _DownloadModal = __webpack_require__(3302);

var _DownloadModal2 = _interopRequireDefault(_DownloadModal);

var _DeclineOrdersModal = __webpack_require__(3304);

var _DeclineOrdersModal2 = _interopRequireDefault(_DeclineOrdersModal);

var _IncompletedSwaps = __webpack_require__(3306);

var _IncompletedSwaps2 = _interopRequireDefault(_IncompletedSwaps);

var _MobMenu = __webpack_require__(3308);

var _MobMenu2 = _interopRequireDefault(_MobMenu);

var _Confirm = __webpack_require__(3310);

var _Confirm2 = _interopRequireDefault(_Confirm);

var _ConfirmBeginSwap = __webpack_require__(3312);

var _ConfirmBeginSwap2 = _interopRequireDefault(_ConfirmBeginSwap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  DeclineOrdersModal: _DeclineOrdersModal2.default,
  SignUpModal: _SignUpModal2.default,
  OfferModal: _OfferModal2.default,
  WithdrawModal: _WithdrawModal2.default,
  PrivateKeysModal: _PrivateKeysModal2.default,
  ImportKeys: _ImportKeys2.default,
  ShowMoreCoins: _ShowMoreCoins2.default,
  EosBuyAccountModal: _EosBuyAccountModal2.default,
  EosRegisterModal: _EosRegisterModal2.default,
  TelosChangeAccountModal: _TelosChangeAccountModal2.default,
  Approve: _Approve2.default,
  EthChecker: _EthChecker2.default,
  Keychain: _Keychain2.default,
  ReceiveModal: _ReceiveModal2.default,
  DownloadModal: _DownloadModal2.default,
  IncompletedSwaps: _IncompletedSwaps2.default,
  Confirm: _Confirm2.default,
  MobMenu: _MobMenu2.default,
  ConfirmBeginSwap: _ConfirmBeginSwap2.default
};

/***/ }),

/***/ 3249:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _defineProperty2 = __webpack_require__(123);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactRouterDom = __webpack_require__(51);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(37);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _helpers = __webpack_require__(17);

var _firestore = __webpack_require__(314);

var _firestore2 = _interopRequireDefault(_firestore);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SignUpModal = __webpack_require__(3250);

var _SignUpModal2 = _interopRequireDefault(_SignUpModal);

var _Modal = __webpack_require__(197);

var _Modal2 = _interopRequireDefault(_Modal);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _Input = __webpack_require__(129);

var _Input2 = _interopRequireDefault(_Input);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var title = (0, _reactIntl.defineMessages)({
  signUpModal: {
    id: 'SignUpModal55',
    defaultMessage: 'Sign up'
  }
});

var SignUpModal = (_dec = (0, _redaction.connect)(function (_ref) {
  var _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      bchData = _ref$user.bchData,
      ltcData = _ref$user.ltcData,
      isSigned = _ref.signUp.isSigned;
  return {
    ethAddress: ethData.address,
    btcAddress: btcData.address,
    bchAddress: bchData.address,
    ltcAddress: ltcData.address,
    isSigned: isSigned
  };
}), _dec2 = (0, _reactCssModules2.default)(_SignUpModal2.default), (0, _reactRouterDom.withRouter)(_class = _dec(_class = (0, _reactIntl.injectIntl)(_class = _dec2(_class = (_temp = _class2 = function (_React$Component) {
  (0, _inherits3.default)(SignUpModal, _React$Component);

  function SignUpModal() {
    var _this2 = this;

    (0, _classCallCheck3.default)(this, SignUpModal);

    var _this = (0, _possibleConstructorReturn3.default)(this, (SignUpModal.__proto__ || (0, _getPrototypeOf2.default)(SignUpModal)).call(this));

    _this.validateEmail = function (value) {
      return value.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i);
    };

    _this.handleSubmit = function () {
      var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(whatToSubmit) {
        var _this$props, name, ethAddress, btcAddress, bchAddress, ltcAddress, history, _this$state, isSupportedPush, email, isSubmitedPush, currentUrl, isRefLink, refEthAddress, ipInfo, data, _result, _resultFirestore, result, resultFirestore;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _this$props = _this.props, name = _this$props.name, ethAddress = _this$props.ethAddress, btcAddress = _this$props.btcAddress, bchAddress = _this$props.bchAddress, ltcAddress = _this$props.ltcAddress, history = _this$props.history;
                _this$state = _this.state, isSupportedPush = _this$state.isSupportedPush, email = _this$state.email, isSubmitedPush = _this$state.isSubmitedPush;
                currentUrl = history.location;
                isRefLink = currentUrl.search && currentUrl.search.includes('?promo=') && !localStorage.getItem(_helpers.constants.localStorage.firstStart);
                refEthAddress = null;

                if (!isRefLink) {
                  _context.next = 9;
                  break;
                }

                // eslint-disable-next-line prefer-destructuring
                refEthAddress = currentUrl.search.split('?promo=')[1].split('&')[0];
                _context.next = 9;
                return _helpers.firebase.submitUserData('usersBalance', { Referrer: refEthAddress });

              case 9:
                _context.next = 11;
                return _helpers.firebase.getIPInfo();

              case 11:
                ipInfo = _context.sent;
                data = (0, _assign2.default)({}, ipInfo, {
                  ethAddress: ethAddress,
                  btcAddress: btcAddress,
                  bchAddress: bchAddress,
                  ltcAddress: ltcAddress,
                  Referrer: refEthAddress,
                  registrationDomain: window.top.location.host,
                  userAgentRegistration: navigator.userAgent
                });

                if (!(whatToSubmit === 'isSubmitedPush' || !isSupportedPush)) {
                  _context.next = 16;
                  break;
                }

                _context.next = 16;
                return _firestore2.default.addUser(data);

              case 16:

                _actions2.default.analytics.signUpEvent({ action: 'request' });

                if (!(!isSupportedPush || isSubmitedPush)) {
                  _context.next = 27;
                  break;
                }

                _context.next = 20;
                return _helpers.firebase.signUpWithEmail((0, _assign2.default)({}, data, {
                  email: email
                }));

              case 20:
                _result = _context.sent;
                _resultFirestore = _firestore2.default.signUpWithEmail({
                  email: email
                });

                if (_result) {
                  _context.next = 25;
                  break;
                }

                _this.setState(function () {
                  return (0, _defineProperty3.default)({
                    isEmailError: true
                  }, whatToSubmit, Boolean(_result && _resultFirestore));
                });
                return _context.abrupt('return');

              case 25:

                _this.setState(function () {
                  return (0, _defineProperty3.default)({}, whatToSubmit, Boolean(_result && _resultFirestore));
                });
                return _context.abrupt('return');

              case 27:
                _context.next = 29;
                return _helpers.firebase.signUpWithPush(data);

              case 29:
                result = _context.sent;
                _context.next = 32;
                return _firestore2.default.signUpWithPush();

              case 32:
                resultFirestore = _context.sent;


                _this.setState(function () {
                  return (0, _defineProperty3.default)({}, whatToSubmit, true);
                });

                if (!(!result && !resultFirestore)) {
                  _context.next = 37;
                  break;
                }

                _this.setState(function () {
                  return (0, _defineProperty3.default)({
                    isPushError: !result,
                    isSupportedPush: result
                  }, whatToSubmit, false);
                });
                return _context.abrupt('return');

              case 37:

                _this.setState(function () {
                  return (0, _defineProperty3.default)({}, whatToSubmit, Boolean(result && resultFirestore));
                });

              case 38:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, _this2);
      }));

      return function (_x) {
        return _ref2.apply(this, arguments);
      };
    }();

    _this.close = function () {
      var _this$props2 = _this.props,
          name = _this$props2.name,
          data = _this$props2.data;


      _actions2.default.modals.close(name);
      if (typeof data.onClose === 'function') {
        data.onClose();
      }
    };

    _this.state = {
      isSubmitedPush: false,
      isSubmitedEmail: false,
      isSupportedPush: _helpers.firebase.isSupported(),
      isPushError: false,
      isEmailError: false,
      email: ''
    };
    return _this;
  }

  (0, _createClass3.default)(SignUpModal, [{
    key: 'render',
    value: function render() {
      var _this3 = this;

      var _state = this.state,
          isSubmitedEmail = _state.isSubmitedEmail,
          isSubmitedPush = _state.isSubmitedPush,
          isSupportedPush = _state.isSupportedPush,
          isPushError = _state.isPushError,
          isEmailError = _state.isEmailError,
          email = _state.email;
      var _props = this.props,
          name = _props.name,
          intl = _props.intl,
          data = _props.data,
          isSigned = _props.isSigned;

      var isDisabled = isSupportedPush ? isSubmitedPush ? !isSubmitedEmail && !this.validateEmail(email) : false : isSubmitedEmail || !this.validateEmail(email);

      var linked = _swValuelink2.default.all(this, 'email');

      return _react2.default.createElement(
        _Modal2.default,
        { name: name, title: intl.formatMessage(title.signUpModal), data: data, delayClose: true },
        isSigned || isEmailError ? _react2.default.createElement(
          _react.Fragment,
          null,
          isEmailError && _react2.default.createElement(
            'p',
            { styleName: 'result' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SignUpModal133', values: { br: _react2.default.createElement('br', null) }, defaultMessage: 'Something went wrong.{br}Try it later' })
          ),
          isSigned && _react2.default.createElement(
            'p',
            { styleName: 'result' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SignUpModal000', values: { br: _react2.default.createElement('br', null) }, defaultMessage: 'Thanks!{br}You will receive a notification' })
          ),
          _react2.default.createElement(
            _Button2.default,
            { styleName: 'button', brand: true, fullWidth: true, onClick: this.close },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SignUpModal001', defaultMessage: 'Go to my wallet' })
          )
        ) : _react2.default.createElement(
          _react.Fragment,
          null,
          _react2.default.createElement(
            'div',
            { styleName: 'input-wrapper' },
            (!isSupportedPush || isPushError || isSubmitedPush) && _react2.default.createElement(_Input2.default, { styleName: 'input', valueLink: linked.email, focusOnInit: true, type: 'email', placeholder: 'E-mail' })
          ),
          _react2.default.createElement(
            _Button2.default,
            {
              styleName: 'button',
              brand: true,
              fullWidth: true,
              disabled: isDisabled,
              onClick: function onClick() {
                return _this3.handleSubmit(!isSubmitedPush ? 'isSubmitedPush' : 'isSubmitedEmail');
              }
            },
            isSubmitedPush ? isDisabled ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SignUpModal002-1', defaultMessage: 'One more step' }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SignUpModal002', defaultMessage: 'Sign up' }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SignUpModal003', defaultMessage: 'Allow notifications' })
          ),
          !isPushError ? _react2.default.createElement(
            'p',
            { styleName: 'info' },
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'SignUpModal004',
              values: { br: _react2.default.createElement('br', null) },
              defaultMessage: 'You will receive notifications regarding updates with your account (orders, transactions){br}and monthly updates about our project' })
          ) : _react2.default.createElement(
            'p',
            { styleName: 'info' },
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'SignUpModal005',
              values: { br: _react2.default.createElement('br', null) },
              defaultMessage: 'It seems like push notification is not working{br}Please, leave your email for notifications,{br}or try later' })
          )
        )
      );
    }
  }]);
  return SignUpModal;
}(_react2.default.Component), _class2.propTypes = {
  name: _propTypes2.default.string
}, _temp)) || _class) || _class) || _class) || _class);
exports.default = SignUpModal;

/***/ }),

/***/ 325:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.animate = exports.createPortal = exports.inputReplaceCommaWithDot = exports.fixBodyOverflow = exports.portalSelector = exports.bodySelector = undefined;

var _reactDom = __webpack_require__(283);

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var bodySelector = exports.bodySelector = document.querySelector('body');
var portalSelector = exports.portalSelector = document.getElementById('portal');

var fixBodyOverflow = exports.fixBodyOverflow = function fixBodyOverflow(fix) {
  bodySelector.style.overflow = !!fix ? 'hidden' : 'auto';
};

var inputReplaceCommaWithDot = exports.inputReplaceCommaWithDot = function inputReplaceCommaWithDot(event) {
  var isCommaKey = event.key === ',';

  if (isCommaKey) {
    event.preventDefault();
    document.execCommand('insertHTML', false, '.');
  }
};

var createPortal = exports.createPortal = function createPortal(component) {
  var customSelector = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  return _reactDom2.default.createPortal(component, customSelector || portalSelector);
};

var animate = exports.animate = function animate(draw, duration) {
  var start = performance.now();

  requestAnimationFrame(function animate(time) {
    var timePassed = time - start;

    if (timePassed > duration) timePassed = duration;

    draw(timePassed);

    if (timePassed < duration) {
      requestAnimationFrame(animate);
    }
  });
};

/***/ }),

/***/ 3250:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"result":"_34Zz40","title":"_3k61zh","input-wrapper":"ltF9V8","input":"_3nDILB","button":"_2VGhMw","info":"_2rKW7R"};

/***/ }),

/***/ 3251:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _OfferModal = __webpack_require__(3252);

var _OfferModal2 = _interopRequireDefault(_OfferModal);

var _Modal = __webpack_require__(197);

var _Modal2 = _interopRequireDefault(_Modal);

var _ConfirmOffer = __webpack_require__(3253);

var _ConfirmOffer2 = _interopRequireDefault(_ConfirmOffer);

var _AddOffer = __webpack_require__(3264);

var _AddOffer2 = _interopRequireDefault(_AddOffer);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Offer = (_dec = (0, _reactCssModules2.default)(_OfferModal2.default), _dec(_class = (_temp2 = _class2 = function (_React$Component) {
  (0, _inherits3.default)(Offer, _React$Component);

  function Offer() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Offer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Offer.__proto__ || (0, _getPrototypeOf2.default)(Offer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      view: 'editOffer',
      offer: {
        buyCurrency: _this.props.data.buyCurrency,
        sellCurrency: _this.props.data.sellCurrency
      }
    }, _this.handleMoveToConfirmation = function (offer) {
      _this.setState({
        view: 'Confirm offer',
        offer: offer
      });
    }, _this.handleMoveToOfferEditing = function () {
      // actions.analytics.dataEvent('orderbook-addoffer-click-confirm-button')
      _this.setState({
        view: 'editOffer'
      });
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Offer, [{
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      window.scrollTo({ top: 0 });
    }
  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          view = _state.view,
          offer = _state.offer;
      var name = this.props.name;


      var title = view === 'editOffer' ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Add52', defaultMessage: 'Place an offer' }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Confirm52', defaultMessage: 'Confirm Offer' });

      return _react2.default.createElement(
        _Modal2.default,
        { name: name, title: title },
        _react2.default.createElement(
          'div',
          { styleName: 'content' },
          view === 'editOffer' ? _react2.default.createElement(_AddOffer2.default, { initialData: offer, onNext: this.handleMoveToConfirmation }) : _react2.default.createElement(_ConfirmOffer2.default, { offer: offer, onBack: this.handleMoveToOfferEditing })
        )
      );
    }
  }]);
  return Offer;
}(_react2.default.Component), _class2.propTypes = {
  name: _propTypes2.default.string
}, _temp2)) || _class);
exports.default = Offer;

/***/ }),

/***/ 3252:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"content":"_35EvSl"};

/***/ }),

/***/ 3253:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _reactRouterDom = __webpack_require__(51);

var _helpers = __webpack_require__(17);

var _helpers2 = _interopRequireDefault(_helpers);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _ConfirmOffer = __webpack_require__(3254);

var _ConfirmOffer2 = _interopRequireDefault(_ConfirmOffer);

var _Row = __webpack_require__(3255);

var _Row2 = _interopRequireDefault(_Row);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _Coins = __webpack_require__(405);

var _Coins2 = _interopRequireDefault(_Coins);

var _Amounts = __webpack_require__(3257);

var _Amounts2 = _interopRequireDefault(_Amounts);

var _ExchangeRate = __webpack_require__(3261);

var _ExchangeRate2 = _interopRequireDefault(_ExchangeRate);

var _Fee = __webpack_require__(3263);

var _Fee2 = _interopRequireDefault(_Fee);

var _redaction = __webpack_require__(37);

var _reactIntl = __webpack_require__(8);

var _locale = __webpack_require__(50);

var _minAmountOffer = __webpack_require__(521);

var _minAmountOffer2 = _interopRequireDefault(_minAmountOffer);

var _coinsWithDynamicFee = __webpack_require__(376);

var _coinsWithDynamicFee2 = _interopRequireDefault(_coinsWithDynamicFee);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ConfirmOffer = (_dec = (0, _redaction.connect)(function (_ref) {
  var currencies = _ref.currencies.items,
      address = _ref.user.ethData.address;
  return {
    currencies: currencies,
    address: address
  };
}), _dec2 = (0, _reactCssModules2.default)(_ConfirmOffer2.default), (0, _reactIntl.injectIntl)(_class = _dec(_class = _dec2(_class = function (_Component) {
  (0, _inherits3.default)(ConfirmOffer, _Component);

  function ConfirmOffer() {
    var _ref2,
        _this2 = this;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ConfirmOffer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = ConfirmOffer.__proto__ || (0, _getPrototypeOf2.default)(ConfirmOffer)).call.apply(_ref2, [this].concat(args))), _this), _this.state = {
      tokenFee: false,
      feeValue: 0
    }, _this.isActualFee = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
      var sellCurrency, feeValue, feeValueDynamic, _feeValueDynamic, _feeValue;

      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              sellCurrency = _this.props.offer.sellCurrency;
              feeValue = _this.state.feeValue;

              if (!_helpers2.default.ethToken.isEthToken({ name: sellCurrency.toLowerCase() })) {
                _context.next = 9;
                break;
              }

              _context.next = 5;
              return _helpers2.default.ethToken.estimateFeeValue({ method: 'send' });

            case 5:
              feeValueDynamic = _context.sent;

              _this.setState(function () {
                return {
                  tokenFee: true,
                  feeValue: feeValueDynamic
                };
              });
              _context.next = 14;
              break;

            case 9:
              _context.next = 11;
              return _helpers2.default[sellCurrency].estimateFeeValue({ method: 'swap', speed: 'fast' });

            case 11:
              _feeValueDynamic = _context.sent;
              _feeValue = _coinsWithDynamicFee2.default.includes(sellCurrency) ? _feeValueDynamic : _minAmountOffer2.default[sellCurrency];

              _this.setState(function () {
                return {
                  feeValue: _feeValue
                };
              });

            case 14:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, _this2);
    })), _this.handleConfirm = function () {
      var _this$props = _this.props,
          locale = _this$props.intl.locale,
          _this$props$offer = _this$props.offer,
          buyCurrency = _this$props$offer.buyCurrency,
          sellCurrency = _this$props$offer.sellCurrency;

      _this.createOrder();
      _actions2.default.modals.close('OfferModal');
    }, _this.createOrder = function () {
      var offer = _this.props.offer;

      // actions.analytics.dataEvent('orderbook-addoffer-click-confirm-button')

      _actions2.default.core.createOrder(offer, offer.isPartial);
      _actions2.default.core.updateCore();
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ConfirmOffer, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.isActualFee();
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          _props$offer = _props.offer,
          buyAmount = _props$offer.buyAmount,
          sellAmount = _props$offer.sellAmount,
          buyCurrency = _props$offer.buyCurrency,
          sellCurrency = _props$offer.sellCurrency,
          exchangeRate = _props$offer.exchangeRate,
          onBack = _props.onBack,
          currencies = _props.currencies,
          locale = _props.intl.locale;
      var _state = this.state,
          feeValue = _state.feeValue,
          tokenFee = _state.tokenFee;

      return _react2.default.createElement(
        _react.Fragment,
        null,
        _react2.default.createElement(_Coins2.default, { styleName: 'coins', names: [buyCurrency, sellCurrency], size: 100 }),
        _react2.default.createElement(_Amounts2.default, { buyAmount: buyAmount, sellAmount: sellAmount, buyCurrency: buyCurrency, sellCurrency: sellCurrency }),
        _react2.default.createElement(_ExchangeRate2.default, { value: exchangeRate, buyCurrency: buyCurrency, sellCurrency: sellCurrency }),
        _react2.default.createElement(_Fee2.default, { amount: feeValue, currency: !tokenFee ? sellCurrency : 'ETH' }),
        _react2.default.createElement(
          _Row2.default,
          { styleName: 'buttonsInRow' },
          _react2.default.createElement(
            _Button2.default,
            { styleName: 'button', gray: true, onClick: onBack },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ConfirmOffer69', defaultMessage: 'Back' })
          ),
          _react2.default.createElement(
            _Button2.default,
            { styleName: 'button', id: 'confirm', brand: true, onClick: this.handleConfirm },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ConfirmOffer73', defaultMessage: 'Add' })
          )
        )
      );
    }
  }]);
  return ConfirmOffer;
}(_react.Component)) || _class) || _class) || _class);
exports.default = ConfirmOffer;

/***/ }),

/***/ 3254:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"coins":"_2RjWU2","buttonsInRow":"_3mrqw4","button":"_1vanZm","link":"_1lVIL8"};

/***/ }),

/***/ 3255:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Row = __webpack_require__(3256);

var _Row2 = _interopRequireDefault(_Row);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Row = function Row(_ref) {
  var children = _ref.children,
      className = _ref.className;
  return _react2.default.createElement(
    'div',
    { className: className },
    _react2.default.createElement(
      'div',
      { styleName: 'row' },
      children
    )
  );
};

Row.propTypes = {
  children: _propTypes2.default.node.isRequired,
  className: _propTypes2.default.string
};

exports.default = (0, _reactCssModules2.default)(Row, _Row2.default);

/***/ }),

/***/ 3256:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"row":"_2Z_ogD"};

/***/ }),

/***/ 3257:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Amounts = __webpack_require__(3258);

var _Amounts2 = _interopRequireDefault(_Amounts);

var _Row = __webpack_require__(685);

var _Row2 = _interopRequireDefault(_Row);

var _Value = __webpack_require__(686);

var _Value2 = _interopRequireDefault(_Value);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var title = _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'amount', defaultMessage: 'Exchange' });

var Amounts = function Amounts(_ref) {
  var buyAmount = _ref.buyAmount,
      sellAmount = _ref.sellAmount,
      buyCurrency = _ref.buyCurrency,
      sellCurrency = _ref.sellCurrency;
  return _react2.default.createElement(
    _Row2.default,
    { title: title },
    _react2.default.createElement(_Value2.default, { value: sellAmount, currency: sellCurrency }),
    _react2.default.createElement('div', { styleName: 'arrow' }),
    _react2.default.createElement(_Value2.default, { value: buyAmount, currency: buyCurrency })
  );
};

exports.default = (0, _reactCssModules2.default)(Amounts, _Amounts2.default);

/***/ }),

/***/ 3258:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"arrow":"_2HWTjJ"};

/***/ }),

/***/ 3259:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"row":"_1y3vOI","title":"LetDhR","content":"_1XWdvY"};

/***/ }),

/***/ 3260:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"value":"_2bAMgW","currency":"_1Z5jPl"};

/***/ }),

/***/ 3261:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _ExchangeRate = __webpack_require__(3262);

var _ExchangeRate2 = _interopRequireDefault(_ExchangeRate);

var _Row = __webpack_require__(685);

var _Row2 = _interopRequireDefault(_Row);

var _Value = __webpack_require__(686);

var _Value2 = _interopRequireDefault(_Value);

var _reactIntl = __webpack_require__(8);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var title = (0, _reactIntl.defineMessages)({
  ExchangeRate: {
    id: 'ExchangeRate12',
    defaultMessage: 'Exchange Rate'
  }
});

var ExchangeRate = (_dec = (0, _reactCssModules2.default)(_ExchangeRate2.default), (0, _reactIntl.injectIntl)(_class = _dec(_class = function (_PureComponent) {
  (0, _inherits3.default)(ExchangeRate, _PureComponent);

  function ExchangeRate() {
    (0, _classCallCheck3.default)(this, ExchangeRate);
    return (0, _possibleConstructorReturn3.default)(this, (ExchangeRate.__proto__ || (0, _getPrototypeOf2.default)(ExchangeRate)).apply(this, arguments));
  }

  (0, _createClass3.default)(ExchangeRate, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          value = _props.value,
          buyCurrency = _props.buyCurrency,
          sellCurrency = _props.sellCurrency,
          intl = _props.intl;

      return _react2.default.createElement(
        _Row2.default,
        { title: intl.formatMessage(title.ExchangeRate) },
        _react2.default.createElement(_Value2.default, { value: (0, _bignumber2.default)(1).div(value).toString(), currency: sellCurrency }),
        ' ',
        _react2.default.createElement(
          'div',
          { styleName: 'equal' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ExchangeRate14', defaultMessage: '=' })
        ),
        ' ',
        _react2.default.createElement(_Value2.default, { value: 1, currency: buyCurrency })
      );
    }
  }]);
  return ExchangeRate;
}(_react.PureComponent)) || _class) || _class);
exports.default = ExchangeRate;

/***/ }),

/***/ 3262:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"equal":"_3RggZJ"};

/***/ }),

/***/ 3263:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _Row = __webpack_require__(685);

var _Row2 = _interopRequireDefault(_Row);

var _Value = __webpack_require__(686);

var _Value2 = _interopRequireDefault(_Value);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var title = (0, _reactIntl.defineMessages)({
  Fee: {
    id: 'fee9',
    defaultMessage: 'Miner fee'
  }
});

var Fee = function Fee(_ref) {
  var amount = _ref.amount,
      currency = _ref.currency,
      intl = _ref.intl;
  return _react2.default.createElement(
    _Row2.default,
    { title: intl.formatMessage(title.Fee) },
    _react2.default.createElement(_Value2.default, { value: amount, currency: currency })
  );
};

exports.default = (0, _reactIntl.injectIntl)(Fee);

/***/ }),

/***/ 3264:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _values = __webpack_require__(251);

var _values2 = _interopRequireDefault(_values);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _dec, _dec2, _class, _class2, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _redaction = __webpack_require__(37);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(17);

var _helpers2 = _interopRequireDefault(_helpers);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _bignumber = __webpack_require__(30);

var _AddOffer = __webpack_require__(3265);

var _AddOffer2 = _interopRequireDefault(_AddOffer);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Select = __webpack_require__(908);

var _Select2 = _interopRequireDefault(_Select);

var _ExchangeRateGroup = __webpack_require__(3266);

var _ExchangeRateGroup2 = _interopRequireDefault(_ExchangeRateGroup);

var _SelectGroup = __webpack_require__(3270);

var _SelectGroup2 = _interopRequireDefault(_SelectGroup);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _Toggle = __webpack_require__(891);

var _Toggle2 = _interopRequireDefault(_Toggle);

var _Input = __webpack_require__(129);

var _Input2 = _interopRequireDefault(_Input);

var _Tooltip = __webpack_require__(104);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _reactIntl = __webpack_require__(8);

var _math = __webpack_require__(3272);

var _minAmountOffer = __webpack_require__(521);

var _minAmountOffer2 = _interopRequireDefault(_minAmountOffer);

var _coinsWithDynamicFee = __webpack_require__(376);

var _coinsWithDynamicFee2 = _interopRequireDefault(_coinsWithDynamicFee);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AddOffer = (_dec = (0, _redaction.connect)(function (_ref) {
  var currencies = _ref.currencies,
      addSelectedItems = _ref.addSelectedItems,
      _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      bchData = _ref$user.bchData,
      tokensData = _ref$user.tokensData,
      eosData = _ref$user.eosData,
      telosData = _ref$user.telosData,
      nimData = _ref$user.nimData,
      ltcData = _ref$user.ltcData;
  return {
    currencies: currencies.items,
    addSelectedItems: currencies.addSelectedItems,
    items: [ethData, btcData, eosData, telosData, bchData, ltcData /* usdtOmniData, nimData */],
    tokenItems: [].concat((0, _toConsumableArray3.default)((0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    })))
  };
}), _dec2 = (0, _reactCssModules2.default)(_AddOffer2.default, { allowMultiple: true }), _dec(_class = _dec2(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(AddOffer, _Component);

  function AddOffer(_ref2) {
    var items = _ref2.items,
        tokenItems = _ref2.tokenItems,
        initialData = _ref2.initialData;
    (0, _classCallCheck3.default)(this, AddOffer);

    var _this = (0, _possibleConstructorReturn3.default)(this, (AddOffer.__proto__ || (0, _getPrototypeOf2.default)(AddOffer)).call(this));

    _initialiseProps.call(_this);

    if (_appConfig2.default && _appConfig2.default.isWidget) {
      _minAmountOffer2.default[_appConfig2.default.erc20token] = 1;
    }

    var _ref3 = initialData || {},
        exchangeRate = _ref3.exchangeRate,
        buyAmount = _ref3.buyAmount,
        sellAmount = _ref3.sellAmount,
        buyCurrency = _ref3.buyCurrency,
        sellCurrency = _ref3.sellCurrency;

    _this.state = {
      balance: null,
      isTokenSell: false,
      isTokenBuy: false,
      isPartial: true,
      isSending: false,
      manualRate: false,
      buyAmount: buyAmount || '',
      sellAmount: sellAmount || '',
      exchangeRate: exchangeRate || 1,
      buyCurrency: buyCurrency || 'btc',
      sellCurrency: sellCurrency || 'eth',
      minimalestAmountForBuy: _minAmountOffer2.default[buyCurrency] || _minAmountOffer2.default.btc,
      minimalestAmountForSell: _minAmountOffer2.default[sellCurrency] || _minAmountOffer2.default.eth
    };
    return _this;
  }

  (0, _createClass3.default)(AddOffer, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _state = this.state,
          sellCurrency = _state.sellCurrency,
          buyCurrency = _state.buyCurrency,
          value = _state.value;


      _actions2.default.pairs.selectPair(sellCurrency);
      this.checkBalance(sellCurrency);
      this.updateExchangeRate(sellCurrency, buyCurrency);
      this.isEthToken(sellCurrency, buyCurrency);
      this.getFee(sellCurrency, buyCurrency);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          currencies = _props.currencies,
          tokenItems = _props.tokenItems,
          addSelectedItems = _props.addSelectedItems;
      var _state2 = this.state,
          exchangeRate = _state2.exchangeRate,
          buyAmount = _state2.buyAmount,
          sellAmount = _state2.sellAmount,
          buyCurrency = _state2.buyCurrency,
          sellCurrency = _state2.sellCurrency,
          minimalestAmountForSell = _state2.minimalestAmountForSell,
          minimalestAmountForBuy = _state2.minimalestAmountForBuy,
          balance = _state2.balance,
          ethBalance = _state2.ethBalance,
          manualRate = _state2.manualRate,
          isPartial = _state2.isPartial,
          isTokenSell = _state2.isTokenSell,
          isTokenBuy = _state2.isTokenBuy;


      var linked = _swValuelink2.default.all(this, 'exchangeRate', 'buyAmount', 'sellAmount');

      var minimalAmountSell = !isTokenSell ? _coinsWithDynamicFee2.default.includes(sellCurrency) ? minimalestAmountForSell : _minAmountOffer2.default[buyCurrency] : 0.001;

      var minimalAmountBuy = !isTokenBuy ? _coinsWithDynamicFee2.default.includes(buyCurrency) ? minimalestAmountForBuy : _minAmountOffer2.default[buyCurrency] : 0.001;

      var isDisabled = !exchangeRate || !buyAmount && !sellAmount
      /* This allows creating order greater than balance
        || BigNumber(sellAmount).isGreaterThan(balance)
      */
      || (0, _bignumber.BigNumber)(sellAmount).isLessThan(minimalAmountSell) || (0, _bignumber.BigNumber)(buyAmount).isLessThan(minimalAmountBuy);

      if (linked.sellAmount.value !== '' && linked.sellAmount.value > 0) {
        linked.sellAmount.check(function (value) {
          return (0, _bignumber.BigNumber)(value).isGreaterThan(minimalAmountSell);
        }, _react2.default.createElement(
          'span',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'transaction444', defaultMessage: 'Sell amount must be greater than ' }),
          ' ',
          minimalAmountSell
        ));
      }
      if (linked.buyAmount.value !== '' && linked.sellAmount.value > 0) {
        linked.buyAmount.check(function (value) {
          return (0, _bignumber.BigNumber)(value).isGreaterThan(minimalAmountBuy);
        }, _react2.default.createElement(
          'span',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'transaction450', defaultMessage: 'Buy amount must be greater than ' }),
          ' ',
          minimalAmountBuy
        ));
      }

      /* This allows creating order greater than balance
        if (linked.buyAmount.value !== '') {
          linked.sellAmount.check((value) => (BigNumber(balance).isGreaterThanOrEqualTo(value)),
            <span>
              <FormattedMessage id="transaction376" defaultMessage="Amount must be less than your balance " />
            </span>
          )
        }
      */

      return _react2.default.createElement(
        'div',
        { styleName: 'wrapper addOffer' },
        _react2.default.createElement(_SelectGroup2.default, {
          switchBalanceFunc: this.switching,
          styleName: 'sellGroup',
          label: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'addoffer381', defaultMessage: 'Sell' }),
          tooltip: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'partial462', defaultMessage: 'The amount you have on swap.online or an external wallet that you want to exchange' }),
          inputValueLink: linked.sellAmount.pipe(this.handleSellAmountChange),
          dontDisplayError: true,
          selectedValue: sellCurrency,
          onSelect: this.handleSellCurrencySelect,
          id: 'sellAmount',
          balance: balance,
          currencies: currencies,
          placeholder: '0.00000000'
        }),
        _react2.default.createElement(_Select2.default, {
          changeBalance: this.changeBalance,
          balance: balance,
          currency: sellCurrency,
          switching: this.switching
        }),
        _react2.default.createElement(_SelectGroup2.default, {
          switchBalanceFunc: this.switching,
          label: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'addoffer396', defaultMessage: 'Buy' }),
          tooltip: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'partial478', defaultMessage: 'The amount you will receive after the exchange' }),
          inputValueLink: linked.buyAmount.pipe(this.handleBuyAmountChange),
          dontDisplayError: true,
          selectedValue: buyCurrency,
          onSelect: this.handleBuyCurrencySelect,
          id: 'buyAmount',
          currencies: addSelectedItems,
          placeholder: '0.00000000'
        }),
        _react2.default.createElement(
          'div',
          { styleName: 'exchangeRate' },
          _react2.default.createElement(_ExchangeRateGroup2.default, {
            label: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'addoffer406', defaultMessage: 'Exchange rate' }),
            inputValueLink: linked.exchangeRate.pipe(this.handleExchangeRateChange),
            dontDisplayError: true,
            currency: false,
            disabled: !manualRate,
            id: 'exchangeRate',
            placeholder: 'Enter exchange rate amount',
            buyCurrency: buyCurrency,
            sellCurrency: sellCurrency
          })
        ),
        _react2.default.createElement(
          'div',
          { styleName: 'controlsToggles' },
          _react2.default.createElement(
            'div',
            { styleName: 'togles' },
            _react2.default.createElement(_Toggle2.default, { checked: manualRate, onChange: this.handleManualRate }),
            _react2.default.createElement(
              'div',
              { styleName: 'togleText' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'AddOffer418', defaultMessage: 'Custom exchange rate' }),
              ' ',
              _react2.default.createElement(
                _Tooltip2.default,
                { id: 'add264' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'add408', defaultMessage: 'To change the exchange rate ' })
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'togles' },
            _react2.default.createElement(_Toggle2.default, { checked: isPartial, onChange: function onChange() {
                return _this2.setState(function (state) {
                  return { isPartial: !state.isPartial };
                });
              } }),
            _react2.default.createElement(
              'div',
              { styleName: 'togleText' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'AddOffer423', defaultMessage: 'Enable partial fills' }),
              ' ',
              _react2.default.createElement(
                _Tooltip2.default,
                { id: 'add547' },
                _react2.default.createElement(
                  'div',
                  { style: { textAlign: 'center' } },
                  _react2.default.createElement(_reactIntl.FormattedMessage, {
                    id: 'addOfferPartialTooltip',
                    defaultMessage: 'You will receive exchange requests or the {p} amount less than the total amount you want {p} sell. For example you want to sell 1 BTC,\n                      other users can send you exchange requests {p}for 0.1, 0.5 BTC',
                    values: { p: _react2.default.createElement('br', null) }
                  })
                )
              )
            )
          )
        ),
        (0, _values2.default)(linked).map(function (item, index) {
          return Boolean(item.error) ? _react2.default.createElement(
            'div',
            { key: index, styleName: 'Error' },
            item.error
          ) : '';
        }),
        _react2.default.createElement(
          _Button2.default,
          { styleName: 'button', fullWidth: true, brand: true, disabled: isDisabled, onClick: this.handleNext },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'AddOffer396', defaultMessage: 'Next' })
        )
      );
    }
  }]);
  return AddOffer;
}(_react.Component), _initialiseProps = function _initialiseProps() {
  var _this3 = this;

  this.getFee = function () {
    var _state3 = _this3.state,
        sellCurrency = _state3.sellCurrency,
        buyCurrency = _state3.buyCurrency;


    _this3.correctMinAmountSell(sellCurrency);
    _this3.correctMinAmountBuy(buyCurrency);
  };

  this.checkBalance = function () {
    var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(sellCurrency, buyCurrency) {
      var _props2, items, tokenItems, currency, balance, unconfirmedBalance, currentBalance, balanceWithoutFee, finalBalance;

      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return _actions2.default[sellCurrency].getBalance(sellCurrency);

            case 2:
              _props2 = _this3.props, items = _props2.items, tokenItems = _props2.tokenItems;
              currency = items.concat(tokenItems).filter(function (item) {
                return item.currency === sellCurrency.toUpperCase();
              })[0];
              balance = currency.balance, unconfirmedBalance = currency.unconfirmedBalance;


              balance = new _bignumber.BigNumber(balance);
              unconfirmedBalance = new _bignumber.BigNumber(unconfirmedBalance);

              currentBalance = unconfirmedBalance.isNaN() && unconfirmedBalance.isLessThan(0) ? balance.plus(unconfirmedBalance) : balance;
              balanceWithoutFee = _helpers2.default.ethToken.isEthToken({ name: _this3.state.sellCurrency }) ? currentBalance : currentBalance.minus(_this3.state.minimalestAmountForSell);
              finalBalance = balanceWithoutFee.isGreaterThan(0) ? balanceWithoutFee : (0, _bignumber.BigNumber)(0);


              _this3.setState({
                balance: finalBalance.toString()
              });

            case 11:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, _this3);
    }));

    return function (_x, _x2) {
      return _ref4.apply(this, arguments);
    };
  }();

  this.isEthToken = function (sellCurrency, buyCurrency) {
    var isTokenSell = _helpers2.default.ethToken.isEthToken({ name: sellCurrency });
    var isTokenBuy = _helpers2.default.ethToken.isEthToken({ name: buyCurrency });

    _this3.setState(function () {
      return {
        isTokenBuy: isTokenBuy,
        isTokenSell: isTokenSell
      };
    });
  };

  this.correctMinAmountSell = function () {
    var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(sellCurrency) {
      var minimalestAmountForSell;
      return _regenerator2.default.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              if (!(_coinsWithDynamicFee2.default.includes(sellCurrency) && !_helpers2.default.ethToken.isEthToken({ name: sellCurrency }))) {
                _context2.next = 5;
                break;
              }

              _context2.next = 3;
              return _helpers2.default[sellCurrency].estimateFeeValue({ method: 'swap', speed: 'fast' });

            case 3:
              minimalestAmountForSell = _context2.sent;

              _this3.setState({
                minimalestAmountForSell: minimalestAmountForSell
              });

            case 5:
            case 'end':
              return _context2.stop();
          }
        }
      }, _callee2, _this3);
    }));

    return function (_x3) {
      return _ref5.apply(this, arguments);
    };
  }();

  this.correctMinAmountBuy = function () {
    var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(buyCurrency) {
      var minimalestAmountForBuy;
      return _regenerator2.default.wrap(function _callee3$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              if (!_coinsWithDynamicFee2.default.includes(buyCurrency)) {
                _context3.next = 5;
                break;
              }

              _context3.next = 3;
              return _helpers2.default[buyCurrency].estimateFeeValue({ method: 'swap', speed: 'fast' });

            case 3:
              minimalestAmountForBuy = _context3.sent;

              _this3.setState({
                minimalestAmountForBuy: minimalestAmountForBuy
              });

            case 5:
            case 'end':
              return _context3.stop();
          }
        }
      }, _callee3, _this3);
    }));

    return function (_x4) {
      return _ref6.apply(this, arguments);
    };
  }();

  this.updateExchangeRate = function () {
    var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(sellCurrency, buyCurrency) {
      var exchangeRateSell, exchangeRateBuy, exchangeRate;
      return _regenerator2.default.wrap(function _callee4$(_context4) {
        while (1) {
          switch (_context4.prev = _context4.next) {
            case 0:
              _context4.next = 2;
              return _actions2.default.user.getExchangeRate(sellCurrency, 'usd');

            case 2:
              exchangeRateSell = _context4.sent;
              _context4.next = 5;
              return _actions2.default.user.getExchangeRate(buyCurrency, 'usd');

            case 5:
              exchangeRateBuy = _context4.sent;

              if (!(sellCurrency === 'swap' || buyCurrency === 'swap')) {
                _context4.next = 12;
                break;
              }

              _context4.next = 9;
              return _actions2.default.user.getExchangeRate(sellCurrency, buyCurrency);

            case 9:
              _context4.t0 = _context4.sent;
              _context4.next = 13;
              break;

            case 12:
              _context4.t0 = (0, _bignumber.BigNumber)(exchangeRateSell).div(exchangeRateBuy).dp(4, _bignumber.BigNumber.ROUND_CEIL);

            case 13:
              exchangeRate = _context4.t0;
              return _context4.abrupt('return', new _promise2.default(function (resolve, reject) {
                _this3.setState({ exchangeRate: exchangeRate }, function () {
                  return resolve();
                });
              }));

            case 15:
            case 'end':
              return _context4.stop();
          }
        }
      }, _callee4, _this3);
    }));

    return function (_x5, _x6) {
      return _ref7.apply(this, arguments);
    };
  }();

  this.handleBuyCurrencySelect = function () {
    var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(_ref9) {
      var value = _ref9.value;

      var _state4, buyCurrency, sellCurrency, buyAmount, sellAmount;

      return _regenerator2.default.wrap(function _callee5$(_context5) {
        while (1) {
          switch (_context5.prev = _context5.next) {
            case 0:
              _state4 = _this3.state, buyCurrency = _state4.buyCurrency, sellCurrency = _state4.sellCurrency, buyAmount = _state4.buyAmount, sellAmount = _state4.sellAmount;

              if (!(sellCurrency === value)) {
                _context5.next = 5;
                break;
              }

              _this3.switching();
              _context5.next = 14;
              break;

            case 5:
              _this3.checkPair(sellCurrency);

              _context5.next = 8;
              return _this3.checkBalance(sellCurrency);

            case 8:
              _context5.next = 10;
              return _this3.updateExchangeRate(sellCurrency, value);

            case 10:

              _this3.setState(function () {
                return {
                  buyCurrency: value
                };
              });

              if (sellAmount > 0 || buyAmount > 0) {
                _this3.handleBuyAmountChange(buyAmount);
                _this3.handleSellAmountChange(sellAmount);
              }
              _this3.isEthToken(sellCurrency, value);
              _this3.getFee();

            case 14:
            case 'end':
              return _context5.stop();
          }
        }
      }, _callee5, _this3);
    }));

    return function (_x7) {
      return _ref8.apply(this, arguments);
    };
  }();

  this.handleSellCurrencySelect = function () {
    var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(_ref11) {
      var value = _ref11.value;

      var _state5, buyCurrency, sellCurrency, sellAmount, buyAmount;

      return _regenerator2.default.wrap(function _callee6$(_context6) {
        while (1) {
          switch (_context6.prev = _context6.next) {
            case 0:
              _state5 = _this3.state, buyCurrency = _state5.buyCurrency, sellCurrency = _state5.sellCurrency, sellAmount = _state5.sellAmount, buyAmount = _state5.buyAmount;

              if (!(buyCurrency === value)) {
                _context6.next = 5;
                break;
              }

              _this3.switching();
              _context6.next = 14;
              break;

            case 5:
              _this3.checkPair(value);

              _context6.next = 8;
              return _this3.checkBalance(value);

            case 8:
              _context6.next = 10;
              return _this3.updateExchangeRate(value, buyCurrency);

            case 10:

              _this3.setState(function () {
                return {
                  sellCurrency: value
                };
              });

              if (sellAmount > 0 || buyAmount > 0) {
                _this3.handleBuyAmountChange(buyAmount);
                _this3.handleSellAmountChange(sellAmount);
              }
              _this3.isEthToken(value, buyCurrency);
              _this3.getFee();

            case 14:
            case 'end':
              return _context6.stop();
          }
        }
      }, _callee6, _this3);
    }));

    return function (_x8) {
      return _ref10.apply(this, arguments);
    };
  }();

  this.handleExchangeRateChange = function (value) {
    var _state6 = _this3.state,
        buyAmount = _state6.buyAmount,
        sellAmount = _state6.sellAmount;


    if (!(0, _math.isNumberStringFormatCorrect)(value)) {
      return undefined;
    }

    _this3.handleAnyChange({
      type: 'rate',
      value: value
    });

    return value;
  };

  this.handleBuyAmountChange = function (value) {
    if (!(0, _math.isNumberStringFormatCorrect)(value)) {
      return undefined;
    }

    _this3.handleAnyChange({
      type: 'buy',
      value: value
    });

    return value;
  };

  this.handleSellAmountChange = function (value) {
    if (!(0, _math.isNumberStringFormatCorrect)(value)) {
      return undefined;
    }

    _this3.handleAnyChange({
      type: 'sell',
      value: value
    });

    return value;
  };

  this.handleAnyChange = function (_ref12) {
    var type = _ref12.type,
        value = _ref12.value;
    var _state7 = _this3.state,
        manualRate = _state7.manualRate,
        exchangeRate = _state7.exchangeRate,
        buyAmount = _state7.buyAmount,
        sellAmount = _state7.sellAmount,
        buyCurrency = _state7.buyCurrency,
        sellCurrency = _state7.sellCurrency;


    if (type === 'sell' || type === 'buy') {
      if (!_this3.isSending) {
        _this3.setState({ isSending: true });
      }
    }

    /*
        XR = S / B
        B = S / XR
        S = XR * B
    */

    switch (type) {
      case 'sell':
        {
          /*
            S++ -> XR++ -> B (Manual Rate)
            S++ -> XR -> B++ (Auto Rate)
          */

          var newSellAmount = new _bignumber.BigNumber(value || 0);

          if (manualRate) {
            var newExchangeRate = new _bignumber.BigNumber(value).dividedBy(buyAmount);

            _this3.setState({
              exchangeRate: newExchangeRate.isGreaterThan(0) ? newExchangeRate.toString() : '',
              sellAmount: newSellAmount.toString()
            });
          } else {
            var newBuyAmount = newSellAmount.multipliedBy(exchangeRate || 0).dp(_helpers.constants.tokenDecimals[buyCurrency.toLowerCase()], _bignumber.BigNumber.ROUND_DOWN);

            _this3.setState({
              sellAmount: newSellAmount.toString(),
              buyAmount: newBuyAmount.toString()
            });
          }
          break;
        }

      case 'buy':
        {
          /*
            B++ -> XR-- -> S (Manual Rate)
            B++ -> XR -> S++ (Auto Rate)
          */

          var _newBuyAmount = new _bignumber.BigNumber(value || 0);

          if (manualRate) {
            var _newExchangeRate = new _bignumber.BigNumber(sellAmount).dividedBy(value);

            _this3.setState({
              exchangeRate: _newExchangeRate.isGreaterThan(0) ? _newExchangeRate.toString() : '',
              buyAmount: _newBuyAmount.toString()
            });
          } else {
            var _newSellAmount = _newBuyAmount.dividedBy(exchangeRate || 0).dp(_helpers.constants.tokenDecimals[sellCurrency.toLowerCase()], _bignumber.BigNumber.ROUND_DOWN);

            _this3.setState({
              sellAmount: _newSellAmount.toString(),
              buyAmount: _newBuyAmount.toString()
            });
          }

          break;
        }

      case 'rate':
        {
          if ((0, _bignumber.BigNumber)(sellAmount).isGreaterThan(_math.mathConstants.high_precision)) {
            // If user has set sell value change buy value
            /*
              XR++ -> S -> B--
            */

            var _newBuyAmount2 = new _bignumber.BigNumber(sellAmount).dividedBy(value || 0);

            _this3.setState({
              buyAmount: _newBuyAmount2.toString()
            });
          } else {
            // Otherwise change sell value if buy value is not null
            /*
              XR++ -> S++ -> B
            */

            var _newSellAmount2 = new _bignumber.BigNumber(value || 0).multipliedBy(buyAmount);

            _this3.setState({
              sellAmount: _newSellAmount2.toString()
            });
          }

          break;
        }
      default:
        console.error('Unknown type');
        break;
    }
  };

  this.handleNext = function () {
    var onNext = _this3.props.onNext;

    // actions.analytics.dataEvent('orderbook-addoffer-click-next-button')

    onNext(_this3.state);
  };

  this.changeBalance = function (value) {
    _this3.setState(function () {
      return {
        sellAmount: (0, _bignumber.BigNumber)(value).toString()
      };
    });

    _this3.handleSellAmountChange(value);
  };

  this.handleManualRate = function (value) {
    if (!value) {
      var sellCurrency = _this3.state.sellCurrency;

      _this3.handleSellCurrencySelect({ value: sellCurrency });
    }
    _this3.setState(function () {
      return { manualRate: value };
    });
  };

  this.switching = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8() {
    var _state8, sellCurrency, buyCurrency, sellAmount, buyAmount;

    return _regenerator2.default.wrap(function _callee8$(_context8) {
      while (1) {
        switch (_context8.prev = _context8.next) {
          case 0:
            _state8 = _this3.state, sellCurrency = _state8.sellCurrency, buyCurrency = _state8.buyCurrency, sellAmount = _state8.sellAmount, buyAmount = _state8.buyAmount;


            _this3.setState({
              sellAmount: '',
              buyAmount: '',
              sellCurrency: buyCurrency,
              buyCurrency: sellCurrency
            }, (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7() {
              return _regenerator2.default.wrap(function _callee7$(_context7) {
                while (1) {
                  switch (_context7.prev = _context7.next) {
                    case 0:
                      _context7.next = 2;
                      return _this3.checkBalance(buyCurrency);

                    case 2:
                      _context7.next = 4;
                      return _this3.updateExchangeRate(buyCurrency, sellCurrency);

                    case 4:

                      _actions2.default.pairs.selectPair(buyCurrency);

                      _this3.isEthToken(_this3.state.sellCurrency, _this3.state.buyCurrency);
                      _this3.getFee(_this3.state.sellCurrency, _this3.state.buyCurrency);

                    case 7:
                    case 'end':
                      return _context7.stop();
                  }
                }
              }, _callee7, _this3);
            })));

          case 2:
          case 'end':
            return _context8.stop();
        }
      }
    }, _callee8, _this3);
  }));

  this.checkPair = function (value) {
    var selected = _actions2.default.pairs.selectPair(value);
    var check = selected.map(function (item) {
      return item.value;
    }).includes(_this3.state.buyCurrency);

    if (!check) {
      _this3.setState(function () {
        return {
          buyCurrency: selected[0].value
        };
      });
    }
  };
}, _temp)) || _class) || _class);
exports.default = AddOffer;

/***/ }),

/***/ 3265:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"sellGroup":"_2uPbo9","wrapper":"_3tOJ4U","exchangeRate":"dra6D6","togleText":"_2N8Pfd","togles":"_1G8tzR","controlsToggles":"_3K-jdC","button":"_2cpQT4","togleGroup":"aqbv1m","error":"_2da7VH","Error":"_1S_BMX","errorAppend":"_3uF-ko","addOffer":"_18dkK2"};

/***/ }),

/***/ 3266:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _ExchangeRateGroup = __webpack_require__(3267);

var _ExchangeRateGroup2 = _interopRequireDefault(_ExchangeRateGroup);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Group = __webpack_require__(3268);

var _Group2 = _interopRequireDefault(_Group);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ExchangeRateGroup = function ExchangeRateGroup(_ref) {
  var className = _ref.className,
      disabled = _ref.disabled,
      label = _ref.label,
      id = _ref.id,
      inputValueLink = _ref.inputValueLink,
      placeholder = _ref.placeholder,
      buyCurrency = _ref.buyCurrency,
      sellCurrency = _ref.sellCurrency;
  return _react2.default.createElement(
    _Group2.default,
    {
      styleName: 'exRate',
      className: className,
      label: label,
      id: id,
      disabled: disabled,
      inputValueLink: inputValueLink,
      placeholder: placeholder },
    _react2.default.createElement(
      'span',
      { styleName: 'currencyRatio' },
      sellCurrency,
      ' / ',
      buyCurrency
    )
  );
};

exports.default = (0, _reactCssModules2.default)(ExchangeRateGroup, _ExchangeRateGroup2.default);

/***/ }),

/***/ 3267:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"currencyRatio":"_3E33Iy","exRate":"E-d75Q"};

/***/ }),

/***/ 3268:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _Group = __webpack_require__(3269);

var _Group2 = _interopRequireDefault(_Group);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Input = __webpack_require__(129);

var _Input2 = _interopRequireDefault(_Input);

var _FieldLabel = __webpack_require__(196);

var _FieldLabel2 = _interopRequireDefault(_FieldLabel);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Group = function Group(_ref) {
  var className = _ref.className,
      disabled = _ref.disabled,
      label = _ref.label,
      id = _ref.id,
      inputValueLink = _ref.inputValueLink,
      _ref$isInteger = _ref.isInteger,
      isInteger = _ref$isInteger === undefined ? false : _ref$isInteger,
      placeholder = _ref.placeholder,
      children = _ref.children;
  return _react2.default.createElement(
    _react.Fragment,
    null,
    _react2.default.createElement(
      'div',
      { styleName: 'groupField', className: className },
      _react2.default.createElement(_Input2.default, {
        styleName: 'inputRoot',
        inputContainerClassName: 'inputContainer',
        valueLink: inputValueLink,
        type: 'number',
        pattern: isInteger ? '0-9' : '0-9.',
        id: id,
        placeholder: placeholder,
        disabled: disabled
      }),
      children
    )
  );
};

exports.default = (0, _reactCssModules2.default)(Group, _Group2.default);

/***/ }),

/***/ 3269:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"groupField":"m1Yt0g","inputRoot":"_1rUUNY","inputContainer":"_1qVKWE"};

/***/ }),

/***/ 3270:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactIntl = __webpack_require__(8);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SelectGroup = __webpack_require__(3271);

var _SelectGroup2 = _interopRequireDefault(_SelectGroup);

var _Input = __webpack_require__(129);

var _Input2 = _interopRequireDefault(_Input);

var _FieldLabel = __webpack_require__(196);

var _FieldLabel2 = _interopRequireDefault(_FieldLabel);

var _CurrencySelect = __webpack_require__(549);

var _CurrencySelect2 = _interopRequireDefault(_CurrencySelect);

var _Tooltip = __webpack_require__(104);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _bignumber = __webpack_require__(30);

var _domUtils = __webpack_require__(325);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// TODO to split data and view this component

var SelectGroup = function SelectGroup(_ref) {
  var dynamicFee = _ref.dynamicFee,
      isToken = _ref.isToken,
      extendedControls = _ref.extendedControls,
      selectedValue = _ref.selectedValue,
      onSelect = _ref.onSelect,
      dataTut = _ref.dataTut,
      currencies = _ref.currencies,
      usd = _ref.usd,
      placeholder = _ref.placeholder,
      label = _ref.label,
      disabled = _ref.disabled,
      className = _ref.className,
      inputValueLink = _ref.inputValueLink,
      tooltip = _ref.tooltip,
      balance = _ref.balance,
      error = _ref.error,
      id = _ref.id,
      type = _ref.type,
      idFee = _ref.idFee,
      tooltipAboutFee = _ref.tooltipAboutFee,
      haveAmount = _ref.haveAmount,
      dontDisplayError = _ref.dontDisplayError,
      props = (0, _objectWithoutProperties3.default)(_ref, ['dynamicFee', 'isToken', 'extendedControls', 'selectedValue', 'onSelect', 'dataTut', 'currencies', 'usd', 'placeholder', 'label', 'disabled', 'className', 'inputValueLink', 'tooltip', 'balance', 'error', 'id', 'type', 'idFee', 'tooltipAboutFee', 'haveAmount', 'dontDisplayError']);
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(
      'div',
      { styleName: 'groupField', className: className },
      _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'span',
          { styleName: 'label' },
          label
        ),
        _react2.default.createElement(
          'div',
          { styleName: 'tooltip' },
          _react2.default.createElement(
            _Tooltip2.default,
            { id: id },
            tooltip
          )
        ),
        _react2.default.createElement(
          'span',
          { styleName: 'balance' },
          balance && 'Balance: ' + (0, _bignumber.BigNumber)(balance).dp(8, _bignumber.BigNumber.ROUND_CEIL)
        ),
        '\xA0',
        _react2.default.createElement(
          'div',
          { styleName: 'smallTooltip' },
          _react2.default.createElement(
            _Tooltip2.default,
            { id: id },
            tooltip
          )
        )
      ),
      _react2.default.createElement(_Input2.default, {
        styleName: 'inputRoot',
        inputContainerClassName: 'inputContainer',
        valueLink: inputValueLink,
        type: 'number',
        placeholder: placeholder,
        pattern: '0-9\\.',
        errorStyle: error,
        dontDisplayError: true,
        disabled: disabled,
        onFocus: props.onFocus ? props.onFocus : function () {},
        onBlur: props.onBlur ? props.onBlur : function () {},
        onKeyDown: _domUtils.inputReplaceCommaWithDot
      }),
      (selectedValue === 'eth' || selectedValue === 'btc') && usd > 0 && _react2.default.createElement(
        'p',
        { styleName: 'textUsd' },
        '~' + usd,
        ' USD'
      ),
      _react2.default.createElement(_CurrencySelect2.default, {
        name: 'All',
        label: label,
        tooltip: tooltip,
        id: id,
        styleName: 'currencySelect',
        placeholder: 'Enter the name of token',
        selectedValue: selectedValue,
        onSelect: onSelect,
        currencies: currencies
      })
    ),
    label.props.defaultMessage === 'You sell' && !extendedControls && (balance > 0 ? !isToken && _react2.default.createElement(
      'span',
      {
        styleName: (0, _bignumber.BigNumber)(haveAmount).isLessThanOrEqualTo(balance) && (0, _bignumber.BigNumber)(balance).isLessThan((0, _bignumber.BigNumber)(haveAmount).plus(dynamicFee)) && (0, _bignumber.BigNumber)(haveAmount).isGreaterThan(0) ? 'red' : 'balance'
      },
      _react2.default.createElement(_reactIntl.FormattedMessage, {
        id: 'select75',
        defaultMessage: 'Available for exchange: {availableBalance} {tooltip}',
        values: {
          availableBalance: (0, _bignumber.BigNumber)(balance).minus(dynamicFee) + ' ' + selectedValue.toUpperCase(),
          tooltip: _react2.default.createElement(
            _Tooltip2.default,
            { id: idFee },
            ' ',
            tooltipAboutFee
          )
        } })
    ) : _react2.default.createElement(
      'span',
      { styleName: 'textForNull' },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'selected53', defaultMessage: 'You can use an external wallet to perform a swap' })
    ))
  );
};

exports.default = (0, _reactIntl.injectIntl)((0, _reactCssModules2.default)(SelectGroup, _SelectGroup2.default, { allowMultiple: true }));

/***/ }),

/***/ 3271:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"groupField":"_3TWRil","smallTooltip":"_1zELpV","balance":"iybYr8","textUsd":"_25mIAQ","inputRoot":"_35Jr-F","textForNull":"_28UoOD","inputContainer":"_1PBe0C","tooltip":"_2Un8XP","label":"_2UhBxU","red":"_10mpac","selectGroupContainer":"_1O_8Ps","currencySelect":"_2Xo8x5","dropDown":"_18MusC"};

/***/ }),

/***/ 3272:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isNumberValid = exports.isNumberStringFormatCorrect = exports.parseNumberWithValidityCheck = exports.areFloatsEqual = exports.mathConstants = undefined;

var _isFinite = __webpack_require__(3273);

var _isFinite2 = _interopRequireDefault(_isFinite);

var _isNan = __webpack_require__(520);

var _isNan2 = _interopRequireDefault(_isNan);

var _parseFloat = __webpack_require__(375);

var _parseFloat2 = _interopRequireDefault(_parseFloat);

var _isInteger = __webpack_require__(297);

var _isInteger2 = _interopRequireDefault(_isInteger);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mathConstants = exports.mathConstants = {
  high_precision: 10e-8,
  low_precision: 10e-5
};

var areFloatsEqual = exports.areFloatsEqual = function areFloatsEqual(float1, float2) {
  var parsed1 = parseNumberWithValidityCheck(float1);
  var parsed2 = parseNumberWithValidityCheck(float2);

  if (parsed1 === undefined || parsed2 === undefined) {
    return false;
  }

  if ((0, _isInteger2.default)(parsed1) && (0, _isInteger2.default)(parsed2)) {
    return parsed1 === parsed2;
  }

  return Math.abs(parsed1 - parsed2) <= mathConstants.high_precision;
};

// TODO: Give it better name
// Checks number to contain multiple dots and parceability into float
var parseNumberWithValidityCheck = exports.parseNumberWithValidityCheck = function parseNumberWithValidityCheck(number) {
  var parsed = (0, _parseFloat2.default)(number);

  if (number instanceof String && number.indexOf('.') !== -1) {
    return undefined;
  }

  if (!(0, _isNan2.default)(parsed) && (0, _isFinite2.default)(parsed)) {
    return parsed;
  }

  return undefined;
};

var isNumberStringFormatCorrect = exports.isNumberStringFormatCorrect = function isNumberStringFormatCorrect(number) {
  var stringified = String(number);

  var firstDotIndex = stringified.indexOf('.');
  var lastDotIndex = stringified.lastIndexOf('.');

  // first and last dot positions match, so it has only one dot
  return firstDotIndex === lastDotIndex;
};

var isNumberValid = exports.isNumberValid = function isNumberValid(number) {
  return parseNumberWithValidityCheck(number) !== undefined;
};

/***/ }),

/***/ 3276:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _dec, _dec2, _class, _class2, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _helpers = __webpack_require__(17);

var _helpers2 = _interopRequireDefault(_helpers);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _redaction = __webpack_require__(37);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _WithdrawModal = __webpack_require__(3277);

var _WithdrawModal2 = _interopRequireDefault(_WithdrawModal);

var _bignumber = __webpack_require__(30);

var _Modal = __webpack_require__(197);

var _Modal2 = _interopRequireDefault(_Modal);

var _FieldLabel = __webpack_require__(196);

var _FieldLabel2 = _interopRequireDefault(_FieldLabel);

var _Input = __webpack_require__(129);

var _Input2 = _interopRequireDefault(_Input);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _Tooltip = __webpack_require__(104);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _reactIntl = __webpack_require__(8);

var _reactTooltip = __webpack_require__(103);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _reactDeviceDetect = __webpack_require__(53);

var _typeforce = __webpack_require__(298);

var _minAmount = __webpack_require__(824);

var _minAmount2 = _interopRequireDefault(_minAmount);

var _domUtils = __webpack_require__(325);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var WithdrawModal = (_dec = (0, _redaction.connect)(function (_ref) {
  var currencies = _ref.currencies,
      _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      bchData = _ref$user.bchData,
      tokensData = _ref$user.tokensData,
      eosData = _ref$user.eosData,
      telosData = _ref$user.telosData,
      nimData = _ref$user.nimData,
      ltcData = _ref$user.ltcData;
  return {
    currencies: currencies.items,
    items: [ethData, btcData, eosData, telosData, bchData, ltcData /* usdtOmniData, nimData */],
    tokenItems: [].concat((0, _toConsumableArray3.default)((0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    })))
  };
}), _dec2 = (0, _reactCssModules2.default)(_WithdrawModal2.default), (0, _reactIntl.injectIntl)(_class = _dec(_class = _dec2(_class = (_temp = _class2 = function (_React$Component) {
  (0, _inherits3.default)(WithdrawModal, _React$Component);

  function WithdrawModal(data) {
    (0, _classCallCheck3.default)(this, WithdrawModal);

    var _this = (0, _possibleConstructorReturn3.default)(this, (WithdrawModal.__proto__ || (0, _getPrototypeOf2.default)(WithdrawModal)).call(this));

    _initialiseProps.call(_this);

    var currency = data.data.currency,
        items = data.items,
        tokenItems = data.tokenItems;


    var currentDecimals = _helpers.constants.tokenDecimals[currency.toLowerCase()];
    var allCurrencyies = items.concat(tokenItems);
    var selectedItem = allCurrencyies.filter(function (item) {
      return item.currency === currency;
    })[0];

    _this.state = {
      isShipped: false,
      address: '',
      amount: '',
      minus: '',
      balance: selectedItem.balance || 0,
      ethBalance: null,
      isEthToken: _helpers2.default.ethToken.isEthToken({ name: currency.toLowerCase() }),
      currentDecimals: currentDecimals,
      getUsd: 0,
      error: false
    };
    return _this;
  }

  (0, _createClass3.default)(WithdrawModal, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var exCurrencyRate = this.state.exCurrencyRate;
      var currency = this.props.data.currency;


      this.setBalanceOnState(currency);

      this.usdRates = {};
      this.getUsdBalance();
      this.actualyMinAmount();
    }
  }, {
    key: 'componentWillUpdate',
    value: function componentWillUpdate(nextProps, nextState) {
      nextState.amount = this.fixDecimalCountETH(nextState.amount);
    }
  }, {
    key: 'isEthOrERC20',
    value: function isEthOrERC20() {
      var _props = this.props,
          name = _props.name,
          data = _props.data,
          tokenItems = _props.tokenItems;
      var _state = this.state,
          currency = _state.currency,
          ethBalance = _state.ethBalance,
          isEthToken = _state.isEthToken;

      return isEthToken === true && ethBalance < _minAmount2.default.eth ? ethBalance < _minAmount2.default.eth : false;
    }
  }, {
    key: 'addressIsCorrect',
    value: function addressIsCorrect() {
      var currency = this.props.data.currency;
      var _state2 = this.state,
          address = _state2.address,
          isEthToken = _state2.isEthToken;


      if (isEthToken) {
        return _typeforce.isCoinAddress.ETH(address);
      }

      return _typeforce.isCoinAddress[currency.toUpperCase()](address);
    }
  }, {
    key: 'render',
    value: function render() {
      var _state3 = this.state,
          address = _state3.address,
          amount = _state3.amount,
          balance = _state3.balance,
          isShipped = _state3.isShipped,
          minus = _state3.minus,
          ethBalance = _state3.ethBalance,
          isEthToken = _state3.isEthToken,
          exCurrencyRate = _state3.exCurrencyRate,
          currentDecimals = _state3.currentDecimals,
          error = _state3.error;
      var _props2 = this.props,
          name = _props2.name,
          currency = _props2.data.currency,
          tokenItems = _props2.tokenItems,
          items = _props2.items,
          intl = _props2.intl;


      var linked = _swValuelink2.default.all(this, 'address', 'amount');

      var min = _minAmount2.default[currency.toLowerCase()];
      var dataCurrency = isEthToken ? 'ETH' : currency.toUpperCase();

      var isDisabled = !address || !amount || isShipped || !this.addressIsCorrect() || (0, _bignumber.BigNumber)(amount).isGreaterThan(balance) || (0, _bignumber.BigNumber)(amount).dp() > currentDecimals || this.isEthOrERC20();
      var NanReplacement = balance || '...';
      var getUsd = amount * exCurrencyRate;

      if (new _bignumber.BigNumber(amount).isGreaterThan(0)) {
        linked.amount.check(function (value) {
          return new _bignumber.BigNumber(value).isLessThanOrEqualTo(balance);
        }, _react2.default.createElement(
          'div',
          { style: { width: '340px', fontSize: '12px' } },
          _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'Withdrow170',
            defaultMessage: 'The amount must be no more than your balance',
            values: {
              min: min,
              currency: '' + currency
            }
          })
        ));
      }

      if (this.state.amount < 0) {
        this.setState({
          amount: '',
          minus: true
        });
      }

      var title = (0, _reactIntl.defineMessages)({
        withdrowModal: {
          id: 'withdrowTitle271',
          defaultMessage: 'Withdraw'
        }
      });

      return _react2.default.createElement(
        _Modal2.default,
        { name: name, title: intl.formatMessage(title.withdrowModal) + ' ' + currency.toUpperCase() },
        _react2.default.createElement(
          'p',
          { styleName: isEthToken ? 'rednotes' : 'notice' },
          _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'Withdrow213',
            defaultMessage: 'Please note: Miners fee is {minAmount} {data}.{br}Your balance must exceed this sum to perform transaction',
            values: { minAmount: '' + (isEthToken ? _minAmount2.default.eth : min), br: _react2.default.createElement('br', null), data: '' + dataCurrency } })
        ),
        _react2.default.createElement(
          'div',
          { styleName: 'highLevel' },
          _react2.default.createElement(
            _FieldLabel2.default,
            { inRow: true },
            _react2.default.createElement(
              'span',
              { style: { fontSize: '16px' } },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Withdrow1194', defaultMessage: 'Address ' })
            ),
            ' ',
            _react2.default.createElement(
              _Tooltip2.default,
              { id: 'WtH203' },
              _react2.default.createElement(
                'div',
                { style: { textAlign: 'center' } },
                _react2.default.createElement(_reactIntl.FormattedMessage, {
                  id: 'WTH275',
                  defaultMessage: 'Make sure the wallet you{br}are sending the funds to supports {currency}',
                  values: { br: _react2.default.createElement('br', null), currency: '' + currency.toUpperCase() }
                })
              )
            )
          ),
          _react2.default.createElement(_Input2.default, { valueLink: linked.address, focusOnInit: true, pattern: '0-9a-zA-Z:', placeholder: 'Enter ' + currency.toUpperCase() + ' address to transfer' }),
          address && !this.addressIsCorrect() && _react2.default.createElement(
            'div',
            { styleName: 'rednote' },
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'WithdrawIncorectAddress',
              defaultMessage: 'Your address not correct' })
          )
        ),
        _react2.default.createElement(
          'div',
          { styleName: 'lowLevel' },
          _react2.default.createElement(
            'div',
            { styleName: 'groupField' },
            _react2.default.createElement(
              'p',
              { styleName: 'balance' },
              balance,
              ' ',
              currency.toUpperCase()
            ),
            _react2.default.createElement(
              'div',
              { styleName: 'downLabel' },
              _react2.default.createElement(
                _FieldLabel2.default,
                { inRow: true },
                _react2.default.createElement(
                  'span',
                  { styleName: 'mobileFont' },
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Withdrow118', defaultMessage: 'Amount ' })
                )
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'group' },
            _react2.default.createElement(_Input2.default, {
              styleName: 'input',
              valueLink: linked.amount,
              pattern: '0-9\\.',
              placeholder: 'Enter the amount',
              usd: getUsd.toFixed(2),
              onKeyDown: _domUtils.inputReplaceCommaWithDot
            }),
            _react2.default.createElement(
              'button',
              { styleName: 'button', onClick: this.sellAllBalance, 'data-tip': true, 'data-for': 'Withdrow134' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Select210', defaultMessage: 'MAX' })
            ),
            !_reactDeviceDetect.isMobile && _react2.default.createElement(
              _reactTooltip2.default,
              { id: 'Withdrow134', type: 'light', effect: 'solid', styleName: 'r-tooltip' },
              _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'WithdrawButton32',
                defaultMessage: 'when you click this button, in the field, an amount equal to your balance minus the miners commission will appear' })
            )
          ),
          !linked.amount.error && _react2.default.createElement(
            'div',
            { styleName: minus ? 'rednote' : 'note' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'WithdrawModal256', defaultMessage: 'No less than {minAmount}', values: { minAmount: '' + min } })
          ),
          this.isEthOrERC20() && _react2.default.createElement(
            'div',
            { styleName: 'rednote' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'WithdrawModal263', defaultMessage: 'You need {minAmount} ETH on your balance', values: { minAmount: '' + _minAmount2.default.eth } })
          )
        ),
        _react2.default.createElement(
          _Button2.default,
          { styleName: 'buttonFull', brand: true, fullWidth: true, disabled: isDisabled, onClick: this.handleSubmit },
          isShipped ? _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'WithdrawModal11212', defaultMessage: 'Processing ...' })
          ) : _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'WithdrawModal111', defaultMessage: 'Withdraw' }),
            ' ',
            '' + currency.toUpperCase()
          )
        ),
        error && _react2.default.createElement(
          'div',
          { styleName: 'rednote' },
          _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'WithdrawModalErrorSend',
            defaultMessage: '{errorName} {currency}:{br}{errorMessage}',
            values: {
              errorName: intl.formatMessage(error.name),
              errorMessage: intl.formatMessage(error.message),
              br: _react2.default.createElement('br', null),
              currency: '' + currency
            }
          })
        )
      );
    }
  }]);
  return WithdrawModal;
}(_react2.default.Component), _class2.propTypes = {
  name: _propTypes2.default.string,
  data: _propTypes2.default.object
}, _initialiseProps = function _initialiseProps() {
  var _this2 = this;

  this.fixDecimalCountETH = function (amount) {
    if (_this2.props.data.currency === 'ETH' && (0, _bignumber.BigNumber)(amount).dp() > 18) {
      var amountInt = (0, _bignumber.BigNumber)(amount).integerValue();
      var amountDecimal = (0, _bignumber.BigNumber)(amount).mod(1);

      var amountIntStr = amountInt.toString();
      var amountDecimalStr = (0, _bignumber.BigNumber)((0, _bignumber.BigNumber)(amountDecimal).toPrecision(15)).toString().substring(1);
      var regexr = /[e+-]/g;

      var result = amountIntStr + amountDecimalStr;

      console.warn("To avoid [ethjs-unit]error: while converting number with more then 18 decimals to wei - you can't afford yourself add more than 18 decimals"); // eslint-disable-line
      if (regexr.test(result)) {
        console.warn('And ofcourse you can not write number which can not be saved without an exponential notation in JS');
        return 0;
      }
      return result;
    }
    return amount;
  };

  this.getMinAmountForEthToken = function () {
    var currency = _this2.props.data.currency;
    var currentDecimals = _this2.state.currentDecimals;


    var ethTokenMinAmount = '0.';

    for (var a = 0; a < currentDecimals - 1; a++) {
      ethTokenMinAmount += '0';
    }

    return ethTokenMinAmount += '1';
  };

  this.actualyMinAmount = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var currency, isEthToken, currentCoin;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            currency = _this2.props.data.currency;
            isEthToken = _this2.state.isEthToken;
            currentCoin = currency.toLowerCase();

            if (!isEthToken) {
              _context.next = 8;
              break;
            }

            _minAmount2.default[currentCoin] = _this2.getMinAmountForEthToken();
            _context.next = 7;
            return _helpers2.default.eth.estimateFeeValue({ method: 'send', speed: 'fast' });

          case 7:
            _minAmount2.default.eth = _context.sent;

          case 8:
            if (!_helpers.constants.coinsWithDynamicFee.includes(currentCoin)) {
              _context.next = 12;
              break;
            }

            _context.next = 11;
            return _helpers2.default[currentCoin].estimateFeeValue({ method: 'send', speed: 'fast' });

          case 11:
            _minAmount2.default[currentCoin] = _context.sent;

          case 12:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, _this2);
  }));

  this.setBalanceOnState = function () {
    var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(currency) {
      var unconfirmedBalance, balance, finalBalance, ethBalance;
      return _regenerator2.default.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              unconfirmedBalance = _this2.props.data.unconfirmedBalance;
              _context2.next = 3;
              return _actions2.default[currency.toLowerCase()].getBalance(currency.toLowerCase());

            case 3:
              balance = _context2.sent;
              finalBalance = unconfirmedBalance !== undefined && unconfirmedBalance < 0 ? new _bignumber.BigNumber(balance).plus(unconfirmedBalance).toString() : balance;
              _context2.next = 7;
              return _actions2.default.eth.getBalance();

            case 7:
              ethBalance = _context2.sent;


              _this2.setState(function () {
                return {
                  balance: finalBalance,
                  ethBalance: ethBalance
                };
              });

            case 9:
            case 'end':
              return _context2.stop();
          }
        }
      }, _callee2, _this2);
    }));

    return function (_x) {
      return _ref3.apply(this, arguments);
    };
  }();

  this.getUsdBalance = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
    var currency, exCurrencyRate;
    return _regenerator2.default.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            currency = _this2.props.data.currency;
            _context3.next = 3;
            return _actions2.default.user.getExchangeRate(currency, 'usd');

          case 3:
            exCurrencyRate = _context3.sent;


            _this2.usdRates[currency] = exCurrencyRate;

            _this2.setState(function () {
              return {
                exCurrencyRate: exCurrencyRate
              };
            });

          case 6:
          case 'end':
            return _context3.stop();
        }
      }
    }, _callee3, _this2);
  }));
  this.handleSubmit = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
    var _state4, to, amount, _props3, _props3$data, currency, address, balance, name, sendOptions;

    return _regenerator2.default.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _state4 = _this2.state, to = _state4.address, amount = _state4.amount;
            _props3 = _this2.props, _props3$data = _props3.data, currency = _props3$data.currency, address = _props3$data.address, balance = _props3$data.balance, name = _props3.name;


            _this2.setState(function () {
              return { isShipped: true };
            });

            _this2.setBalanceOnState(currency);

            sendOptions = {
              to: to,
              amount: amount,
              speed: 'fast'
            };


            if (_helpers2.default.ethToken.isEthToken({ name: currency.toLowerCase() })) {
              sendOptions = (0, _assign2.default)({}, sendOptions, {
                name: currency.toLowerCase()
              });
            } else {
              sendOptions = (0, _assign2.default)({}, sendOptions, {
                from: address
              });
            }

            _context4.next = 8;
            return _actions2.default[currency.toLowerCase()].send(sendOptions).then(function (txRaw) {
              _actions2.default.loader.hide();
              _actions2.default[currency.toLowerCase()].getBalance(currency);
              _this2.setBalanceOnState(currency);

              _actions2.default.notifications.show(_helpers.constants.notifications.SuccessWithdraw, {
                amount: amount,
                currency: currency,
                address: to
              });

              _this2.setState(function () {
                return { isShipped: false, error: false };
              });
            }).then(function () {
              _actions2.default.modals.close(name);
            }).catch(function (e) {
              var errorText = e.res ? e.res.text : '';
              var error = {
                name: {
                  id: 'Withdraw218',
                  defaultMessage: 'Withdrawal error'
                },
                message: {
                  id: 'ErrorNotification12',
                  defaultMessage: 'Oops, looks like something went wrong!'
                }
              };

              if (/insufficient priority|bad-txns-inputs-duplicate/.test(errorText)) {
                error.message = {
                  id: 'Withdraw232',
                  defaultMessage: 'There is not enough confirmation of the last transaction. Try later.'
                };
              }

              console.error(error.name.defaultMessage, ':', e);

              _this2.setState(function () {
                return {
                  error: error,
                  isShipped: false
                };
              });
            });

          case 8:
          case 'end':
            return _context4.stop();
        }
      }
    }, _callee4, _this2);
  }));
  this.sellAllBalance = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
    var _state5, amount, balance, currency, isEthToken, data, minFee, balanceMiner;

    return _regenerator2.default.wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            _state5 = _this2.state, amount = _state5.amount, balance = _state5.balance, currency = _state5.currency, isEthToken = _state5.isEthToken;
            data = _this2.props.data;
            minFee = isEthToken ? 0 : _minAmount2.default[data.currency.toLowerCase()];
            balanceMiner = balance ? balance !== 0 ? new _bignumber.BigNumber(balance).minus(minFee).toString() : balance : 'Wait please. Loading...';


            _this2.setState({
              amount: balanceMiner
            });

          case 5:
          case 'end':
            return _context5.stop();
        }
      }
    }, _callee5, _this2);
  }));
}, _temp)) || _class) || _class) || _class);
exports.default = WithdrawModal;

/***/ }),

/***/ 3277:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"note":"_1A5qTh","r-tooltip":"dBcN3v","rednote":"_3mQF3S","groupField":"_3IE12z","balance":"_6VJflp","notice":"_3pT1kB","rednotes":"_2uVKca","buttonFull":"_1w69Ds","cell":"_2hp6-E","group":"pq-Bo6","input":"_31Ak01","button":"_2Wr1o_","downLabel":"_1nQChf","highLevel":"cKmbRC","lowLevel":"_2uG_X3","mobileFont":"_19D1Gc"};

/***/ }),

/***/ 3278:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _modal = __webpack_require__(136);

var _controls = __webpack_require__(46);

var _forms = __webpack_require__(166);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(17);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _EosRegisterModal = __webpack_require__(3281);

var _EosRegisterModal2 = _interopRequireDefault(_EosRegisterModal);

var _Tooltip = __webpack_require__(104);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var title = (0, _reactIntl.defineMessages)({
  EosRegisterTitle: {
    id: 'Eos61',
    defaultMessage: 'EOS Login'
  }
});

var EosRegisterModal = (_dec = (0, _reactCssModules2.default)(_EosRegisterModal2.default), (0, _reactIntl.injectIntl)(_class = _dec(_class = function (_React$Component) {
  (0, _inherits3.default)(EosRegisterModal, _React$Component);

  function EosRegisterModal() {
    var _ref,
        _this2 = this;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, EosRegisterModal);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = EosRegisterModal.__proto__ || (0, _getPrototypeOf2.default)(EosRegisterModal)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      accountName: '',
      privateKey: '',
      error: ''
    }, _this.handleSubmit = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
      var _this$state, accountName, privateKey;

      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _this$state = _this.state, accountName = _this$state.accountName, privateKey = _this$state.privateKey;


              _actions2.default.loader.show(true);

              _context.prev = 2;
              _context.next = 5;
              return _actions2.default.eos.register(accountName, privateKey);

            case 5:
              _context.next = 7;
              return _actions2.default.eos.getBalance();

            case 7:

              _actions2.default.modals.close(_helpers.constants.modals.EosRegister);
              _context.next = 14;
              break;

            case 10:
              _context.prev = 10;
              _context.t0 = _context['catch'](2);

              console.error(_context.t0);
              _this.setState({ error: _context.t0.toString() });

            case 14:

              _actions2.default.loader.hide();

            case 15:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, _this2, [[2, 10]]);
    })), _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(EosRegisterModal, [{
    key: 'render',
    value: function render() {
      var _state = this.state,
          accountName = _state.accountName,
          privateKey = _state.privateKey,
          error = _state.error;
      var _props = this.props,
          name = _props.name,
          intl = _props.intl;


      var linked = _swValuelink2.default.all(this, 'accountName', 'privateKey');
      var isDisabled = !accountName || !privateKey;

      return _react2.default.createElement(
        _modal.Modal,
        { name: name, title: intl.formatMessage(title.EosRegisterTitle) },
        _react2.default.createElement(
          _forms.FieldLabel,
          { inRow: true },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosRegAccountModal54', defaultMessage: 'Account name ' }),
          ' ',
          _react2.default.createElement(
            _Tooltip2.default,
            { id: 'EoSR92' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Eos53', defaultMessage: 'Enter your EOS account name ' })
          )
        ),
        _react2.default.createElement(_forms.Input, { valueLink: linked.accountName }),
        _react2.default.createElement(
          _forms.FieldLabel,
          { inRow: true },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosRegAccountModal58', defaultMessage: 'Active private key ' }),
          ' ',
          _react2.default.createElement(
            _Tooltip2.default,
            { id: 'EoSR69' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Eos57', defaultMessage: 'Enter private key for active permission ' })
          )
        ),
        _react2.default.createElement(_forms.Input, { valueLink: linked.privateKey }),
        error && _react2.default.createElement(
          'div',
          { styleName: 'error' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosRegAccountModal63', defaultMessage: 'Sorry, error occurred during activation ' })
        ),
        _react2.default.createElement(
          _controls.Button,
          { styleName: 'button', brand: true, fullWidth: true, disabled: isDisabled, onClick: this.handleSubmit },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosRegAccountModal70', defaultMessage: 'Login ' })
        )
      );
    }
  }]);
  return EosRegisterModal;
}(_react2.default.Component)) || _class) || _class);
exports.default = EosRegisterModal;

/***/ }),

/***/ 3279:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _helpers = __webpack_require__(17);

var _classnames = __webpack_require__(72);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _ModalContainer = __webpack_require__(3280);

var _ModalContainer2 = _interopRequireDefault(_ModalContainer);

var _Overlay = __webpack_require__(560);

var _Overlay2 = _interopRequireDefault(_Overlay);

var _Center = __webpack_require__(322);

var _Center2 = _interopRequireDefault(_Center);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ModalContainer = (_dec = (0, _reactCssModules2.default)(_ModalContainer2.default, { allowMultiple: true }), _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(ModalContainer, _Component);

  function ModalContainer() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ModalContainer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ModalContainer.__proto__ || (0, _getPrototypeOf2.default)(ModalContainer)).call.apply(_ref, [this].concat(args))), _this), _this.handleMount = function (el) {
      if (el) {
        setTimeout(function () {
          el.classList.add(_ModalContainer2.default.mounted);
        }, 0);
      }
    }, _this.close = function () {
      var _this$props = _this.props,
          disableClose = _this$props.disableClose,
          onClose = _this$props.onClose;


      if (!disableClose) {
        onClose();
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ModalContainer, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          children = _props.children,
          fullWidth = _props.fullWidth;

      // TODO move overflow to Modal from Center

      var modalContainerStyleName = (0, _classnames2.default)('modalContainer', {
        'fullWidth': fullWidth
      });

      return _react2.default.createElement(
        _Overlay2.default,
        { onClick: this.close },
        _react2.default.createElement(
          _Center2.default,
          { scrollable: true },
          _react2.default.createElement(
            'div',
            {
              styleName: modalContainerStyleName,
              ref: this.handleMount
            },
            children
          )
        )
      );
    }
  }]);
  return ModalContainer;
}(_react.Component), _class2.propTypes = {
  children: _propTypes2.default.any.isRequired,
  fullWidth: _propTypes2.default.bool,
  disableClose: _propTypes2.default.bool,
  onClose: _propTypes2.default.func.isRequired
}, _temp2)) || _class);
exports.default = ModalContainer;

/***/ }),

/***/ 3280:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"modalContainer":"gQ4oav","fullWidth":"Q0vrwr","mounted":"ftih66"};

/***/ }),

/***/ 3281:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_3FS3Ev","error":"v6QUMF"};

/***/ }),

/***/ 3282:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _modal = __webpack_require__(136);

var _controls = __webpack_require__(46);

var _forms = __webpack_require__(166);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(17);

var _core = __webpack_require__(60);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _EosBuyAccountModal = __webpack_require__(3283);

var _EosBuyAccountModal2 = _interopRequireDefault(_EosBuyAccountModal);

var _Tooltip = __webpack_require__(104);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var title = (0, _reactIntl.defineMessages)({
  titleEosBuy: {
    id: 'Eos87',
    defaultMessage: 'EOS Register'
  }
});

var EosBuyAccountModal = (_dec = (0, _reactCssModules2.default)(_EosBuyAccountModal2.default), (0, _reactIntl.injectIntl)(_class = _dec(_class = function (_React$Component) {
  (0, _inherits3.default)(EosBuyAccountModal, _React$Component);

  function EosBuyAccountModal() {
    var _ref,
        _this2 = this;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, EosBuyAccountModal);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = EosBuyAccountModal.__proto__ || (0, _getPrototypeOf2.default)(EosBuyAccountModal)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      activePrivateKey: '',
      activePublicKey: '',
      accountName: '',
      price: '',
      error: ''
    }, _this.handleSubmit = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _actions2.default.loader.show(true);

              _context.prev = 1;
              _context.next = 4;
              return _actions2.default.eos.buyAccount();

            case 4:

              _actions2.default.modals.close(_helpers.constants.modals.EosBuyAccount);
              _context.next = 11;
              break;

            case 7:
              _context.prev = 7;
              _context.t0 = _context['catch'](1);

              console.error(_context.t0);
              _this.setState({ error: _context.t0.toString() });

            case 11:

              _actions2.default.loader.hide();

            case 12:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, _this2, [[1, 7]]);
    })), _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(EosBuyAccountModal, [{
    key: 'componentDidMount',
    value: function () {
      var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
        var _getState, _getState$user$eosDat, activePrivateKey, activePublicKey, accountName, price;

        return _regenerator2.default.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _getState = (0, _core.getState)(), _getState$user$eosDat = _getState.user.eosData, activePrivateKey = _getState$user$eosDat.activePrivateKey, activePublicKey = _getState$user$eosDat.activePublicKey, accountName = _getState$user$eosDat.address;
                price = _appConfig2.default.api.eos.buyAccountPriceInBTC;


                this.setState({ activePrivateKey: activePrivateKey, activePublicKey: activePublicKey, accountName: accountName, price: price });

              case 3:
              case 'end':
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function componentDidMount() {
        return _ref3.apply(this, arguments);
      }

      return componentDidMount;
    }()
  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          error = _state.error,
          activePrivateKey = _state.activePrivateKey,
          activePublicKey = _state.activePublicKey,
          accountName = _state.accountName,
          price = _state.price;
      var _props = this.props,
          name = _props.name,
          intl = _props.intl;


      var linked = _swValuelink2.default.all(this, 'accountName', 'activePrivateKey', 'activePublicKey', 'price');
      var activationPayment = localStorage.getItem(_helpers.constants.localStorage.eosActivationPayment);

      return _react2.default.createElement(
        _react.Fragment,
        null,
        _react2.default.createElement(
          _modal.Modal,
          { name: name, title: intl.formatMessage(title.titleEosBuy) },
          _react2.default.createElement(
            'div',
            { styleName: 'margin' },
            _react2.default.createElement(
              _forms.FieldLabel,
              { inRow: true },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosBuyAccountModal72', defaultMessage: 'Account name' }),
              ' ',
              _react2.default.createElement(
                _Tooltip2.default,
                null,
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Eos71', defaultMessage: 'This account will be registered in EOS blockchain' })
              )
            ),
            _react2.default.createElement(_forms.Input, { readOnly: true, valueLink: linked.accountName, styleName: 'input' })
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'margin' },
            _react2.default.createElement(
              _forms.FieldLabel,
              { inRow: true },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosBuyAccountModal78', defaultMessage: 'Private key' }),
              ' ',
              _react2.default.createElement(
                _Tooltip2.default,
                { id: 'EoS90' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Eos75', defaultMessage: 'Private key for active and owner permissions' })
              )
            ),
            _react2.default.createElement(_forms.Input, { readOnly: true, valueLink: linked.activePrivateKey })
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'margin' },
            _react2.default.createElement(
              _forms.FieldLabel,
              { inRow: true },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosBuyAccountModal84', defaultMessage: 'Public key' }),
              ' ',
              _react2.default.createElement(
                _Tooltip2.default,
                { id: 'EoS106' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Eos79', defaultMessage: 'Public key associated with account' })
              )
            ),
            _react2.default.createElement(_forms.Input, { readOnly: true, valueLink: linked.activePublicKey })
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'margin' },
            _react2.default.createElement(
              _forms.FieldLabel,
              { inRow: true },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosBuyAccountModal90', defaultMessage: 'Price (BTC)' }),
              ' ',
              _react2.default.createElement(
                _Tooltip2.default,
                { id: 'EoS113' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Eos83', defaultMessage: 'This amount will be withdrawn from your BTC wallet' })
              )
            ),
            _react2.default.createElement(_forms.Input, { readOnly: true, valueLink: linked.price })
          ),
          error && _react2.default.createElement(
            'div',
            { styleName: 'error' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosBuyAccountModal103', defaultMessage: 'Sorry, error occurred during activation, try again' })
          ),
          activationPayment && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(
              'strong',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosBuyAccountModal109', defaultMessage: 'Payment transaction:' }),
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.bitpay + '/tx/' + activationPayment,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                activationPayment
              )
            )
          ),
          _react2.default.createElement(
            _controls.Button,
            { styleName: 'button', brand: true, fullWidth: true, onClick: this.handleSubmit },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EosBuyAccountModal114', defaultMessage: 'Create account' })
          )
        )
      );
    }
  }]);
  return EosBuyAccountModal;
}(_react2.default.Component)) || _class) || _class);
exports.default = EosBuyAccountModal;

/***/ }),

/***/ 3283:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_164uV-","error":"_1Q4h6h","payment":"_2_RBqp","input":"_5ABsAO","margin":"_1XJq5j"};

/***/ }),

/***/ 3284:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _modal = __webpack_require__(136);

var _controls = __webpack_require__(46);

var _forms = __webpack_require__(166);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(17);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _TelosChangeAccountModal = __webpack_require__(3285);

var _TelosChangeAccountModal2 = _interopRequireDefault(_TelosChangeAccountModal);

var _Tooltip = __webpack_require__(104);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var title = (0, _reactIntl.defineMessages)({
  TelosRegisterTitle: {
    id: 'TELOSLogin',
    defaultMessage: 'TELOS Login'
  }
});
var TelosChangeAccountModal = (_dec = (0, _reactCssModules2.default)(_TelosChangeAccountModal2.default), (0, _reactIntl.injectIntl)(_class = _dec(_class = function (_React$Component) {
  (0, _inherits3.default)(TelosChangeAccountModal, _React$Component);

  function TelosChangeAccountModal() {
    var _ref,
        _this2 = this;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, TelosChangeAccountModal);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = TelosChangeAccountModal.__proto__ || (0, _getPrototypeOf2.default)(TelosChangeAccountModal)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      accountName: '',
      privateKey: '',
      error: ''
    }, _this.handleSubmit = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
      var _this$state, accountName, privateKey;

      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _this$state = _this.state, accountName = _this$state.accountName, privateKey = _this$state.privateKey;


              _actions2.default.loader.show(true);

              _context.prev = 2;
              _context.next = 5;
              return _actions2.default.tlos.register(accountName, privateKey);

            case 5:
              _context.next = 7;
              return _actions2.default.tlos.getBalance();

            case 7:

              _actions2.default.modals.close(_helpers.constants.modals.TelosChangeAccount);
              _context.next = 14;
              break;

            case 10:
              _context.prev = 10;
              _context.t0 = _context['catch'](2);

              console.error(_context.t0);
              _this.setState({ error: _context.t0.toString() });

            case 14:

              _actions2.default.loader.hide();

            case 15:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, _this2, [[2, 10]]);
    })), _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(TelosChangeAccountModal, [{
    key: 'render',
    value: function render() {
      var _state = this.state,
          accountName = _state.accountName,
          privateKey = _state.privateKey,
          error = _state.error;
      var _props = this.props,
          name = _props.name,
          intl = _props.intl;


      var linked = _swValuelink2.default.all(this, 'accountName', 'privateKey');
      var isDisabled = !accountName || !privateKey;

      return _react2.default.createElement(
        _modal.Modal,
        { name: name, title: intl.formatMessage(title.TelosRegisterTitle) },
        _react2.default.createElement(
          _forms.FieldLabel,
          { inRow: true },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'TelosRegister55', defaultMessage: 'Account name' }),
          _react2.default.createElement(
            _Tooltip2.default,
            { id: 'TelOSR92' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'TelosRegister46', defaultMessage: 'Enter TELOS account name ' })
          )
        ),
        _react2.default.createElement(_forms.Input, { valueLink: linked.accountName }),
        _react2.default.createElement(
          _forms.FieldLabel,
          { inRow: true },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'TelosRegister59', defaultMessage: 'Private key' }),
          _react2.default.createElement(
            _Tooltip2.default,
            { id: 'TelOSR70' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'TelosRegister52', defaultMessage: 'Enter your TELOS secret key' })
          )
        ),
        _react2.default.createElement(_forms.Input, { valueLink: linked.privateKey }),
        error && _react2.default.createElement(
          'div',
          { styleName: 'error' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'TelosRegister64', defaultMessage: 'Sorry, error occurred during activation' })
        ),
        _react2.default.createElement(
          _controls.Button,
          { styleName: 'button', brand: true, fullWidth: true, disabled: isDisabled, onClick: this.handleSubmit },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'TelosRegister69', defaultMessage: 'Login' })
        )
      );
    }
  }]);
  return TelosChangeAccountModal;
}(_react2.default.Component)) || _class) || _class);
exports.default = TelosChangeAccountModal;

/***/ }),

/***/ 3285:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"xLbE-U","error":"_3VDjTg"};

/***/ }),

/***/ 3286:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(17);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Approve = __webpack_require__(3287);

var _Approve2 = _interopRequireDefault(_Approve);

var _modal = __webpack_require__(136);

var _controls = __webpack_require__(46);

var _forms = __webpack_require__(166);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var title = (0, _reactIntl.defineMessages)({
  approveTitle: {
    id: 'Approve66',
    defaultMessage: 'Approve token'
  }
});

var Offer = (_dec = (0, _reactCssModules2.default)(_Approve2.default), (0, _reactIntl.injectIntl)(_class = _dec(_class = (_temp2 = _class2 = function (_React$Component) {
  (0, _inherits3.default)(Offer, _React$Component);

  function Offer() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Offer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Offer.__proto__ || (0, _getPrototypeOf2.default)(Offer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      amount: 999999,
      isSubmitted: false
    }, _this.handleApprove = function () {
      var amount = _this.state.amount;
      var _this$props$data = _this.props.data,
          contractAddress = _this$props$data.contractAddress,
          name = _this$props$data.name;

      var message = 'Your approve ' + amount + ' tokens on contract address ' + contractAddress;
      var error = 'Please try again later';

      if (amount <= 0 || !amount) {
        _this.setState({
          isSubmitted: true
        });
        return;
      }

      _actions2.default.token.approve(name, amount).then(function () {
        _actions2.default.loader.hide();
        _actions2.default.notifications.show(_helpers.constants.notifications.Message, { message: message });
        _actions2.default.modals.close(_helpers.constants.modals.Approve);
      }).catch(function () {
        _actions2.default.loader.hide();
        _actions2.default.notifications.show(_helpers.constants.notifications.Message, { error: error });
        _actions2.default.modals.close(_helpers.constants.modals.Approve);
      });
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Offer, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          name = _props.name,
          intl = _props.intl;
      var _state = this.state,
          amount = _state.amount,
          isSubmitted = _state.isSubmitted;

      var linked = _swValuelink2.default.all(this, 'amount');
      var isDisabled = !amount;

      if (isSubmitted) {
        linked.amount.check(function (value) {
          return value <= 0;
        }, 'Amount must be greater than 1 ');
      }

      return _react2.default.createElement(
        _modal.Modal,
        { name: name, title: intl.formatMessage(title.approveTitle) },
        _react2.default.createElement(
          'div',
          { styleName: 'content' },
          _react2.default.createElement(
            'p',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'Approve70',
              defaultMessage: 'Please set the amount limit that the swap smart contract can deduct from your account. We do not recommend setting any limits.' })
          ),
          _react2.default.createElement(
            _forms.FieldLabel,
            { inRow: true },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Approve73', defaultMessage: 'Amount' })
          ),
          _react2.default.createElement(_forms.Input, { valueLink: linked.amount, type: 'number' }),
          _react2.default.createElement(
            _controls.Button,
            { styleName: 'button', brand: true, fullWidth: true, disabled: isDisabled, onClick: this.handleApprove },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Approve80', defaultMessage: 'Approve' })
          )
        )
      );
    }
  }]);
  return Offer;
}(_react2.default.Component), _class2.propTypes = {
  name: _propTypes2.default.string
}, _temp2)) || _class) || _class);
exports.default = Offer;

/***/ }),

/***/ 3287:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_1Jy5W1","content":"_1ZxjST"};

/***/ }),

/***/ 3288:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _bitcoinjsLib = __webpack_require__(151);

var _bitcoinjsLib2 = _interopRequireDefault(_bitcoinjsLib);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _helpers = __webpack_require__(17);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _ImportKeys = __webpack_require__(3289);

var _ImportKeys2 = _interopRequireDefault(_ImportKeys);

var _Group = __webpack_require__(3290);

var _Group2 = _interopRequireDefault(_Group);

var _modal = __webpack_require__(136);

var _forms = __webpack_require__(166);

var _controls = __webpack_require__(46);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var title = (0, _reactIntl.defineMessages)({
  Import: {
    id: 'Import',
    defaultMessage: 'Import keys'
  }
});

var ImportKeys = (_dec = (0, _reactCssModules2.default)(_ImportKeys2.default), (0, _reactIntl.injectIntl)(_class = _dec(_class = function (_Component) {
  (0, _inherits3.default)(ImportKeys, _Component);

  function ImportKeys() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ImportKeys);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ImportKeys.__proto__ || (0, _getPrototypeOf2.default)(ImportKeys)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      ethKey: '',
      btcKey: '',
      bchKey: '',
      ltcKey: '',
      // xlmKey: '',

      isSubmittedEth: false,
      isSubmittedBtc: false,
      isSubmittedBch: false,
      isSubmittedLtc: false,
      // isSubmittedXlm: false,

      isImportedEth: false,
      isImportedBtc: false,
      isImportedBch: false,
      isImportedLtc: false,
      // isImportedXlm: false,

      isDisabled: true,
      keySave: false
    }, _this.handleEthImportKey = function () {
      var ethKey = _this.state.ethKey;


      if (!ethKey || ethKey.length < 40) {
        _this.setState({ isSubmittedEth: true });
        return;
      }

      var withOx = ethKey.substring(0, 2);

      if (withOx !== '0x') {
        ethKey = '0x' + ethKey;
      }

      try {
        _actions2.default.eth.login(ethKey);
        _this.setState({
          isImportedEth: true,
          isDisabled: false
        });
      } catch (e) {
        _this.setState({ isSubmittedEth: true });
      }
    }, _this.handleBtcImportKey = function () {
      var btcKey = _this.state.btcKey;


      try {
        _bitcoinjsLib2.default.ECPair.fromWIF(btcKey, _helpers.btc.network); // eslint-disable-line
      } catch (e) {
        _this.setState({ isSubmittedBtc: true });
        return false;
      }

      if (!btcKey || btcKey.length < 27) {
        _this.setState({ isSubmittedBtc: true });
        return;
      }

      try {
        _actions2.default.btc.login(btcKey);
        _this.setState({
          isImportedBtc: true,
          isDisabled: false
        });
      } catch (e) {
        _this.setState({ isSubmittedBtc: true });
      }
    }, _this.handleBchImportKey = function () {
      var bchKey = _this.state.bchKey;


      try {
        _bitcoinjsLib2.default.ECPair.fromWIF(bchKey, _helpers.bch.network); // eslint-disable-line
      } catch (e) {
        console.error(e);
        _this.setState({ isSubmittedBch: true });
        return false;
      }

      if (!bchKey || bchKey.length < 27) {
        _this.setState({ isSubmittedBch: true });
        return;
      }

      try {
        _actions2.default.bch.login(bchKey);
        _this.setState({
          isImportedBch: true,
          isDisabled: false
        });
      } catch (e) {
        console.error(e);
        _this.setState({ isSubmittedBch: true });
      }
    }, _this.handleLtcImportKey = function () {
      var ltcKey = _this.state.ltcKey;


      try {
        _bitcoinjsLib2.default.ECPair.fromWIF(ltcKey, _helpers.ltc.network); // eslint-disable-line
      } catch (e) {
        _this.setState({ isSubmittedLtc: true });
        return false;
      }

      if (!ltcKey || ltcKey.length < 27) {
        _this.setState({ isSubmittedLtc: true });
        return;
      }

      try {
        _actions2.default.ltc.login(ltcKey);
        _this.setState({
          isImportedLtc: true,
          isDisabled: false
        });
      } catch (e) {
        _this.setState({ isSubmittedLtc: true });
      }
    }, _this.handleImportKeys = function () {
      _this.handleCloseModal();
      localStorage.setItem(_helpers.constants.localStorage.testnetSkipPKCheck, true);
      window.location.reload();
    }, _this.handleCloseModal = function () {
      var _this$props = _this.props,
          name = _this$props.name,
          data = _this$props.data;


      _actions2.default.modals.close(name);
      if (typeof data.onClose === 'function') {
        data.onClose();
      }
    }, _this.checkAnyImport = function () {
      var _this$state = _this.state,
          isSubmittedEth = _this$state.isSubmittedEth,
          isSubmittedBtc = _this$state.isSubmittedBtc,
          isSubmittedBch = _this$state.isSubmittedBch,
          isSubmittedLtc = _this$state.isSubmittedLtc;


      if (isSubmittedEth || isSubmittedBtc || isSubmittedBch || isSubmittedLtc /* || isSubmittedXlm */) {
          _this.setState(function () {
            return { isDisabled: false };
          });
        }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ImportKeys, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var saveKeys = JSON.parse(localStorage.getItem(_helpers.constants.localStorage.privateKeysSaved));

      if (saveKeys) {
        this.setState(function () {
          return { keySave: true };
        });
      }
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.checkAnyImport();
    }

    /*
    handleXlmImportKey = () => {
      const { xlmKey } = this.state
        if (!xlmKey) {
        this.setState({ isSubmittedXlm: true })
        return
      }
        try {
        actions.xlm.login(xlmKey)
        this.setState({
          isImportedXlm: true,
          isDisabled: false,
        })
      } catch (e) {
        this.setState({ isSubmittedXlm: true })
      }
    }
    */

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _state = this.state,
          isSubmittedEth = _state.isSubmittedEth,
          isSubmittedBtc = _state.isSubmittedBtc,
          isSubmittedBch = _state.isSubmittedBch,
          isSubmittedLtc = _state.isSubmittedLtc,
          isImportedEth = _state.isImportedEth,
          isImportedBtc = _state.isImportedBtc,
          isImportedBch = _state.isImportedBch,
          isImportedLtc = _state.isImportedLtc,
          isDisabled = _state.isDisabled,
          keySave = _state.keySave;
      var _props = this.props,
          intl = _props.intl,
          data = _props.data;


      var linked = _swValuelink2.default.all(this, 'ethKey', 'btcKey', 'bchKey', 'ltcKey' /* , 'xlmKey' */);

      if (isSubmittedEth) {
        linked.ethKey.check(function (value) {
          return value !== '';
        }, _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'importkeys172', defaultMessage: 'Please enter ETH private key' }));
        linked.ethKey.check(function (value) {
          return value.length > 40;
        }, _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'importkeys173', defaultMessage: 'Please valid ETH private key' }));
      }

      if (isSubmittedBtc) {
        linked.btcKey.check(function (value) {
          return value !== '';
        }, _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'importkeys118', defaultMessage: 'Please enter BTC private key' }));
        linked.btcKey.check(function (value) {
          return value.length > 27;
        }, _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'importkeys119', defaultMessage: 'Please valid BTC private key' }));
        linked.btcKey.check(function () {
          return _this2.handleBtcImportKey();
        }, _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'importkeys190', defaultMessage: 'Something went wrong. Check your private key, network of this address and etc.' }));
      }

      if (isSubmittedBch) {
        linked.bchKey.check(function (value) {
          return value !== '';
        }, _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'importkeys118', defaultMessage: 'Please enter BCH private key' }));
        linked.bchKey.check(function (value) {
          return value.length > 27;
        }, _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'importkeys119', defaultMessage: 'Please valid BCH private key' }));
        linked.bchKey.check(function () {
          return _this2.handleBchImportKey();
        }, _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'importkeys190', defaultMessage: 'Something went wrong. Check your private key, network of this address and etc.' }));
      }

      if (isSubmittedLtc) {
        linked.ltcKey.check(function (value) {
          return value !== '';
        }, _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'importkeys200', defaultMessage: 'Please enter LTC private key' }));
        linked.ltcKey.check(function (value) {
          return value.length > 27;
        }, _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'importkeys201', defaultMessage: 'Please valid LTC private key' }));
        linked.ltcKey.check(function () {
          return _this2.handleLtcImportKey();
        }, _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'importkeys190', defaultMessage: 'Something went wrong. Check your private key, network of this address and etc.' }));
      }
      /*
      if (isSubmittedXlm) {
        linked.btcKey.check((value) => value !== '', <FormattedMessage id="importkeys187" defaultMessage="Please enter XLM private key" />)
      }
      */
      return _react2.default.createElement(
        _modal.Modal,
        { name: this.props.name, title: intl.formatMessage(title.Import), data: data },
        _react2.default.createElement(
          'div',
          { styleName: 'modal' },
          _react2.default.createElement(
            'p',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ImportKeys107', defaultMessage: 'This procedure will rewrite your private key. If you are not sure about it, we recommend to press cancel' })
          ),
          _react2.default.createElement(
            _forms.FieldLabel,
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ImportKeys110', defaultMessage: 'Please enter ETH private key' })
          ),
          _react2.default.createElement(_Group2.default, {
            inputLink: linked.ethKey,
            placeholder: 'Key',
            disabled: isImportedEth,
            onClick: this.handleEthImportKey
          }),
          _react2.default.createElement(
            _forms.FieldLabel,
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ImportKeys120', defaultMessage: 'Please enter BTC private key in WIF format' })
          ),
          _react2.default.createElement(_Group2.default, {
            inputLink: linked.btcKey,
            placeholder: 'Key in WIF format',
            disabled: isImportedBtc,
            onClick: this.handleBtcImportKey
          }),
          _react2.default.createElement(
            _forms.FieldLabel,
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ImportKeys280', defaultMessage: 'Please enter BCH private key in WIF format' })
          ),
          _react2.default.createElement(_Group2.default, {
            inputLink: linked.bchKey,
            placeholder: 'Key in WIF format',
            disabled: isImportedBch,
            onClick: this.handleBchImportKey
          }),
          _react2.default.createElement(
            _reactIntl.FormattedMessage,
            { id: 'ImportKeys205', defaultMessage: 'Please enter LTC private key in WIF format' },
            function (message) {
              return _react2.default.createElement(
                _forms.FieldLabel,
                null,
                message
              );
            }
          ),
          _react2.default.createElement(_Group2.default, {
            inputLink: linked.ltcKey,
            placeholder: 'Key in WIF format',
            disabled: isImportedLtc,
            onClick: this.handleLtcImportKey
          }),
          !keySave && _react2.default.createElement(
            'span',
            { styleName: 'error' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'errorImportKeys', defaultMessage: ' Please save your private keys' })
          ),
          _react2.default.createElement(
            _controls.Button,
            { brand: true, disabled: isDisabled, styleName: 'button', onClick: this.handleImportKeys },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ImportKeys130', defaultMessage: 'Confirm' })
          ),
          _react2.default.createElement(
            _controls.Button,
            { gray: true, styleName: 'button', onClick: this.handleCloseModal },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ImportKeys133', defaultMessage: 'Cancel' })
          )
        )
      );
    }
  }]);
  return ImportKeys;
}(_react.Component)) || _class) || _class);
exports.default = ImportKeys;

/***/ }),

/***/ 3289:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"modal":"_22EyQZ","button":"_17aTB3","error":"_3G8Mhg"};

/***/ }),

/***/ 3290:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Group = __webpack_require__(3291);

var _Group2 = _interopRequireDefault(_Group);

var _forms = __webpack_require__(166);

var _controls = __webpack_require__(46);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Group = function Group(_ref) {
  var inputLink = _ref.inputLink,
      placeholder = _ref.placeholder,
      onClick = _ref.onClick,
      disabled = _ref.disabled;
  return _react2.default.createElement(
    'div',
    { styleName: 'group' },
    _react2.default.createElement(_forms.Input, { valueLink: inputLink, readOnly: disabled, placeholder: placeholder, styleName: 'input', pattern: '0-9a-zA-Z' }),
    _react2.default.createElement(
      _controls.Button,
      { brand: true, onClick: onClick, disabled: disabled, styleName: 'button' },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Group14', defaultMessage: 'Import' })
    )
  );
};

exports.default = (0, _reactCssModules2.default)(Group, _Group2.default);

/***/ }),

/***/ 3291:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"group":"R9YLga","input":"A0IUSL","button":"w3hyct"};

/***/ }),

/***/ 3292:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _dec, _dec2, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _redaction = __webpack_require__(37);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _ShowMoreCoins = __webpack_require__(3293);

var _ShowMoreCoins2 = _interopRequireDefault(_ShowMoreCoins);

var _modal = __webpack_require__(136);

var _forms = __webpack_require__(166);

var _controls = __webpack_require__(46);

var _Table = __webpack_require__(160);

var _Table2 = _interopRequireDefault(_Table);

var _SubTitle = __webpack_require__(159);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

var _Row = __webpack_require__(3294);

var _Row2 = _interopRequireDefault(_Row);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var titles = [_react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Coin', defaultMessage: 'Coin' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Name', defaultMessage: 'Name' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Actions', defaultMessage: 'Actions' })];

var title2 = [_react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ShMoreCoins', defaultMessage: 'Show More Coins' })];

var ShowMoreCoins = (_dec = (0, _redaction.connect)(function (_ref) {
  var hiddenCoinsList = _ref.core.hiddenCoinsList,
      _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      ltcData = _ref$user.ltcData,
      telosData = _ref$user.telosData,
      bchData = _ref$user.bchData,
      tokensData = _ref$user.tokensData,
      eosData = _ref$user.eosData,
      nimData = _ref$user.nimData,
      currencies = _ref.currencies.items;
  return {
    tokens: (0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    }),
    items: [ethData, btcData, eosData, /* xlmData, */bchData, ltcData, telosData /* eosData, usdtOmniData, nimData */],
    currencies: currencies,
    hiddenCoinsList: hiddenCoinsList
  };
}), _dec2 = (0, _reactCssModules2.default)(_ShowMoreCoins2.default, { allowMultiple: true }), _dec(_class = _dec2(_class = function (_Component) {
  (0, _inherits3.default)(ShowMoreCoins, _Component);

  function ShowMoreCoins() {
    (0, _classCallCheck3.default)(this, ShowMoreCoins);
    return (0, _possibleConstructorReturn3.default)(this, (ShowMoreCoins.__proto__ || (0, _getPrototypeOf2.default)(ShowMoreCoins)).apply(this, arguments));
  }

  (0, _createClass3.default)(ShowMoreCoins, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          name = _props.name,
          items = _props.items,
          tokens = _props.tokens,
          currencies = _props.currencies,
          hiddenCoinsList = _props.hiddenCoinsList;


      return _react2.default.createElement(
        _modal.Modal,
        { name: name, title: title2, shouldCenterVertically: false },
        _react2.default.createElement(
          'div',
          { styleName: 'modal' },
          _react2.default.createElement(
            'div',
            { styleName: 'modal_column' },
            _react2.default.createElement(
              _SubTitle2.default,
              { styleName: 'modal_column-title' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ShowMoreCoins36', defaultMessage: 'Coins in Wallet' })
            ),
            _react2.default.createElement(_Table2.default, {
              className: _ShowMoreCoins2.default.wallet,
              titles: titles,
              rows: [].concat((0, _toConsumableArray3.default)(items), (0, _toConsumableArray3.default)(tokens)).filter(function (coin) {
                return !hiddenCoinsList.includes(coin.currency);
              }),
              rowRender: function rowRender(row, index) {
                return _react2.default.createElement(_Row2.default, (0, _extends3.default)({ key: index }, row, { isHidden: false, currencies: currencies }));
              }
            })
          ),
          hiddenCoinsList.length !== 0 && _react2.default.createElement(
            'div',
            { styleName: 'modal_column' },
            _react2.default.createElement(
              _SubTitle2.default,
              { styleName: 'modal_column-title' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ShowMoreCoins48', defaultMessage: 'Other coins' })
            ),
            _react2.default.createElement(_Table2.default, {
              className: _ShowMoreCoins2.default.wallet,
              titles: titles,
              rows: [].concat((0, _toConsumableArray3.default)(items), (0, _toConsumableArray3.default)(tokens)).filter(function (coin) {
                return hiddenCoinsList.includes(coin.currency);
              }),
              rowRender: function rowRender(row, index) {
                return _react2.default.createElement(_Row2.default, (0, _extends3.default)({ key: index }, row, { isHidden: true, currencies: currencies }));
              }
            })
          )
        )
      );
    }
  }]);
  return ShowMoreCoins;
}(_react.Component)) || _class) || _class);
exports.default = ShowMoreCoins;

/***/ }),

/***/ 3293:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"modal":"_305ZqV","modal_column":"_3Va4ov","modal_column-title":"_1R2NUl","button":"_134u_U"};

/***/ }),

/***/ 3294:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Row = __webpack_require__(3295);

var _Row2 = _interopRequireDefault(_Row);

var _Coin = __webpack_require__(324);

var _Coin2 = _interopRequireDefault(_Coin);

var _reactRouter = __webpack_require__(110);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Row = (_dec = (0, _reactCssModules2.default)(_Row2.default), (0, _reactRouter.withRouter)(_class = _dec(_class = function (_Component) {
  (0, _inherits3.default)(Row, _Component);

  function Row() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Row);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Row.__proto__ || (0, _getPrototypeOf2.default)(Row)).call.apply(_ref, [this].concat(args))), _this), _this.isHidenCoin = function () {
      _actions2.default.core.markCoinAsHidden(_this.props.currency);
    }, _this.isVisibleCoin = function () {
      _actions2.default.core.markCoinAsVisible(_this.props.currency);
    }, _this.getCurrencyFullTitle = function (currencyTitle, currencies) {
      var match = currencies.find(function (el) {
        return el.title === currencyTitle;
      });
      return match ? match.fullTitle : currencyTitle;
    }, _this.hidenCoin = function (hiden) {
      return _react2.default.createElement(
        'button',
        {
          onClick: hiden ? _this.isVisibleCoin : _this.isHidenCoin,
          styleName: 'button'
        },
        _react2.default.createElement('i', { className: hiden ? 'fas fa-plus' : 'fas fa-minus' })
      );
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Row, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          isHidden = _props.isHidden,
          currency = _props.currency;


      return _react2.default.createElement(
        'tr',
        null,
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(_Coin2.default, { name: currency, size: 40 })
        ),
        _react2.default.createElement(
          'td',
          null,
          currency
        ),
        _react2.default.createElement(
          'td',
          null,
          this.hidenCoin(isHidden)
        )
      );
    }
  }]);
  return Row;
}(_react.Component)) || _class) || _class);
exports.default = Row;

/***/ }),

/***/ 3295:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_1nYYQm"};

/***/ }),

/***/ 3296:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactRouterDom = __webpack_require__(51);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(17);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _EthChecker = __webpack_require__(3297);

var _EthChecker2 = _interopRequireDefault(_EthChecker);

var _modal = __webpack_require__(136);

var _controls = __webpack_require__(46);

var _reactIntl = __webpack_require__(8);

var _locale = __webpack_require__(50);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var title = (0, _reactIntl.defineMessages)({
  Approve: {
    id: 'Approve',
    defaultMessage: 'Approve token!'
  }
});

var EthChecker = (_dec = (0, _reactCssModules2.default)(_EthChecker2.default), (0, _reactIntl.injectIntl)(_class = _dec(_class = function (_Component) {
  (0, _inherits3.default)(EthChecker, _Component);

  function EthChecker() {
    (0, _classCallCheck3.default)(this, EthChecker);
    return (0, _possibleConstructorReturn3.default)(this, (EthChecker.__proto__ || (0, _getPrototypeOf2.default)(EthChecker)).apply(this, arguments));
  }

  (0, _createClass3.default)(EthChecker, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          name = _props.name,
          locale = _props.intl.locale,
          intl = _props.intl;


      return _react2.default.createElement(
        _modal.Modal,
        { name: name, title: intl.formatMessage(title.Approve) },
        _react2.default.createElement(
          'div',
          { styleName: 'content' },
          _react2.default.createElement(
            'p',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthChecker19', defaultMessage: 'This token works on Ethereum blockchain. To swap this token you must have at least 0.02 ETH on your balance' })
          ),
          _react2.default.createElement(
            _reactRouterDom.Link,
            { to: (0, _locale.localisedUrl)(locale, _helpers.links.home) },
            _react2.default.createElement(
              _controls.Button,
              { styleName: 'button', brand: true, fullWidth: true, onClick: function onClick() {
                  return _actions2.default.modals.close(name);
                } },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'EthChecker23', defaultMessage: 'Go wallet' })
            )
          )
        )
      );
    }
  }]);
  return EthChecker;
}(_react.Component)) || _class) || _class);
exports.default = EthChecker;

/***/ }),

/***/ 3297:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_1RYp2J","content":"_2IpCXA"};

/***/ }),

/***/ 3298:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Keychain = __webpack_require__(3299);

var _Keychain2 = _interopRequireDefault(_Keychain);

var _modal = __webpack_require__(136);

var _controls = __webpack_require__(46);

var _InlineLoader = __webpack_require__(115);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _reactIntl = __webpack_require__(8);

var _keychain = __webpack_require__(300);

var keychainjs = _interopRequireWildcard(_keychain);

var _core = __webpack_require__(60);

var _helpers = __webpack_require__(17);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var title = (0, _reactIntl.defineMessages)({
  Keychain: {
    id: 'Keychain',
    defaultMessage: 'KeyChain Activation'
  }
});

var Keychain = (_dec = (0, _reactCssModules2.default)(_Keychain2.default), (0, _reactIntl.injectIntl)(_class = _dec(_class = function (_Component) {
  (0, _inherits3.default)(Keychain, _Component);

  function Keychain(props) {
    (0, _classCallCheck3.default)(this, Keychain);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Keychain.__proto__ || (0, _getPrototypeOf2.default)(Keychain)).call(this, props));

    _this.state = {
      otherError: null,
      keychainInstalled: true,
      downloadUrl: '',
      tagName: '',
      keychainVersion: '',
      isLoading: false,
      positiveBalanceError: false,
      keychainIsLoadingLong: false
    };
    return _this;
  }

  (0, _createClass3.default)(Keychain, [{
    key: 'getBalance',
    value: function getBalance() {
      var currency = this.props.data.currency;

      if (currency === 'ETH') {
        var _address = (0, _core.getState)().user.ethData.address;

        return _helpers.web3.eth.getBalance(_address).then(function (result) {
          return _helpers.web3.utils.fromWei(result);
        });
      }
      var address = (0, _core.getState)().user.btcData.address;

      return _helpers.request.get(_helpers.api.getApiServer('bitpay') + '/addr/' + address).then(function (_ref) {
        var balance = _ref.balance;
        return balance;
      });
    }
  }, {
    key: 'componentWillMount',
    value: function () {
      var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
        var _this2 = this;

        var keychainInstalled, fetchTagResult, fetchTagResultJson, fetchReleaseResult, fetchReleaseResultJson, balance;
        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                this.setState({ isLoading: true });
                keychainInstalled = true;
                _context.prev = 2;
                _context.next = 5;
                return keychainjs.Keychain.create();

              case 5:
                _context.next = 10;
                break;

              case 7:
                _context.prev = 7;
                _context.t0 = _context['catch'](2);

                keychainInstalled = false;

              case 10:
                this.setState({ keychainInstalled: keychainInstalled });

                if (keychainInstalled) {
                  _context.next = 32;
                  break;
                }

                _context.prev = 12;
                _context.next = 15;
                return fetch('https://api.github.com/repos/arrayio/array-io-keychain/tags');

              case 15:
                fetchTagResult = _context.sent;
                _context.next = 18;
                return fetchTagResult.json();

              case 18:
                fetchTagResultJson = _context.sent;

                this.setState({ tagName: fetchTagResultJson[0].name });
                _context.next = 22;
                return fetch('https://api.github.com/repos/arrayio/array-io-keychain/releases/tags/' + this.state.tagName);

              case 22:
                fetchReleaseResult = _context.sent;
                _context.next = 25;
                return fetchReleaseResult.json();

              case 25:
                fetchReleaseResultJson = _context.sent;

                this.setState({ downloadUrl: fetchReleaseResultJson.assets[0].browser_download_url });
                _context.next = 32;
                break;

              case 29:
                _context.prev = 29;
                _context.t1 = _context['catch'](12);

                this.setState({ otherError: _context.t1 });

              case 32:
                _context.next = 34;
                return this.getBalance();

              case 34:
                balance = _context.sent;

                this.setState({ positiveBalanceError: balance > 0 });
                setTimeout(function () {
                  return _this2.setState({ keychainIsLoadingLong: true });
                }, 2000);
                this.setState({ isLoading: false });

              case 38:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, this, [[2, 7], [12, 29]]);
      }));

      function componentWillMount() {
        return _ref2.apply(this, arguments);
      }

      return componentWillMount;
    }()
  }, {
    key: 'deactivate',
    value: function deactivate(currency) {
      _actions2.default.keychain.deactivate(currency);
      if (currency === 'ETH') {
        _actions2.default.eth.login();
        return _actions2.default.eth.getBalance();
      }
      _actions2.default.btc.login();
      return _actions2.default.btc.getBalance();
    }
  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var _props = this.props,
          name = _props.name,
          intl = _props.intl,
          data = _props.data;
      var _state = this.state,
          keychainInstalled = _state.keychainInstalled,
          downloadUrl = _state.downloadUrl,
          positiveBalanceError = _state.positiveBalanceError,
          isLoading = _state.isLoading,
          keychainIsLoadingLong = _state.keychainIsLoadingLong;
      var otherError = this.state.otherError;

      var keychainActivated = void 0;
      if (data.currency === 'ETH') {
        keychainActivated = !!localStorage.getItem(_helpers.constants.privateKeyNames.ethKeychainPublicKey);
      } else if (data.currency === 'BTC') {
        keychainActivated = !!localStorage.getItem(_helpers.constants.privateKeyNames.btcKeychainPublicKey);
      } else {
        otherError = { message: 'Unknown currency "' + data.currency + '" passed. Supported currencies are BTC or ETH' };
      }

      if (otherError) {
        return _react2.default.createElement(
          'div',
          null,
          'Error: ' + otherError.message
        );
      }
      if (isLoading) {
        return _react2.default.createElement(
          _modal.Modal,
          { name: name, title: intl.formatMessage(title.Keychain) },
          keychainIsLoadingLong && _react2.default.createElement(
            'div',
            { styleName: 'content' },
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_InlineLoader2.default, null)
            ),
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Keychain114', defaultMessage: 'KeyChain is loading. Please wait.' }),
            _react2.default.createElement(
              _controls.Button,
              { styleName: 'button', brand: true, fullWidth: true, onClick: function onClick() {
                  _actions2.default.modals.close(name);
                } },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Keychain116', defaultMessage: 'Back' })
            )
          )
        );
      }

      return _react2.default.createElement(
        _modal.Modal,
        { name: name, title: intl.formatMessage(title.Keychain) },
        _react2.default.createElement(
          'div',
          { styleName: 'content' },
          _react2.default.createElement(
            'div',
            null,
            'Currency: ' + data.currency
          ),
          !keychainInstalled && !keychainActivated && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Keychain130', defaultMessage: 'You need to install KeyChain to proceed' }),
            _react2.default.createElement(
              'a',
              { href: downloadUrl },
              _react2.default.createElement(
                _controls.Button,
                { styleName: 'button', brand: true, fullWidth: true, onClick: function onClick() {
                    return _actions2.default.modals.close(name);
                  } },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Keychain133', defaultMessage: 'Download' })
              )
            )
          ),
          keychainInstalled && !keychainActivated && _react2.default.createElement(
            'div',
            null,
            positiveBalanceError ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Keychain141', defaultMessage: 'Positive balance error' }) : _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Keychain144', defaultMessage: 'Would you like to protect your keys with KeyChain? Note that your address will be changed' }),
              _react2.default.createElement(
                _controls.Button,
                {
                  styleName: 'button',
                  brand: true,
                  fullWidth: true,
                  onClick: function onClick() {
                    if (data.currency === 'ETH') {
                      _actions2.default.eth.loginWithKeychain().then(function () {
                        _actions2.default.modals.close(name);
                      });
                    } else {
                      _actions2.default.btc.loginWithKeychain().then(function () {
                        _actions2.default.modals.close(name);
                      });
                    }
                  } },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Keychain157', defaultMessage: 'Confirm' })
              )
            )
          ),
          keychainInstalled && keychainActivated && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Keychain1165', defaultMessage: 'KeyChain is activated. If you wish to deactivate KeyChain, note that your key will be replaced with a new one.' }),
            _react2.default.createElement(
              _controls.Button,
              { styleName: 'button', brand: true, fullWidth: true, onClick: function onClick() {
                  _this3.deactivate(data.currency).then(function () {
                    return _actions2.default.modals.close(name);
                  });
                } },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Keychain167', defaultMessage: 'Deactivate' })
            )
          ),
          !keychainInstalled && keychainActivated && _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Keychain173', defaultMessage: 'KeyChain is not installed but activated' }),
            _react2.default.createElement(
              _controls.Button,
              { styleName: 'button', brand: true, fullWidth: true, onClick: function onClick() {
                  _this3.deactivate(data.currency).then(function () {
                    return _actions2.default.modals.close(name);
                  });
                } },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Keychain175', defaultMessage: 'Deactivate' })
            ),
            _react2.default.createElement(
              'a',
              { href: downloadUrl },
              _react2.default.createElement(
                _controls.Button,
                { styleName: 'button', brand: true, fullWidth: true, onClick: function onClick() {
                    return _actions2.default.modals.close(name);
                  } },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Keychain179', defaultMessage: 'Download' })
              )
            )
          ),
          _react2.default.createElement(
            _controls.Button,
            { styleName: 'button', brand: true, fullWidth: true, onClick: function onClick() {
                _actions2.default.modals.close(name);
              } },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Keychain185', defaultMessage: 'Back' })
          )
        )
      );
    }
  }]);
  return Keychain;
}(_react.Component)) || _class) || _class);
exports.default = Keychain;

/***/ }),

/***/ 3299:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_18yCpv","content":"_2w_2uX"};

/***/ }),

/***/ 3300:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCopyToClipboard = __webpack_require__(130);

var _reactCopyToClipboard2 = _interopRequireDefault(_reactCopyToClipboard);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _ReceiveModal = __webpack_require__(3301);

var _ReceiveModal2 = _interopRequireDefault(_ReceiveModal);

var _QR = __webpack_require__(895);

var _QR2 = _interopRequireDefault(_QR);

var _modal = __webpack_require__(136);

var _controls = __webpack_require__(46);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var title = (0, _reactIntl.defineMessages)({
  Receive: {
    id: 'Receive',
    defaultMessage: 'Receive'
  }
});

var ReceiveModal = (_dec = (0, _reactCssModules2.default)(_ReceiveModal2.default), (0, _reactIntl.injectIntl)(_class = _dec(_class = function (_React$Component) {
  (0, _inherits3.default)(ReceiveModal, _React$Component);

  function ReceiveModal(props) {
    (0, _classCallCheck3.default)(this, ReceiveModal);

    var _this = (0, _possibleConstructorReturn3.default)(this, (ReceiveModal.__proto__ || (0, _getPrototypeOf2.default)(ReceiveModal)).call(this, props));

    _this.handleCopyAddress = function () {
      _this.setState({
        isAddressCopied: true
      }, function () {
        setTimeout(function () {
          _this.setState({
            isAddressCopied: false
          });
        }, 500);
      });
    };

    _this.state = {
      isAddressCopied: false
    };
    return _this;
  }

  (0, _createClass3.default)(ReceiveModal, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          name = _props.name,
          intl = _props.intl,
          _props$data = _props.data,
          currency = _props$data.currency,
          address = _props$data.address,
          isAddressCopied = this.state.isAddressCopied;


      return _react2.default.createElement(
        _modal.Modal,
        { name: name, title: intl.formatMessage(title.Receive) },
        _react2.default.createElement(
          'div',
          { styleName: 'content' },
          _react2.default.createElement(
            'p',
            { style: { fontSize: 25 } },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ReceiveModal50', defaultMessage: 'This is your {currency} address', values: { currency: '' + currency } })
          ),
          _react2.default.createElement(
            _reactCopyToClipboard2.default,
            {
              text: address,
              onCopy: this.handleCopyAddress
            },
            _react2.default.createElement(
              'div',
              { styleName: 'qr' },
              _react2.default.createElement(_QR2.default, {
                network: currency,
                address: address,
                size: 500
              }),
              _react2.default.createElement(
                'p',
                null,
                address
              ),
              _react2.default.createElement(
                _controls.Button,
                {
                  styleName: 'button',
                  brand: true,
                  onClick: function onClick() {},
                  disabled: isAddressCopied,
                  fullWidth: true
                },
                isAddressCopied ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'recieved65', defaultMessage: 'Address copied to clipboard' }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'recieved67', defaultMessage: 'Copy to clipboard' })
              )
            )
          )
        )
      );
    }
  }]);
  return ReceiveModal;
}(_react2.default.Component)) || _class) || _class);
exports.default = ReceiveModal;

/***/ }),

/***/ 3301:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"button":"_1K3joU","content":"_3sgTOn","qr":"_20d21b"};

/***/ }),

/***/ 3302:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(37);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _DownloadModal = __webpack_require__(3303);

var _DownloadModal2 = _interopRequireDefault(_DownloadModal);

var _Modal = __webpack_require__(197);

var _Modal2 = _interopRequireDefault(_Modal);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _reactCopyToClipboard = __webpack_require__(130);

var _reactCopyToClipboard2 = _interopRequireDefault(_reactCopyToClipboard);

var _reactIntl = __webpack_require__(8);

var _reactRouter = __webpack_require__(110);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var title = (0, _reactIntl.defineMessages)({
  downloadModal: {
    id: 'down97',
    defaultMessage: 'Your private keys!'
  }
});

var DownloadModal = (_dec = (0, _redaction.connect)(function (_ref) {
  var _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      bchData = _ref$user.bchData,
      tokensData = _ref$user.tokensData,
      eosData = _ref$user.eosData,
      telosData = _ref$user.telosData,
      nimData = _ref$user.nimData,
      ltcData = _ref$user.ltcData;
  return {
    items: [ethData, btcData, eosData, telosData, bchData, ltcData /* usdtOmniData, nimData */]
  };
}), _dec2 = (0, _reactCssModules2.default)(_DownloadModal2.default), (0, _reactIntl.injectIntl)(_class = (0, _reactRouter.withRouter)(_class = _dec(_class = _dec2(_class = function (_React$Component) {
  (0, _inherits3.default)(DownloadModal, _React$Component);

  function DownloadModal() {
    var _ref2;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, DownloadModal);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = DownloadModal.__proto__ || (0, _getPrototypeOf2.default)(DownloadModal)).call.apply(_ref2, [this].concat(args))), _this), _this.state = {
      isTextCopied: false,
      Ru: false
    }, _this.handleCopyText = function () {
      _this.setState({
        isTextCopied: true
      }, function () {
        setTimeout(function () {
          _this.setState({
            isTextCopied: false
          });
        }, 15 * 1000);
      });
    }, _this.handleDownloadTxt = function () {
      _actions2.default.user.downloadPrivateKeys();
    }, _this.checkLang = function () {
      var locale = _this.props.match.params.locale;

      if (locale === 'ru') {
        _this.setState({
          Ru: true
        });
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(DownloadModal, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.checkLang();
    }
  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          isTextCopied = _state.isTextCopied,
          Ru = _state.Ru;
      var _props = this.props,
          items = _props.items,
          name = _props.name,
          locale = _props.match.params.locale,
          intl = _props.intl;


      var textToCopy = _actions2.default.user.getText();

      var Account = function Account() {
        return items.map(function (item) {
          return _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'a',
              null,
              item.fullName,
              ' ',
              '' + item.currency === 'EOS' || '' + item.currency === 'TLOS' ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'downloadModal73', defaultMessage: 'Account name:' }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'downloadModal75', defaultMessage: 'Address:' })
            ),
            _react2.default.createElement(
              'p',
              null,
              item.address
            ),
            _react2.default.createElement(
              'a',
              null,
              item.fullName,
              ' ',
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'downloadModal782', defaultMessage: 'Private key' }),
              ' '
            ),
            _react2.default.createElement(
              'p',
              null,
              '' + item.currency === 'EOS' || '' + item.currency === 'TLOS' ? item.activePrivateKey : item.privateKey
            )
          );
        });
      };

      return _react2.default.createElement(
        _Modal2.default,
        { name: name, title: intl.formatMessage(title.downloadModal) },
        _react2.default.createElement(
          'div',
          { styleName: 'subTitle' },
          _react2.default.createElement(_reactIntl.FormattedMessage, {
            id: 'down57',
            defaultMessage: 'It seems like you\'re trying to save your private keys. Just copy this keys and paste into notepad textarea. Also you can download it as a .txt file.'
          })
        ),
        _react2.default.createElement(
          'div',
          { styleName: 'buttonsContainer' },
          _react2.default.createElement(
            _reactCopyToClipboard2.default,
            { text: textToCopy, onCopy: this.handleCopyText },
            _react2.default.createElement(
              _Button2.default,
              { styleName: 'button', brand: true, disabled: isTextCopied },
              isTextCopied ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'down64', defaultMessage: 'Address copied to clipboard' }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'down65', defaultMessage: 'Copy to clipboard' })
            )
          ),
          !/iPad|iPhone|iPod/.test(navigator.userAgent) && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              _Button2.default,
              { onClick: this.handleDownloadTxt, styleName: 'button', brand: true },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'downFile2', defaultMessage: 'Download txt file' })
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { styleName: 'indent' },
          _react2.default.createElement(Account, null)
        )
      );
    }
  }]);
  return DownloadModal;
}(_react2.default.Component)) || _class) || _class) || _class) || _class);
exports.default = DownloadModal;

/***/ }),

/***/ 3303:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"subTitle":"_1QfbjW","indent":"_2ViuiN","button":"_2OdK6N","buttonsContainer":"WFhip7"};

/***/ }),

/***/ 3304:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(37);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _locale = __webpack_require__(50);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _DeclineOrdersModal = __webpack_require__(3305);

var _DeclineOrdersModal2 = _interopRequireDefault(_DeclineOrdersModal);

var _Modal = __webpack_require__(197);

var _Modal2 = _interopRequireDefault(_Modal);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _reactCopyToClipboard = __webpack_require__(130);

var _reactCopyToClipboard2 = _interopRequireDefault(_reactCopyToClipboard);

var _reactIntl = __webpack_require__(8);

var _reactRouter = __webpack_require__(110);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var title = (0, _reactIntl.defineMessages)({
  downloadModal: {
    id: 'decline21',
    defaultMessage: 'Declined orders!'
  }
});

var DeclineOrdersModal = (_dec = (0, _reactCssModules2.default)(_DeclineOrdersModal2.default), (0, _reactIntl.injectIntl)(_class = (0, _reactRouter.withRouter)(_class = _dec(_class = function (_Component) {
  (0, _inherits3.default)(DeclineOrdersModal, _Component);

  function DeclineOrdersModal() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, DeclineOrdersModal);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = DeclineOrdersModal.__proto__ || (0, _getPrototypeOf2.default)(DeclineOrdersModal)).call.apply(_ref, [this].concat(args))), _this), _this.goToDecline = function () {
      var _this$props = _this.props,
          _this$props$data$decl = _this$props.data.declineSwap,
          sellCurrency = _this$props$data$decl.sellCurrency,
          buyCurrency = _this$props$data$decl.buyCurrency,
          id = _this$props$data$decl.id,
          history = _this$props.history; /* eslint-disable-line */

      history.push((0, _locale.localisedUrl)('swaps/' + sellCurrency + '-' + buyCurrency + '/' + id));
      _actions2.default.modals.close('DeclineOrdersModal');
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(DeclineOrdersModal, [{
    key: 'render',
    value: function render() {
      var intl = this.props.intl;


      return _react2.default.createElement(
        _Modal2.default,
        { name: 'DeclineOrdersModal', title: intl.formatMessage(title.downloadModal) },
        _react2.default.createElement(
          'div',
          { styleName: 'subTitle' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'decline43', defaultMessage: 'Sorry, but you have cannot start until you complete the swaps started earlier ' })
        ),
        _react2.default.createElement(
          'h2',
          { /* eslint-disable-line */styleName: 'link', onClick: this.goToDecline },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'decline49', defaultMessage: 'See your incomplete swap' })
        )
      );
    }
  }]);
  return DeclineOrdersModal;
}(_react.Component)) || _class) || _class) || _class);
exports.default = DeclineOrdersModal;

/***/ }),

/***/ 3305:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"subTitle":"_17FqTC","link":"_1m9EBt"};

/***/ }),

/***/ 3306:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _redaction = __webpack_require__(37);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _IncompletedSwaps = __webpack_require__(3307);

var _IncompletedSwaps2 = _interopRequireDefault(_IncompletedSwaps);

var _modal = __webpack_require__(136);

var _forms = __webpack_require__(166);

var _controls = __webpack_require__(46);

var _Table = __webpack_require__(160);

var _Table2 = _interopRequireDefault(_Table);

var _SubTitle = __webpack_require__(159);

var _SubTitle2 = _interopRequireDefault(_SubTitle);

var _reactIntl = __webpack_require__(8);

var _SwapsHistory = __webpack_require__(561);

var _SwapsHistory2 = _interopRequireDefault(_SwapsHistory);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var title = [_react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Incompleted21', defaultMessage: 'Incompleted Swaps' })];

var IncompletedSwaps = (_dec = (0, _redaction.connect)(function (_ref) {
  var rememberedOrders = _ref.rememberedOrders,
      swapHistory = _ref.history.swapHistory;
  return {
    decline: rememberedOrders.savedOrders,
    swapHistory: swapHistory
  };
}), _dec2 = (0, _reactCssModules2.default)(_IncompletedSwaps2.default, { allowMultiple: true }), _dec(_class = _dec2(_class = function (_Component) {
  (0, _inherits3.default)(IncompletedSwaps, _Component);

  function IncompletedSwaps() {
    (0, _classCallCheck3.default)(this, IncompletedSwaps);
    return (0, _possibleConstructorReturn3.default)(this, (IncompletedSwaps.__proto__ || (0, _getPrototypeOf2.default)(IncompletedSwaps)).apply(this, arguments));
  }

  (0, _createClass3.default)(IncompletedSwaps, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          decline = _props.decline,
          swapHistory = _props.swapHistory;


      return _react2.default.createElement(
        _modal.Modal,
        { name: 'IncompletedSwaps', title: title, shouldCenterVertically: false },
        _react2.default.createElement(
          'div',
          { styleName: 'modal' },
          _react2.default.createElement(
            'div',
            { styleName: 'modal_column' },
            _react2.default.createElement(
              _SubTitle2.default,
              { styleName: 'modal_column-title' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'IncompletedSwaps49', defaultMessage: 'Swaps needing to complete' })
            ),
            swapHistory.length > 0 ? _react2.default.createElement(_SwapsHistory2.default, {
              showSubtitle: false,
              orders: swapHistory.filter(function (item) {
                return item.isSwapExist === false;
              }).filter(function (item) {
                return decline.includes(item.id);
              }).filter(function (item) {
                return item.step >= 4;
              })
            }) : _react2.default.createElement(
              'h1',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'IncompletedSwaps55', defaultMessage: 'Data processed, try to reload the page' })
            )
          )
        )
      );
    }
  }]);
  return IncompletedSwaps;
}(_react.Component)) || _class) || _class);
exports.default = IncompletedSwaps;

/***/ }),

/***/ 3307:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"modal":"_27n95P","modal_column":"_1D1hac","modal_column-title":"_WrE8T"};

/***/ }),

/***/ 3308:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactIntl = __webpack_require__(8);

var _reactRouterDom = __webpack_require__(51);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _links = __webpack_require__(214);

var _links2 = _interopRequireDefault(_links);

var _Modal = __webpack_require__(197);

var _Modal2 = _interopRequireDefault(_Modal);

var _locale = __webpack_require__(50);

var _MobMenu = __webpack_require__(3309);

var _MobMenu2 = _interopRequireDefault(_MobMenu);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MobMenu = (_dec = (0, _reactCssModules2.default)(_MobMenu2.default), (0, _reactIntl.injectIntl)(_class = _dec(_class = function (_React$Component) {
  (0, _inherits3.default)(MobMenu, _React$Component);

  function MobMenu(props) {
    (0, _classCallCheck3.default)(this, MobMenu);

    var _this = (0, _possibleConstructorReturn3.default)(this, (MobMenu.__proto__ || (0, _getPrototypeOf2.default)(MobMenu)).call(this, props));

    _this.handleClose = function () {
      var _this$props = _this.props,
          name = _this$props.name,
          data = _this$props.data,
          onClose = _this$props.onClose;


      if (typeof onClose === 'function') {
        onClose();
      }

      if (typeof data.onClose === 'function') {
        data.onClose();
      }

      _actions2.default.modals.close(name);
    };

    _this.subMenuItems = [{
      link: '/exchange',
      title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Swap.OnlineSubmenu', defaultMessage: 'Swap.Exhange' }),
      description: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Submenu16', defaultMessage: 'Fast atomic swap exchanges BTC, BCH, ETH, LTC, ERC20 online' }),
      image: 'https://img.icons8.com/wired/30/000000/transfer-between-users.png'
    }, {
      link: '/',
      title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Swap.WalletSubMeny', defaultMessage: 'Swap.Wallet' }),
      description: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Submenu22', defaultMessage: 'Cryptocurrency storage without loading wallets' }),
      image: 'https://img.icons8.com/ios/30/000000/bonds.png'
    }, {
      link: _links2.default.footer.widget,
      title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Swap.WidgetSubMenu', defaultMessage: 'Swap.Widget' }),
      description: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Submenu28', defaultMessage: 'Turn your website into a cryptocurrency portal (wallet, stock exchange, etc.)' }),
      image: 'https://img.icons8.com/wired/30/000000/r2-d2.png'
    }, {
      link: _links2.default.footer.widget,
      title: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'launchpadSubMenu', defaultMessage: 'IEO launchpad' }),
      description: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Submenu34', defaultMessage: 'Launch IEO on your website' }),
      image: 'https://img.icons8.com/wired/30/000000/data-protection.png'
    }];
    return _this;
  }

  (0, _createClass3.default)(MobMenu, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          intl = _props.intl,
          history = _props.history;


      return _react2.default.createElement(
        _Modal2.default,
        { name: 'MobMenu' },
        _react2.default.createElement(
          'div',
          { styleName: 'content' },
          _react2.default.createElement(
            'ul',
            { styleName: 'submenu' },
            this.subMenuItems.map(function (item, index) {
              return _react2.default.createElement(
                'li',
                { key: index },
                _react2.default.createElement(
                  'a',
                  (0, _extends3.default)({
                    styleName: 'submenu-item'
                  }, index !== 2 ? {
                    onClick: function onClick() {
                      return history.push((0, _locale.localisedUrl)(intl.locale, item.link));
                    }
                  } : {
                    rel: 'noopener noreferrer',
                    target: '_blank',
                    href: item.link
                  }),
                  _react2.default.createElement('img', { src: item.image, alt: item.title }),
                  _react2.default.createElement(
                    'div',
                    { styleName: 'text-container-submenu' },
                    _react2.default.createElement(
                      'span',
                      null,
                      item.title
                    ),
                    _react2.default.createElement(
                      'p',
                      null,
                      item.description
                    )
                  )
                )
              );
            })
          )
        )
      );
    }
  }]);
  return MobMenu;
}(_react2.default.Component)) || _class) || _class);
exports.default = (0, _reactRouterDom.withRouter)(MobMenu);

/***/ }),

/***/ 3309:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"modal-overlay":"MuJmyP","modal":"_2aWljM","content":"atEqZz","submenu":"_3Ep3zn","submenu-item":"_2akCZk","text-container-submenu":"_14DVEl"};

/***/ }),

/***/ 3310:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(17);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Confirm = __webpack_require__(3311);

var _Confirm2 = _interopRequireDefault(_Confirm);

var _modal = __webpack_require__(136);

var _controls = __webpack_require__(46);

var _forms = __webpack_require__(166);

var _reactIntl = __webpack_require__(8);

var _WidthContainer = __webpack_require__(195);

var _WidthContainer2 = _interopRequireDefault(_WidthContainer);

var _Logo = __webpack_require__(219);

var _Logo2 = _interopRequireDefault(_Logo);

var _CloseIcon = __webpack_require__(259);

var _CloseIcon2 = _interopRequireDefault(_CloseIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var defaultLanguage = (0, _reactIntl.defineMessages)({
  title: {
    id: 'confirmDialogDefaultTitle',
    defaultMessage: 'Confirm action'
  },
  message: {
    id: 'confirmDialogDefaultMessage',
    defaultMessage: 'Confirm action on this site?'
  },
  yes: {
    id: 'confirmDialogDefaultYes',
    defaultMessage: 'Yes'
  },
  no: {
    id: 'confirmDialogDefaultNo',
    defaultMessage: 'No'
  }
});

var Confirm = (_dec = (0, _reactCssModules2.default)(_Confirm2.default), (0, _reactIntl.injectIntl)(_class = _dec(_class = (_temp2 = _class2 = function (_React$Component) {
  (0, _inherits3.default)(Confirm, _React$Component);

  function Confirm() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Confirm);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Confirm.__proto__ || (0, _getPrototypeOf2.default)(Confirm)).call.apply(_ref, [this].concat(args))), _this), _this.handleClose = function () {
      var _this$props = _this.props,
          name = _this$props.name,
          data = _this$props.data,
          onClose = _this$props.onClose;


      if (typeof onClose === 'function') {
        onClose();
      }

      if (typeof data.onClose === 'function') {
        data.onClose();
      }

      _actions2.default.modals.close(name);
    }, _this.handleConfirm = function () {
      var _this$props2 = _this.props,
          name = _this$props2.name,
          data = _this$props2.data,
          onAccept = _this$props2.onAccept;


      _actions2.default.modals.close(name);

      if (typeof onAccept === 'function') {
        onAccept();
      }

      if (typeof data.onAccept === 'function') {
        data.onAccept();
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Confirm, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          intl = _props.intl,
          name = _props.name,
          _props$data = _props.data,
          title = _props$data.title,
          message = _props$data.message,
          labelYes = _props$data.labelYes,
          labelNo = _props$data.labelNo;


      var labels = {
        title: title || intl.formatMessage(defaultLanguage.title),
        message: message || intl.formatMessage(defaultLanguage.message),
        yes: labelYes || intl.formatMessage(defaultLanguage.yes),
        no: labelNo || intl.formatMessage(defaultLanguage.no)
      };

      return _react2.default.createElement(
        'div',
        { styleName: 'modal-overlay', onClick: this.handleClose },
        _react2.default.createElement(
          'div',
          { styleName: 'modal' },
          _react2.default.createElement(
            'div',
            { styleName: 'header' },
            _react2.default.createElement(
              _WidthContainer2.default,
              { styleName: 'headerContent' },
              _react2.default.createElement(
                'div',
                { styleName: 'title' },
                labels.title
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'content' },
            _react2.default.createElement(
              'div',
              { styleName: 'notification-overlay' },
              _react2.default.createElement(
                'p',
                { styleName: 'notification' },
                labels.message
              )
            ),
            _react2.default.createElement(
              'div',
              { styleName: 'button-overlay' },
              _react2.default.createElement(
                _controls.Button,
                { styleName: 'button', brand: true, onClick: this.handleConfirm },
                labels.yes
              ),
              _react2.default.createElement(
                _controls.Button,
                { styleName: 'button', gray: true, onClick: this.handleClose },
                labels.no
              )
            )
          )
        )
      );
    }
  }]);
  return Confirm;
}(_react2.default.Component), _class2.propTypes = {
  onAccept: _propTypes2.default.func
}, _temp2)) || _class) || _class);
exports.default = Confirm;

/***/ }),

/***/ 3311:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"header":"_330sEy","headerContent":"_3hQ3tc","title":"_1l4EpW","uppercase":"co6yJ2","closeButton":"_3Gfn8j","modal-overlay":"rgGllc","modal":"i-IC37","button":"_3L_Ki5","content":"_2zFD46","notification-overlay":"_2bJLuc","notification":"_1WcJbQ","button-overlay":"_3Bb9oC"};

/***/ }),

/***/ 3312:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _dec, _dec2, _class, _class2, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(37);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(17);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _ConfirmBeginSwap = __webpack_require__(3313);

var _ConfirmBeginSwap2 = _interopRequireDefault(_ConfirmBeginSwap);

var _modal = __webpack_require__(136);

var _controls = __webpack_require__(46);

var _forms = __webpack_require__(166);

var _reactIntl = __webpack_require__(8);

var _WidthContainer = __webpack_require__(195);

var _WidthContainer2 = _interopRequireDefault(_WidthContainer);

var _Logo = __webpack_require__(219);

var _Logo2 = _interopRequireDefault(_Logo);

var _CloseIcon = __webpack_require__(259);

var _CloseIcon2 = _interopRequireDefault(_CloseIcon);

var _typeforce = __webpack_require__(298);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var defaultLanguage = (0, _reactIntl.defineMessages)({
  title: {
    id: 'confirmDialogDefaultTitle',
    defaultMessage: 'Confirm action'
  },
  message: {
    id: 'confirmDialogDefaultMessage',
    defaultMessage: 'Confirm action on this site?'
  },
  yes: {
    id: 'confirmDialogDefaultYes',
    defaultMessage: 'Yes'
  },
  no: {
    id: 'confirmDialogDefaultNo',
    defaultMessage: 'No'
  }
});

var ConfirmBeginSwap = (_dec = (0, _redaction.connect)(function (_ref) {
  var _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      bchData = _ref$user.bchData,
      tokensData = _ref$user.tokensData,
      eosData = _ref$user.eosData,
      telosData = _ref$user.telosData,
      nimData = _ref$user.nimData,
      ltcData = _ref$user.ltcData;
  return {
    currenciesData: [ethData, btcData, eosData, telosData, bchData, ltcData /* usdtOmniData, nimData */],
    tokensData: [].concat((0, _toConsumableArray3.default)((0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    })))
  };
}), _dec2 = (0, _reactCssModules2.default)(_ConfirmBeginSwap2.default, { allowMultiple: true }), (0, _reactIntl.injectIntl)(_class = _dec(_class = _dec2(_class = (_temp = _class2 = function (_React$Component) {
  (0, _inherits3.default)(ConfirmBeginSwap, _React$Component);

  function ConfirmBeginSwap(_ref2) {
    var tokensData = _ref2.tokensData,
        currenciesData = _ref2.currenciesData;
    (0, _classCallCheck3.default)(this, ConfirmBeginSwap);

    var _this = (0, _possibleConstructorReturn3.default)(this, (ConfirmBeginSwap.__proto__ || (0, _getPrototypeOf2.default)(ConfirmBeginSwap)).call(this));

    _this.getSystemWallet = function (walletCurrency) {
      var sellCurrency = _this.props.data.order.sellCurrency;


      return _this.wallets[walletCurrency ? walletCurrency.toUpperCase() : sellCurrency];
    };

    _this.handleCustomWalletUse = function () {
      var customWalletUse = _this.state.customWalletUse;


      var newCustomWalletUse = !customWalletUse;

      _this.setState({
        customWalletUse: newCustomWalletUse,
        customWallet: newCustomWalletUse === false ? '' : _this.getSystemWallet()
      });
    };

    _this.handleClose = function () {
      var _this$props = _this.props,
          name = _this$props.name,
          data = _this$props.data,
          onClose = _this$props.onClose;


      if (typeof onClose === 'function') {
        onClose();
      }

      if (typeof data.onClose === 'function') {
        data.onClose();
      }

      _actions2.default.modals.close(name);
    };

    _this.handleConfirm = function () {
      var _this$props2 = _this.props,
          name = _this$props2.name,
          data = _this$props2.data,
          onAccept = _this$props2.onAccept;
      var _this$state = _this.state,
          customWalletUse = _this$state.customWalletUse,
          customWallet = _this$state.customWallet;


      if (!_this.customWalletIsValid()) return;

      _actions2.default.modals.close(name);

      if (typeof onAccept === 'function') {
        onAccept(customWalletUse ? customWallet : null);
      }

      if (typeof data.onAccept === 'function') {
        data.onAccept(customWalletUse ? customWallet : null);
      }
    };

    _this.wallets = {};
    currenciesData.forEach(function (item) {
      _this.wallets[item.currency] = item.address;
    });
    tokensData.forEach(function (item) {
      _this.wallets[item.currency] = item.address;
    });

    _this.state = {
      customWalletUse: false
    };
    return _this;
  }

  (0, _createClass3.default)(ConfirmBeginSwap, [{
    key: 'customWalletIsValid',
    value: function customWalletIsValid() {
      var _state = this.state,
          customWallet = _state.customWallet,
          customWalletUse = _state.customWalletUse;
      var sellCurrency = this.props.data.order.sellCurrency;


      if (customWalletUse) {
        if (!_typeforce.isCoinAddress[sellCurrency]) {
          console.warn('Swap.Core unkrown isCoinAddress check for ' + sellCurrency);
          return true;
        }
        return _typeforce.isCoinAddress[sellCurrency](customWallet);
      } else return true;
    }
  }, {
    key: 'customWalletAllowed',
    value: function customWalletAllowed() {
      var _props$data$order = this.props.data.order,
          buyCurrency = _props$data$order.buyCurrency,
          sellCurrency = _props$data$order.sellCurrency;


      if (buyCurrency === 'BTC') {
        // btc-token
        if (_appConfig2.default.erc20[sellCurrency.toLowerCase()] !== undefined) return true;
        // btc-eth
        if (sellCurrency === 'ETH') return true;
      }
      if (_appConfig2.default.erc20[buyCurrency.toLowerCase()] !== undefined) {
        // token-btc
        if (sellCurrency === 'BTC') return true;
      }

      if (buyCurrency === 'ETH') {
        // eth-btc
        if (sellCurrency === 'BTC') return true;
      }

      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          intl = _props.intl,
          name = _props.name,
          _props$data = _props.data,
          title = _props$data.title,
          message = _props$data.message,
          labelYes = _props$data.labelYes,
          labelNo = _props$data.labelNo;


      var labels = {
        title: title || intl.formatMessage(defaultLanguage.title),
        message: message || intl.formatMessage(defaultLanguage.message),
        yes: labelYes || intl.formatMessage(defaultLanguage.yes),
        no: labelNo || intl.formatMessage(defaultLanguage.no)
      };

      var _state2 = this.state,
          customWalletUse = _state2.customWalletUse,
          customWallet = _state2.customWallet;

      var okStyle = this.customWalletIsValid() ? 'brand' : 'gray';

      var linked = _swValuelink2.default.all(this, 'customWallet');

      return _react2.default.createElement(
        'div',
        { styleName: 'modal-overlay' },
        _react2.default.createElement(
          'div',
          { styleName: 'modal' },
          _react2.default.createElement(
            'div',
            { styleName: 'header' },
            _react2.default.createElement(
              _WidthContainer2.default,
              { styleName: 'headerContent' },
              _react2.default.createElement(
                'div',
                { styleName: 'title' },
                labels.title
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'content' },
            _react2.default.createElement(
              'div',
              { styleName: 'notification-overlay' },
              _react2.default.createElement(
                'p',
                { styleName: 'notification' },
                labels.message
              )
            ),
            this.customWalletAllowed() && _react2.default.createElement(
              _react.Fragment,
              null,
              !this.customWalletIsValid() && _react2.default.createElement(
                'div',
                { styleName: 'error' },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CustomWalletIsNotCorrect', defaultMessage: 'Wallet address is incorrect' })
              ),
              _react2.default.createElement(
                'div',
                { styleName: 'walletToggle walletToggle_site' },
                _react2.default.createElement(
                  'div',
                  { styleName: 'walletOpenSide' },
                  _react2.default.createElement(_controls.Toggle, { dataTut: 'togle', checked: customWalletUse, onChange: this.handleCustomWalletUse }),
                  _react2.default.createElement(
                    'span',
                    { styleName: 'specify' },
                    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'UseAnotherWallet', defaultMessage: 'Specify the receiving wallet address' })
                  )
                ),
                _react2.default.createElement(
                  'div',
                  { styleName: customWalletUse ? 'anotherRecepient anotherRecepient_active' : 'anotherRecepient' },
                  _react2.default.createElement(
                    'div',
                    { styleName: 'walletInput' },
                    _react2.default.createElement(_forms.Input, { required: true, valueLink: linked.customWallet, pattern: '0-9a-zA-Z', placeholder: 'Enter the receiving wallet address' })
                  )
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { styleName: 'button-overlay' },
              this.customWalletIsValid() && _react2.default.createElement(
                _controls.Button,
                { styleName: 'button', brand: true, onClick: this.handleConfirm },
                labels.yes
              ),
              !this.customWalletIsValid() && _react2.default.createElement(
                _controls.Button,
                { styleName: 'button', gray: true },
                labels.yes
              ),
              _react2.default.createElement(
                _controls.Button,
                { styleName: 'button', gray: true, onClick: this.handleClose },
                labels.no
              )
            )
          )
        )
      );
    }
  }]);
  return ConfirmBeginSwap;
}(_react2.default.Component), _class2.propTypes = {
  onAccept: _propTypes2.default.func
}, _temp)) || _class) || _class) || _class);
exports.default = ConfirmBeginSwap;

/***/ }),

/***/ 3313:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"header":"_3nUR4I","headerContent":"_1c7TuQ","title":"_2Lid4K","uppercase":"_1bfpGC","error":"_94ykhz","closeButton":"_382Xb5","modal-overlay":"_1FeLtY","modal":"_2S9-lc","button":"_3uiCB9","content":"eMhSIH","notification-overlay":"yCHzBD","notification":"_3B6tNB","button-overlay":"_1sCxzn","walletToggle":"GTyCjb","walletToggle_site":"_1VS1Tf","walletInput":"B8xJiW","walletOpenSide":"_1Ejsr1","specify":"_1QtRIK","anotherRecepient":"_1y8THR","anotherRecepient_active":"ago8VH"};

/***/ }),

/***/ 3314:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"modalConductor":"_8Hhrkg"};

/***/ }),

/***/ 3315:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Wrapper = __webpack_require__(3316);

var _Wrapper2 = _interopRequireDefault(_Wrapper);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Wrapper = function Wrapper(_ref) {
  var children = _ref.children;
  return _react2.default.createElement(
    'div',
    { styleName: 'Wrapper' },
    children
  );
};

exports.default = (0, _reactCssModules2.default)(Wrapper, _Wrapper2.default, { allowMultiple: true });

/***/ }),

/***/ 3316:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"Wrapper":"-nBJol"};

/***/ }),

/***/ 3317:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(37);

var _notifications = __webpack_require__(3318);

var _notifications2 = _interopRequireDefault(_notifications);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _NotificationConductor = __webpack_require__(3325);

var _NotificationConductor2 = _interopRequireDefault(_NotificationConductor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var NotificationConductor = (_dec = (0, _redaction.connect)({
  notifications: 'notifications'
}), _dec2 = (0, _reactCssModules2.default)(_NotificationConductor2.default), _dec(_class = _dec2(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(NotificationConductor, _Component);

  function NotificationConductor() {
    (0, _classCallCheck3.default)(this, NotificationConductor);
    return (0, _possibleConstructorReturn3.default)(this, (NotificationConductor.__proto__ || (0, _getPrototypeOf2.default)(NotificationConductor)).apply(this, arguments));
  }

  (0, _createClass3.default)(NotificationConductor, [{
    key: 'render',
    value: function render() {
      var notifications = this.props.notifications;


      var notificationNames = (0, _keys2.default)(notifications);
      var areNotificationsExist = Boolean(notificationNames.length);

      return areNotificationsExist && _react2.default.createElement(
        'div',
        { styleName: 'notificationConductor' },
        notificationNames.map(function (key) {
          var _notifications$key = notifications[key],
              name = _notifications$key.name,
              _notifications$key$da = _notifications$key.data,
              data = _notifications$key$da === undefined ? {} : _notifications$key$da;


          return _react2.default.createElement(_notifications2.default[name], {
            key: name,
            name: name,
            data: data
          });
        })
      );
    }
  }]);
  return NotificationConductor;
}(_react.Component), _class2.propTypes = {
  notifications: _propTypes2.default.object
}, _temp)) || _class) || _class);
exports.default = NotificationConductor;

/***/ }),

/***/ 3318:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _SuccessWithdraw = __webpack_require__(3319);

var _SuccessWithdraw2 = _interopRequireDefault(_SuccessWithdraw);

var _Message = __webpack_require__(3322);

var _Message2 = _interopRequireDefault(_Message);

var _ErrorNotification = __webpack_require__(3324);

var _ErrorNotification2 = _interopRequireDefault(_ErrorNotification);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  SuccessWithdraw: _SuccessWithdraw2.default,
  Message: _Message2.default,
  ErrorNotification: _ErrorNotification2.default
};

/***/ }),

/***/ 3319:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SuccessWithdraw = __webpack_require__(3320);

var _SuccessWithdraw2 = _interopRequireDefault(_SuccessWithdraw);

var _Notification = __webpack_require__(687);

var _Notification2 = _interopRequireDefault(_Notification);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SuccessWithdraw = (_dec = (0, _reactCssModules2.default)(_SuccessWithdraw2.default), _dec(_class = function (_Component) {
  (0, _inherits3.default)(SuccessWithdraw, _Component);

  function SuccessWithdraw() {
    (0, _classCallCheck3.default)(this, SuccessWithdraw);
    return (0, _possibleConstructorReturn3.default)(this, (SuccessWithdraw.__proto__ || (0, _getPrototypeOf2.default)(SuccessWithdraw)).apply(this, arguments));
  }

  (0, _createClass3.default)(SuccessWithdraw, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          name = _props.name,
          _props$data = _props.data,
          amount = _props$data.amount,
          currency = _props$data.currency,
          address = _props$data.address;


      return _react2.default.createElement(
        _Notification2.default,
        { name: name },
        _react2.default.createElement(
          'span',
          { styleName: 'value' },
          amount,
          ' ',
          currency
        ),
        ' were successfully transferred to ',
        address,
        '!'
      );
    }
  }]);
  return SuccessWithdraw;
}(_react.Component)) || _class);
exports.default = SuccessWithdraw;

/***/ }),

/***/ 3320:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"value":"_2JfWob"};

/***/ }),

/***/ 3321:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"container":"_288JHo","mounted":"NHOOb_","removed":"_3iSWGm","notification":"_2wSt7r","ErrorNotification":"_3_6dg5","error-notification-heading":"dKhoOw","error-notification-text":"_1fmGXj","content":"_3FIvMD"};

/***/ }),

/***/ 3322:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Message = __webpack_require__(3323);

var _Message2 = _interopRequireDefault(_Message);

var _Notification = __webpack_require__(687);

var _Notification2 = _interopRequireDefault(_Notification);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Message = (_dec = (0, _reactCssModules2.default)(_Message2.default), _dec(_class = function (_Component) {
  (0, _inherits3.default)(Message, _Component);

  function Message() {
    (0, _classCallCheck3.default)(this, Message);
    return (0, _possibleConstructorReturn3.default)(this, (Message.__proto__ || (0, _getPrototypeOf2.default)(Message)).apply(this, arguments));
  }

  (0, _createClass3.default)(Message, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          name = _props.name,
          message = _props.data.message;


      return _react2.default.createElement(
        _Notification2.default,
        { name: name },
        _react2.default.createElement(
          'span',
          { styleName: 'value' },
          message
        )
      );
    }
  }]);
  return Message;
}(_react.Component)) || _class);
exports.default = Message;

/***/ }),

/***/ 3323:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"value":"_34omtZ"};

/***/ }),

/***/ 3324:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Notification = __webpack_require__(687);

var _Notification2 = _interopRequireDefault(_Notification);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ErrorNotification = function ErrorNotification(_ref) {
  var data = _ref.data,
      name = _ref.name;
  return _react2.default.createElement(
    _Notification2.default,
    { soundPlay: false, name: name, type: name },
    _react2.default.createElement(
      'h3',
      null,
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ErrorNotification12', defaultMessage: 'Oops, looks like something went wrong!' })
    ),
    _react2.default.createElement(
      'p',
      null,
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'ErrorNotification151', defaultMessage: 'Error: {error}', values: { error: '' + data.error } })
    )
  );
};

exports.default = (0, _reactCssModules2.default)(ErrorNotification, { allowMultiple: true });

/***/ }),

/***/ 3325:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"notificationConductor":"QOGrSh"};

/***/ }),

/***/ 3336:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactIntl = __webpack_require__(8);

var _reactRouterDom = __webpack_require__(51);

var _reactRouter = __webpack_require__(110);

var _en = __webpack_require__(3337);

var _en2 = _interopRequireDefault(_en);

var _ru = __webpack_require__(3338);

var _ru2 = _interopRequireDefault(_ru);

var _en3 = __webpack_require__(3339);

var _en4 = _interopRequireDefault(_en3);

var _ru3 = __webpack_require__(3340);

var _ru4 = _interopRequireDefault(_ru3);

var _locale = __webpack_require__(50);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(0, _reactIntl.addLocaleData)([].concat((0, _toConsumableArray3.default)(_en2.default), (0, _toConsumableArray3.default)(_ru2.default)));

var translations = {
  en: (0, _locale.reduceMessages)(_en4.default),
  ru: (0, _locale.reduceMessages)(_ru4.default)
};

var IntlProviderContainer = function (_Component) {
  (0, _inherits3.default)(IntlProviderContainer, _Component);

  function IntlProviderContainer() {
    (0, _classCallCheck3.default)(this, IntlProviderContainer);
    return (0, _possibleConstructorReturn3.default)(this, (IntlProviderContainer.__proto__ || (0, _getPrototypeOf2.default)(IntlProviderContainer)).apply(this, arguments));
  }

  (0, _createClass3.default)(IntlProviderContainer, [{
    key: 'render',
    value: function render() {
      var children = this.props.children;

      return _react2.default.createElement(
        _reactRouterDom.Switch,
        null,
        _react2.default.createElement(_reactRouter.Route, {
          path: _locale.localisePrefix,
          render: function render(props) {
            var currentLocale = props.match.params.locale || (0, _locale.defaultLocale)();
            var messages = translations[currentLocale];
            return _react2.default.createElement(
              _reactIntl.IntlProvider,
              (0, _extends3.default)({}, props, { key: currentLocale, locale: currentLocale, defaultLocale: (0, _locale.defaultLocale)(), messages: messages }),
              children
            );
          }
        })
      );
    }
  }]);
  return IntlProviderContainer;
}(_react.Component);

exports.default = IntlProviderContainer;

/***/ }),

/***/ 3339:
/***/ (function(module, exports) {

module.exports = [{"id":"menu.aboutus","message":"About Us","files":["shared/components/Header/Header.js"]},{"id":"menu.exchange","message":"Exchange","files":["shared/components/Header/Header.js"]},{"id":"menu.history","message":"My History","files":["shared/components/Header/Header.js"]},{"id":"menu.wallet","message":"Wallet","files":["shared/components/Header/Header.js"]},{"id":"menu.CreateWallet","message":"Create wallet","files":["shared/components/Header/Header.js"]},{"id":"createWalletLoaderTip","message":"Creating wallet... Please wait.","files":["shared/components/Header/Header.js"]},{"id":"LtcToEth.orderCreatorIsOffline","message":"The order creator is offline. The request is valid for 30 min ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"avatar24","message":"This is your (personal) gravatar, it is unique for each user. The number is your rating within the system (it grows with the number of successful swaps)","files":["shared/components/Header/User/User.js"]},{"id":"ConConfirm25firm20","message":"No","files":["shared/components/Confirm/Confirm.js"]},{"id":"Confirm20","message":"Yes","files":["shared/components/Confirm/Confirm.js"]},{"id":"CDC63","message":"You have","files":["shared/components/CurrencyDirectionChooser/CurrencyDirectionChooser.js"]},{"id":"CDC75","message":"You get","files":["shared/components/CurrencyDirectionChooser/CurrencyDirectionChooser.js"]},{"id":"CurrencyDirectionChooser54","message":"Choose the direction of exchange","files":["shared/components/CurrencyDirectionChooser/CurrencyDirectionChooser.js"]},{"id":"CurrencyDirectionChooser86","message":"SHOW ORDERS","files":["shared/components/CurrencyDirectionChooser/CurrencyDirectionChooser.js"]},{"id":"Nav88","message":"Listing","files":["shared/components/Header/Nav/Nav.js"]},{"id":"ADDoffer22","message":"Start to real Swap","files":["shared/components/Header/User/SignUpButton/SignUpButton.js"]},{"id":"ADDoffer2218","message":"Mainnet","files":["shared/components/Header/User/SignUpButton/SignUpButton.js"]},{"id":"ADDoffer29","message":"Sign up (get up to 10$ bonus)","files":["shared/components/Header/User/SignUpButton/SignUpButton.js"]},{"id":"ADDoffer33","message":"Get subscribed for the Swap.Online news","files":["shared/components/Header/User/SignUpButton/SignUpButton.js"]},{"id":"question15","message":"Know more about us","files":["shared/components/Header/User/Question/Question.js"]},{"id":"QUESTION15","message":"Go to the feed page"},{"id":"transactionLink28","message":"Transaction: ","files":["shared/components/Href/TransactionLink.js"]},{"id":"KeyActionsPanel43","message":"Exit","files":["shared/components/KeyActionsPanel/KeyActionsPanel.js"]},{"id":"KeyActionsPanel46","message":"Show my keys","files":["shared/components/KeyActionsPanel/KeyActionsPanel.js"]},{"id":"KeyActionsPanel49","message":"Import keys","files":["shared/components/KeyActionsPanel/KeyActionsPanel.js"]},{"id":"KeyActionsPanel53","message":"Show more coins"},{"id":"Loader21","message":"Please wait, it takes from 3 to 5 minutes to complete the transaction. ","files":["shared/components/loaders/Loader/Loader.js"]},{"id":"logo29","message":"Go Home","files":["shared/components/Logo/LogoTooltip.js"]},{"id":"EosRegAccountModal54","message":"Account name ","files":["shared/components/modals/EosRegisterModal/EosRegisterModal.js"]},{"id":"EosRegAccountModal58","message":"Active private key ","files":["shared/components/modals/EosRegisterModal/EosRegisterModal.js"]},{"id":"EosRegAccountModal63","message":"Sorry, error occurred during activation ","files":["shared/components/modals/EosRegisterModal/EosRegisterModal.js"]},{"id":"EosRegAccountModal70","message":"Login ","files":["shared/components/modals/EosRegisterModal/EosRegisterModal.js"]},{"id":"Approve70","message":"Please set the amount limit that the swap smart contract can deduct from your account. We do not recommend setting any limits. ","files":["shared/components/modals/Approve/Approve.js"]},{"id":"Approve73","message":"Amount","files":["shared/components/modals/Approve/Approve.js"]},{"id":"Approve80","message":"Approve","files":["shared/components/modals/Approve/Approve.js"]},{"id":"EosBuyAccountModal103","message":"Sorry, error occurred during activation, try again","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"EosBuyAccountModal109","message":"Payment transaction: ","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"EosBuyAccountModal114","message":"Create account","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"EosBuyAccountModal72","message":"Account name","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"EosBuyAccountModal78","message":"Private key","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"EosBuyAccountModal84","message":"Public key","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"EosBuyAccountModal90","message":"Price (BTC)","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"EthChecker19","message":"This token works on Ethereum blockchain. To swap this token you must have at least 0.02 ETH on your balance","files":["shared/components/modals/EthChecker/EthChecker.js"]},{"id":"EthChecker23","message":"Go wallet","files":["shared/components/modals/EthChecker/EthChecker.js"]},{"id":"Keychain23","message":"Download"},{"id":"Keychain26","message":"KeyChain changes your address for security reasons. Note that you need to transfer your funds to another address before activating KeyChain. Keep in mind that automatic change of address will reset your balance."},{"id":"Keychain27","message":"KeyChain is loading. Please wait."},{"id":"ImportKeys107","message":"This procedure will rewrite your private key. If you are not sure about it, we recommend to press cancel","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"ImportKeys110","message":"Please enter ETH private key","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"ImportKeys120","message":"Please enter BTC private key in WIF format","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"ImportKeys280","message":"Please enter BCH private key in WIF format","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"ImportKeys130","message":"Confirm","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"ImportKeys133","message":"Cancel","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"Group14","message":"Import","files":["shared/components/modals/ImportKeys/Group/Group.js"]},{"id":"Select10","message":"Available amount to sell","files":["shared/components/modals/OfferModal/AddOffer/Select/Select.js"]},{"id":"Select15","message":"Sell ","files":["shared/components/modals/OfferModal/AddOffer/Select/Select.js"]},{"id":"Select24","message":"ALL"},{"id":"ConfirmOffer69","message":"Back","files":["shared/components/modals/OfferModal/ConfirmOffer/ConfirmOffer.js"]},{"id":"ConfirmOffer73","message":"Add","files":["shared/components/modals/OfferModal/ConfirmOffer/ConfirmOffer.js"]},{"id":"ExchangeRate14","message":"  =  ","files":["shared/components/modals/OfferModal/ConfirmOffer/ExchangeRate/ExchangeRate.js"]},{"id":"Feld82","message":"INVALID PRIVATE KEY! You should pass correct value! Try again! ","files":["shared/components/modals/PrivateKeysModal/Field2/Field2.js"]},{"id":"SaveKeysModal","message":"Testnet: Don`t ask again","files":["shared/components/modals/SaveKeysModal/SaveKeysModal.js"]},{"id":"ShowMoreCoins36","message":"Coins in Wallet","files":["shared/components/modals/ShowMoreCoins/ShowMoreCoins.js"]},{"id":"ShowMoreCoins48","message":"Other coins","files":["shared/components/modals/ShowMoreCoins/ShowMoreCoins.js"]},{"id":"TelosRegister55","message":"Account name","files":["shared/components/modals/TelosChangeAccountModal/TelosChangeAccountModal.js"]},{"id":"TelosRegister59","message":"Private key","files":["shared/components/modals/TelosChangeAccountModal/TelosChangeAccountModal.js"]},{"id":"TelosRegister64","message":"Sorry, error occurred during activation","files":["shared/components/modals/TelosChangeAccountModal/TelosChangeAccountModal.js"]},{"id":"TelosRegister69","message":"Login","files":["shared/components/modals/TelosChangeAccountModal/TelosChangeAccountModal.js"]},{"id":"ErrorNotification12","message":"Oops, looks like something went wrong! ","files":["shared/components/notifications/ErrorNotification/ErrorNotification.js"]},{"id":"WithdrawModal111","message":"Withdraw "},{"id":"WithdrawModal11212","message":"Processing ..."},{"id":"Withdrow113","message":"Your balance: "},{"id":"Withdrow118","message":"Amount"},{"id":"Withdraw218","message":"Withdrawal error"},{"id":"Withdraw232","message":"There is not enough confirmation of the last transaction. Try later."},{"id":"PreventMultiTabs","message":"Such error, many tabs","files":["shared/components/PreventMultiTabs/PreventMultiTabs.js"]},{"id":"SaveKe33","message":"Download","files":["shared/components/SaveKeys/SaveKeys.js"]},{"id":"SaveKe37","message":"Download text document with keys and accounts","files":["shared/components/SaveKeys/SaveKeys.js"]},{"id":"SaveKeys26","message":"I saved the keys in a safe place","files":["shared/components/SaveKeys/SaveKeys.js"]},{"id":"SwapProgress105","message":"Checking balance.. ","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEth.js"]},{"id":"SwapProgress111","message":"Creating Bitcoin Script. \n It can take a few minutes","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEth.js"]},{"id":"SwapProgress117","message":"Your BTC are now depositing. It may require one confirmation from Bitcoin Network. Waiting for other participant to deposit ETH.(It may require 1 confirmation from bitcoin network)","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEth.js"]},{"id":"SwapProgress123","message":"ETH contract was created and charged. Withdrawing ETH.","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEth.js"]},{"id":"SwapProgress129","message":"ETH was transferred to your wallet. Check the balance. ","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEth.js"]},{"id":"SwapProgress135","message":"Thank you for using Swap.Online! ","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEth.js"]},{"id":"SwapProgress157","message":"SwapProgress"},{"id":"SwapProgress32","message":"Please wait. Confirmation processing"},{"id":"SwapProgress38","message":"Waiting for BTC Owner to create Secret Key, create BTC Script and charge it"},{"id":"SwapProgress44","message":"The bitcoin Script was created and charged. Please check the information below"},{"id":"SwapProgress50","message":"Checking balance.. "},{"id":"SwapProgress56","message":"Creating Ethereum Contract. \n Please wait, it can take a few minutes"},{"id":"SwapProgress62","message":"Waiting for BTC Owner to add a Secret Key to ETH Contact"},{"id":"SwapProgress68","message":"BTC was transferred to your wallet. Check the balance. "},{"id":"SwapProgress74","message":"Thank you for using Swap.Online! "},{"id":"SwapProgress80","message":"Thank you for using Swap.Online! "},{"id":"SwapProgress93","message":"The order creator is offline. The request is valid for 30 min ","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEth.js"]},{"id":"SwapProgress99","message":"Creating a secret key","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEth.js"]},{"id":"Tooltip11","message":"? ","files":["shared/components/ui/Tooltip/Tooltip.js"]},{"id":"Currency101","message":"Balance: ","files":["shared/pages/Currency/Currency.js"]},{"id":"CurrencyTitleSeo1","message":"{fullName} ({tickerName}) Price, Description & Exchange Rates. Store & Exchange {fullName} ({tickerName}) Anonymously on Swap.Online."},{"id":"CurrencyMetaDescrTag1","message":"Find out actual price of {fullName}, its ticker name is ({tickerName}). Swap.Online is the best way to safely store your cryptocurrecy."},{"id":"CurrencyH1Seo1","message":"{fullName} ({tickerName}) Price & Exchange Rates.","files":["shared/pages/Currency/Currency.js"]},{"id":"CurrencyWallet100","message":"Send","files":["shared/pages/Currency/Currency.js","shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"CurrencyWallet104","message":"Exchange","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"CurrencyWallet105","message":"Activate account","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"CurrencyWallet110","message":" History your transactions","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"Row35","message":"Exchange","files":["shared/pages/Currency/Row/Row.js"]},{"id":"history68","message":"All transactions","files":["shared/pages/History/History.js"]},{"id":"history72","message":"All transactions sent and received","files":["shared/pages/History/History.js"]},{"id":"RowHistory76","message":"Refund not available","files":["shared/pages/History/SwapsHistory/RowHistory/RowHistory.js"]},{"id":"RowHistory91","message":"Link to the swap","files":["shared/pages/History/SwapsHistory/RowHistory/RowHistory.js"]},{"id":"RowHistory164","message":"Deleted","files":["shared/pages/History/SwapsHistory/RowHistory/RowHistory.js"]},{"id":"RowHistory95","message":"Link to the swap"},{"id":"SwapHisrory21","message":"Swaps history","files":["shared/pages/History/SwapsHistory/SwapsHistory.js"]},{"id":"MyOrders23","message":"Your orders","files":["shared/pages/Home/Orders/MyOrders/MyOrders.js"]},{"id":"RowFeeds64","message":"Copied","files":["shared/pages/Home/Orders/MyOrders/RowFeeds/RowFeeds.js"]},{"id":"RowFeeds68","message":"Share","files":["shared/pages/Home/Orders/MyOrders/RowFeeds/RowFeeds.js"]},{"id":"RowFeeds77","message":"Decline","files":["shared/pages/Home/Orders/MyOrders/RowFeeds/RowFeeds.js"]},{"id":"RowFeeds81","message":"Accept","files":["shared/pages/Home/Orders/MyOrders/RowFeeds/RowFeeds.js"]},{"id":"RowFeeds87","message":"Delete order","files":["shared/pages/Home/Orders/MyOrders/RowFeeds/RowFeeds.js"]},{"id":"RowMFeed49","message":"You get","files":["shared/pages/Home/Orders/MyOrders/RowFeedsMobile/RowFeedsMobile.js"]},{"id":"RowMFeed56","message":"You have","files":["shared/pages/Home/Orders/MyOrders/RowFeedsMobile/RowFeedsMobile.js"]},{"id":"RowMFeed69","message":"Copied","files":["shared/pages/Home/Orders/MyOrders/RowFeedsMobile/RowFeedsMobile.js"]},{"id":"Home153","message":"What is atomic swap? ","files":["shared/pages/Home/Home.js"]},{"id":"orders150","message":" sell ","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"Row148","message":"REQUESTING","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"Row151","message":"Go to the swap","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"Row157","message":"This order is in execution","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"Row165","message":"Please wait while we confirm your request","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"RowM136","message":"REQUESTING","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"RowM139","message":"Go to the swap","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"RowM145","message":"This order is in execution","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"RowM153","message":"Please wait while we confirm your request","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"RowM166","message":"Start","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"NotFound8","message":"Page not found! ","files":["shared/pages/NotFound/NotFound.js"]},{"id":"BtcToEos101","message":"3. Request to open EOS contract","files":["shared/pages/Swap/BtcToEos.js"]},{"id":"BtcToEos115","message":"4. Withdraw EOS from contract","files":["shared/pages/Swap/BtcToEos.js"]},{"id":"BtcToEos126","message":"TRY REFUND","files":["shared/pages/Swap/BtcToEos.js"]},{"id":"BtcToEos140","message":"5. Request to withdraw BTC from script"},{"id":"BtcToEos63","message":"1. Generate secret key","files":["shared/pages/Swap/BtcToEos.js"]},{"id":"BtcToEos67","message":"Send secret","files":["shared/pages/Swap/BtcToEos.js"]},{"id":"BtcToEos74","message":"Secret: ","files":["shared/pages/Swap/BtcToEos.js"]},{"id":"BtcToEos77","message":"Hash: ","files":["shared/pages/Swap/BtcToEos.js"]},{"id":"BtcToEos87","message":"2. Fund BTC script","files":["shared/pages/Swap/BtcToEos.js"]},{"id":"BtcToEthToken108","message":"Confirm"},{"id":"BtcToEthToken156","message":"3. Checking balance.. "},{"id":"BtcToEthToken167","message":"3. Creating Bitcoin Script. \n Please wait, it can take a few minutes"},{"id":"BtcToEthToken172","message":"Transaction: "},{"id":"BtcToEthToken230","message":"3. Your BTC are now depositing. It may require one confirmation from Bitcoin Network. Waiting for other participant to deposit ETH.(It may require 1 confirmation from bitcoin network)"},{"id":"BtcToEthToken243","message":"Transaction: "},{"id":"BtcToEthToken260","message":"ETH contract was created and charged. Withdrawing ETH. Please wait "},{"id":"BtcToEthToken267","message":"Transaction: "},{"id":"BtcToEthToken290","message":"6. ETH was transferred to your wallet. Check the balance. "},{"id":"BtcToEthToken293","message":"Thank you for using Swap.Online! "},{"id":"BtcToEthToken303","message":"TRY REFUND"},{"id":"BtcToEthToken316","message":"Transaction: "},{"id":"BtcToEthToken77","message":"Waiting for a market maker. If the market maker does not appear within 5 minutes, the swap will be canceled automatically. "},{"id":"BtcToEthToken87","message":"1. Waiting participant confirm this swap"},{"id":"SwapController54","message":"Another participant is online"},{"id":"SwapController60","message":"Another participant is offline"},{"id":"EosToBtc107","message":"TRY REFUND","files":["shared/pages/Swap/EosToBtc.js"]},{"id":"EosToBtc127","message":"5. Withdraw BTC from script","files":["shared/pages/Swap/EosToBtc.js"]},{"id":"EosToBtc59","message":"1. Request to fund BTC script","files":["shared/pages/Swap/EosToBtc.js"]},{"id":"EosToBtc73","message":"2. Verify BTC script","files":["shared/pages/Swap/EosToBtc.js"]},{"id":"EosToBtc82","message":"3. Open EOS contract","files":["shared/pages/Swap/EosToBtc.js"]},{"id":"EosToBtc97","message":"4. Request to withdraw EOS from contract","files":["shared/pages/Swap/EosToBtc.js"]},{"id":"EmergencySave","message":"Information about the swap"},{"id":"EthTokenBtc102","message":"Confirm"},{"id":"EthTokenBtc111","message":"Please wait. Confirmation processing"},{"id":"EthTokenBtc116","message":"Transaction: "},{"id":"EthTokenBtc147","message":"2. Waiting for BTC Owner to create Secret Key, create BTC Script and charge it"},{"id":"EthTokenBtc159","message":"3. The bitcoin Script was created and charged. Please check the information below"},{"id":"EthTokenBtc162","message":"Secret Hash: "},{"id":"EthTokenBtc165","message":"Script address: "},{"id":"EthTokenBtc184","message":"Show bitcoin script"},{"id":"EthTokenBtc228","message":"Everything is OK. continue "},{"id":"EthTokenBtc267","message":"Checking balance.. "},{"id":"EthTokenBtc276","message":"4. Creating Ethereum Contract. \n Please wait, it can take a few minutes"},{"id":"EthTokenBtc283","message":"Transaction: "},{"id":"EthTokenBtc303","message":"Transaction: "},{"id":"EthTokenBtc321","message":"5. Waiting for BTC Owner to add a Secret Key to ETH Contact"},{"id":"EthTokenBtc335","message":"ETH was successfully transferred. Withdrawing BTC. Please wait"},{"id":"EthTokenBtc342","message":"Transaction: "},{"id":"EthTokenBtc365","message":"Thank you for using Swap.Online! "},{"id":"EthTokenBtc375","message":"TRY REFUND"},{"id":"EthTokenBtc77","message":"Waiting for other user when he connect to the order"},{"id":"EthTokenBtc86","message":"1. Please confirm your participation to begin the deal"},{"id":"EthTokenBtc94","message":"Confirmation of the transaction is necessary for crediting the reputation.If a user does not bring the deal to the end he gets a negative credit to his reputation. "},{"id":"EthTokenToUsdt101","message":"Confirmation of the transaction is necessary for crediting the reputation. If a user does not bring the deal to the end he gets a negative credit to his reputation. ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt109","message":"Confirm","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt118","message":"Please wait. Confirmation processing","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt123","message":"Transaction: ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt154","message":"2. Waiting for USDT Owner to create a Secret Key, create BTC Omni Script and charge it","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt166","message":"3. Bitcoin Omni Script created and charged. Please check the information below","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt169","message":"Secret Hash: ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt172","message":"Script address: ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt192","message":"Show bitcoin script","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt236","message":"Everything is OK. continue ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt249","message":"Not enough money for this swap. Please fund the balance","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt253","message":"Your balance: ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt257","message":"Required balance: ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt260","message":"Your address: ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt267","message":"continue ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt276","message":"Checking balance.. ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt285","message":"4. Creating Ethereum Contract. \n Please wait, it can take a few minutes","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt292","message":"Transaction: ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt313","message":"Transaction: ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt331","message":"5. Waiting for BTC Owner to add a Secret Key to ETH Contact","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt345","message":"6. USDT Owner successfully took money from ETH Contract and left Secret Key. Requesting withdrawal from BTC Script. Please wait","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt352","message":"USDT withdrawal transaction: ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt377","message":"7. USDT was transferred to your wallet. Check the balance. ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt380","message":"Thank you for using Swap.Online! ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt390","message":"TRY REFUND","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt84","message":"Waiting for other user when he connect to the order","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt93","message":"1. Please confirm your participation to begin the deal","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthToLtc104","message":"The order creator is offline. The request is valid for 30 min ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc115","message":"Waiting for other user when he connect to the order","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc125","message":"Confirmation of the transaction is necessary for crediting the reputation. If a user does not bring the deal to the end he gets a negative credit to his reputation. ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc128","message":"sign ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc134","message":"Please wait. Confirmation processing","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc139","message":"Transaction: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc167","message":"2. Waiting for LTC Owner to create a Secret Key, create LTC Script and charge it","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc179","message":"3. Litecoin Script created and charged. Please check the information below","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc182","message":"Secret Hash: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc185","message":"Script address: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc204","message":"Show litecoin script","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc247","message":"Everything is OK. continue ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc260","message":"Not enough money for this swap. Please fund the balance","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc264","message":"Your balance: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc267","message":"Required balance: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc270","message":"Your address: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc277","message":"continue ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc286","message":"Checking balance.. ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc297","message":"4. Creating Ethereum Contract. \n Please wait, it can take a few minutes","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc305","message":"Transaction: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc326","message":"Transaction: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc343","message":"5. Waiting LTC Owner adds Secret Key to ETH Contact","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc357","message":"6. LTC Owner successfully took money from ETH Contract and left Secret Key. Requesting withdrawal from LTC Script. Please wait","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc364","message":"Transaction: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc386","message":"7. LTC was transferred to your wallet. Check the balance. ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc389","message":"Thank you for using Swap.Online! ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc399","message":"TRY REFUND","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc412","message":"Transaction: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc99","message":"This order doesn't have a buyer","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"Share","message":"Share Twitter","files":["shared/pages/Swap/Share/Share.js"]},{"id":"LtcTOeth101","message":"This order doesn't have a buyer","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth117","message":"Waiting for a market maker. If the market maker does not appear within 5 minutes, the swap will be canceled automatically. ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth127","message":"Creating a secret key","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth136","message":"Confirm","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth142","message":"Save the secret key! Otherwise there will be a chance you loose your money! ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth145","message":"Secret Key: ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth148","message":"Secret Hash: ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth158","message":"Not enough money for this swap. Please charge the balance","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth162","message":"Your balance: ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth165","message":"Required balance: ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth168","message":"Your address: ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth175","message":"continue ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth184","message":"Checking balance.. ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth195","message":"3. Creating Litecoin Script. \n Please wait, it can take a few minutes","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth200","message":"Transaction: ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth227","message":"Create refund hex","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth234","message":"How refund your money ? ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth254","message":"4. ETH Owner received Litecoin Script and Secret Hash. Waiting when he creates ETH Contract","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth267","message":"Transaction: ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth283","message":"ETH contract was created and charged. Withdrawing ETH. Please wait.","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth290","message":"Transaction: ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth313","message":"6. ETH was transferred to your wallet. Check the balance. ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth315","message":"Thank you for using Swap.Online! ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth326","message":"TRY REFUND","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth338","message":"Transaction: ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"UsdrToEthToken106","message":"Creating a secret key","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken115","message":"Confirm","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken121","message":"Save the secret key! Otherwise there will be a chance that you'll lose your money! ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken124","message":"Secret Key: ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken127","message":"Secret Hash: ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken137","message":"Not enough money for this swap. Please charge the balance","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken141","message":"Your balance: ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken144","message":"Required balance: ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken147","message":"Your address: ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken154","message":"continue ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken163","message":"Checking balance... ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken174","message":"3. Creating Bitcoin Omni Script. \n Please wait, it can take a few minutes","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken179","message":"Transaction: ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken206","message":"Create refund hex","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken213","message":"How to refund your money? ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken233","message":"4. ETH Owner received Bitcoin Omni Script and Secret Hash. Waiting until he creates ETH Contract","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken246","message":"Transaction: ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken264","message":"5. ETH Contract is created and charged. Requesting withdrawal from ETH Contract. Please wait. It usually takes less than 10 mins","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken271","message":"Transaction: ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken294","message":"6. ETH was transferred to your wallet. Check the balance. ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken297","message":"Thank you for using Swap.Online! ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken307","message":"TRY REFUND","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken320","message":"Transaction: ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken83","message":"Waiting for a market maker. If the market maker does not appear within 5 minutes, the swap will be canceled automatically. ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken93","message":"1. Waiting participant confirm this swap","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"Wallet104","message":"Your online cryptocurrency wallet","files":["shared/pages/Wallet/Wallet.js"]},{"id":"Row235","message":"Copy","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"Row256","message":"Buy this account","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"Row263","message":"Use another"},{"id":"Row268","message":"Not activated","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"Row293","message":"Address copied to clipboard","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"Row313","message":"Deposit","files":["shared/pages/Currency/Currency.js","shared/pages/CurrencyWallet/CurrencyWallet.js","shared/pages/Wallet/Row/Row.js"]},{"id":"RowWallet181","message":"Unconfirmed balance","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"RowWallet189","message":"Unconfirmed balance","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"RowWallet197","message":"Unconfirmed balance","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"AddOffer396","message":"Next","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"PrivateKeysModal106","message":"We do not store your private keys and will not be able to restore them! ","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal110","message":"1. Click here to save your private keys","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal113","message":"Show keys","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal118","message":"2. Then click here if you have saved your private keys in a secure place (or two)","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal121","message":"I saved my keys!","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal130","message":"Please fill information below. We`d like to be sure that you saved the private keys before you can continue  to the site. ","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal131","message":"Do not worry, this data is not sent anywhere from this page!","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal145","message":"GO TO THE SITE! ","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal662","message":"Attention!","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal623","message":"{skipIt} and go to the site.","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal624","message":"skip it","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal663","message":"We don't recommend, but you can {skipBtn}","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal664","message":"Please save your private keys! We do not store your private keys and will not be able to restore your wallets.","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal665","message":" I understand and except the risks of not saving my private keys. {learnMore}","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal666","message":"Continue","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal667","message":"Learn more","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal99","message":"It`s very important because If you don`t"},{"id":"PrivateKeysModal991","message":"Before you continue be sure to save your private keys! Security of private keys is only in your hands. ","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"BtcToEthTokenAddress1","message":"Confirm destination address (by default - swap.online wallet)"},{"id":"BtcToEthTokenAddress2","message":"Confirm address"},{"id":"WithdrawButton32","message":"when you click this button, in the field, an amount equal to your balance minus the miners commission will appear. "},{"id":"BTCTOLTC132","message":"Creating a secret key","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"BTCtoLTC236","message":"Create refund hex","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"BTCtoLTC246","message":"How refund your money ? ","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"BTCtoLTC262","message":"4. LTC Owner received Bitcoin Script and Secret Hash. Waiting when he creates LTC Script","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"BTCtoLTC276","message":"5. Litecoin Script created and charged. Please check the information below","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"BTCtoLTC301","message":"Show litecoin script","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"BtcToLtc.Confirm","message":"Confirm","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"BtcToLtc205","message":"3. Creating Bitcoin Script. \n Please wait, it can take a few minutes","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"Checkingbalance","message":"Checking balance.. ","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"LTCTOBTC147","message":"Save the secret key! Otherwise there will be a chance you loose your money! ","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"LTCTOBTC150","message":"Secret Key: ","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"MoneyWasTransferred","message":"6. LTC was transferred to your wallet. Check the balance. ","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"Notenough","message":"Not enough money for this swap. Please fund the balance","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"REFUND","message":"TRY REFUND","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"Required","message":"Required balance: ","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"SecretHash","message":"Secret Hash: ","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"Thank","message":"Thank you for using Swap.Online! ","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"Transaction","message":"Transaction: ","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"Waiting","message":"Waiting for other user when he connect to the order","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"address","message":"Your address: ","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"balance","message":"Your balance: ","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"doesn't","message":"This order doesn't have a buyer","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"offline","message":"The order creator is offline. The request is valid for 30 min ","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"HowItWorks10","message":"How it works","files":["shared/pages/PartialClosure/HowItWorks/HowItWorks.js"]},{"id":"Confirmation","message":"Confirmation of the transaction is necessary for crediting the reputation. If a user does not bring the deal to the end he gets a negative credit to his reputation. ","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"LTCTOBTC191","message":"3. The bitcoin Script was created and charged. Please check the information below","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"LTCTOBTC216","message":"Show bitcoin script","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"LTCTOBTC350","message":"5. Waiting for BTC Owner to add a Secret Key to LTC Contact","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"LTCTOBTC365","message":"6. BTC Owner successfully took money from LTC Script and left Secret Key. Requesting withdrawal from BTC Script. Please wait","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"LTCTOBTC396","message":"7. BTC was transferred to your wallet. Check the balance. ","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"LtcToBtc.Confirm","message":"2. Waiting for BTC Owner to create Secret Key, create BTC Script and charge it","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"LtcToBtc205","message":"4. Creating LTC Script. \n Please wait, it can take a few minutes","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"OK","message":"Everything is OK. continue ","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"PleaseWaitConfirmationProcessing","message":"Please wait. Confirmation processing","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"Scriptaddress","message":"Script address: ","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"doesn&apos","message":"This order doesn't have a buyer","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"Row328","message":"Send","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"Row334","message":"Exchange","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"AddOffer418","message":"Custom exchange rate","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"AddOffer423","message":"Enable partial fills","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"BtcToEthToken236","message":"Top up BTC Script"},{"id":"Row277","message":"Not activated"},{"id":"partial221","message":"Max amount for exchange: ","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"Company","message":"Company"},{"id":"AboutUS14","message":"About Us"},{"id":"Careers","message":"Careers"},{"id":"ChromeExtension","message":"Chrome Extension"},{"id":"Concept","message":"Concept (PDF)"},{"id":"Contacts","message":"Contacts"},{"id":"DEXTrendResearch","message":"DEX Trend Research"},{"id":"DEXdetails","message":"DEX Details"},{"id":"Documentation","message":"Documentation"},{"id":"Legal","message":"Legal"},{"id":"LegalOpinion","message":"Legal Opinion"},{"id":"Licence","message":"Licence"},{"id":"PrivacyPolicy","message":"Privacy Policy"},{"id":"Resources","message":"Resources"},{"id":"Terms","message":"Terms of use"},{"id":"Useswapbutton","message":"Swap Button"},{"id":"WhitePaperdraft","message":"White Paper (draft)"},{"id":"Wiki","message":"Wiki"},{"id":"Actions","message":"Actions","files":["shared/components/modals/ShowMoreCoins/ShowMoreCoins.js"]},{"id":"Coin","message":"Coin","files":["shared/components/modals/ShowMoreCoins/ShowMoreCoins.js"]},{"id":"Name","message":"Name","files":["shared/components/modals/ShowMoreCoins/ShowMoreCoins.js"]},{"id":"Amount61","message":"Amount","files":["shared/pages/History/History.js"]},{"id":"Coin61","message":"Coin","files":["shared/pages/History/History.js"]},{"id":"Statement61","message":"Statement","files":["shared/pages/History/History.js"]},{"id":"Status61","message":"Status","files":["shared/pages/History/History.js"]},{"id":"SwapHisrory14","message":"Avatar","files":["shared/pages/History/SwapsHistory/SwapsHistory.js"]},{"id":"SwapHisrory15","message":"Exchange","files":["shared/pages/History/SwapsHistory/SwapsHistory.js"]},{"id":"SwapHisrory16","message":"You buy","files":["shared/pages/History/SwapsHistory/SwapsHistory.js"]},{"id":"SwapHisrory17","message":"You sell","files":["shared/pages/History/SwapsHistory/SwapsHistory.js"]},{"id":"SwapHisrory18","message":"Exchange rate","files":["shared/pages/History/SwapsHistory/SwapsHistory.js"]},{"id":"SwapHisrory20","message":"Status order","files":["shared/pages/History/SwapsHistory/SwapsHistory.js"]},{"id":"SwapHisrory211","message":"Lock time","files":["shared/pages/History/SwapsHistory/SwapsHistory.js"]},{"id":"SwapHisrory22","message":"Link","files":["shared/pages/History/SwapsHistory/SwapsHistory.js"]},{"id":"MyOrders19","message":"EXCHANGE","files":["shared/pages/Home/Orders/MyOrders/MyOrders.js"]},{"id":"MyOrders20","message":"YOU GET","files":["shared/pages/Home/Orders/MyOrders/MyOrders.js"]},{"id":"MyOrders21","message":"YOU HAVE","files":["shared/pages/Home/Orders/MyOrders/MyOrders.js"]},{"id":"MyOrders22","message":"EXCHANGE RATE","files":["shared/pages/Home/Orders/MyOrders/MyOrders.js"]},{"id":"MyOrders231","message":"SHARE","files":["shared/pages/Home/Orders/MyOrders/MyOrders.js"]},{"id":"MyOrders24","message":"ACTIONS","files":["shared/pages/Home/Orders/MyOrders/MyOrders.js"]},{"id":"Wallet114","message":"Coin","files":["shared/pages/Wallet/Wallet.js"]},{"id":"Wallet115","message":"Name","files":["shared/pages/Wallet/Wallet.js"]},{"id":"Wallet116","message":"Balance ","files":["shared/pages/Wallet/Wallet.js"]},{"id":"Wallet117","message":"Your Address ","files":["shared/pages/Wallet/Wallet.js"]},{"id":"Wallet118","message":"Send, receive, swap","files":["shared/pages/Wallet/Wallet.js"]},{"id":"Wallet119","message":"Actions","files":["shared/pages/Wallet/Wallet.js"]},{"id":"Orders141","message":"No such ticker. Redirecting to SWAP-BTC exchange... ","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"Orders151","message":"My orders","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders101","message":"OWNER","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders102","message":"AMOUNT","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders105","message":"TOTAL","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders106","message":"START EXCHANGE","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders128","message":"Create offer","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders1499","message":"Hide","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"addoffer381","message":"Sell","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"addoffer396","message":"Buy","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"addoffer406","message":"Exchange rate","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"Table95","message":"The table is empty","files":["shared/components/tables/Table/Table.js"]},{"id":"Table96","message":"Loading... ","files":["shared/components/tables/Table/Table.js"]},{"id":"Amount68","message":"My History","files":["shared/pages/History/History.js"]},{"id":"Reqstbttn15","message":"SELL","files":["shared/pages/Home/Orders/RequestButton/RequestButton.js"]},{"id":"Reqstbttn16","message":"BUY","files":["shared/pages/Home/Orders/RequestButton/RequestButton.js"]},{"id":"ExchangeRate12","message":"Exchange Rate","files":["shared/components/modals/OfferModal/ConfirmOffer/ExchangeRate/ExchangeRate.js"]},{"id":"amount","message":"Exchange","files":["shared/components/modals/OfferModal/ConfirmOffer/Amounts/Amounts.js"]},{"id":"fee9","message":"Miner fee","files":["shared/components/modals/OfferModal/ConfirmOffer/Fee/Fee.js"]},{"id":"recieved65","message":"Address copied to clipboard","files":["shared/components/modals/ReceiveModal/ReceiveModal.js"]},{"id":"recieved67","message":"Copy to clipboard","files":["shared/components/modals/ReceiveModal/ReceiveModal.js"]},{"id":"RowHistory94","message":"Finished","files":["shared/pages/History/SwapsHistory/RowHistory/RowHistory.js"]},{"id":"RowHistory139","message":"Stopped","files":["shared/pages/History/SwapsHistory/RowHistory/RowHistory.js"]},{"id":"RowMobileFirstTypeYouGet","message":"You get","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"RowMobileFirstTypeYouHave","message":"You have","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"RowMobileSecondTypeYouGet","message":"You get","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"RowMobileSecondTypeYouHave","message":"You have","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"Wallet137","message":"Deposit funds to addresses below","files":["shared/pages/Wallet/Wallet.js"]},{"id":"SignUpModal133","message":"Something went wrong.{br}Try it later","files":["shared/components/modals/SignUpModal/SignUpModal.js"]},{"id":"SignUpModal000","message":"Thanks!{br}You will receive a notification","files":["shared/components/modals/SignUpModal/SignUpModal.js"]},{"id":"SignUpModal001","message":"Go to my wallet","files":["shared/components/modals/SignUpModal/SignUpModal.js"]},{"id":"SignUpModal002","message":"Sign up","files":["shared/components/modals/SignUpModal/SignUpModal.js"]},{"id":"SignUpModal002-1","message":"One more step","files":["shared/components/modals/SignUpModal/SignUpModal.js"]},{"id":"SignUpModal003","message":"Allow notifications","files":["shared/components/modals/SignUpModal/SignUpModal.js"]},{"id":"SignUpModal004","message":"You will receive notifications regarding updates with your account (orders, transactions){br}and monthly updates about our project{br}{br}Sign up and get your free cryptocurrency for test. Exchange it on real Bitcoin from very begining!","files":["shared/components/modals/SignUpModal/SignUpModal.js"]},{"id":"SignUpModal005","message":"It seems like push notification is not working{br}Please, leave your email for notifications,{br}or try later","files":["shared/components/modals/SignUpModal/SignUpModal.js"]},{"id":"transaction368","message":"Amount must be greater than "},{"id":"transaction376","message":"Amount must be less than your balance","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"Select210","message":"MAX"},{"id":"Withdrow1194","message":"Address"},{"id":"Withdrow159","message":"Amount must be greater than "},{"id":"partial291","message":"Waiting for another participant (30 sec): ","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"Row346","message":"Not activated","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"Row358","message":"Activate"},{"id":"Row377","message":"Not activated"},{"id":"CDC52","message":"Offer list","files":["shared/components/CurrencyDirectionChooser/CurrencyDirectionChooser.js"]},{"id":"Eos71","message":"This account will be registered in EOS blockchain","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"Row288","message":"KeyChain is activated","files":["shared/pages/Wallet/KeychainStatus/KeychainStatus.js"]},{"id":"Row289","message":"KeyChain is not activated","files":["shared/pages/Wallet/KeychainStatus/KeychainStatus.js"]},{"id":"Eos75","message":"Private key for active and owner permissions","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"Eos79","message":"Public key associated with account","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"Eos83","message":"This amount will be withdrawn from your BTC wallet","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"Eos53","message":"Enter your EOS account name","files":["shared/components/modals/EosRegisterModal/EosRegisterModal.js"]},{"id":"Eos57","message":"Enter private key for active permission","files":["shared/components/modals/EosRegisterModal/EosRegisterModal.js"]},{"id":"add408","message":"To change the exchange rate","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"TelosRegister46","message":"Enter TELOS account name","files":["shared/components/modals/TelosChangeAccountModal/TelosChangeAccountModal.js"]},{"id":"TelosRegister52","message":"Enter your TELOS secret key","files":["shared/components/modals/TelosChangeAccountModal/TelosChangeAccountModal.js"]},{"id":"partial223","message":"To change default wallet for buy currency. ","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partial224","message":"Leave empty for use Swap.Online wallet","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partial243","message":"You have","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partial255","message":"You get","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"Approve66","message":"Approve token","files":["shared/components/modals/Approve/Approve.js"]},{"id":"Eos87","message":"EOS Register","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"Eos61","message":"EOS Login","files":["shared/components/modals/EosRegisterModal/EosRegisterModal.js"]},{"id":"Approve","message":"Approve token","files":["shared/components/modals/EthChecker/EthChecker.js"]},{"id":"Import","message":"Import keys","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"Add52","message":"Place an offer","files":["shared/components/modals/OfferModal/OfferModal.js"]},{"id":"Confirm52","message":"Confirm offer","files":["shared/components/modals/OfferModal/OfferModal.js"]},{"id":"ImCAUTIONport","message":"CAUTION!","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"Receive","message":"Receive","files":["shared/components/modals/ReceiveModal/ReceiveModal.js"]},{"id":"ShMoreCoins","message":"Show More Coins","files":["shared/components/modals/ShowMoreCoins/ShowMoreCoins.js"]},{"id":"TELOSLogin","message":"TELOS Login","files":["shared/components/modals/TelosChangeAccountModal/TelosChangeAccountModal.js"]},{"id":"SignUpModal55","message":"Sign up","files":["shared/components/modals/SignUpModal/SignUpModal.js"]},{"id":"Scriptaddress:","message":"Script address:","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"RowHistory281","message":"Received","files":["shared/pages/History/Row/Row.js"]},{"id":"RowHistory282","message":"Sent","files":["shared/pages/History/Row/Row.js"]},{"id":"RowHistory283","message":"Self","files":["shared/pages/History/Row/Row.js"]},{"id":"RowHistory34","message":"Confirmed","files":["shared/pages/History/Row/Row.js"]},{"id":"RowHistory341","message":"Confirm","files":["shared/pages/History/Row/Row.js"]},{"id":"RowHistory342","message":"Unconfirmed","files":["shared/pages/History/Row/Row.js"]},{"id":"timer68","message":"refund ready","files":["shared/pages/Swap/Timer/Timer.js"]},{"id":"BtcToEthToken275","message":"Refund hex transaction:"},{"id":"Header184","message":"This is your personal bitcoin address. We do not store your private keys. Everything is kept in your browser. No server, no back-end, completely decentralized.","files":["shared/components/Header/Header.js"]},{"id":"Header188","message":"Swap Online does NOT store your private keys, please download and keep them in a secured place","files":["shared/components/Header/Header.js"]},{"id":"Header192","message":"This is your bitcoin balance. You can close your browser, reboot your computer. Your funds will remain safe, just don't forget to save your private keys","files":["shared/components/Header/Header.js"]},{"id":"Header194","message":"Do not forget to save your keys","files":["shared/components/Header/Header.js"]},{"id":"Header196","message":"You can store crypto of different blockchains including Bitcoin, Ethereum, EOS, Bitcoin Cash, Litecoin and various token","files":["shared/components/Header/Header.js"]},{"id":"Header200","message":"Our killer feature is the peer-to-peer exchange available in our wallet powered by atomic swap technology. You can perfrom swaps with any crypto listed in our wallet.","files":["shared/components/Header/Header.js"]},{"id":"Header205","message":"You will receive notifications regarding updates with your account (orders, transactions) and monthly updates about our project","files":["shared/components/Header/Header.js"]},{"id":"Header207","message":"show how to save","files":["shared/components/Header/Header.js"]},{"id":"question12","message":"?","files":["shared/components/Header/User/Question/Question.js"]},{"id":"errorImportKeys","message":"Please save your private keys","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"PrivateKeysModal144","message":"Back","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PartialPriceCalc","message":"Calc price","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialPriceNoOrdersReduce","message":"No orders found, try to reduce the amount","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialPriceReduceMin","message":"Maximum available amount:","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialOfferCantProceed1","message":"Request is declined. {link}","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialOfferCantProceed1_1","message":"Why?","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"ErrorBtcLowAmount","message":"{btcAmount} BTC - This amount is too low","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"LessThanIHavePartial","message":"You have not so much money on your balance","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialPriceSearch","message":"Searching orders...","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialUseSwapOnlineWallet","message":"Use Swap.Online wallet","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"UseAnotherWallet","message":"Specify the receiving wallet address","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialYourWalletAddress","message":"Receiving wallet address","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"importkeys118","message":"Please enter BTC private key","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"importkeys119","message":"Please valid BTC private key","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"importkeys200","message":"Please enter LTC private key","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"importkeys201","message":"Please valid LTC private key","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"PartialPriceSearch483","message":"Price: 1"},{"id":"partial437","message":"Atomic Swap {full_name1} ({ticker_name1}) to {full_name2} ({ticker_name2}) Instant Exchange","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partial462","message":"The amount you have in your swap.online wallet or external wallet that you want to exchange","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partial478","message":"The amount you will receive after the exchange","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partial541","message":"Exchange now","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partial544","message":"Order book","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partial767","message":"Your balance: ","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partialAtomicSwapWhatIsIt","message":"Atomic swap is a smart contract technology that enables exchange of one cryptocurrency for another without using centralized intermediaries, such as exchanges.","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partialVideoAndFeaturesTitle","message":"The {purplefastest} cross-chain Atomic Swap exchange","files":["shared/pages/PartialClosure/VideoAndFeatures/VideoAndFeatures.js"]},{"id":"partialVideoAndFeaturesTitlePur","message":"fastest","files":["shared/pages/PartialClosure/VideoAndFeatures/VideoAndFeatures.js"]},{"id":"partialVideoAndFeatures0","message":"Based on Atomic Swap technology","files":["shared/pages/PartialClosure/VideoAndFeatures/VideoAndFeatures.js"]},{"id":"partialVideoAndFeatures1","message":"Exchange only takes 2 minutes","files":["shared/pages/PartialClosure/VideoAndFeatures/VideoAndFeatures.js"]},{"id":"partialVideoAndFeatures2","message":"Supports LTC, BTC, BCH, ETH, USDT, ERC-20 tokens","files":["shared/pages/PartialClosure/VideoAndFeatures/VideoAndFeatures.js"]},{"id":"partialVideoAndFeatures3","message":"Can be deployed on any website as an exchange service","files":["shared/pages/PartialClosure/VideoAndFeatures/VideoAndFeatures.js"]},{"id":"PartialFeeValueWarn","message":"The maximum amount you can sell is {maximumAmount}. Since will have to pay an additional miner fee up to {estimatedFeeValue} {haveCurrency}","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialFeeValueWarn1","message":"+ {estimatedFeeValue} {getCurrency}","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialFeeValueWarn2","message":"~ {estimatedFeeValue}$","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialFeeValueWarnInfo","message":"[About fees]","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"down57","message":"It seems like you're trying to save your private keys. Just copy this keys and paste into notepad textarea. Also you can download it as a .txt file.","files":["shared/components/modals/DownloadModal/DownloadModal.js"]},{"id":"down64","message":"Address copied to clipboard","files":["shared/components/modals/DownloadModal/DownloadModal.js"]},{"id":"down65","message":"Copy to clipboard","files":["shared/components/modals/DownloadModal/DownloadModal.js"]},{"id":"downFile2","message":"Download txt file","files":["shared/components/modals/DownloadModal/DownloadModal.js"]},{"id":"down97","message":"Your private keys!","files":["shared/components/modals/DownloadModal/DownloadModal.js"]},{"id":"Reqstbttn22","message":"FOR","files":["shared/pages/Home/Orders/RequestButton/RequestButton.js"]},{"id":"Row206","message":"Buy","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"Row2061","message":"Sell","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"Row210","message":"for","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"downloadModal73","message":"Account name:","files":["shared/components/modals/DownloadModal/DownloadModal.js"]},{"id":"downloadModal75","message":"Address:","files":["shared/components/modals/DownloadModal/DownloadModal.js"]},{"id":"downloadModal782","message":"Private key","files":["shared/components/modals/DownloadModal/DownloadModal.js"]},{"id":"PreventMultiTabs12","message":"Swap.Online supports only one active tab.\n    Please reload this page to continue  using this tab or close it","files":["shared/components/PreventMultiTabs/PreventMultiTabs.js"]},{"id":"EthTokenToUsdt375","message":"Please note that USDT withdrawal may take a while to mine and to propagate the network.\n                    Due to Omni Protocol properties, the transaction may show up at the OmniExplorer in up to 20 minutes.","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"addOfferPartialTooltip","message":"You will receive exchange requests or the {p} amount less than the total amount you want {p} sell. For example you want to sell 1 BTC,\n        other users can send you exchange requests {p}for 0.1, 0.5 BTC","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"WTH275","message":"Make sure the wallet you {br}are sending the funds to supports"},{"id":"SaveKeys235","message":"These are your private keys.{br}Download the keys by clicking on the button\n              {br} or take a screenshot of this page, then confirm it and click here.","files":["shared/components/SaveKeys/SaveKeys.js"]},{"id":"orders156","message":"BUY {buyCurrency} HERE","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders159","message":"orders of those who {sell} {buyCurrency} to you","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"WithdrawButton322","message":"You can not send this asset, because you have a zero balance.","files":["shared/components/controls/WithdrawButton/BtnTooltip.js"]},{"id":"Row1511","message":"at price {price}","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"Row159","message":"for {total}","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"CurrencyWallet141","message":"Swap.Online - {fullName}({currency}) Web Wallet with Atomic Swap."},{"id":"orders189","message":"buy","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders186","message":"orders of those who {buy} {buyCurrency} from you","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"CurrencyButton41","message":"Deposit this cryptocurrency to your wallet","files":["shared/components/controls/CurrencyButton/CurrencyButton.js"]},{"id":"CurrencyButton42","message":"You can not send this asset, because you have a zero balance.","files":["shared/components/controls/CurrencyButton/CurrencyButton.js"]},{"id":"PrivateKeysModal122","message":"Continuing you agree with our ","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal123","message":"privacy policy","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"Areyousure","message":"Are you sure ?","files":["shared/components/modals/SaveKeysModal/SaveKeysModal.js"]},{"id":"PartialClosure","message":"The wallet address to where cryptocurrency will be sent after the exchange","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"CurrencyWallet168","message":"Your address: {address}{br}Your {fullName} balance: {balance} {currency}","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"currencyWallet27","message":"Coin","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"currencyWallet28","message":"Status","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"currencyWallet29","message":"Statement","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"currencyWallet30","message":"Amount","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"Withdraw18333","message":"Withdraw {data}"},{"id":"ImportKeys205","message":"Please enter LTC private key in WIF format","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"importkeys172","message":"Please enter ETH private key","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"importkeys173","message":"Please valid ETH private key","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"importkeys190","message":"Something went wrong. Check your private key, network of this address and etc.","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"WithdrawIncorectAddress","message":"Your address not correct"},{"id":"Withdrow168","message":"The amount must be less than your balance by the minimum amount for the transaction {min} {currency}"},{"id":"Withdrow170","message":"The amount must be no more than your balance"},{"id":"PartialPriceSearch502","message":"1 {getCurrency} = {haveCurrency}","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialClosureTitleTag","message":"Atomic Swap {full_name1} ({ticker_name1}) to {full_name2} ({ticker_name2}) Instant Exchange"},{"id":"PartialClosureTitleTag1","message":"Fastest cross-chain exchange powered by Atomic Swap"},{"id":"PartialClosureMetaDescrTag","message":"Best exchange rate for {full_name1} ({ticker_name1}) to {full_name2} ({ticker_name2}). Swap.Online wallet provides instant exchange using Atomic Swap Protocol."},{"id":"Continue","message":"Continue","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"Sign","message":"Sign","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"orders104","message":"PRICE FOR 1 {buyCurrency}","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders1381","message":"{pair} no limit exchange with 0 fee","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"currencyIcon15","message":"Error","files":["shared/components/ui/CurrencyIcon/CurrencyIcon.js"]},{"id":"Withdrow213","message":"Please note: Miners fee is {minAmount} {data}.{br}Your balance must exceed this sum to perform transaction."},{"id":"WithdrawModal256","message":"No less than {minAmount}"},{"id":"WithdrawModal263","message":"You need {minAmount} ETH on your balance"},{"id":"WithdrawModalErrorSend","message":"{errorName} {currency}:{br}{errorMessage}"},{"id":"RowHistory77","message":"Refunded","files":["shared/pages/History/SwapsHistory/RowHistory/RowHistory.js"]},{"id":"timer671","message":"{min} minute left for refund","files":["shared/pages/Swap/Timer/Timer.js"]},{"id":"CurrencyWallet148","message":"Swap.Online - ${fullName} (${currency}) Web Wallet with Atomic Swap."},{"id":"CurrencyWallet154","message":"Atomic Swap Wallet allows you to manage and securely exchange ${fullName} (${currency}) with 0% fees. Based on Multi-Sig and Atomic Swap technologies.","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"Orders121","message":"Atomic Swap {buyCurrencyFullName} ({buyCurrency}) to {sellCurrencyFullName} ({sellCurrency}) Instant Exchange","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"Orders127","message":"Best exchange rate for {buyCurrencyFullName} ({buyCurrency}) to {sellCurrencyFullName} ({sellCurrency}). Swap.Online wallet provides instant exchange using Atomic Swap Protocol.","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders182","message":"SELL {buyCurrency} HERE"},{"id":"Wallet140","message":"Swap.Online - Cryptocurrency Wallet with Atomic Swap Exchange","files":["shared/pages/Wallet/Wallet.js"]},{"id":"Wallet146","message":"Our online wallet with Atomic swap algorithms will help you store and exchange cryptocurrency instantly and more secure without third-parties. Decentralized exchange.","files":["shared/pages/Wallet/Wallet.js"]},{"id":"Wallet156","message":"Welcome to Swap.Online, a decentralized cross-chain wallet based on Atomic Swap technology.{br}Here you can safely store and promptly exchange Bitcoin, Ethereum, EOS, USD, Tether, BCH, and numerous ERC-20 tokens.{br}{br}Swap.Online doesn’t store your keys or tokens. Our wallet operates directly within your browser, so no additional installations or downloads are required.{br}The Swap.Online service is fully decentralized.  All operations with tokens are executed via the IPFS network.{br}{br}Our team was the first to finalize Atomic Swaps with USDT and EOS in September 2018 and Litecoin blockchain was added in October 2018.{br}Our wallet addresses real multi-chain integration with a decentralized order book - no third party involved in the exchange, no proxy-token and no token wrapping.{br}We can integrate any ERC-20 token of a project for free!  We just ask for a mutually beneficial PR announcement!{br}{br}In addition, we developed Swap.Button, a b2b-solution to exchange all kinds of tokens for Bitcoin and Ethereum.{br}Install Swap.Button html widget on your site and collect crypto investments for your project.{br}{br}Start using https://swap.online/ today and enjoy the power of true decentralization.","files":["shared/pages/Wallet/Wallet.js"]},{"id":"PartialClosure562","message":"Swap.online is a decentralized hot wallet powered by Atomic swap technology. Exchange Bitcoin, USD Tether, BCH, EOS within seconds. No commission for exchange (only miners fee). {br}{br}Swap.Online uses IPFS-network for all the operational processes which results in no need for centralized server. {br}The interface of exchange seems to look like that of crypto broker, not of ordinary DEX or CEX. In a couple of clicks, the user can place and take the offer, customizing the price of sent token. {br}{br}Also, the user can exchange the given percentage of his or her amount of tokens available (e.g. ½, ¼ etc.). {br}{br}One more advantage of the Swap.Online exchange service is the usage of one key for the full range of ERC-20 tokens. {br}By the way, if case you’re not interested in exchange of some tokens, you can hide it from the list. {br}Thus, use Swap.Online as your basic exchange for every crypto you’re holding!","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"RowWallet276","message":" node is down (You can not perform transactions). ","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"RowWallet282","message":"Need help?","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"RowWallet283","message":"Activate","files":["shared/pages/Wallet/KeychainStatus/KeychainStatus.js"]},{"id":"RowWallet284","message":"Deactivate","files":["shared/pages/Wallet/KeychainStatus/KeychainStatus.js"]},{"id":"ErrorNotification151","message":"Error: {error}","files":["shared/components/notifications/ErrorNotification/ErrorNotification.js"]},{"id":"BtcToEthToken222","message":"Creating Bitcoin Script. \n Please wait, it can take a few minutes"},{"id":"deposit213","message":" and 0.002 ETH gas fee "},{"id":"deposit165","message":"To continue the swap copy this address and top it up with {missingBalance}","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"deposit297","message":"link to explorer","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"deposit177","message":"Do not top up the contract with the greater amount than recommended. {br} The remaining balance will be send to the counter party. {br} You can send {tokenName} from a wallet of any exchange","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"deposit231","message":"Received {balance} / {need} {tooltip}"},{"id":"deposit239","message":"Swap will continue after {tokenName} contract receives the funds. {br} Is usually takes less than 10 min","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"Deposit52","message":"You have {timer} min to make the payment","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"deposit198","message":"waiting for payment...","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"deposit198.1","message":"create Ethereum Contract. \n Please wait, it can take a few minutes...","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"BtcToEthToken201","message":"Creating a secret key"},{"id":"BtcToEthToken213","message":"2. Created a secret key"},{"id":"BtcToEthToken256","message":"Send your funds"},{"id":"BtcToEthToken157","message":"1. Confirmation"},{"id":"BtcToEthToken1245","message":"Sent funds"},{"id":"ReceiveModal50","message":"This is your {currency} address","files":["shared/components/modals/ReceiveModal/ReceiveModal.js"]},{"id":"OrdersWidgetModeShowWallet","message":"Wallet","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"swapFinishedGoHome","message":"Return to home page"},{"id":"KeyActionsPanel73","message":"Hide / Add Coins","files":["shared/components/KeyActionsPanel/KeyActionsPanel.js"]},{"id":"userTooltip43","message":"User ({reputation}) wants to swap","files":["shared/components/Header/User/UserTooltip/UserTooltip.js"]},{"id":"advantagesTitle","message":"Why we are different from other exchanges"},{"id":"advantagesTitle1","message":"0% commission"},{"id":"advantagesTitle3","message":"No 3d party"},{"id":"advantagesTitle4","message":"Super fast"},{"id":"advantagesTxt1","message":"The exchange is happening between you and other crypto holders (peer-2-peer). No percentage charged of the transaction."},{"id":"advantagesTxt2","message":"We do not require any registration or personal authentication. (we don’t collect any data about the users)"},{"id":"advantagesTxt3","message":"No-one can interfere with the exchange process."},{"id":"advantagesTxt4","message":"You can exchange right now. The transaction is direct and within 2 minutes."},{"id":"advantagesButtonTitle","message":"How it works?","files":["shared/pages/PartialClosure/PureComponents/Advantages.js"]},{"id":"advantagesButtonTxt","message":"(Watch the video)","files":["shared/pages/PartialClosure/PureComponents/Advantages.js"]},{"id":"advVidLink","message":"https://youtu.be/Jhrb7xOT_7s"},{"id":"VidLinkFrame","message":"https://www.youtube.com/embed/euT8rScwfEk"},{"id":"GitHub","message":"GitHub"},{"id":"SwitchLang20","message":"EN","files":["shared/components/Footer/SwitchLang/SwitchLang.js"]},{"id":"SwitchLang24","message":"RU","files":["shared/components/Footer/SwitchLang/SwitchLang.js"]},{"id":"ReferralLinks1","message":"Share the link above!  Each user who visits swap through the above referral link will get up to 10 SWAP tokens.  What’s in it for you?  Each time one of those users makes a successful swap (including operations with bonus tokens), you’ll earn SWAP tokens too!","files":["shared/components/Footer/Referral/Referral.js"]},{"id":"ReferralLinks2","message":"Limits and conditions","files":["shared/components/Footer/Referral/Referral.js"]},{"id":"swapJS341","message":"Show bitcoin script","files":["shared/pages/Swap/ShowBtcScript/ShowBtcScript.js"]},{"id":"FeeControler48","message":"Copied","files":["shared/pages/Swap/FeeControler/FeeControler.js"]},{"id":"FeeControler49","message":"Copy","files":["shared/pages/Swap/FeeControler/FeeControler.js"]},{"id":"FeeControler68","message":"Not enough ETH on your balance for miner fee.{br}Deposit {gasAmountNeeded} ETH to your account","files":["shared/pages/Swap/FeeControler/FeeControler.js"]},{"id":"FailControler68","message":"Error in the execution of the token contract!{br}{br}Perhaps there is an additional commission on the contract side or the error occured for another reason","files":["shared/pages/Swap/FailControler/FailControler.js"]},{"id":"BtcToEthToken102","message":"Swapping"},{"id":"BtcToEthToken111","message":"Withdrawing {name} from a contract"},{"id":"BtcToEthToken123","message":"The swap is finish!!","files":["shared/pages/Swap/SwapList/steps/FourthStep.js"]},{"id":"BtcToEthToken132","message":"Finished!"},{"id":"BtcToEthToken34","message":"Confirmation process"},{"id":"BtcToEthToken43","message":"Confirmation processing"},{"id":"BtcToEthToken58","message":"Depositing Bitcoin to a smart contract"},{"id":"BtcToEthToken80","message":"Depositing {name} to a smart contract"},{"id":"BtcToEthToken89","message":"{name} deposition"},{"id":"swapFinishedGoHome289","message":"Submit the Secret","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"swapFinishedGoHome298","message":"Everything is OK. Continue","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"swapprogress254","message":"Refund transaction:","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"swapprogress270","message":"Try refund","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"swapprogress271","message":"Try again in a few minutes","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"swappropgress233","message":"ETH transaction:"},{"id":"swappropgress258","message":"BTC transaction:"},{"id":"swappropgress332","message":"How refund your money ?"},{"id":"swappropgress333","message":"Refund hex transaction:","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"ethToBtcText20","message":"Waiting for BTC Owner to create Secret Key, create BTC Script and charge it","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthToBtc.js"]},{"id":"ethToBtcText25","message":"The bitcoin Script was created and charged. Check the information below","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthToBtc.js"]},{"id":"ethToBtcText26","message":"Confirmation processing","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthToBtc.js"]},{"id":"ethToBtcText28","message":"Checking balance..","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthToBtc.js"]},{"id":"ethToBtcText32","message":"Creating Ethereum Contract.{br}It can take a few minutes. (It may require 1 confirmation from bitcoin network)","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthToBtc.js"]},{"id":"ethToBtcText36","message":"Waiting for BTC Owner to add a Secret Key to ETH Contact","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthToBtc.js"]},{"id":"ethToBtcText40","message":"ETH was successfully transferred. Withdrawing BTC.","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthToBtc.js"]},{"id":"ethToBtcText44","message":"Thank you for using Swap.Online","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthToBtc.js"]},{"id":"ethToBtcText48","message":"Thank you for using Swap.Online!","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthToBtc.js"]},{"id":"WalletPromoLinkText","message":"Open poll","files":["shared/pages/Wallet/Wallet.js"]},{"id":"WalletPromoText","message":"🎁 🎁 🎁 Thank you for using Swap.Online!\n                Tell us about your experience with our service\n                and we will gift you $10 in BTC 🎁 🎁 🎁","files":["shared/pages/Wallet/Wallet.js"]},{"id":"orders224","message":"SELL {buyCurrency} HERE","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"swappropgress246","message":"Sign ETH transaction:"},{"id":"BitcoinBuyText17","message":"Confirmation processing","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEthTokens.js"]},{"id":"BtcToEthToken20","message":"Creating a secret key","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEthTokens.js"]},{"id":"BitcoinBuyText29","message":"Checking balance..","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEthTokens.js"]},{"id":"BitcoinBuyText33","message":"Creating Bitcoin Script. \n It can take a few minutes","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEthTokens.js"]},{"id":"BitcoinBuyText37","message":"{buyCurrency} Owner received Bitcoin Script and Secret Hash. Creating {buyCurrency} contract","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEthTokens.js"]},{"id":"BitcoinBuyText41","message":"{buyCurrency}  contract was created and charged. Withdrawing {buyCurrency}.","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEthTokens.js"]},{"id":"BitcoinBuyText45","message":"{buyCurrency} tokens was transferred to your wallet. Check the balance.","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEthTokens.js"]},{"id":"BitcoinBuyText49","message":"Thank you for using Swap.Online","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEthTokens.js"]},{"id":"BitcoinBuyText53","message":"Thank you for using Swap.Online!","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEthTokens.js"]},{"id":"EthTokensToBtc16","message":"Confirmation processing.","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthTokensToBtc.js"]},{"id":"EthTokensToBtc20","message":"Waiting for BTC Owner to create Secret Key, create BTC Script and charge it","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthTokensToBtc.js"]},{"id":"EthTokensToBtc24","message":"The bitcoin Script was created and charged. Check the information below","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthTokensToBtc.js"]},{"id":"EthTokensToBtc28","message":"Checking balance..","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthTokensToBtc.js"]},{"id":"EthTokensToBtc32","message":"Creating Ethereum Contract. {br} It can take a few minutes (It may require 1 confirmation from bitcoin network)","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthTokensToBtc.js"]},{"id":"EthTokensToBtc36","message":"Waiting for BTC Owner to add a Secret Key to ETH Contact","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthTokensToBtc.js"]},{"id":"EthTokensToBtc40","message":"ETH was successfully transferred. Withdrawing BTC.","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthTokensToBtc.js"]},{"id":"EthTokensToBtc44","message":"Thank you for using Swap.Online","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthTokensToBtc.js"]},{"id":"EthTokensToBtc48","message":"Thank you for using Swap.Online!","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthTokensToBtc.js"]},{"id":"EmergencySave33","message":"Debug","files":["shared/pages/Swap/EmergencySave/EmergencySave.js"]},{"id":"swappropgress193","message":"Sign ETH transaction: {transaction}","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"swappropgress207","message":"{transaction}","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"swappropgress218","message":"{transaction}","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"Row401","message":"Create account"},{"id":"Row420","message":"Use another"},{"id":"Row426","message":"Login with your existing EOS account","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"Row431","message":"Login with your existing TLOS account","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"Row440","message":"Create Telos account in 1 click","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"withdrowTitle271","message":"Withdraw"},{"id":"PreventMultiTabsWidgetBuild","message":"Atomic Swap Widget supports only one active tab. Please reload this page to continue using this tab or close it","files":["shared/components/PreventMultiTabs/PreventMultiTabs.js"]},{"id":"CurrencyWalletTitle","message":"Swap.Online - {fullName} ({currency}) Web Wallet with Atomic Swap.","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"CurrencyWalletWidgetBuildTitle","message":"{fullName} ({currency}) Web Wallet with Atomic Swap.","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"PartialUseInternalWallet","message":"Use internal wallet","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"deposit256","message":"The address of {tokenName} smart contract","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"FourthStep33","message":"(tx)"},{"id":"WalletWidgetBuildTitle","message":"Cryptocurrency Wallet with Atomic Swap Exchange","files":["shared/pages/Wallet/Wallet.js"]},{"id":"transaction444","message":"Sell amount must be greater than","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"transaction450","message":"Buy amount must be greater than","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"deposit300","message":"Received {balance} / {need} {tooltip}","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"deposit307","message":"(included {mineerFee} {sellCurrency} miners fee)"},{"id":"Select26","message":"1/4","files":["shared/components/modals/OfferModal/AddOffer/Select/Select.js"]},{"id":"Select27","message":"1/2","files":["shared/components/modals/OfferModal/AddOffer/Select/Select.js"]},{"id":"deposit320","message":"(included {mineerFee} {sellCurrency} miners fee)","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"BtcToEthToken25","message":"Depositing Bitcoin {fromWhom} to the contract"},{"id":"FourthStep28","message":"from you"},{"id":"FourthStep29","message":"from seller"},{"id":"ThirdStep25","message":"Depositing {name} {fromWhom} to the contract"},{"id":"ThirdStep30","message":"from seller"},{"id":"ThirdStep31","message":"from you"},{"id":"BtcToEthToken24","message":"Deposit","files":["shared/pages/Swap/SwapList/steps/SecondStep.js"]},{"id":"FourthStep36","message":"({btcTx} tx)","files":["shared/pages/Swap/SwapList/steps/SecondStep.js","shared/pages/Swap/SwapList/steps/ThirdStep.js"]},{"id":"FourthStep52","message":"({otherCurrency} tx)","files":["shared/pages/Swap/SwapList/steps/SecondStep.js"]},{"id":"FourthStep34","message":"({sell} tx)","files":["shared/pages/Swap/SwapList/steps/ThirdStep.js"]},{"id":"thirdStep24","message":"WITHDRAW","files":["shared/pages/Swap/SwapList/steps/ThirdStep.js"]},{"id":"confirmDialogDefaultMessage","message":"Confirm action on this site?","files":["shared/components/modals/Confirm/Confirm.js"]},{"id":"confirmDialogDefaultNo","message":"No","files":["shared/components/modals/Confirm/Confirm.js"]},{"id":"confirmDialogDefaultTitle","message":"Confirm action","files":["shared/components/modals/Confirm/Confirm.js"]},{"id":"confirmDialogDefaultYes","message":"Yes","files":["shared/components/modals/Confirm/Confirm.js"]},{"id":"orders94s","message":"Are you sure you want to delete the order?","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"ordersRow101","message":"buy","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"ordersRow134","message":"Do you want to {action} {amount} {main} for {total} {base} at price {price} {main}/{base}?","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"ordersRow97","message":"sell","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"deposit165widget","message":"Copy the address below and top it up with the recommended amount of {missingBalance}","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"userTooltip71","message":"Go to the feed page","files":["shared/components/Header/User/UserTooltip/UserTooltip.js"]},{"id":"KeyActionsPane74","message":"incomplete swap ({length})","files":["shared/components/KeyActionsPanel/KeyActionsPanel.js"]},{"id":"decline21","message":"Declined orders!","files":["shared/components/modals/DeclineOrdersModal/DeclineOrdersModal.js"]},{"id":"decline43","message":"Sorry, but you have cannot start until you complete the swaps started earlier","files":["shared/components/modals/DeclineOrdersModal/DeclineOrdersModal.js"]},{"id":"decline49","message":"See your incomplete swap","files":["shared/components/modals/DeclineOrdersModal/DeclineOrdersModal.js"]},{"id":"Incompleted21","message":"Incompleted Swaps","files":["shared/components/modals/IncompletedSwaps/IncompletedSwaps.js"]},{"id":"IncompletedSwaps49","message":"Swaps needing to complete","files":["shared/components/modals/IncompletedSwaps/IncompletedSwaps.js"]},{"id":"swappropgress327","message":"this Swap is canceled","files":["shared/pages/Swap/Swap.js"]},{"id":"swappropgress400","message":"Refund is taking automatically","files":["shared/pages/Swap/Swap.js"]},{"id":"swapprogressDONTLEAVE","message":"Please do not leave this page ","files":["shared/pages/Swap/SwapProgress/SwapProgressText/PleaseDontLeaveWrapper.js"]},{"id":"swapjsdontleave","message":"The exchange requires signing with private keys that only your browser knows.","files":["shared/pages/Swap/SwapProgress/SwapProgressText/PleaseDontLeaveWrapper.js"]},{"id":"Confirmation14","message":"Confirmation","files":["shared/pages/Swap/SwapList/steps/FirstStep.js"]},{"id":"completed21","message":"is completed!"},{"id":"swappropgress192","message":"How to refund your money ?","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"FeeControler34","message":"Not enough ETH on your balance for miner fee.{br}Deposit 0.002 ETH to your account  {br}"},{"id":"swapjs290","message":"Cancel swap","files":["shared/pages/Swap/SwapList/SwapList.js"]},{"id":"IncompletedSwaps55","message":"Data processed, try to reload the page","files":["shared/components/modals/IncompletedSwaps/IncompletedSwaps.js"]},{"id":"partial795","message":"Available balance is your balance minus the miners commission will appear","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"ErrorNotAvailable","message":"Available balance to swap is {available}"},{"id":"select75","message":"Available for exchange: {availableBalance} {tooltip}","files":["shared/pages/PartialClosure/SelectGroup/SelectGroup.js"]},{"id":"selected53","message":"You can use an external wallet to perform a swap","files":["shared/pages/PartialClosure/SelectGroup/SelectGroup.js"]},{"id":"Select28","message":"ALL","files":["shared/components/modals/OfferModal/AddOffer/Select/Select.js"]},{"id":"tourPartial103","message":"In this place you can see the status of the search for exchange offers,  during loading there will be an inscription “Search for orders” at this place, when the order is found in this place, the exchange rate will be written","files":["shared/components/Header/TourPartial/TourPartial.js"]},{"id":"tourPartial107","message":"With this switch, you can choose to receive funds on your swap.online or external wallet","files":["shared/components/Header/TourPartial/TourPartial.js"]},{"id":"tourPartial116","message":"Click this button once it turns pink and it will link you to the exchange","files":["shared/components/Header/TourPartial/TourPartial.js"]},{"id":"tourPartial128","message":"By clicking on this button you will go to the page with offers for an exchange. Offers will be presented depending on the selected currencies. Also on the offer page, you can create your own offer.","files":["shared/components/Header/TourPartial/TourPartial.js"]},{"id":"tourPartial62","message":"This page is designed for easier and faster search for offers for exchange. Here you can choose a currency receipt purse, start an exchange with partial closure or go to the page with all available offers."},{"id":"tourPartial94","message":"Select the currency and enter the amount you want to sell.","files":["shared/components/Header/TourPartial/TourPartial.js"]},{"id":"tourPartial99","message":"Select the currency and enter the amount you want to buy","files":["shared/components/Header/TourPartial/TourPartial.js"]},{"id":"FooterAboutAgreements","message":"Agreements","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterAboutCompany","message":"About company","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterAboutContacts","message":"Contacts","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterAboutHeader","message":"About company","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterAboutLegal","message":"Legal","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterAboutPrivacyPolicy","message":"Privacy policy","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterOurProductsChromeExtantion","message":"Chrome extension","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterOurProductsExchange","message":"Exchange","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterOurProductsHeader","message":"Our products","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterOurProductsWallet","message":"Wallet","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterOurProductsWidget","message":"Widget","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterPartnershipForBlockchains","message":"For Blockchains","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterPartnershipForDEXes","message":"For DEXes","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterPartnershipForERC20","message":"For ERC20 tokens","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterPartnershipForNewsWebsites","message":"For news websites","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterPartnershipForstablecoin","message":"For stablecoins","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterPartnershipHeader","message":"Partnership","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterTechnologyGithub","message":"GitHub","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterTechnologyHeader","message":"Technology","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterTechnologyWhitepaper","message":"Whitepaper","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterTechnologyWiki","message":"Wiki","files":["shared/components/Footer/Links/Links.js"]},{"id":"Keychain","message":"KeyChain Activation","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain114","message":"KeyChain is loading. Please wait.","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain116","message":"Back","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain1165","message":"KeyChain is activated. If you wish to deactivate KeyChain, note that your key will be replaced with a new one.","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain130","message":"You need to install KeyChain to proceed","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain133","message":"Download","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain141","message":"Positive balance error","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain144","message":"Would you like to protect your keys with KeyChain? Note that your address will be changed","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain157","message":"Confirm","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain167","message":"Deactivate","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain173","message":"KeyChain is not installed but activated","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain175","message":"Deactivate","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain179","message":"Download","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain185","message":"Back","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"SecondStep","message":"On this step, the crypto goes not to your wallet {br}or to the wallet of your counterparty but directly to the swap contract","files":["shared/pages/Swap/SwapList/steps/SecondStep.js"]},{"id":"thirdStep","message":"Оn this step crypto is transferred from {br}the contract to your wallet and to the wallet {br} of your counterparty {br}","files":["shared/pages/Swap/SwapList/steps/ThirdStep.js"]},{"id":"Partial955","message":"Address not correct","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"FooterOurProductsBankDashboard","message":"Bank dashboard","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterTechnologyComparsion","message":"Comparsion","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterTechnologyLNResearch","message":"LN","files":["shared/components/Footer/Links/Links.js"]},{"id":"IEO_title_1","message":"Get up to 5 SWAP for each action:","files":["shared/pages/IEO/IEO.js"]},{"id":"IEO_titles_1","message":"Step","files":["shared/pages/IEO/IEO.js"]},{"id":"IEO_titles_2","message":"Action","files":["shared/pages/IEO/IEO.js"]},{"id":"IEO_titles_3","message":"Input","files":["shared/pages/IEO/IEO.js"]},{"id":"IEO_btn_1","message":"Save","files":["shared/pages/IEO/IEO.js"]},{"id":"IEO_btn_2","message":"Registred","files":["shared/pages/IEO/IEO.js"]},{"id":"IEO_row_1","message":"Subscribe to our twitter https://twitter.com/SwapOnlineTeam, enter your twitter: ","files":["shared/pages/IEO/IEO.js"]},{"id":"IEO_row_2","message":"Subscribe to our facebook https://www.facebook.com/SwapOnlineTeam, enter your facebook: ","files":["shared/pages/IEO/IEO.js"]},{"id":"IEO_row_3","message":"Subscribe to our reddit https://www.reddit.com/r/SwapOnline, enter your reddit: ","files":["shared/pages/IEO/IEO.js"]},{"id":"IEO_row_4","message":"Subscribe to our github https://github.com/swaponline, enter your github: ","files":["shared/pages/IEO/IEO.js"]}]

/***/ }),

/***/ 3340:
/***/ (function(module, exports) {

module.exports = [{"id":"menu.aboutus","message":"О Нас","files":["shared/components/Header/Header.js"]},{"id":"menu.exchange","message":"Обмен","files":["shared/components/Header/Header.js"]},{"id":"menu.history","message":"Моя История","files":["shared/components/Header/Header.js"]},{"id":"menu.wallet","message":"Кошелёк","files":["shared/components/Header/Header.js"]},{"id":"menu.CreateWallet","message":"Создать кошелёк","files":["shared/components/Header/Header.js"]},{"id":"createWalletLoaderTip","message":"Создаем кошелёк... Пожалуйста подождите.","files":["shared/components/Header/Header.js"]},{"id":"LtcToEth.orderCreatorIsOffline","message":"Автор ушел","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"avatar24","message":"Автоматически созданный граватар, уникальный для каждого пользователя. Число равно рейтингу в системе (увеличивается с каждым успешным свопом)","files":["shared/components/Header/User/User.js"]},{"id":"ConConfirm25firm20","message":"Нет","files":["shared/components/Confirm/Confirm.js"]},{"id":"Confirm20","message":"Да","files":["shared/components/Confirm/Confirm.js"]},{"id":"CDC63","message":"Обменять ","files":["shared/components/CurrencyDirectionChooser/CurrencyDirectionChooser.js"]},{"id":"CDC75","message":"На ","files":["shared/components/CurrencyDirectionChooser/CurrencyDirectionChooser.js"]},{"id":"CurrencyDirectionChooser54","message":"Выберите валютную пару","files":["shared/components/CurrencyDirectionChooser/CurrencyDirectionChooser.js"]},{"id":"CurrencyDirectionChooser86","message":"ПОКАЗАТЬ ОРДЕРА","files":["shared/components/CurrencyDirectionChooser/CurrencyDirectionChooser.js"]},{"id":"Nav88","message":"Листинг","files":["shared/components/Header/Nav/Nav.js"]},{"id":"ADDoffer22","message":"Перейти в Mainnet","files":["shared/components/Header/User/SignUpButton/SignUpButton.js"]},{"id":"ADDoffer2218","message":"Mainnet","files":["shared/components/Header/User/SignUpButton/SignUpButton.js"]},{"id":"ADDoffer29","message":"Регистрация (получите до 10$ в подарок)","files":["shared/components/Header/User/SignUpButton/SignUpButton.js"]},{"id":"ADDoffer33","message":"Подписаться на обновление новостей Swap.Online","files":["shared/components/Header/User/SignUpButton/SignUpButton.js"]},{"id":"question15","message":"Узнать о Нас больше","files":["shared/components/Header/User/Question/Question.js"]},{"id":"QUESTION15","message":"Служба поддержки"},{"id":"transactionLink28","message":"Транзакция: ","files":["shared/components/Href/TransactionLink.js"]},{"id":"KeyActionsPanel43","message":"Выйти","files":["shared/components/KeyActionsPanel/KeyActionsPanel.js"]},{"id":"KeyActionsPanel46","message":"Показать ключи","files":["shared/components/KeyActionsPanel/KeyActionsPanel.js"]},{"id":"KeyActionsPanel49","message":"Импортировать","files":["shared/components/KeyActionsPanel/KeyActionsPanel.js"]},{"id":"KeyActionsPanel53","message":"Показать больше валют"},{"id":"Loader21","message":"Пожалуйста подождите, потребуется 3-5 минут для проведения транзакции. ","files":["shared/components/loaders/Loader/Loader.js"]},{"id":"logo29","message":"Домой","files":["shared/components/Logo/LogoTooltip.js"]},{"id":"EosRegAccountModal54","message":"Имя пользователя","files":["shared/components/modals/EosRegisterModal/EosRegisterModal.js"]},{"id":"EosRegAccountModal58","message":"Активировать приватный ключ","files":["shared/components/modals/EosRegisterModal/EosRegisterModal.js"]},{"id":"EosRegAccountModal63","message":"Произошла ошибка при активации","files":["shared/components/modals/EosRegisterModal/EosRegisterModal.js"]},{"id":"EosRegAccountModal70","message":"Войти","files":["shared/components/modals/EosRegisterModal/EosRegisterModal.js"]},{"id":"Approve70","message":"Укажите лимит суммы для Смарт контрактов. Мы не рекомендуем устанавливать какие-либо ограничения. ","files":["shared/components/modals/Approve/Approve.js"]},{"id":"Approve73","message":"Сумма","files":["shared/components/modals/Approve/Approve.js"]},{"id":"Approve80","message":"Подтвердить","files":["shared/components/modals/Approve/Approve.js"]},{"id":"EosBuyAccountModal103","message":"Произошла ошибка при активации, попробуйте снова","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"EosBuyAccountModal109","message":"Транзакция: ","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"EosBuyAccountModal114","message":"Создать аккаунт","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"EosBuyAccountModal72","message":"Имя аккаунта","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"EosBuyAccountModal78","message":"Приватный ключ ","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"EosBuyAccountModal84","message":"Общедоступный ключ ","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"EosBuyAccountModal90","message":"Цена (BTC) ","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"EthChecker19","message":"Этот Токен работает на сети Ethereum blockchain. Для осуществления операций у Вас должно быть не менее 0.02 ETH на балансе","files":["shared/components/modals/EthChecker/EthChecker.js"]},{"id":"EthChecker23","message":"Кошелек","files":["shared/components/modals/EthChecker/EthChecker.js"]},{"id":"Keychain23","message":"Скачать"},{"id":"Keychain26","message":"KeyChain загружается. Пожалуйста, подождите."},{"id":"ImportKeys107","message":"Эта процедура перепишет Ваш общедоступный ключ. Если Вы не уверены, Мы рекомендуем Вам отказаться","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"ImportKeys110","message":"Введите Ваш ETH приватный ключ","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"ImportKeys120","message":"Введите Ваш BTC приватный ключ в WIF формате","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"ImportKeys280","message":"Введите Ваш BCH приватный ключ в WIF формате","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"ImportKeys130","message":"Подтвердить","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"ImportKeys133","message":"Отменить","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"Group14","message":"Загрузить","files":["shared/components/modals/ImportKeys/Group/Group.js"]},{"id":"Select10","message":"Доступная сумма для продажи ","files":["shared/components/modals/OfferModal/AddOffer/Select/Select.js"]},{"id":"Select15","message":"  ","files":["shared/components/modals/OfferModal/AddOffer/Select/Select.js"]},{"id":"Select24","message":"ВСЕ! "},{"id":"ConfirmOffer69","message":"Назад","files":["shared/components/modals/OfferModal/ConfirmOffer/ConfirmOffer.js"]},{"id":"ConfirmOffer73","message":"Опубликовать","files":["shared/components/modals/OfferModal/ConfirmOffer/ConfirmOffer.js"]},{"id":"ExchangeRate14","message":"  =  ","files":["shared/components/modals/OfferModal/ConfirmOffer/ExchangeRate/ExchangeRate.js"]},{"id":"Feld82","message":"НЕВЕРНЫЙ ПРИВАТНЫЙ ключ! Попробуйте снова! ","files":["shared/components/modals/PrivateKeysModal/Field2/Field2.js"]},{"id":"SaveKeysModal","message":"Testnet: Не спрашивать больше","files":["shared/components/modals/SaveKeysModal/SaveKeysModal.js"]},{"id":"ShowMoreCoins36","message":"Валюты, показываемые в кошельке","files":["shared/components/modals/ShowMoreCoins/ShowMoreCoins.js"]},{"id":"ShowMoreCoins48","message":"Все валюты","files":["shared/components/modals/ShowMoreCoins/ShowMoreCoins.js"]},{"id":"TelosRegister55","message":"Имя аккаунта","files":["shared/components/modals/TelosChangeAccountModal/TelosChangeAccountModal.js"]},{"id":"TelosRegister59","message":"Приватный ключ","files":["shared/components/modals/TelosChangeAccountModal/TelosChangeAccountModal.js"]},{"id":"TelosRegister64","message":"Произошла ошибка при активации","files":["shared/components/modals/TelosChangeAccountModal/TelosChangeAccountModal.js"]},{"id":"TelosRegister69","message":"Войти","files":["shared/components/modals/TelosChangeAccountModal/TelosChangeAccountModal.js"]},{"id":"ErrorNotification12","message":"Упс!, Что то пошло не так! ","files":["shared/components/notifications/ErrorNotification/ErrorNotification.js"]},{"id":"WithdrawModal111","message":"перевести "},{"id":"WithdrawModal11212","message":"Переводим ..."},{"id":"Withdrow108","message":"Сумма должна быть меньше вашего баланса на комиссию манеров "},{"id":"Withdrow113","message":"Ваш баланс: "},{"id":"Withdrow118","message":"Сумма"},{"id":"Withdraw218","message":"Ошибка перевода"},{"id":"Withdraw232","message":"Недостаточно подтверждений сети последней транзакции. Попробуйте позже."},{"id":"PreventMultiTabs","message":"Слишком много вкладок","files":["shared/components/PreventMultiTabs/PreventMultiTabs.js"]},{"id":"SaveKe33","message":"Скачать","files":["shared/components/SaveKeys/SaveKeys.js"]},{"id":"SaveKe37","message":"Скачать текстовый документ, с приватными ключами и адресами кошелька","files":["shared/components/SaveKeys/SaveKeys.js"]},{"id":"SaveKeys26","message":"Я сохранил ключи в надежном месте","files":["shared/components/SaveKeys/SaveKeys.js"]},{"id":"SwapProgress105","message":"Проверяется баланс.. ","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEth.js"]},{"id":"SwapProgress111","message":"Создается Bitcoin Script. Это займет некоторое время","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEth.js"]},{"id":"SwapProgress117","message":"ETH Владелец получил Bitcoin Script и Хэш. Создания ETH контракта... Может потребоваться 1 подтверждение от сети Bitcoin","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEth.js"]},{"id":"SwapProgress123","message":"Выводим ETH из готового контракта. Пожалуйста, подождите","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEth.js"]},{"id":"SwapProgress129","message":"Средства перечислены на Ваш кошелек. Проверте баланс. ","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEth.js"]},{"id":"SwapProgress135","message":"Спасибо за использование Swap.Online! ","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEth.js"]},{"id":"SwapProgress32","message":"Пожалуйста, подождите. Обработка подтверждения"},{"id":"SwapProgress38","message":"Ожидание, Владелец BTC создает секретный ключ, создает BTC Script и пополняет его"},{"id":"SwapProgress44","message":"Bitcoin Script создан и загружен. Пожалуйста, проверьте информацию ниже"},{"id":"SwapProgress50","message":"Проверка баланса.. "},{"id":"SwapProgress56","message":"Создается Ethereum Контракт. Пожалуйста подожди, это займет некоторое время"},{"id":"SwapProgress62","message":"Ожидание, пока Владелец BTC добавит Секретный ключ в ETH Контракт"},{"id":"SwapProgress68","message":"Средства перечислены на Ваш кошелек. Проверте баланс. "},{"id":"SwapProgress74","message":"Благодарим за использование Swap.Online! "},{"id":"SwapProgress80","message":"Благодарим за использование Swap.Online!! "},{"id":"SwapProgress93","message":"Создавший ордер, не в сети. Ожидание.. ","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEth.js"]},{"id":"SwapProgress99","message":"Создается Секретный ключ","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEth.js"]},{"id":"Tooltip11","message":"? ","files":["shared/components/ui/Tooltip/Tooltip.js"]},{"id":"Currency101","message":"Баланс: ","files":["shared/pages/Currency/Currency.js"]},{"id":"CurrencyTitleSeo1","message":"Цена {fullName} ({tickerName}) и Актуальный Курс Обмена."},{"id":"CurrencyMetaDescrTag1","message":"Узнать цену {fullName} ({tickerName}) на сегодня. Храните и Обменивайте Криптовалюту {fullName} ({tickerName}) Анонимно на Swap.Online."},{"id":"CurrencyH1Seo1","message":"Цена {fullName} ({tickerName}) и Актуальный Курс Обмена.","files":["shared/pages/Currency/Currency.js"]},{"id":"CurrencyWallet100","message":"Отправить","files":["shared/pages/Currency/Currency.js","shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"CurrencyWallet104","message":"Обмен","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"CurrencyWallet105","message":"Активировать аккаунт","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"CurrencyWallet110","message":"История Ваших транзакций","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"Row35","message":"Обмен","files":["shared/pages/Currency/Row/Row.js"]},{"id":"history68","message":"Все транзакции","files":["shared/pages/History/History.js"]},{"id":"history72","message":"Все отправленные и полученные транзакции","files":["shared/pages/History/History.js"]},{"id":"RowHistory76","message":"Возврат невозможен","files":["shared/pages/History/SwapsHistory/RowHistory/RowHistory.js"]},{"id":"RowHistory91","message":"Ссылка на обмен","files":["shared/pages/History/SwapsHistory/RowHistory/RowHistory.js"]},{"id":"RowHistory164","message":"Удалено","files":["shared/pages/History/SwapsHistory/RowHistory/RowHistory.js"]},{"id":"RowHistory95","message":"Ссылка на обмен"},{"id":"SwapHisrory21","message":"История обменов","files":["shared/pages/History/SwapsHistory/SwapsHistory.js"]},{"id":"MyOrders23","message":"Ваши ордера","files":["shared/pages/Home/Orders/MyOrders/MyOrders.js"]},{"id":"RowFeeds64","message":"Скопировано","files":["shared/pages/Home/Orders/MyOrders/RowFeeds/RowFeeds.js"]},{"id":"RowFeeds68","message":"Поделиться","files":["shared/pages/Home/Orders/MyOrders/RowFeeds/RowFeeds.js"]},{"id":"RowFeeds77","message":"Снизить","files":["shared/pages/Home/Orders/MyOrders/RowFeeds/RowFeeds.js"]},{"id":"RowFeeds81","message":"Согласиться","files":["shared/pages/Home/Orders/MyOrders/RowFeeds/RowFeeds.js"]},{"id":"RowFeeds87","message":"Удалить ордер","files":["shared/pages/Home/Orders/MyOrders/RowFeeds/RowFeeds.js"]},{"id":"RowMFeed49","message":"Вы получите","files":["shared/pages/Home/Orders/MyOrders/RowFeedsMobile/RowFeedsMobile.js"]},{"id":"RowMFeed56","message":"Вы имеете","files":["shared/pages/Home/Orders/MyOrders/RowFeedsMobile/RowFeedsMobile.js"]},{"id":"RowMFeed69","message":"Скопировано","files":["shared/pages/Home/Orders/MyOrders/RowFeedsMobile/RowFeedsMobile.js"]},{"id":"Home153","message":"Что такое Atomic swap? ","files":["shared/pages/Home/Home.js"]},{"id":"orders150","message":"ПРОДАЖУ ","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders174","message":"ПРОДАТЬ "},{"id":"Row148","message":"ЗАПРОС","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"Row151","message":"Перейти к обмену","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"Row157","message":"Этот ордер выполняется","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"Row165","message":"Подождите, Ваш запрос отправлен. ","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"RowM136","message":"ЗАПРОС","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"RowM139","message":"Перейти к обмену","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"RowM145","message":"Этот заказ выполняется","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"RowM153","message":"Подождите, Ваш запрос отправлен. ","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"RowM166","message":"Старт","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"NotFound8","message":"Странице не найдена! ","files":["shared/pages/NotFound/NotFound.js"]},{"id":"BtcToEos101","message":"3. Запрос на открытие EOS Контракта","files":["shared/pages/Swap/BtcToEos.js"]},{"id":"BtcToEos115","message":"Изъятие из EOS Контракта","files":["shared/pages/Swap/BtcToEos.js"]},{"id":"BtcToEos126","message":"ПОПРОБУЙТЕ ВОЗВРАТ","files":["shared/pages/Swap/BtcToEos.js"]},{"id":"BtcToEos63","message":"1. Генерируется Секретный ключ","files":["shared/pages/Swap/BtcToEos.js"]},{"id":"BtcToEos67","message":"Отправить секрет","files":["shared/pages/Swap/BtcToEos.js"]},{"id":"BtcToEos74","message":"Секрет: ","files":["shared/pages/Swap/BtcToEos.js"]},{"id":"BtcToEos77","message":"Хэш: ","files":["shared/pages/Swap/BtcToEos.js"]},{"id":"BtcToEos87","message":"Fund BTC script","files":["shared/pages/Swap/BtcToEos.js"]},{"id":"BtcToEthToken108","message":"Подтвердить"},{"id":"BtcToEthToken156","message":"Проверка баланса.. "},{"id":"BtcToEthToken167","message":"Создается Bitcoin Script. Пожалуйста подождите, это займет какое то время"},{"id":"BtcToEthToken172","message":"Транзакция: "},{"id":"BtcToEthToken230","message":"Владелец ETH получил Bitcoin Script и Хэш. Создание им ETH Контракта..."},{"id":"BtcToEthToken243","message":"Транзакция: "},{"id":"BtcToEthToken260","message":"Пробуем вывести ETH из контракта. Пожалуйста, подождите"},{"id":"BtcToEthToken267","message":"Транзакция: "},{"id":"BtcToEthToken290","message":"ETH были переведены на Ваш кошелек. Проверьте баланс. "},{"id":"BtcToEthToken293","message":"Благодарим за использование Swap.Online!! "},{"id":"BtcToEthToken303","message":"ПОПРОБУЙТЕ ВОЗВРАТ"},{"id":"BtcToEthToken316","message":"Транзакция: "},{"id":"BtcToEthToken77","message":"Мы оживаем создавшего ордер на обмен. Если он не появится в течение 5 минут, обмен будет отменен автоматически. "},{"id":"BtcToEthToken87","message":"1. Ожидание подтверждения"},{"id":"EosToBtc107","message":"ПОПРОБУЙТЕ ВОЗВРАТ","files":["shared/pages/Swap/EosToBtc.js"]},{"id":"EosToBtc127","message":"Withdraw BTC from script","files":["shared/pages/Swap/EosToBtc.js"]},{"id":"EosToBtc59","message":"Request to fund BTC script","files":["shared/pages/Swap/EosToBtc.js"]},{"id":"EosToBtc73","message":"Проверить BTC script","files":["shared/pages/Swap/EosToBtc.js"]},{"id":"EosToBtc82","message":"Открыть EOS Контракт","files":["shared/pages/Swap/EosToBtc.js"]},{"id":"EosToBtc97","message":"Запрос на снятие EOS с контракта","files":["shared/pages/Swap/EosToBtc.js"]},{"id":"EmergencySave","message":"Информация об обмене"},{"id":"EthTokenBtc102","message":"Подтвердить"},{"id":"EthTokenBtc111","message":"Пожалуйста, подождите. Обработка подтверждения"},{"id":"EthTokenBtc116","message":"Транзакция: "},{"id":"EthTokenBtc147","message":"Ожидание, Владелец BTC создает Cекретный ключ, BTC Script и пополняет его. "},{"id":"EthTokenBtc159","message":"Bitcoin Script создан и загружен. Пожалуйста, проверте информацию ниже"},{"id":"EthTokenBtc162","message":"Хэш: "},{"id":"EthTokenBtc165","message":"Script адрес: "},{"id":"EthTokenBtc184","message":"Показать Вitcoin script"},{"id":"EthTokenBtc228","message":"Все отлично. Продолжить"},{"id":"EthTokenBtc267","message":"Проверка баланса.. "},{"id":"EthTokenBtc276","message":"Создание контракта Ethereum. Подождите, это займет некоторое время"},{"id":"EthTokenBtc283","message":"Транзакция: "},{"id":"EthTokenBtc303","message":"Транзакция: "},{"id":"EthTokenBtc321","message":"Ожидание, Владелец BTC добавляет Секретный ключ в ETH Контракт"},{"id":"EthTokenBtc335","message":"Владелец BTC успешно получил средства из ETH Контракта и отправил Секретный ключ. Запрос о снятии с BTC Script. Пожалуйста, подождите"},{"id":"EthTokenBtc342","message":"Транзакция: "},{"id":"EthTokenBtc365","message":"Благодарим за использование Swap.Online! "},{"id":"EthTokenBtc375","message":"ПОПРОБУЙТЕ ВОЗВРАТ"},{"id":"EthTokenBtc77","message":"Ожидание другого пользователя"},{"id":"EthTokenBtc86","message":"Подтвердите свое участие, для начала сделки"},{"id":"EthTokenBtc94","message":"Подтверждение сделки необходимо для формирования репутации. Если пользователь не доводит дело до конца, он получает отрицательную репутацию"},{"id":"EthTokenToUsdt101","message":"Подтверждение сделки необходимо для формирования репутации. Если пользователь не доводит дело до конца, он получает отрицательную репутацию. ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt109","message":"Подтвердить","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt118","message":"Пожалуйста, подождите. Обработка подтверждения","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt123","message":"Транзакция: ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt154","message":"Ожидание, Владелец USDT создает Секретный ключ, создает BTC Omni Script и пополняет его","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt166","message":"Bitcoin Omni Script создан и загружен. Пожалуйста, проверте информацию ниже","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt169","message":"Хэш: ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt172","message":"Script адрес: ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt192","message":"Показать BTC script","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt236","message":"Все отлично. Продолжить","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt249","message":"Недостаточно средств для данной операции. Пожалуйста пополните баланс","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt253","message":"Ваш баланс: ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt257","message":"Необходимый баланс: ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt260","message":"Ваш адрес: ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt267","message":"Продолжить","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt276","message":"Проверка баланса.. ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt285","message":"Создание контракта Ethereum. Подождите, это займет некоторое время","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt292","message":"Транзакция: ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt313","message":"Транзакция: ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt331","message":"Ожидание, Владелец BTC жобавляет Секретный ключь в ETH Контракт","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt345","message":"Владелец USDT успешно получил средства из ETH Контракта и отправил Секретный ключ. Запрос о снятии с BTC Script. Пожалуйста, подождите","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt352","message":"USDT транзакция вывода: ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt377","message":"USDT были переведены на Ваш кошелек. Проверьте баланс. ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt380","message":"Благодарим за использование Swap.Online!! ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt390","message":"ПОПРОБУЙТЕ ВОЗВРАТ","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt84","message":"Ожидание другого пользователя","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthTokenToUsdt93","message":"Пожалуйста, подтвердите свое участие, для начала сделки","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"EthToLtc104","message":"Создавший ордер не в сети. Ожидание, пока он не появится в сети.. ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc115","message":"Ожидание другого пользователя","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc125","message":"Подтверждение сделки необходимо для формирования репутации. Если пользователь не доводит дело до конца, он получает отрицательную репутацию. ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc128","message":"Подписать ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc134","message":"Пожалуйста, подождите. Обработка подтверждения","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc139","message":"Транзакция: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc167","message":"2. Ожидание, Владелец LTC создает Секретный ключ, создает LTC Script и пополняет его","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc179","message":"3. Litecoin Script создан и загружен. Пожалуйста, проверте информацию ниже","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc182","message":"Хэш: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc185","message":"Script адрес: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc204","message":"Показать litecoin script","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc247","message":"Все отлично. Продолжить","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc260","message":"Недостаточно средств для данной операции. Пожалуйста пополните баланс","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc264","message":"Ваш баланс: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc267","message":"Необходимый баланс: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc270","message":"Ваш адрес: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc277","message":"Продолжить","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc286","message":"Проверка баланса.. ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc297","message":"4. Создание контракта Ethereum. Подождите, это займет некоторое время","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc305","message":"Транзакция: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc326","message":"Транзакция: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc343","message":"5. Ожидание, Владелец LTC жобавляет Секретный ключь в ETH Контракт","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc357","message":"6. Владелец LTC успешно получил средства из ETH Контракта и отправил Секретный ключ. Запрос о снятии с LTC Script. Пожалуйста, подождите","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc364","message":"Транзакция: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc386","message":"7. LTC были переведены на Ваш кошелек. Проверьте баланс. ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc389","message":"Благодарим за использование Swap.Online!! ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc399","message":"ПОПРОБУЙТЕ ВОЗВРАТ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc412","message":"Транзакция: ","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"EthToLtc99","message":"У данного ордера нет покупателя","files":["shared/pages/Swap/EthToLtc.js"]},{"id":"Share","message":"Share Twitter","files":["shared/pages/Swap/Share/Share.js"]},{"id":"LtcTOeth101","message":"У данного ордера нет покупателя","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth117","message":"Мы оживаем создавшего ордер на обмен. Если он не появится в течение 5 минут, обмен будет отменен автоматически. ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth127","message":"2. Создается Секретный ключ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth136","message":"Подтвердить","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth142","message":"Сохраните секретный ключ! В противном случае Вы сможете потерять свои деньги! ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth145","message":"Секретный ключ: ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth148","message":"Хэш: ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth158","message":"Недостаточно средств для этого обмена. Пожалуйста, пополните баланс","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth162","message":"Ваш баланс: ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth165","message":"Необходимый баланс: ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth168","message":"Ваш адрес: ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth175","message":"Продолжить","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth184","message":"Проверка баланса.. ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth195","message":"3. Создание LTC Omni Script. Подождите, это займет некоторое время","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth200","message":"Транзакция: ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth227","message":"Создание транзакции на возврат средств","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth234","message":"Как вернуть деньги? ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth254","message":"4. Владелец ETH получил Litecoin Script и Хэш. Ожидается, создание контракта ETH","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth267","message":"Транзакция: ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth283","message":"5. Пробуем вывести ETH из контракта. Пожалуйста, подождите","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth290","message":"Транзакция: ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth313","message":"6. ETH были переведены на Ваш кошелек. Проверьте баланс. ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth315","message":"Благодарим за использование Swap.Online!! ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth326","message":"ПОПРОБУЙТЕ ВОЗВРАТ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"LtcTOeth338","message":"Транзакция: ","files":["shared/pages/Swap/LtcToEth.js"]},{"id":"UsdrToEthToken106","message":"2. Создается Секретный ключ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken115","message":"Подтвердить","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken121","message":"Сохраните секретный ключ! В противном случае у вас будет шанс, что Вы потеряете свои деньги! ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken124","message":"Секретный ключ: ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken127","message":"Хэш: ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken137","message":"Недостаточно средств для этого обмена. Пожалуйста, пополните баланс","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken141","message":"Ваш баланс: ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken144","message":"Требуемый баланс: ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken147","message":"Ваш адрес: ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken154","message":"Продолжить","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken163","message":"Проверка баланса... ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken174","message":"3. Создание BTC Omni Script. Подождите, это займет некоторое время","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken179","message":"Транзакция: ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken206","message":"Создание транзакции на возврат средств","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken213","message":"Как вернуть деньги? ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken233","message":"4. Владелец ETH получил Btc Omni Script и Хэш. Ожидается, создание Контракта ETH","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken246","message":"Транзакция: ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken264","message":"5. Пробуем вывести ETH из контракта. Пожалуйста, подождите","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken271","message":"Транзакция: ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken294","message":"6. ETH были переведены на ваш кошелек. Проверьте баланс. ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken297","message":"Благодарим за использование Swap.Online!! ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken307","message":"ПОПРОБУЙТЕ ВОЗВРАТ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken320","message":"Транзакция: ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken83","message":"Мы оживаем создавшего ордер на обмен. Если он не появится в течение 5 минут, обмен будет отменен автоматически. ","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"UsdrToEthToken93","message":"1. Ожидание подтверждения","files":["shared/pages/Swap/UsdtToEthToken.js"]},{"id":"Wallet104","message":"Криптовалютный Кошелек. Децентрализированный Онлайн Обменник.","files":["shared/pages/Wallet/Wallet.js"]},{"id":"Row235","message":"Скопировать","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"Row256","message":"Купить аккаунт","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"Row263","message":"Войти"},{"id":"Row268","message":"Не активирован","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"Row293","message":"Адрес скопирован в буфер обмена","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"Row313","message":"Пополнить","files":["shared/pages/Currency/Currency.js","shared/pages/CurrencyWallet/CurrencyWallet.js","shared/pages/Wallet/Row/Row.js"]},{"id":"RowWallet181","message":"Не подтвержденный баланс ","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"RowWallet189","message":"Не подтвержденный баланс ","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"RowWallet197","message":"Не подтвержденный баланс ","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"AddOffer396","message":"Далее","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"PrivateKeysModal106","message":"Мы не храним Ваши личные ключи и не сможете их восстановить! ","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal110","message":"1. Нажмите сюда чтобы сохранить ваши приватные ключи","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal113","message":"Показать ключи","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal118","message":"2. Затем нажмите сюда, когда будете уверены, что сохранили свои приватные ключи в надежное место","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal121","message":"Я сохранил ключи!","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal130","message":"Пожалуйста, заполните приведенную ниже информацию. Мы хотели бы быть уверены, что Вы сохранили приватные ключи, прежде чем сможете продолжить работу с сайтом. ","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal131","message":"Не беспокойтесь, эти данные никуда не отправляются!","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal145","message":"Перейти на сайт! ","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal662","message":"Важно!","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal623","message":"{skipIt} и продолжить пользоваться сайтом.","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal624","message":"пропустить это","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal663","message":"Вы так же можете {skipBtn}","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal664","message":"Мы не сможем восстановить ваши ключи, они могут потеряться если вы очистите хранилище браузера, а так же есть вероятность произвольного очищения. ","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal665","message":"Я понимаю и принимаю риски. {learnMore}","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal666","message":"Продолжить","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal667","message":"Узнать больше","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal99","message":"Это очень важно, потому что, если Вы не "},{"id":"PrivateKeysModal991","message":"Прежде чем продолжить, обязательно сохраните приватные ключи! Существует большая вероятность того, что Вы потеряете свои деньги. ","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"BtcToEthTokenAddress1","message":"Подтвердите адрес получателя (по умолчанию - swap.online wallet)"},{"id":"BtcToEthTokenAddress2","message":"Подтвердите адрес"},{"id":"WithdrawButton32","message":"При нажатии на кнопку, в поле появится весь Ваш баланс за вычетом комиссии майнеров"},{"id":"BTCTOLTC132","message":"2. Создается Секретный ключ","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"BTCtoLTC236","message":"Создание транзакции на возврат средств","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"BTCtoLTC246","message":"Как вернуть деньги? ","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"BTCtoLTC262","message":"4. LTC Owner получил Bitcoin Script и Хэш. Ожидается, создание им LTC Script","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"BTCtoLTC276","message":"5. Litecoin Script создан и загружен. Пожалуйста, проверте информацию ниже","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"BTCtoLTC301","message":"Показать litecoin script","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"BtcToLtc.Confirm","message":"Подтвердить","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"BtcToLtc205","message":"3. Создание BTC Script. Подождите, это займет некоторое время","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"Checkingbalance","message":"Проверка баланса.. ","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"Continue","message":"Продолжить","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"LTCTOBTC147","message":"Сохраните секретный ключ! В противном случае Вы сможете потерять свои деньги! ","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"LTCTOBTC150","message":"Секретный ключ: ","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"MoneyWasTransferred","message":"6. Деньги были переведены на Ваш кошелек. Проверьте баланс. ","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"Notenough","message":"Недостаточно средств для данной операции. Пожалуйста пополните баланс","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"REFUND","message":"ПОПРОБУЙТЕ ВОЗВРАТ","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"Required","message":"Необходимый баланс: ","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"SecretHash","message":"Хэш: ","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"Thank","message":"Благодарим за использование Swap.Online!! ","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"Transaction","message":"Транзакция: ","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"Waiting","message":"Ожидание другого пользователя","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"address","message":"Ваш адрес: ","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"balance","message":"Ваш баланс: ","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"doesn't","message":"У данного ордера нет покупателя","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"offline","message":"Создавший ордер не в сети. Ожидание, пока он не появится в сети.. ","files":["shared/pages/Swap/BtcToLtc.js","shared/pages/Swap/LtcToBtc.js"]},{"id":"Confirmation","message":"Подтверждение сделки необходимо для формирования репутации. Если пользователь не доводит дело до конца, он получает отрицательную репутацию. ","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"LTCTOBTC191","message":"3. Bitcoin Script создан и загружен. Пожалуйста, проверьте информацию ниже","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"LTCTOBTC216","message":"Показать Вitcoin script","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"LTCTOBTC350","message":"5. 5. Ожидание, Владелец BTC жобавляет Секретный ключь в LTC Контракт","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"LTCTOBTC365","message":"6. Владелец BTC успешно взял деньги с LTC Script и оставил секретный ключ. Запрос на снятие с BTC Script. пожалуйста, подождите","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"LTCTOBTC396","message":"7. BTC были переведены на Ваш кошелек. Проверьте баланс. ","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"LtcToBtc.Confirm","message":"2. Ожидание, Владелец BTC создает Cекретный ключ, BTC Script и пополняет его. ","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"LtcToBtc205","message":"4. Создание LTC Script. Подождите, это займет некоторое время","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"OK","message":"Все отлично. Продолжить","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"PleaseWaitConfirmationProcessing","message":"Пожалуйста, подождите. Обработка подтверждения","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"Scriptaddress","message":"Script адрес: ","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"Sign","message":"Подписать ","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"doesn&apos","message":"У данного ордера нет покупателя","files":["shared/pages/Swap/LtcToBtc.js"]},{"id":"Row328","message":"Отправить","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"Row334","message":"Обменять","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"AddOffer418","message":"Пользовательский курс обмена","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"AddOffer423","message":"Доступно частичное закрытие","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"Row277","message":"не активирован "},{"id":"partial221","message":"Максимальная сумма для обмена: ","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"HowItWorks10","message":"Как это работает ","files":["shared/pages/PartialClosure/HowItWorks/HowItWorks.js"]},{"id":"HowItWorks18","message":"1. Выберите криптовалюту и сумму","files":["shared/pages/PartialClosure/HowItWorks/HowItWorks.js"]},{"id":"HowItWorks21","message":"Выберите крипту которая есть в вашем распоряжении, на любом внешнем кошельке или бирже или на кошельке свап онлайн","files":["shared/pages/PartialClosure/HowItWorks/HowItWorks.js"]},{"id":"HowItWorks26","message":"2. Нажмите на Exchange","files":["shared/pages/PartialClosure/HowItWorks/HowItWorks.js"]},{"id":"HowItWorks29","message":"Если будет найден подходящй ордер и продавец подтвердит обмен, вы перейдете на страницу обмена ","files":["shared/pages/PartialClosure/HowItWorks/HowItWorks.js"]},{"id":"HowItWorks34","message":"3. Выполните депозит криптовалюты","files":["shared/pages/PartialClosure/HowItWorks/HowItWorks.js"]},{"id":"HowItWorks37","message":"В случае, если нужная сумма есть на внутреннем кошельке, пополнение выполнится автоматически","files":["shared/pages/PartialClosure/HowItWorks/HowItWorks.js"]},{"id":"HowItWorks42","message":"4. Дождитесь завершения свопа","files":["shared/pages/PartialClosure/HowItWorks/HowItWorks.js"]},{"id":"HowItWorks45","message":"Обычно обмен выполняется в течении минуты. В конце вы увидете txid и сможете проверить поступление","files":["shared/pages/PartialClosure/HowItWorks/HowItWorks.js"]},{"id":"CurrencySlider19","message":"Уже доступны для обмена","files":["shared/pages/PartialClosure/HowItWorks/HowItWorks.js"]},{"id":"PromoText14","message":"Быстрый обмен","files":["shared/pages/PartialClosure/PromoText/PromoText.js"]},{"id":"PromoText16","message":"ERC-20 токенов","files":["shared/pages/PartialClosure/PromoText/PromoText.js"]},{"id":"Company","message":"О Kомпании"},{"id":"AboutUS14","message":"О нас"},{"id":"Careers","message":"Карьера в Swap.Online"},{"id":"ChromeExtension","message":"Swap.Online расширение для Chrome"},{"id":"Concept","message":"Концепция (PDF)"},{"id":"Contacts","message":"Контакты"},{"id":"DEXTrendResearch","message":"Исследования тенденций DEX"},{"id":"DEXdetails","message":"Больше о нашем DEX"},{"id":"Documentation","message":"Документация"},{"id":"Legal","message":"Юридическая информация"},{"id":"LegalOpinion","message":"Юридическая правомерность"},{"id":"Licence","message":"Лицензия"},{"id":"PrivacyPolicy","message":"Политика конфиденциальности"},{"id":"Resources","message":"Ресурсы"},{"id":"Terms","message":"Условия использования"},{"id":"Useswapbutton","message":"Использование swap.button"},{"id":"WhitePaperdraft","message":"Техническая документация"},{"id":"Wiki","message":"Wiki"},{"id":"Actions","message":"Действия","files":["shared/components/modals/ShowMoreCoins/ShowMoreCoins.js"]},{"id":"Coin","message":"Валюта","files":["shared/components/modals/ShowMoreCoins/ShowMoreCoins.js"]},{"id":"Name","message":"Имя","files":["shared/components/modals/ShowMoreCoins/ShowMoreCoins.js"]},{"id":"Amount61","message":"Сумма","files":["shared/pages/History/History.js"]},{"id":"Coin61","message":"Валюта","files":["shared/pages/History/History.js"]},{"id":"Statement61","message":"Отчет","files":["shared/pages/History/History.js"]},{"id":"Status61","message":"Статус","files":["shared/pages/History/History.js"]},{"id":"SwapHisrory14","message":"Аватар","files":["shared/pages/History/SwapsHistory/SwapsHistory.js"]},{"id":"SwapHisrory15","message":"Обмен","files":["shared/pages/History/SwapsHistory/SwapsHistory.js"]},{"id":"SwapHisrory16","message":"Покупка","files":["shared/pages/History/SwapsHistory/SwapsHistory.js"]},{"id":"SwapHisrory17","message":" Продажа ","files":["shared/pages/History/SwapsHistory/SwapsHistory.js"]},{"id":"SwapHisrory18","message":"Курс обмена","files":["shared/pages/History/SwapsHistory/SwapsHistory.js"]},{"id":"SwapHisrory20","message":"Статус операции","files":["shared/pages/History/SwapsHistory/SwapsHistory.js"]},{"id":"SwapHisrory211","message":"Время завершения","files":["shared/pages/History/SwapsHistory/SwapsHistory.js"]},{"id":"SwapHisrory22","message":"Ссылка","files":["shared/pages/History/SwapsHistory/SwapsHistory.js"]},{"id":"MyOrders19","message":"ОБМЕН","files":["shared/pages/Home/Orders/MyOrders/MyOrders.js"]},{"id":"MyOrders20","message":"ВЫ ПОЛУЧИТЕ","files":["shared/pages/Home/Orders/MyOrders/MyOrders.js"]},{"id":"MyOrders21","message":"ВЫ ИМЕЕТЕ","files":["shared/pages/Home/Orders/MyOrders/MyOrders.js"]},{"id":"MyOrders22","message":"КУРС ОБМЕНА","files":["shared/pages/Home/Orders/MyOrders/MyOrders.js"]},{"id":"MyOrders231","message":"ПОДЕЛИТЬСЯ","files":["shared/pages/Home/Orders/MyOrders/MyOrders.js"]},{"id":"MyOrders24","message":"ДЕЙСТВИЕ","files":["shared/pages/Home/Orders/MyOrders/MyOrders.js"]},{"id":"Wallet114","message":"Валюта","files":["shared/pages/Wallet/Wallet.js"]},{"id":"Wallet115","message":"Имя","files":["shared/pages/Wallet/Wallet.js"]},{"id":"Wallet116","message":"Баланс","files":["shared/pages/Wallet/Wallet.js"]},{"id":"Wallet117","message":"Ваш адрес","files":["shared/pages/Wallet/Wallet.js"]},{"id":"Wallet118","message":"Отправить, получить, обменять","files":["shared/pages/Wallet/Wallet.js"]},{"id":"Wallet119","message":"Действия","files":["shared/pages/Wallet/Wallet.js"]},{"id":"Orders141","message":"Данная валютная пара не существует перенаправляем на SWAP-BTC... ","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"Orders151","message":" Мои ордера","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders101","message":"АВАТАР","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders102","message":"СУММА","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders105","message":"ВСЕГО","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders106","message":"Начать обмен","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders128","message":"Создать ордер","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders1499","message":"Скрыть","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"addoffer381","message":"Продажа","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"addoffer396","message":"Покупка","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"addoffer406","message":"Курс обмена","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"Table95","message":"таблица пуста","files":["shared/components/tables/Table/Table.js"]},{"id":"Table96","message":"Загрузка... ","files":["shared/components/tables/Table/Table.js"]},{"id":"Amount68","message":"Моя История","files":["shared/pages/History/History.js"]},{"id":"Reqstbttn15","message":"ПРОДАТЬ","files":["shared/pages/Home/Orders/RequestButton/RequestButton.js"]},{"id":"Reqstbttn16","message":"КУПИТЬ","files":["shared/pages/Home/Orders/RequestButton/RequestButton.js"]},{"id":"ExchangeRate12","message":"Курс обмена","files":["shared/components/modals/OfferModal/ConfirmOffer/ExchangeRate/ExchangeRate.js"]},{"id":"amount","message":"Обмен","files":["shared/components/modals/OfferModal/ConfirmOffer/Amounts/Amounts.js"]},{"id":"fee9","message":"Комиссия майнеров","files":["shared/components/modals/OfferModal/ConfirmOffer/Fee/Fee.js"]},{"id":"recieved65","message":"Адресс скопирован","files":["shared/components/modals/ReceiveModal/ReceiveModal.js"]},{"id":"recieved67","message":"Скопировать","files":["shared/components/modals/ReceiveModal/ReceiveModal.js"]},{"id":"RowHistory94","message":"Выполнено","files":["shared/pages/History/SwapsHistory/RowHistory/RowHistory.js"]},{"id":"RowHistory139","message":"Остановлено","files":["shared/pages/History/SwapsHistory/RowHistory/RowHistory.js"]},{"id":"RowHistory96","message":"Выполняется"},{"id":"RowMobileFirstTypeYouGet","message":"Вы получите ","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"RowMobileFirstTypeYouHave","message":"Вы имеете","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"RowMobileSecondTypeYouGet","message":"Вы получите ","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"RowMobileSecondTypeYouHave","message":"Вы имеете ","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"Wallet137","message":"Пополняйте кошелек, на адреса указанные ниже","files":["shared/pages/Wallet/Wallet.js"]},{"id":"SignUpModal111","message":"Что-то пошло не так{br}Попробуйте позже"},{"id":"SignUpModal133","message":"Что-то пошло не так{br}Попробуйте позже","files":["shared/components/modals/SignUpModal/SignUpModal.js"]},{"id":"SignUpModal000","message":"Спасибо!{br}Вы будете получать уведомления","files":["shared/components/modals/SignUpModal/SignUpModal.js"]},{"id":"Row288","message":"KeyChain активирован","files":["shared/pages/Wallet/KeychainStatus/KeychainStatus.js"]},{"id":"Row289","message":"KeyChain не активирован","files":["shared/pages/Wallet/KeychainStatus/KeychainStatus.js"]},{"id":"SignUpModal001","message":"Перейти в кошелек","files":["shared/components/modals/SignUpModal/SignUpModal.js"]},{"id":"SignUpModal002","message":"Зарегистрироваться","files":["shared/components/modals/SignUpModal/SignUpModal.js"]},{"id":"SignUpModal002-1","message":"Осталось немного","files":["shared/components/modals/SignUpModal/SignUpModal.js"]},{"id":"SignUpModal003","message":"Разрешить уведомления","files":["shared/components/modals/SignUpModal/SignUpModal.js"]},{"id":"SignUpModal004","message":"Вы будете получать уведомления об обновлениях с вашей учетной записью (ордера, транзакции){br}и ежемесячные обновления о нашем проекте{br}{br}Подписка активирует подарок для теста (вы получите криптовалюту которую сразу можно поменять на биткоин)","files":["shared/components/modals/SignUpModal/SignUpModal.js"]},{"id":"SignUpModal005","message":"Похоже, что пуш уведомления не работают.{br}Пожалуйста, оставьте свой email для уведомлений","files":["shared/components/modals/SignUpModal/SignUpModal.js"]},{"id":"transaction368","message":"Сумма должна быть больше "},{"id":"transaction376","message":"Сумма должна быть меньше вашего баланса","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"transaction398","message":"ETH на вашем балансе"},{"id":"Select210","message":"ВСЕ"},{"id":"Withdrow1194","message":"Адрес "},{"id":"Withdrow159","message":"Сумма должна быть больше "},{"id":"partial291","message":"Ожидание второго участника (30 сек): ","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"Row346","message":"Не активированно","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"Row358","message":"Активировать"},{"id":"Row377","message":"Не активированно"},{"id":"CDC52","message":"Список предложений","files":["shared/components/CurrencyDirectionChooser/CurrencyDirectionChooser.js"]},{"id":"Eos71","message":"Этот аккаунт будет зарегестрирован в сети EOS blockchain","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"Eos75","message":"Приватный ключ для подтверждения операций ","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"Eos79","message":"Публичный ключ, связанный с учетной записью","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"Eos83","message":"Эта сумма будет снята с вашего BTC счета","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"Eos53","message":"Введите Ваш EOS логин","files":["shared/components/modals/EosRegisterModal/EosRegisterModal.js"]},{"id":"Eos57","message":"Введите приватный ключ, для полного доступа ко всем операциям","files":["shared/components/modals/EosRegisterModal/EosRegisterModal.js"]},{"id":"add408","message":"Для изменения курса обмена","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"TelosRegister46","message":"Введите TELOS имя аккаунта","files":["shared/components/modals/TelosChangeAccountModal/TelosChangeAccountModal.js"]},{"id":"TelosRegister52","message":"Введите Ваш TELOS секретный ключ","files":["shared/components/modals/TelosChangeAccountModal/TelosChangeAccountModal.js"]},{"id":"partial223","message":"Для изменения кошелька по умолчанию для валюты покупки. ","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partial224","message":"Оставьте пустым для использования Swap.Online кошелька","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partial243","message":"У вас есть","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partial255","message":"Вы получите","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"Approve66","message":"Подтвердить токен","files":["shared/components/modals/Approve/Approve.js"]},{"id":"Eos87","message":"EOS регистрация","files":["shared/components/modals/EosBuyAccountModal/EosBuyAccountModal.js"]},{"id":"Eos61","message":"EOS вход","files":["shared/components/modals/EosRegisterModal/EosRegisterModal.js"]},{"id":"Approve","message":"Подтвердить токен","files":["shared/components/modals/EthChecker/EthChecker.js"]},{"id":"Import","message":"Импортировать","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"Add52","message":"Создать предложение на обмен","files":["shared/components/modals/OfferModal/OfferModal.js"]},{"id":"Confirm52","message":"Подтверждение данных","files":["shared/components/modals/OfferModal/OfferModal.js"]},{"id":"ImCAUTIONport","message":"ВНИМАНИЕ!","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"Receive","message":"Пополнение баланса","files":["shared/components/modals/ReceiveModal/ReceiveModal.js"]},{"id":"ShMoreCoins","message":"Добавление токенов на главную страницу","files":["shared/components/modals/ShowMoreCoins/ShowMoreCoins.js"]},{"id":"TELOSLogin","message":"TELOS вход","files":["shared/components/modals/TelosChangeAccountModal/TelosChangeAccountModal.js"]},{"id":"SignUpModal55","message":"Регистрация","files":["shared/components/modals/SignUpModal/SignUpModal.js"]},{"id":"Scriptaddress:","message":"Адрес скрипта: ","files":["shared/pages/Swap/BtcToLtc.js"]},{"id":"RowHistory281","message":"Получено","files":["shared/pages/History/Row/Row.js"]},{"id":"RowHistory282","message":"Отправлено","files":["shared/pages/History/Row/Row.js"]},{"id":"RowHistory283","message":"Себе","files":["shared/pages/History/Row/Row.js"]},{"id":"RowHistory34","message":"Подтверждено","files":["shared/pages/History/Row/Row.js"]},{"id":"RowHistory341","message":"Подтверждений","files":["shared/pages/History/Row/Row.js"]},{"id":"RowHistory342","message":"Не подтверждено","files":["shared/pages/History/Row/Row.js"]},{"id":"timer68","message":"Возможен возврат","files":["shared/pages/Swap/Timer/Timer.js"]},{"id":"BtcToEthToken275","message":"Операция возврата транзакции: "},{"id":"Header184","message":"Это Ваш персональный Bitcoin адрес. Мы не храним приватные ключи. Все данные хранятся в Вашем браузере. Без сервера и Бэк-енда, полная Децентрализация.","files":["shared/components/Header/Header.js"]},{"id":"Header188","message":"Swap Online НЕ ХРАНИТ Ваши приватные ключи, пожалуйста, скачайте их и храните в безопасном месте.","files":["shared/components/Header/Header.js"]},{"id":"Header192","message":"Это Ваш Bitcoin баланс. Вы можете закрыть браузер, перезагрузить компьютер. Ваши средства будут в безопасности. Только, не забудте сохранить Ваши приватные ключи. ","files":["shared/components/Header/Header.js"]},{"id":"Header194","message":"Не забудте сохранить Ваши приватные ключи","files":["shared/components/Header/Header.js"]},{"id":"Header196","message":"Вы можете хранить криптовалюты разных блокчейн сетей, таких как Bitcoin, Ethereum, EOS, Bitcoin Cash, Litecoin и различные токены","files":["shared/components/Header/Header.js"]},{"id":"Header200","message":"Наша особенность - одноранговый обмен, доступный в нашем кошельке, в основе которого лежит технология Atomic Swap. Вы можете выполнять обмен с любой криптовалютой, указанной в нашем кошельке.","files":["shared/components/Header/Header.js"]},{"id":"Header205","message":"Вы будете получать уведомления об обновлениях с вашей учетной записью (ордера, транзакции) и ежемесячные обновления о нашем проекте","files":["shared/components/Header/Header.js"]},{"id":"Header207","message":"Показать, как сохранить","files":["shared/components/Header/Header.js"]},{"id":"question12","message":"?","files":["shared/components/Header/User/Question/Question.js"]},{"id":"errorImportKeys","message":"Пожалуйста сохраните приватные ключи","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"PrivateKeysModal144","message":"Назад","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PartialPriceCalc","message":"Расчет цены","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialPriceNoOrdersReduce","message":"Предложения не найдены, попробуйте уменьшить сумму","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialPriceReduceMin","message":"Максимальная сумма для обмена: ","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialOfferCantProceed1","message":"Запрос отклонен. {link}","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialOfferCantProceed1_1","message":"Почему?","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"ErrorBtcLowAmount","message":"{btcAmount} BTC - Слишком маленькая сумма","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"LessThanIHavePartial","message":"У вас недостаточно средств","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialPriceSearch","message":"поиск предложений...","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialUseSwapOnlineWallet","message":"Используйте Swap.Online кошелек","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"UseAnotherWallet","message":"Указать адрес кошелька для получения","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialYourWalletAddress","message":"Адрес кошелька получателя ","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"importkeys118","message":"Пожалуйста введите BTC секретный ключ ","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"importkeys119","message":"Недействительный BTC секретный ключ","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"importkeys200","message":"Пожалуйста введите LTC секретный ключ","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"importkeys201","message":"Недействительный LTC секретный ключ","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"partial437","message":"Atomic Swap {full_name1} ({ticker_name1}) to {full_name2} ({ticker_name2}) Instant Exchange","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partial462","message":"Сумма, которую вы хотите обменять используя кошелек swap.online или внешний кошелек","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partial478","message":"Сумма, которую вы получите после обмена","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partial541","message":"Обменять","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partial544","message":"Предложения","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partial767","message":"Ваш баланс: ","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partialAtomicSwapWhatIsIt","message":"Atomic swap - это технология, которая позволяет обменять одну криптовалюту на другую без использования централизованных посредников.","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"partialVideoAndFeaturesTitle","message":"{purplefastest} сервис атомарного обмена","files":["shared/pages/PartialClosure/VideoAndFeatures/VideoAndFeatures.js"]},{"id":"partialVideoAndFeaturesTitlePur","message":"Самый быстрый","files":["shared/pages/PartialClosure/VideoAndFeatures/VideoAndFeatures.js"]},{"id":"partialVideoAndFeatures0","message":"На основе технологии Atomic Swap","files":["shared/pages/PartialClosure/VideoAndFeatures/VideoAndFeatures.js"]},{"id":"partialVideoAndFeatures1","message":"Обмен занимает всего 2 минуты","files":["shared/pages/PartialClosure/VideoAndFeatures/VideoAndFeatures.js"]},{"id":"partialVideoAndFeatures2","message":"Поддерживает: LTC, BTC, BCH, ETH, USDT, ERC-20 токены","files":["shared/pages/PartialClosure/VideoAndFeatures/VideoAndFeatures.js"]},{"id":"partialVideoAndFeatures3","message":"Может быть расположен на любом сайте в качестве обменного сервиса","files":["shared/pages/PartialClosure/VideoAndFeatures/VideoAndFeatures.js"]},{"id":"PartialFeeValueWarn","message":"Максимальная сумма доступная для продажи {maximumAmount}. Так как из суммы, которую вы имеете на балансе, вычтется комиссия майнеров до {estimatedFeeValue} {haveCurrency}","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialFeeValueWarn1","message":"+ {estimatedFeeValue} {getCurrency}","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialFeeValueWarn2","message":"~ {estimatedFeeValue}$","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialFeeValueWarnInfo","message":"[Подробнее о комиссиях]","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"down57","message":"Похоже, что Вы пытаетесь сохранить свои приватные ключи. Скопируйте их в надеждное место! Так же вы можете скачать их как документ .txt формата.","files":["shared/components/modals/DownloadModal/DownloadModal.js"]},{"id":"down64","message":"Скопировано в буфер обмена","files":["shared/components/modals/DownloadModal/DownloadModal.js"]},{"id":"down65","message":"Скопировать","files":["shared/components/modals/DownloadModal/DownloadModal.js"]},{"id":"downFile2","message":"Скачать txt файл","files":["shared/components/modals/DownloadModal/DownloadModal.js"]},{"id":"down97","message":"Ваши приватные ключи!","files":["shared/components/modals/DownloadModal/DownloadModal.js"]},{"id":"Reqstbttn22","message":"ЗА","files":["shared/pages/Home/Orders/RequestButton/RequestButton.js"]},{"id":"Row206","message":"Купить","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"Row2061","message":"Продать","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"Row210","message":"за","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"downloadModal73","message":"Имя аккаунта:","files":["shared/components/modals/DownloadModal/DownloadModal.js"]},{"id":"downloadModal75","message":"Адрес:","files":["shared/components/modals/DownloadModal/DownloadModal.js"]},{"id":"downloadModal782","message":"Приватный ключ","files":["shared/components/modals/DownloadModal/DownloadModal.js"]},{"id":"PreventMultiTabs12","message":"Swap.Online supports only one active tab.\n    Please reload this page to continue using this tab or close it","files":["shared/components/PreventMultiTabs/PreventMultiTabs.js"]},{"id":"EthTokenToUsdt375","message":"Обратите внимание, что снятие USDT может занять некоторое время для майнинга и распространения сети.\n                    Due to Omni Protocol properties, the transaction may show up at the OmniExplorer in up to 20 minutes.","files":["shared/pages/Swap/EthTokenToUsdt.js"]},{"id":"addOfferPartialTooltip","message":"Вы получите запросы на обмен, сумма {p} будет меньше той суммы, которую вы хотите продать.{p} Например, вы хотите продать 1 BTC, другие пользователи \n {p} могут отправлять запросы на обмен на 0,1, 0,5 BTC","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"WTH275","message":"Убедитесь, что кошелек, на который вы отправляете{br}поддерживает данную валюту "},{"id":"SaveKeys235","message":"Ваши приватные ключи.{br}Загрузите их, нажав на кнопку\n{br}или сделайте снимок экрана, затем подвердите действие.","files":["shared/components/SaveKeys/SaveKeys.js"]},{"id":"orders156","message":"Покупка {buyCurrency}","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders159","message":"ордера на {sell} {buyCurrency} ","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"WithdrawButton322","message":"Вы не можете отправить данную валюту, недостаточно средств.","files":["shared/components/controls/WithdrawButton/BtnTooltip.js"]},{"id":"Row1511","message":"цена {price}","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"Row159","message":"за {total}","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"CurrencyWallet141","message":"Swap.Online - {fullName}({currency}) онлайн кошелек, работащюий на технологии Atomic Swap."},{"id":"CurrencyWallet167","message":"Ваш адрес: {address}{br}Ваш {fullName} баланс: {currency}"},{"id":"orders189","message":"ПОКУПКУ","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders186","message":"ордера на {buy} {buyCurrency} ","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"CurrencyButton41","message":"Пополнение баланса данной криптовалюты","files":["shared/components/controls/CurrencyButton/CurrencyButton.js"]},{"id":"CurrencyButton42","message":"Вы не можете отправить данную валюту, недостаточно средств.","files":["shared/components/controls/CurrencyButton/CurrencyButton.js"]},{"id":"PrivateKeysModal122","message":"Продолжив Вы соглашаетесь с нашей ","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"PrivateKeysModal123","message":"политикой конфиденциальности","files":["shared/components/modals/PrivateKeysModal/PrivateKeysModal.js"]},{"id":"Areyousure","message":"Вы уверены ?","files":["shared/components/modals/SaveKeysModal/SaveKeysModal.js"]},{"id":"PartialClosure","message":"Адрес кошелька, на который будет отправлена ​​криптовалюта после обмена","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"CurrencyWallet168","message":"Ваш адрес: {address}{br}Ваш {fullName} баланс: {balance} {currency}","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"currencyWallet27","message":"Валюта","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"currencyWallet28","message":"Статус","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"currencyWallet29","message":"Статус","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"currencyWallet30","message":"Сумма","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"Withdraw18333","message":"ПЕРЕВОД {data}"},{"id":"ImportKeys205","message":"Пожалуйста введите LTC приватный ключ в WIF формате","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"importkeys172","message":"Пожалуйста введите ETH приватный ключ","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"importkeys173","message":"Пожалуйста введите корректный ETH приватный ключ","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"importkeys190","message":"Что то пошло не так. Проверьте ваш приватный ключ, сеть этого адреса и тд.","files":["shared/components/modals/ImportKeys/ImportKeys.js"]},{"id":"WithdrawIncorectAddress","message":"Некорректно указан адрес"},{"id":"Withdrow170","message":"Сумма должны быть не больше вашего Вашего баланса"},{"id":"PartialPriceSearch502","message":"Цена: 1 {getCurrency} = {haveCurrency}","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"PartialClosureTitleTag","message":"Обмен {full_name1} ({ticker_name1}) на {full_name2} ({ticker_name2}) Атомарный Обмен за 60 секунд"},{"id":"PartialClosureTitleTag1","message":"Самый быстрый обменник на основе Atomic Swap"},{"id":"PartialClosureMetaDescrTag","message":"Децентрализированный обменник Swap.Online предлагает вам лучший курс обмена {full_name1} ({ticker_name1}) на {full_name2} ({ticker_name2}). Онлайн кошелек без регистрации."},{"id":"orders104","message":"ЦЕНА ЗА 1 {buyCurrency}","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders1381","message":"Атомарный своп {buyCurrencyFullName} ({buyCurrency}) на {sellCurrencyFullName} ({sellCurrency}) - моментальный обмен","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"currencyIcon15","message":"Ошибка","files":["shared/components/ui/CurrencyIcon/CurrencyIcon.js"]},{"id":"Withdrow213","message":"Пожалуйста, обратите внимание: комиссия майнеров {minAmount} {data}.{br}Ваш баланс должен превышать эту сумму для совершения транзакции."},{"id":"WithdrawModal256","message":"Не меньше чем {minAmount}"},{"id":"WithdrawModal263","message":"Вам нужно иметь {minAmount} ETH на вашем балансе"},{"id":"WithdrawModalErrorSend","message":"{errorName} {currency}:{br}{errorMessage}"},{"id":"RowHistory77","message":"Refunded","files":["shared/pages/History/SwapsHistory/RowHistory/RowHistory.js"]},{"id":"timer671","message":"{min} минут до возврата","files":["shared/pages/Swap/Timer/Timer.js"]},{"id":"CurrencyWallet148","message":"Онлайн кошелек {fullName} ({currency}) с функцией Атомарного Свопа (Atomic Swap)"},{"id":"CurrencyWallet154","message":"Swap.Online - это децентрализированный онлайн веб кошелек для криптовалюты {fullName} ({currency}) без регистрации. Легкий обмен криптовалют внутри кошелька","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"Orders121","message":"Обмен {buyCurrencyFullName} ({buyCurrency}) на {sellCurrencyFullName} ({sellCurrency}) Атомарный Обмен","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"Orders127","message":"Децентрализированный обменник Swap.Online предлагает вам лучший курс обмена {buyCurrencyFullName} ({buyCurrency}) на {sellCurrencyFullName} ({sellCurrency}). Онлайн кошелек без регистрации.","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"orders182","message":"SELL {buyCurrency} HERE"},{"id":"Wallet140","message":"Криптовалютный Кошелек с Возможностью Беспроцентного Обмена","files":["shared/pages/Wallet/Wallet.js"]},{"id":"Wallet146","message":"Swap.Online - мультивалютный онлайн кошелек на базе технологии Атомарного Свопа с возможностью хранить и обменивать криптовалюту по лучшему курсу","files":["shared/pages/Wallet/Wallet.js"]},{"id":"Wallet156","message":"Добро пожаловать в Swap.Online, децентрализованный кошелек с cross-chain, основанный на технологии Atomic Swap. {br}Здесь вы можете безопасно хранить и быстро обменивать Биткойны, Ethereum, EOS, USD, Tether, BCH и многочисленные токены ERC-20. {br}{br}Swap.Online не хранит ваши ключи или токены. Наш кошелек работает непосредственно в браузере, поэтому никаких дополнительных установок или загрузок не требуется. {br}Сервис Swap.Online полностью децентрализован, поскольку все операции с токенами выполняются через сеть IPFS. {br}{br}Наша команда была первой, кто завершил атомные свопы с USDT и EOS в сентябре 2018 года, а блокчейн Litecoin был добавлен в октябре 2018 года. {br}Наш кошелек предназначен для реальной multi-chain интеграции с децентрализованной книгой заказов, без участия третьих лиц в обмене, без использования прокси-токена и без добавления токена. {br}Мы можем бесплатно интегрировать любой токен проекта ERC-20 на случай взаимного PR-объявления. {br}{br}Кроме того, мы разработали Swap.Button, b2b-решение для обмена всех видов токенов на Биткойны и Эфириум. {br}Установите HTML-виджет Swap.Button на свой сайт и собирайте крипто-инвестиции для вашего проекта. {br}{br}Начните использовать https://swap.online/ сегодня и наслаждайтесь силой настоящей децентрализации.","files":["shared/pages/Wallet/Wallet.js"]},{"id":"PartialClosure562","message":"Swap.online - это децентрализованный криптовалютный кошелек, работающий по технологии Atomic swap. Обмен Bitcoin, USD Tether, BCH, EOS в течение нескольких секунд. Без комиссии (только комиссия майнеров).{br}Обмен крипто-токенами в Swap.Online проводится по-настоящему децентрализованно, так как мы используем технологию атомных свопов однорангового взаимодействия между цепями. {br}{br}Swap.Online использует IPFS-сеть для всех рабочих процессов, а значит централизованного сервера просто нет. {br}Интерфейс обмена выглядит как крипто-брокер, а не как обычный DEX или CEX. За пару кликов пользователь может разместить и принять предложение, настроив цену отправляемого токена. {br}{br}Кроме того, пользователь может обменять заданный процент от своего количества доступных токенов (например, ½, ¼ и т. д.). {br}{br}Еще одним преимуществом службы обмена Swap.Online является использование одного ключа для всего диапазона токенов ERC-20. {br}Кстати, если вы не заинтересованы в обмене некоторыми токенами, вы можете скрыть их из списка. {br}Используйте Swap.Online в качестве основного обмена для каждого криптовалюты, которую вы держите и экономьте ваше время уже сегодня!","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"RowWallet276","message":" нода не доступна (Вы не можете совершать транзакции). ","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"RowWallet282","message":"Требуется помощь?","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"RowWallet283","message":"Активировать","files":["shared/pages/Wallet/KeychainStatus/KeychainStatus.js"]},{"id":"RowWallet284","message":"Деактивировать","files":["shared/pages/Wallet/KeychainStatus/KeychainStatus.js"]},{"id":"ErrorNotification151","message":"Ошибка: {error}","files":["shared/components/notifications/ErrorNotification/ErrorNotification.js"]},{"id":"BtcToEthToken222","message":"Создается Bitcoin Script. Пожалуйста подождите, это займет некоторое время"},{"id":"deposit213","message":" и 0.002 ETH на gas fee "},{"id":"deposit165","message":"Для продолжения обмена - скопируйте указанный адрес и пополните баланс на {missingBalance}.","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"deposit297","message":"открыть в эксплоурер","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"deposit177","message":"Этой суммы вам не хватает для обмена: {amount} {tokenName}, сумма указана с учетом комиссии майнеров.{br}Вы можете отправить {tokenName} с любого кошелька или биржи.","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"deposit231","message":"Получено {balance} / {need} {tooltip}"},{"id":"deposit239","message":"Если вы пополните контракт на сумму больше указанной - остаток будет списан в качестве комиссии майнеров.","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"Deposit52","message":"Осталось {timer} минут для проведения платежа.","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"deposit198","message":"Ожидание платежа...","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"deposit198.1","message":"Создается Ethereum контракт. Пожалуйста подождите, потребуется некоторое время...","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"BtcToEthToken213","message":"Секретный ключ был создан"},{"id":"BtcToEthToken256","message":"Отправте средства для обмена"},{"id":"BtcToEthToken157","message":"1. Подтверждение"},{"id":"BtcToEthToken201","message":"2. Создается секретный ключ"},{"id":"BtcToEthToken1245","message":"Средства отправлены"},{"id":"ReceiveModal50","message":"Ваш {currency} адрес","files":["shared/components/modals/ReceiveModal/ReceiveModal.js"]},{"id":"OrdersWidgetModeShowWallet","message":"Кошелек","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"swapFinishedGoHome","message":"Домой"},{"id":"KeyActionsPanel73","message":"Скрыть / Добавить валюты","files":["shared/components/KeyActionsPanel/KeyActionsPanel.js"]},{"id":"userTooltip43","message":"Пользователь ({reputation}) предлагает обмен","files":["shared/components/Header/User/UserTooltip/UserTooltip.js"]},{"id":"advantagesTitle1","message":"0% КОМИССИЯ"},{"id":"advantagesTitle3","message":"БЕЗ 3-Й СТОРОНЫ"},{"id":"advantagesTitle4","message":"МОМЕНТАЛЬНЫЙ ОБМЕН"},{"id":"advantagesTxt1","message":"Обмен происходит между Вами и другими холдерами (peer-2-peer). Процент с транзакции не взимается."},{"id":"advantagesTxt3","message":"В процесс обмена никто не может вмешаться."},{"id":"advantagesTxt4","message":"Вы можете совершить обмен прямо сейчас. Операция происходит в течении 2-х минут."},{"id":"advantagesTxt6","message":"Никаких данных заполнять не нужно, никакого трейсинга. Всё работает на предельной анонимности."},{"id":"advantagesButtonTitle","message":"Как это работает?","files":["shared/pages/PartialClosure/PureComponents/Advantages.js"]},{"id":"advantagesButtonTxt","message":"(Смотреть видео)","files":["shared/pages/PartialClosure/PureComponents/Advantages.js"]},{"id":"advVidLink","message":"https://youtu.be/1G-U5Sh7pQk"},{"id":"VidLinkFrame","message":"https://www.youtube.com/embed/euT8rScwfEk"},{"id":"GitHub","message":"GitHub"},{"id":"menu.products","message":"Наши предложения"},{"id":"menu.invest","message":"Как инвестировать?"},{"id":"SwitchLang20","message":"EN","files":["shared/components/Footer/SwitchLang/SwitchLang.js"]},{"id":"SwitchLang24","message":"RU","files":["shared/components/Footer/SwitchLang/SwitchLang.js"]},{"id":"ReferralLinks1","message":"Отправьте или расшарьте ссылку на эту страницу, каждый пользователь который придет по вашей ссылке получит для теста от 0 до 10 SWAP токенов. А вы будете получать бонус в SWAP токенах за его каждый успешный свап (в т.ч. за продажу бонусных токенов)","files":["shared/components/Footer/Referral/Referral.js"]},{"id":"ReferralLinks2","message":"Условия и правила","files":["shared/components/Footer/Referral/Referral.js"]},{"id":"swapJS341","message":"Показать bitcoin script","files":["shared/pages/Swap/ShowBtcScript/ShowBtcScript.js"]},{"id":"FeeControler48","message":"Скопировано","files":["shared/pages/Swap/FeeControler/FeeControler.js"]},{"id":"FeeControler49","message":"Скопировать","files":["shared/pages/Swap/FeeControler/FeeControler.js"]},{"id":"FeeControler68","message":"Недостаточно ETH на вашем балансе для оплаты комиссии майнеров.{br}Пополните ваш кошелек на {gasAmountNeeded} ETH","files":["shared/pages/Swap/FeeControler/FeeControler.js"]},{"id":"FailControler68","message":"Ошибка в выполнении контракта токена!{br}{br}Возможно, есть дополнительная комиссия на стороне контракта или ошибка произошла по другой причине","files":["shared/pages/Swap/FailControler/FailControler.js"]},{"id":"BtcToEthToken102","message":"Вывод из контракта"},{"id":"BtcToEthToken111","message":"Вывод из контракта"},{"id":"BtcToEthToken123","message":"Свап завершен!","files":["shared/pages/Swap/SwapList/steps/FourthStep.js"]},{"id":"BtcToEthToken132","message":"Свап завершен!"},{"id":"BtcToEthToken34","message":"Процесс подтверждения"},{"id":"BtcToEthToken43","message":"Процесс подтверждения"},{"id":"BtcToEthToken58","message":"Bitcoin зачисление"},{"id":"BtcToEthToken67","message":"Bitcoin зачисление"},{"id":"BtcToEthToken80","message":"{name} зачисление"},{"id":"BtcToEthToken89","message":"{name} зачисление"},{"id":"swapFinishedGoHome289","message":"Отправить Секрет","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"swapFinishedGoHome298","message":"Все хорошо. Продолжить","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"swapprogress254","message":"Транзакция возврата:","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"swapprogress270","message":"Попытаться вернуть","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"swapprogress271","message":"Попробуйте еще раз через несколько минут","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"swappropgress233","message":"ETH транзакция:"},{"id":"swappropgress258","message":"BTC транзакция:"},{"id":"swappropgress332","message":"Как вернуть ваши средства ?"},{"id":"swappropgress333","message":"Транзакция возврата:","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"ethToBtcText20","message":"Ожидание... Владелец BTC создает Секретный ключ, BTC Script и отправляет его","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthToBtc.js"]},{"id":"ethToBtcText25","message":"Вitcoin Script был создан и отправлен. Проверьте информацию ниже","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthToBtc.js"]},{"id":"ethToBtcText26","message":"Инициируем процесс подтверждения...","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthToBtc.js"]},{"id":"ethToBtcText28","message":"Проверка баланса..","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthToBtc.js"]},{"id":"ethToBtcText32","message":"Создается Ethereum Контракт.{br}Потребуется несколько минут","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthToBtc.js"]},{"id":"ethToBtcText36","message":"Ожидание... Владелец BTC отправляет Секретный ключ в ETH Контракт","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthToBtc.js"]},{"id":"ethToBtcText40","message":"Средства из контракта ETH были успешно переведены владельцу BTC.","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthToBtc.js"]},{"id":"ethToBtcText44","message":"Спасибо за использование Swap.Online","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthToBtc.js"]},{"id":"ethToBtcText48","message":"Спасибо за использование Swap.Online!","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthToBtc.js"]},{"id":"WalletPromoLinkText","message":"Открытый опрос","files":["shared/pages/Wallet/Wallet.js"]},{"id":"WalletPromoText","message":"🎁 🎁 🎁 Спасибо за использование Swap.Online!\n                Расскажите нам о своем опыте работы с нашим сервисом\n                и мы подарим вам 10 долларов в BTC 🎁 🎁 🎁","files":["shared/pages/Wallet/Wallet.js"]},{"id":"orders224","message":"Продажа {buyCurrency}","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"swappropgress246","message":"Sign ETH transaction:"},{"id":"BitcoinBuyText17","message":"Обработка подтверждения","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEthTokens.js"]},{"id":"BitcoinBuyText20","message":"Создается Секретный ключ"},{"id":"BitcoinBuyText29","message":"Проверка баланса..","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEthTokens.js"]},{"id":"BitcoinBuyText33","message":"Создается Bitcoin Script. Это займет какое то время","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEthTokens.js"]},{"id":"BitcoinBuyText37","message":"Владелец {buyCurrency} получил Bitcoin Script и Хэш. Ожидается, создание им {buyCurrency} Контракта","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEthTokens.js"]},{"id":"BitcoinBuyText41","message":"Пробуем вывести {buyCurrency} из контракта.","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEthTokens.js"]},{"id":"BitcoinBuyText45","message":"{buyCurrency} токены перечислены на Ваш кошелек. Проверте баланс.","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEthTokens.js"]},{"id":"BitcoinBuyText49","message":"Спасибо за использование Swap.Online!","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEthTokens.js"]},{"id":"BitcoinBuyText53","message":"Спасибо за использование Swap.Online!","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEthTokens.js"]},{"id":"EthTokensToBtc16","message":"Процесс подтверждения.","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthTokensToBtc.js"]},{"id":"EthTokensToBtc20","message":"Ожидание, Владелец BTC создает Cекретный ключ, BTC Script и пополняет его","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthTokensToBtc.js"]},{"id":"EthTokensToBtc24","message":"Bitcoin Script создан и загружен. Проверте информацию ниже","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthTokensToBtc.js"]},{"id":"EthTokensToBtc28","message":"Проверка баланса..","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthTokensToBtc.js"]},{"id":"EthTokensToBtc32","message":"Создается Ethereum Контракт. Потребуется несколько минут","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthTokensToBtc.js"]},{"id":"EthTokensToBtc36","message":"Ожидание... Владелец BTC отправляет Секретный ключ в ETH Контракт","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthTokensToBtc.js"]},{"id":"EthTokensToBtc40","message":"Средства из контракта ETH были успешно переведены владельцу BTC.","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthTokensToBtc.js"]},{"id":"EthTokensToBtc44","message":"Спасибо за использование Swap.Online! ","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthTokensToBtc.js"]},{"id":"EthTokensToBtc48","message":"Спасибо за использование Swap.Online! ","files":["shared/pages/Swap/SwapProgress/SwapProgressText/EthTokensToBtc.js"]},{"id":"EmergencySave33","message":"Отладка","files":["shared/pages/Swap/EmergencySave/EmergencySave.js"]},{"id":"swappropgress193","message":"Sign ETH transaction: {transaction}","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"swappropgress207","message":"{transaction}","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"swappropgress218","message":"{transaction}","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"Row401","message":"Создать аккаунт"},{"id":"Row420","message":"Использовать другой"},{"id":"Row426","message":"Войти с вашего существующего EOS аккаунта","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"Row431","message":"Войти с вашего существующего TLOS аккаунта","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"Row440","message":"Создать Telos аккаунт в 1 клик","files":["shared/pages/Wallet/Row/Row.js"]},{"id":"SwapController54","message":"Другой участник онлайн"},{"id":"SwapController60","message":"Другой участник оффлайн"},{"id":"withdrowTitle271","message":"Отправка "},{"id":"PreventMultiTabsWidgetBuild","message":"Atomic Swap Widget поддерживает только одну активную вкладку. Пожалуйста, перезагрузите эту страницу, чтобы продолжить использовать эту вкладку или закройте ее","files":["shared/components/PreventMultiTabs/PreventMultiTabs.js"]},{"id":"CurrencyWalletTitle","message":"Swap.Online - {fullName} ({currency}) онлайн кошелек, работащюий на технологии Atomic Swap","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"CurrencyWalletWidgetBuildTitle","message":"{fullName} ({currency}) онлайн кошелек, работащюий на технологии Atomic Swap.","files":["shared/pages/CurrencyWallet/CurrencyWallet.js"]},{"id":"PartialUseInternalWallet","message":"Используйте внутренний кошелек","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"deposit256","message":"Адрес {tokenName} смарт контракта","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"FourthStep33","message":"(tx)"},{"id":"WalletWidgetBuildTitle","message":"Криптовалютный кошелек, работащюий на технологии Atomic Swap.","files":["shared/pages/Wallet/Wallet.js"]},{"id":"BtcToEthToken20","message":"Создвется секретный ключ","files":["shared/pages/Swap/SwapProgress/SwapProgressText/BtcToEthTokens.js"]},{"id":"transaction444","message":"Сумма продажи должна быть больше чем","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"transaction450","message":"Сумма покупки должна быть больше чем","files":["shared/components/modals/OfferModal/AddOffer/AddOffer.js"]},{"id":"deposit300","message":"Получено {balance} / {need} {tooltip}","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"Select26","message":"1/4","files":["shared/components/modals/OfferModal/AddOffer/Select/Select.js"]},{"id":"Select27","message":"1/2","files":["shared/components/modals/OfferModal/AddOffer/Select/Select.js"]},{"id":"deposit320","message":"(Включено {mineerFee} {sellCurrency} комиссии майнеров)","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"BtcToEthToken25","message":"Зачисление Bitcoin {fromWhom} в контракт"},{"id":"FourthStep28","message":"вами"},{"id":"FourthStep29","message":"продавцом"},{"id":"ThirdStep25","message":"Зачисление {name} {fromWhom} в контракт"},{"id":"ThirdStep30","message":"продавцом"},{"id":"ThirdStep31","message":"вами"},{"id":"BtcToEthToken24","message":"Зачисление","files":["shared/pages/Swap/SwapList/steps/SecondStep.js"]},{"id":"FourthStep36","message":"({btcTx} tx)","files":["shared/pages/Swap/SwapList/steps/SecondStep.js","shared/pages/Swap/SwapList/steps/ThirdStep.js"]},{"id":"FourthStep52","message":"({otherCurrency} tx)","files":["shared/pages/Swap/SwapList/steps/SecondStep.js"]},{"id":"FourthStep34","message":"({sell} tx)","files":["shared/pages/Swap/SwapList/steps/ThirdStep.js"]},{"id":"thirdStep24","message":"Вывод из контракта","files":["shared/pages/Swap/SwapList/steps/ThirdStep.js"]},{"id":"confirmDialogDefaultMessage","message":"Подтвердить действия на этом сайте?","files":["shared/components/modals/Confirm/Confirm.js"]},{"id":"confirmDialogDefaultNo","message":"Нет","files":["shared/components/modals/Confirm/Confirm.js"]},{"id":"confirmDialogDefaultTitle","message":"Подтверждение действия","files":["shared/components/modals/Confirm/Confirm.js"]},{"id":"confirmDialogDefaultYes","message":"Да","files":["shared/components/modals/Confirm/Confirm.js"]},{"id":"orders94s","message":"Вы уверены, что хотите удалить ордер?","files":["shared/pages/Home/Orders/Orders.js"]},{"id":"ordersRow101","message":"купить","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"ordersRow134","message":"Вы хотите {action} {amount} {main} за {total} {base} по цене {price} {main}/{base}?","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"ordersRow97","message":"продать","files":["shared/pages/Home/Orders/Row/Row.js"]},{"id":"deposit165widget","message":"Скопируйте адрес ниже и пополните его рекомендуемым количеством {missingBalance}","files":["shared/pages/Swap/DepositWindow/DepositWindow.js"]},{"id":"userTooltip71","message":"Go to the feed page","files":["shared/components/Header/User/UserTooltip/UserTooltip.js"]},{"id":"KeyActionsPane74","message":"Незавершенные обмены ({length})","files":["shared/components/KeyActionsPanel/KeyActionsPanel.js"]},{"id":"decline21","message":"Отклоненные ордера!","files":["shared/components/modals/DeclineOrdersModal/DeclineOrdersModal.js"]},{"id":"decline43","message":"Извините, но вы не можете начать, пока не завершите начатые ранее свопы","files":["shared/components/modals/DeclineOrdersModal/DeclineOrdersModal.js"]},{"id":"decline49","message":"Показать ваши незавершенные свопы","files":["shared/components/modals/DeclineOrdersModal/DeclineOrdersModal.js"]},{"id":"Incompleted21","message":"Незавершенные обмены","files":["shared/components/modals/IncompletedSwaps/IncompletedSwaps.js"]},{"id":"IncompletedSwaps49","message":"Свопы нуждающиеся в завершении","files":["shared/components/modals/IncompletedSwaps/IncompletedSwaps.js"]},{"id":"swappropgress327","message":"Этот Своп отменен","files":["shared/pages/Swap/Swap.js"]},{"id":"swappropgress400","message":"Возврат средств осуществляется автоматически","files":["shared/pages/Swap/Swap.js"]},{"id":"swapprogressDONTLEAVE","message":"Пожалуйста, не уходите с этой страницы ","files":["shared/pages/Swap/SwapProgress/SwapProgressText/PleaseDontLeaveWrapper.js"]},{"id":"swapjsdontleave","message":"В каждом шаге при обмене требуется подпись приватными ключами, которые знает только ваш браузер.","files":["shared/pages/Swap/SwapProgress/SwapProgressText/PleaseDontLeaveWrapper.js"]},{"id":"Confirmation14","message":"Подтверждение","files":["shared/pages/Swap/SwapList/steps/FirstStep.js"]},{"id":"completed21","message":"Готово!"},{"id":"swappropgress192","message":"Как вернуть ваши деньги ?","files":["shared/pages/Swap/SwapProgress/SwapProgress.js"]},{"id":"swapjs290","message":"Прервать своп","files":["shared/pages/Swap/SwapList/SwapList.js"]},{"id":"FeeControler34","message":"Недостаточный баланс ETH кошелька, для оплаты комиссии майнеров.{br}Внесите 0.002 ETH на Ваш кошелек для продолжения обмена {br}"},{"id":"IncompletedSwaps55","message":"Данные загружаются, попробуйте перезагрузить страницу","files":["shared/components/modals/IncompletedSwaps/IncompletedSwaps.js"]},{"id":"partial795","message":"Доступный баланс - ваш баланс за вычетом комиссии майнеров.","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"ErrorNotAvailable","message":"Доступный баланс для обмена {available}"},{"id":"select75","message":"Доступный баланс: {availableBalance} {tooltip}","files":["shared/pages/PartialClosure/SelectGroup/SelectGroup.js"]},{"id":"selected53","message":"Вы можете использовать внешний кошелек для проведения обмена","files":["shared/pages/PartialClosure/SelectGroup/SelectGroup.js"]},{"id":"Select28","message":"ВСЁ","files":["shared/components/modals/OfferModal/AddOffer/Select/Select.js"]},{"id":"tourPartial103","message":"Здесь вы можете увидеть статус поиска предложений по обмену. При загрузке будет отображаться «Поиск предложений ...». Когда ордер найден, отобразится курс обмена","files":["shared/components/Header/TourPartial/TourPartial.js"]},{"id":"tourPartial107","message":"Переключите этот ползунок, чтобы выбрать получить средства после обмена на внутренний кошелек Swap.online или на другой кошелек","files":["shared/components/Header/TourPartial/TourPartial.js"]},{"id":"tourPartial116","message":"Нажмите эту кнопку, чтобы увидеть прямой URL операции обмена. Это возможно, когда кнопка розовая.","files":["shared/components/Header/TourPartial/TourPartial.js"]},{"id":"tourPartial128","message":"Нажмите на эту кнопку, чтобы увидеть страницу с предложениями для обмена. Предложения будут представлены для выбранных валют. Также вы можете создать собственное предложение на странице предложений.","files":["shared/components/Header/TourPartial/TourPartial.js"]},{"id":"tourPartial62","message":"Эта страница предназначена для более простого и быстрого поиска предложений на обмен. Здесь вы можете выбрать кошелек для получения валюты, начать обмен с частичным закрытием или перейти на страницу со всеми доступными предложениями."},{"id":"tourPartial94","message":"Пожалуйста, введите сумму, которую вы хотите продать, и выберите валюту для продажи. Вы также можете продать валюту с внешнего кошелька.","files":["shared/components/Header/TourPartial/TourPartial.js"]},{"id":"tourPartial99","message":"Пожалуйста, введите сумму, которую вы хотели бы купить, и выберите валюту для покупки.","files":["shared/components/Header/TourPartial/TourPartial.js"]},{"id":"FooterAboutAgreements","message":"Условия использования","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterAboutCompany","message":"О компании","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterAboutContacts","message":"Контакты","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterAboutHeader","message":"О компании","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterAboutLegal","message":"Юридическая правомерность","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterAboutPrivacyPolicy","message":"Политика конфиденциальности","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterOurProductsChromeExtantion","message":"Chrome extension","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterOurProductsExchange","message":"Криптовалютный обменник","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterOurProductsHeader","message":"Наши продукты","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterOurProductsWallet","message":"Криптовалютый онлайн кошелек","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterOurProductsWidget","message":"Виджет для сайтов","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterPartnershipForBlockchains","message":"Блокчейнам","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterPartnershipForDEXes","message":"Другим DEX","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterPartnershipForERC20","message":"Токенам","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterPartnershipForNewsWebsites","message":"Виджет для криптосайтов","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterPartnershipForstablecoin","message":"Для стейблкоинов","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterPartnershipHeader","message":"Партнерам","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterTechnologyGithub","message":"GitHub","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterTechnologyHeader","message":"Технология","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterTechnologyWhitepaper","message":"Whitepaper","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterTechnologyWiki","message":"Wiki","files":["shared/components/Footer/Links/Links.js"]},{"id":"Keychain","message":"KeyChain Activation","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain114","message":"KeyChain is loading. Please wait.","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain116","message":"Back","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain1165","message":"KeyChain is activated. If you wish to deactivate KeyChain, note that your key will be replaced with a new one.","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain130","message":"You need to install KeyChain to proceed","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain133","message":"Download","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain141","message":"Positive balance error","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain144","message":"Would you like to protect your keys with KeyChain? Note that your address will be changed","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain157","message":"Confirm","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain167","message":"Deactivate","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain173","message":"KeyChain is not installed but activated","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain175","message":"Deactivate","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain179","message":"Download","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"Keychain185","message":"Back","files":["shared/components/modals/Keychain/Keychain.js"]},{"id":"SecondStep","message":"On this step, the crypto goes not to your wallet {br}or to the wallet of your counterparty but directly to the swap contract","files":["shared/pages/Swap/SwapList/steps/SecondStep.js"]},{"id":"thirdStep","message":"Оn this step crypto is transferred from {br}the contract to your wallet and to the wallet {br} of your counterparty {br}","files":["shared/pages/Swap/SwapList/steps/ThirdStep.js"]},{"id":"Partial955","message":"Address not correct","files":["shared/pages/PartialClosure/PartialClosure.js"]},{"id":"FooterOurProductsBankDashboard","message":"Bank dashboard","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterTechnologyComparsion","message":"Сравнение","files":["shared/components/Footer/Links/Links.js"]},{"id":"FooterTechnologyLNResearch","message":"LN","files":["shared/components/Footer/Links/Links.js"]},{"id":"IEO_title_1","message":"Получите до 5 SWAP за каждое действие:","files":["shared/pages/IEO/IEO.js"]},{"id":"IEO_titles_1","message":"Шаг","files":["shared/pages/IEO/IEO.js"]},{"id":"IEO_titles_2","message":"Действие","files":["shared/pages/IEO/IEO.js"]},{"id":"IEO_titles_3","message":"Ваши данные","files":["shared/pages/IEO/IEO.js"]},{"id":"IEO_btn_1","message":"Зарегистрироваться","files":["shared/pages/IEO/IEO.js"]},{"id":"IEO_btn_2","message":"Вы зарегистрированы","files":["shared/pages/IEO/IEO.js"]},{"id":"IEO_row_1","message":"Подписаться на твиттер https://twitter.com/SwapOnlineTeam, введите свой твиттер: ","files":["shared/pages/IEO/IEO.js"]},{"id":"IEO_row_2","message":"Подписаться на фейсбук https://www.facebook.com/SwapOnlineTeam, введите свой фейсбук: ","files":["shared/pages/IEO/IEO.js"]},{"id":"IEO_row_3","message":"Подписаться на реддит https://www.reddit.com/r/SwapOnline, введите свой реддит: ","files":["shared/pages/IEO/IEO.js"]},{"id":"IEO_row_4","message":"Подписаться на гитхаб https://github.com/swaponline, введите свой гитхаб: ","files":["shared/pages/IEO/IEO.js"]}]

/***/ }),

/***/ 3341:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _ErrorPageNoSSL = __webpack_require__(3342);

var _ErrorPageNoSSL2 = _interopRequireDefault(_ErrorPageNoSSL);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ErrorPageNoSSL = (_dec = (0, _reactCssModules2.default)(_ErrorPageNoSSL2.default), _dec(_class = function (_Component) {
  (0, _inherits3.default)(ErrorPageNoSSL, _Component);

  function ErrorPageNoSSL() {
    (0, _classCallCheck3.default)(this, ErrorPageNoSSL);
    return (0, _possibleConstructorReturn3.default)(this, (ErrorPageNoSSL.__proto__ || (0, _getPrototypeOf2.default)(ErrorPageNoSSL)).apply(this, arguments));
  }

  (0, _createClass3.default)(ErrorPageNoSSL, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { styleName: 'page' },
        _react2.default.createElement(
          'h3',
          { styleName: 'header' },
          '"Error: This page does not support secure connection (https)"'
        )
      );
    }
  }]);
  return ErrorPageNoSSL;
}(_react.Component)) || _class);
exports.default = ErrorPageNoSSL;

/***/ }),

/***/ 3342:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin
module.exports = {"page":"Yjv2mX","header":"_1qLfcc"};

/***/ }),

/***/ 354:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ecc = exports.telos = exports.eos = undefined;

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _core = __webpack_require__(60);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var eosInstance = null;
var telosInstance = null;
var eccInstance = null;
var semaphore = false;

var keyProvider = function keyProvider() {
  var telos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

  var userDataKey = telos ? 'telosData' : 'eosData';

  return function (_ref) {
    var transaction = _ref.transaction,
        pubkeys = _ref.pubkeys;

    var _getState = (0, _core.getState)(),
        user = _getState.user;

    var _user$userDataKey = user[userDataKey],
        activePrivateKey = _user$userDataKey.activePrivateKey,
        activePublicKey = _user$userDataKey.activePublicKey;


    if (pubkeys || telos) {
      return [activePrivateKey];
    } else {
      return [activePublicKey];
    }
  };
};

var setupEOS = function () {
  var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var EOS, _config$api$eos, eosHttpEndpoint, eosChainId, _config$api$telos, telosHttpEndpoint, telosChainId, eosKeyProvider, telosKeyProvider;

    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            console.log('eos start import');
            _context.next = 3;
            return __webpack_require__.e/* import() */(0).then(__webpack_require__.bind(null, 3343));

          case 3:
            EOS = _context.sent;

            console.log('eos finish import');

            _config$api$eos = _appConfig2.default.api.eos, eosHttpEndpoint = _config$api$eos.httpEndpoint, eosChainId = _config$api$eos.chainId;
            _config$api$telos = _appConfig2.default.api.telos, telosHttpEndpoint = _config$api$telos.httpEndpoint, telosChainId = _config$api$telos.chainId;
            eosKeyProvider = keyProvider(false);
            telosKeyProvider = keyProvider(true);


            eosInstance = EOS({
              chainId: eosChainId,
              httpEndpoint: eosHttpEndpoint,
              keyProvider: eosKeyProvider
            });

            telosInstance = EOS({
              chainId: telosChainId,
              httpEndpoint: telosHttpEndpoint,
              keyProvider: telosKeyProvider,
              keyPrefix: 'TLOS'
            });

            eccInstance = EOS.modules.ecc;

          case 12:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function setupEOS() {
    return _ref2.apply(this, arguments);
  };
}();

var timeout = function () {
  var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(ms) {
    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            return _context2.abrupt('return', new _promise2.default(function (resolve) {
              return setTimeout(resolve, ms);
            }));

          case 1:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, undefined);
  }));

  return function timeout(_x2) {
    return _ref3.apply(this, arguments);
  };
}();
var init = function () {
  var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
    return _regenerator2.default.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            if (!(eosInstance === null && semaphore === false)) {
              _context3.next = 6;
              break;
            }

            semaphore = true;
            _context3.next = 4;
            return setupEOS();

          case 4:
            _context3.next = 9;
            break;

          case 6:
            if (!(eosInstance === null && semaphore === true)) {
              _context3.next = 9;
              break;
            }

            _context3.next = 9;
            return timeout(5000);

          case 9:
          case 'end':
            return _context3.stop();
        }
      }
    }, _callee3, undefined);
  }));

  return function init() {
    return _ref4.apply(this, arguments);
  };
}();

var eos = {
  getInstance: function getInstance() {
    var _this = this;

    return (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
      return _regenerator2.default.wrap(function _callee4$(_context4) {
        while (1) {
          switch (_context4.prev = _context4.next) {
            case 0:
              _context4.next = 2;
              return init();

            case 2:
              return _context4.abrupt('return', eosInstance);

            case 3:
            case 'end':
              return _context4.stop();
          }
        }
      }, _callee4, _this);
    }))();
  }
};

var ecc = {
  getInstance: function getInstance() {
    var _this2 = this;

    return (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {
      return _regenerator2.default.wrap(function _callee5$(_context5) {
        while (1) {
          switch (_context5.prev = _context5.next) {
            case 0:
              _context5.next = 2;
              return init();

            case 2:
              return _context5.abrupt('return', eccInstance);

            case 3:
            case 'end':
              return _context5.stop();
          }
        }
      }, _callee5, _this2);
    }))();
  }
};

var telos = {
  getInstance: function getInstance() {
    var _this3 = this;

    return (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {
      return _regenerator2.default.wrap(function _callee6$(_context6) {
        while (1) {
          switch (_context6.prev = _context6.next) {
            case 0:
              _context6.next = 2;
              return init();

            case 2:
              return _context6.abrupt('return', telosInstance);

            case 3:
            case 'end':
              return _context6.stop();
          }
        }
      }, _callee6, _this3);
    }))();
  }
};

exports.eos = eos;
exports.telos = telos;
exports.ecc = ecc;

/***/ }),

/***/ 367:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _COINS = __webpack_require__(498);

var _COINS2 = _interopRequireDefault(_COINS);

var _COINS_PRECISION = __webpack_require__(1405);

var _COINS_PRECISION2 = _interopRequireDefault(_COINS_PRECISION);

var _ENV = __webpack_require__(1406);

var _ENV2 = _interopRequireDefault(_ENV);

var _SERVICES = __webpack_require__(1407);

var _SERVICES2 = _interopRequireDefault(_SERVICES);

var _NETWORKS = __webpack_require__(1408);

var _NETWORKS2 = _interopRequireDefault(_NETWORKS);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  COINS: _COINS2.default,
  NATIVE: _COINS.NATIVE,
  ETH_TOKENS: _COINS.ETH_TOKENS,
  COINS_PRECISION: _COINS_PRECISION2.default,

  ENV: _ENV2.default,
  SERVICES: _SERVICES2.default,
  NETWORKS: _NETWORKS2.default
};
module.exports = exports['default'];

/***/ }),

/***/ 368:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.parsePair = exports.parseTicker = undefined;

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

var _TOKEN_DECIMALS = __webpack_require__(766);

var _TOKEN_DECIMALS2 = _interopRequireDefault(_TOKEN_DECIMALS);

var _TRADE_TICKERS = __webpack_require__(499);

var _TRADE_TICKERS2 = _interopRequireDefault(_TRADE_TICKERS);

var _PAIR_TYPES = __webpack_require__(369);

var _PAIR_TYPES2 = _interopRequireDefault(_PAIR_TYPES);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var isWidgetBuild = _appConfig2.default && _appConfig2.default.isWidget;

console.log('TOKEN_DECIMALS', _TOKEN_DECIMALS2.default);
console.log('TRADE_TICKERS', _TRADE_TICKERS2.default);

var PAIR_BID = _PAIR_TYPES2.default.BID;
var PAIR_ASK = _PAIR_TYPES2.default.ASK;

var _isAsk = function _isAsk(type) {
  return type === _PAIR_TYPES2.default.ASK;
};
var _isBid = function _isBid(type) {
  return type === _PAIR_TYPES2.default.BID;
};

var filteredDecimals = function filteredDecimals(_ref) {
  var amount = _ref.amount,
      currency = _ref.currency;
  return (0, _bignumber2.default)(amount).decimalPlaces(_TOKEN_DECIMALS2.default[currency] || 0).toString();
};

var parseTicker = exports.parseTicker = function parseTicker(order) {
  var buy = order.buyCurrency,
      sell = order.sellCurrency;


  var BS = (buy + '-' + sell).toUpperCase(); // buys ETH, sells BTC, BID
  var SB = (sell + '-' + buy).toUpperCase(); // sells ETH = ASK

  if (_TRADE_TICKERS2.default.includes(BS)) {

    return {
      ticker: BS,
      type: PAIR_BID
    };
  }

  if (_TRADE_TICKERS2.default.includes(SB)) {

    return {
      ticker: SB,
      type: PAIR_ASK
    };
  }

  if (!isWidgetBuild) {
    console.error(new Error('ParseTickerError: No such tickers: ' + BS + ',' + SB));
  }

  return { ticker: 'none', type: PAIR_BID };
};

var parsePair = exports.parsePair = function parsePair(str) {

  if (!str) {
    throw new Error('Empty string: ' + str);
  }

  if (typeof str !== 'string') {
    throw new Error('ParseTickerError: Not a string: ' + str);
  }

  var tokens = str.split('-');

  if (!tokens.length === 2) {
    throw new Error('ParseTickerError: Wrong tokens: ' + str);
  }

  if (!_TRADE_TICKERS2.default.includes(str)) {
    str = tokens.reverse().join('-');
  }

  if (!_TRADE_TICKERS2.default.includes(str)) {
    throw new Error('ParseTickerError: Ticker not found: ' + str);
  }

  var MAIN = tokens[0].toUpperCase();
  var BASE = tokens[1].toUpperCase();

  return {
    MAIN: MAIN,
    BASE: BASE
  };
};

var Pair = function () {
  function Pair(_ref2) {
    var price = _ref2.price,
        amount = _ref2.amount,
        ticker = _ref2.ticker,
        type = _ref2.type;
    (0, _classCallCheck3.default)(this, Pair);

    this.price = (0, _bignumber2.default)(price);
    this.amount = (0, _bignumber2.default)(amount);

    var _parsePair = parsePair(ticker),
        MAIN = _parsePair.MAIN,
        BASE = _parsePair.BASE;

    if (!MAIN || !BASE) throw new Error('CreateOrderError: No currency: ' + MAIN + '-' + BASE);

    this.ticker = ticker;
    this.main = MAIN;
    this.base = BASE;
    this.type = type === _PAIR_TYPES2.default.BID ? _PAIR_TYPES2.default.BID : _PAIR_TYPES2.default.ASK;
    this.total = this.price.times(this.amount);
  }

  /*
  * 10 ETH -> 1 BTC
  *
  * ticker: ETH-BTC
  *
  * So we are on ETH market, thus:
  *   - ASK orders are SELL ETH (for BTC),
  *   - BID orders are BUY ETH (for BTC)
  *
  * This order is SELLING ETH, to it's ASK
  * type: BID = true, ASK = false
  *
  * Price is also calculated in BTC, while amount in ETH
  * price: 0.1
  * amount: 10
  *
  *
  * So, for type = ASK
  *
  * buyCurrency: BTC = base
  * sellCurrency: ETH = main
  * buyAmount: 1 BTC = (0.1 BTC/ETH) * 10 ETH = price * amount
  * sellAmount: 10 ETH = 10 ETH = amount
  *
  */


  (0, _createClass3.default)(Pair, [{
    key: 'toOrder',
    value: function toOrder() {
      var ticker = this.ticker,
          type = this.type,
          price = this.price,
          amount = this.amount;


      console.log('create order ' + this);

      var _parsePair2 = parsePair(ticker),
          MAIN = _parsePair2.MAIN,
          BASE = _parsePair2.BASE;

      if (!MAIN || !BASE) throw new Error('CreateOrderError: No currency: ' + main + '-' + base);

      if (![PAIR_ASK, PAIR_BID].includes(type)) throw new Error('CreateOrderError: Wrong order type: ' + type);

      var base = { currency: BASE, amount: amount.times(price) };
      var main = { currency: MAIN, amount: amount };

      var buy = type === PAIR_ASK ? base : main;
      var sell = type === PAIR_ASK ? main : base;

      return {
        buyCurrency: buy.currency,
        sellCurrency: sell.currency,
        buyAmount: filteredDecimals(buy),
        sellAmount: filteredDecimals(sell),
        exchangeRate: price // isAsk(type) ? price : 1/price
      };
    }
  }, {
    key: 'toString',
    value: function toString() {
      var type = this.type === _PAIR_TYPES2.default.BID ? 'bid' : 'ask';
      return type + ' \t' + this.ticker + ' \t' + this.price.dp(8) + ' \t' + this.amount;
    }
  }, {
    key: 'isBid',
    value: function isBid() {
      return _isBid(this.type);
    }
  }, {
    key: 'isAsk',
    value: function isAsk() {
      return _isAsk(this.type);
    }
  }], [{
    key: 'fromOrder',
    value: function fromOrder(order) {
      var buyCurrency = order.buyCurrency,
          sellCurrency = order.sellCurrency,
          buyAmount = order.buyAmount,
          sellAmount = order.sellAmount;

      var _parseTicker = parseTicker(order),
          ticker = _parseTicker.ticker,
          type = _parseTicker.type;

      if (ticker === 'none') {
        return;
      }

      // ASK means sellCurrency is ETH, then sell is main
      var mainAmount = (0, _bignumber2.default)(type === PAIR_ASK ? sellAmount : buyAmount);
      var baseAmount = (0, _bignumber2.default)(type === PAIR_ASK ? buyAmount : sellAmount);

      return new Pair({
        ticker: ticker,
        type: type,
        price: baseAmount.div(mainAmount),
        amount: mainAmount
      });
    }
  }, {
    key: 'check',
    value: function check(order, ticker) {
      try {
        var pair = Pair.fromOrder(order);

        var _parsePair3 = parsePair(ticker.toUpperCase()),
            MAIN = _parsePair3.MAIN,
            BASE = _parsePair3.BASE;

        return pair.ticker === MAIN + '-' + BASE;
      } catch (err) {
        return false;
      }
    }
  }, {
    key: 'compareOrders',
    value: function compareOrders(order1, order2) {
      var pair1 = Pair.fromOrder(order1);
      var pair2 = Pair.fromOrder(order2);

      return pair1.price.comparedTo(pair2.price);
    }
  }]);
  return Pair;
}();

exports.default = Pair;

/***/ }),

/***/ 369:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _freeze = __webpack_require__(1421);

var _freeze2 = _interopRequireDefault(_freeze);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = (0, _freeze2.default)({
  BID: 'bid',
  ASK: 'ask'
});

/***/ }),

/***/ 376:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var coinsWithDynamicFee = ['eth', 'ltc', 'btc', 'bch'];

exports.default = coinsWithDynamicFee;

/***/ }),

/***/ 400:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _SwapProgress = __webpack_require__(258);

var _SwapProgress2 = _interopRequireDefault(_SwapProgress);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _crypto = __webpack_require__(101);

var _crypto2 = _interopRequireDefault(_crypto);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _helpers = __webpack_require__(17);

var _locale = __webpack_require__(50);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _reactRouterDom = __webpack_require__(51);

var _reactIntl = __webpack_require__(8);

var _Timer = __webpack_require__(128);

var _Timer2 = _interopRequireDefault(_Timer);

var _Logo = __webpack_require__(219);

var _Logo2 = _interopRequireDefault(_Logo);

var _controls = __webpack_require__(46);

var _Input = __webpack_require__(129);

var _Input2 = _interopRequireDefault(_Input);

var _Title = __webpack_require__(402);

var _Title2 = _interopRequireDefault(_Title);

var _CloseIcon = __webpack_require__(259);

var _CloseIcon2 = _interopRequireDefault(_CloseIcon);

var _SwapController = __webpack_require__(1951);

var _SwapController2 = _interopRequireDefault(_SwapController);

var _WidthContainer = __webpack_require__(195);

var _WidthContainer2 = _interopRequireDefault(_WidthContainer);

var _PleaseDontLeaveWrapper = __webpack_require__(1953);

var _PleaseDontLeaveWrapper2 = _interopRequireDefault(_PleaseDontLeaveWrapper);

var _BtcToEth = __webpack_require__(1955);

var _BtcToEth2 = _interopRequireDefault(_BtcToEth);

var _BtcToEthTokens = __webpack_require__(1956);

var _BtcToEthTokens2 = _interopRequireDefault(_BtcToEthTokens);

var _EthToBtc = __webpack_require__(1957);

var _EthToBtc2 = _interopRequireDefault(_EthToBtc);

var _EthTokensToBtc = __webpack_require__(1958);

var _EthTokensToBtc2 = _interopRequireDefault(_EthTokensToBtc);

var _images = __webpack_require__(1959);

var animation = _interopRequireWildcard(_images);

var _finish = __webpack_require__(1970);

var _finish2 = _interopRequireDefault(_finish);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SwapProgress = (_dec = (0, _reactCssModules2.default)(_SwapProgress2.default, { allowMultiple: true }), (0, _reactIntl.injectIntl)(_class = _dec(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(SwapProgress, _Component);

  function SwapProgress(_ref) {
    var flow = _ref.flow,
        step = _ref.step,
        swap = _ref.swap,
        styles = _ref.styles,
        tokenItems = _ref.tokenItems,
        signed = _ref.signed,
        wallets = _ref.wallets,
        history = _ref.history,
        locale = _ref.locale;
    (0, _classCallCheck3.default)(this, SwapProgress);

    var _this = (0, _possibleConstructorReturn3.default)(this, (SwapProgress.__proto__ || (0, _getPrototypeOf2.default)(SwapProgress)).call(this));

    _initialiseProps.call(_this);

    _this.swap = swap;

    _this.wallets = wallets;
    _this.history = history;
    _this.locale = locale;

    _this.isSellCurrencyEthOrEthToken = _helpers.ethToken.isEthOrEthToken({ name: swap.sellCurrency });

    _this.state = {
      step: step,
      swap: swap,
      signed: signed,
      enabledButton: false,
      refundError: false,
      flow: flow,
      steps: flow.steps,
      buyCurrency: swap.buyCurrency,
      sellCurrency: swap.sellCurrency,
      secret: _crypto2.default.randomBytes(32).toString('hex'),
      stepValue: 0
    };
    return _this;
  }

  (0, _createClass3.default)(SwapProgress, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.swap.on('state update', this.handleFlowStateUpdate);
      this.handleBarProgress();
      localStorage.setItem(_helpers.constants.localStorage.startSwap, Date.now());
      this.reloadPage();
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.swap.off('state update', this.handleFlowStateUpdate);
    }

    // TODO add animation css, if the app will have error and try to on 10s step, will show the 9th of animathin

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _state = this.state,
          step = _state.step,
          steps = _state.steps,
          flow = _state.flow,
          swap = _state.swap,
          signed = _state.signed,
          buyAmount = _state.buyAmount,
          sellAmount = _state.sellAmount,
          buyCurrency = _state.buyCurrency,
          sellCurrency = _state.sellCurrency,
          enabledButton = _state.enabledButton,
          refundError = _state.refundError,
          stepValue = _state.stepValue,
          isSecretCopied = _state.isSecretCopied;


      var progress = Math.floor(90 * stepValue);
      var finishIcon = _react2.default.createElement('img', { src: _finish2.default, alt: 'finishIcon' });
      var showWalletButton = !this.swap.destinationBuyAddress || this.swap.destinationBuyAddress === this.wallets[buyCurrency.toUpperCase()];

      var canRefund = this.checkCanRefund();

      var swapTexts = _react2.default.createElement(
        _react.Fragment,
        null,
        this.props.name === 'BtcToEth' && _react2.default.createElement(_BtcToEth2.default, { step: flow.step, flow: flow, swap: swap }),
        this.props.name === 'EthToBtc' && _react2.default.createElement(_EthToBtc2.default, { step: flow.step, flow: flow, swap: swap }),
        this.props.name === 'BtcToEthTokens' && _react2.default.createElement(_BtcToEthTokens2.default, { step: flow.step, flow: flow, swap: swap }),
        this.props.name === 'EthTokensToBtc' && _react2.default.createElement(_EthTokensToBtc2.default, { step: flow.step, flow: flow, swap: swap })
      );

      return _react2.default.createElement(
        'div',
        { styleName: 'overlay' },
        _react2.default.createElement(
          'div',
          { styleName: 'container' },
          _react2.default.createElement(
            'div',
            { styleName: 'stepContainer' },
            _react2.default.createElement(_SwapController2.default, { swap: swap }),
            _react2.default.createElement(
              'div',
              { styleName: 'progressContainer' },
              _react2.default.createElement(
                'div',
                { styleName: progress > 180 ? 'progress-pie-chart gt-50' : 'progress-pie-chart' },
                _react2.default.createElement(
                  'div',
                  { styleName: 'ppc-progress' },
                  _react2.default.createElement('div', { styleName: 'ppc-progress-fill', style: { transform: 'rotate(' + progress + 'deg)' } })
                )
              ),
              _react2.default.createElement(
                'div',
                { styleName: 'step' },
                _react2.default.createElement(
                  'div',
                  { styleName: 'stepImg' },
                  flow.isFinished ? finishIcon : this.handleStepChangeImage(flow.step)
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { styleName: 'stepInfo' },
              _react2.default.createElement(
                'span',
                { styleName: 'stepHeading' },
                swapTexts
              ),
              signed && flow.step < 4 && _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(
                  'strong',
                  null,
                  _react2.default.createElement(
                    'a',
                    { href: _appConfig2.default.link.etherscan + '/tx/' + flow.signTransactionHash, target: '_blank', rel: 'noopener noreferrer' },
                    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'swappropgress193', defaultMessage: 'Sign ETH transaction: {transaction}', values: { transaction: flow.signTransactionHash } })
                  )
                )
              ),
              flow.btcScriptValues && !flow.isFinished && !flow.isEthWithdrawn && flow.refundTxHex && _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(
                  'a',
                  {
                    href: 'https://wiki.swap.online/faq/my-swap-got-stuck-and-my-bitcoin-has-been-withdrawn-what-to-do/',
                    target: '_blank',
                    rel: 'noopener noreferrer'
                  },
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'swappropgress192', defaultMessage: 'How to refund your money ?' })
                ),
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'swappropgress333', defaultMessage: 'Refund hex transaction: ' }),
                _react2.default.createElement(
                  'code',
                  null,
                  ' ',
                  flow.refundTxHex,
                  ' '
                )
              ),
              flow.refundTransactionHash && _react2.default.createElement(
                'div',
                { styleName: 'refundTransaction' },
                _react2.default.createElement(
                  'strong',
                  null,
                  _react2.default.createElement(
                    'a',
                    {
                      href: swap.sellCurrency === 'BTC' ? _appConfig2.default.link.bitpay + '/tx/' + flow.refundTransactionHash : _appConfig2.default.link.etherscan + '/tx/' + flow.refundTransactionHash,
                      target: '_blank',
                      rel: 'noopener noreferrer'
                    },
                    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'swapprogress254', defaultMessage: 'Refund transaction: ' }),
                    _react2.default.createElement(
                      'span',
                      { styleName: 'refundTransactionHash' },
                      flow.refundTransactionHash
                    )
                  )
                )
              ),
              canRefund && _react2.default.createElement(
                _react.Fragment,
                null,
                enabledButton ? _react2.default.createElement(
                  _react.Fragment,
                  null,
                  _react2.default.createElement(
                    'div',
                    { styleName: 'btnRefund' },
                    _react2.default.createElement(
                      _controls.Button,
                      { gray: true, onClick: this.tryRefund },
                      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'swapprogress270', defaultMessage: 'Try refund' })
                    )
                  ),
                  refundError && _react2.default.createElement(
                    'span',
                    { styleName: 'tryAgain' },
                    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'swapprogress271', defaultMessage: 'Try again in a few minutes' })
                  )
                ) : _react2.default.createElement(
                  'div',
                  { styleName: 'timerRefund' },
                  _react2.default.createElement(_Timer2.default, {
                    lockTime: flow.btcScriptValues.lockTime * 1000,
                    enabledButton: function enabledButton() {
                      return _this2.setState(function () {
                        return { enabledButton: true };
                      });
                    }
                  })
                )
              ),
              flow.step === 2 && !this.isSellCurrencyEthOrEthToken && _react2.default.createElement(
                _controls.Button,
                { brand: true, onClick: this.submitSecret() },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'swapFinishedGoHome289', defaultMessage: 'Submit the Secret' })
              ),
              flow.step === 3 && this.isSellCurrencyEthOrEthToken && _react2.default.createElement(
                _controls.Button,
                { brand: true, onClick: this.confirmBTCScriptChecked() },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'swapFinishedGoHome298', defaultMessage: 'Everything is OK. Continue' })
              ),
              flow.step > 3 && flow.step < 6 && !this.isSellCurrencyEthOrEthToken && _react2.default.createElement(_PleaseDontLeaveWrapper2.default, { isBTC: flow.secret ? flow.secret : false })
            ),
            flow.ethSwapWithdrawTransactionHash && !this.isSellCurrencyEthOrEthToken && _react2.default.createElement(
              'strong',
              { styleName: 'transaction' },
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapWithdrawTransactionHash,
                  target: '_blank',
                  rel: 'noreferrer noopener'
                },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'swappropgress207', defaultMessage: '{transaction}', values: { transaction: flow.ethSwapWithdrawTransactionHash } })
              )
            ),
            flow.btcSwapWithdrawTransactionHash && this.isSellCurrencyEthOrEthToken && _react2.default.createElement(
              'strong',
              { styleName: 'transaction' },
              _react2.default.createElement(
                'a',
                {
                  href: _appConfig2.default.link.bitpay + '/tx/' + flow.btcSwapWithdrawTransactionHash,
                  target: '_blank',
                  rel: 'noopener noreferrer'
                },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'swappropgress218', defaultMessage: '{transaction}', values: { transaction: flow.btcSwapWithdrawTransactionHash } })
              )
            ),
            flow.isFinished && _react2.default.createElement(
              'div',
              { styleName: 'finishButtonsHolder' },
              showWalletButton && _react2.default.createElement(
                _reactRouterDom.Link,
                { to: '/wallet' },
                _react2.default.createElement(
                  _controls.Button,
                  { brand: true, onClick: this.onPushGoToWallet },
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'swapProgressGoToWallet', defaultMessage: 'Check balance' })
                )
              ),
              _react2.default.createElement(
                _controls.Button,
                { gray: true, onClick: this.onPushGoToTxPage },
                _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'swapProgressGoToTxPage', defaultMessage: 'View TX in explorer' })
              )
            )
          )
        )
      );
    }
  }]);
  return SwapProgress;
}(_react.Component), _class2.propTypes = {
  flow: _propTypes2.default.object
}, _class2.defaultProps = {
  flow: {},
  whiteLogo: false
}, _initialiseProps = function _initialiseProps() {
  var _this3 = this;

  this.onPushGoToWallet = function () {
    var buyCurrency = _this3.state.buyCurrency;


    _this3.history.push((0, _locale.localisedUrl)(_this3.locale, '/wallet'));
  };

  this.onPushGoToTxPage = function () {
    var _state2 = _this3.state,
        flow = _state2.flow,
        swap = _state2.swap;


    if (flow.ethSwapWithdrawTransactionHash && swap.sellCurrency === 'BTC') {
      window.open(_appConfig2.default.link.etherscan + '/tx/' + flow.ethSwapWithdrawTransactionHash, '_blank');
    }
    if (flow.btcSwapWithdrawTransactionHash) {
      window.open(_appConfig2.default.link.bitpay + '/tx/' + flow.btcSwapWithdrawTransactionHash, '_blank');
    }
  };

  this.handleBarProgress = function () {
    var _state$swap = _this3.state.swap,
        sellCurrency = _state$swap.sellCurrency,
        _state$swap$flow = _state$swap.flow,
        stepNumbers = _state$swap$flow.stepNumbers,
        step = _state$swap$flow.state.step;

    var first = stepNumbers.sign;
    var sixth = sellCurrency === 'BTC' ? stepNumbers['withdraw-eth'] : stepNumbers['wait-withdraw-eth'];
    var seventh = sellCurrency === 'BTC' ? stepNumbers.finish : stepNumbers['withdraw-btc'];
    var eighth = sellCurrency === 'BTC' ? stepNumbers.end : stepNumbers.finish;

    if (step >= first && step < sixth) {
      _this3.setState({
        stepValue: 1
      });
    }
    if (step === sixth) {
      _this3.setState({
        stepValue: 2
      });
    }
    if (step === seventh) {
      _this3.setState({
        stepValue: 3
      });
    }
    if (step >= eighth) {
      _this3.setState({
        stepValue: 4
      });
    }
  };

  this.reloadPage = function () {
    _this3.timer = setInterval(function () {
      var startSwapTime = localStorage.getItem(_helpers.constants.localStorage.startSwap);

      var isSwapPage = window.location.pathname.includes("swaps");
      if (Date.now() - startSwapTime > 300 * 1000 && isSwapPage) {
        console.warn('UPS!!! SWAP IS FROZEM - RELOAD');
        localStorage.removeItem(_helpers.constants.localStorage.startSwap);
        clearInterval(_this3.timer);
        window.location.reload();
      }
    }, 1000);
  };

  this.checkCanRefund = function () {
    var _state3 = _this3.state,
        sellCurrency = _state3.sellCurrency,
        buyCurrency = _state3.buyCurrency,
        swap = _state3.swap;


    if (!swap) {
      return false;
    }

    var _swap$flow = swap.flow,
        state = _swap$flow.state,
        stepNumbers = _swap$flow.stepNumbers;


    var getFinalCurrency = function getFinalCurrency(currency) {
      var isCurrencyEthOrEthToken = _helpers.ethToken.isEthOrEthToken({ name: currency });

      if (isCurrencyEthOrEthToken) {
        return 'Eth';
      }

      return currency.charAt(0).toUpperCase() + currency.slice(1).toLowerCase();
    };

    var finalBuyCurrency = getFinalCurrency(buyCurrency);
    var finalSellCurrency = getFinalCurrency(sellCurrency);

    var isStartStepForRefund = state.step >= stepNumbers['lock-' + finalSellCurrency.toLowerCase()];
    var isEndStepForRefund = state.step < stepNumbers['withdraw-' + finalBuyCurrency.toLowerCase()];

    var isStepForRefund = isStartStepForRefund && isEndStepForRefund;

    var isNotFinished = !state.isFinished && !state.isRefunded;

    var isCurrencyFunded = _this3.isSellCurrencyEthOrEthToken ? state.ethSwapCreationTransactionHash : state.btcScriptCreatingTransactionHash;

    var isCurrencyWithdrawn = _this3.isSellCurrencyEthOrEthToken ? state.btcSwapWithdrawTransactionHash : state.ethSwapWithdrawTransactionHash;

    var canRefund = isStepForRefund && isCurrencyFunded && isNotFinished && !isCurrencyWithdrawn;

    return canRefund;
  };

  this.handleFlowStateUpdate = function (values) {
    _this3.setState(function () {
      return {
        flow: values
      };
    });

    _this3.handleBarProgress();
  };

  this.handleStepChangeImage = function (step) {
    if (step < 10) {
      return _react2.default.createElement('img', { src: animation['icon' + step], alt: 'step' });
    }
    if (step === 10) {
      // eslint-disable-next-line
      return _react2.default.createElement('img', { src: animation['icon9'], alt: 'step' });
    }
  };

  this.handleFocusSecretInput = function (event) {
    return event.target.select();
  };

  this.tryRefund = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var flow;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            flow = _this3.swap.flow;
            _context.next = 3;
            return flow.tryRefund().then(function (result) {
              if (!result) {
                _this3.setState(function () {
                  return { refundError: true };
                });
                setTimeout(function () {
                  return _this3.setState(function () {
                    return { refundError: false };
                  });
                }, 5000);
                return;
              }

              _this3.setState(function () {
                return { enabledButton: false };
              });
            });

          case 3:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, _this3);
  }));

  this.willEnable = function () {
    _this3.setState(function () {
      return { enabledButton: true };
    });
  };

  this.submitSecret = function () {
    var secret = _this3.state.secret;


    _this3.swap.flow.submitSecret(secret);
  };

  this.confirmBTCScriptChecked = function () {
    _this3.swap.flow.verifyBtcScript();
  };
}, _temp)) || _class) || _class);
exports.default = SwapProgress;

/***/ }),

/***/ 401:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _Timer = __webpack_require__(546);

var _Timer2 = _interopRequireDefault(_Timer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TimerButton = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(TimerButton, _Component);

  function TimerButton() {
    (0, _classCallCheck3.default)(this, TimerButton);
    return (0, _possibleConstructorReturn3.default)(this, (TimerButton.__proto__ || (0, _getPrototypeOf2.default)(TimerButton)).apply(this, arguments));
  }

  (0, _createClass3.default)(TimerButton, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          children = _props.children,
          disabledTimer = _props.disabledTimer,
          timeLeft = _props.timeLeft,
          className = _props.className,
          onClick = _props.onClick,
          rest = (0, _objectWithoutProperties3.default)(_props, ['children', 'disabledTimer', 'timeLeft', 'className', 'onClick']);


      return _react2.default.createElement(
        _Button2.default,
        (0, _extends3.default)({ className: className, onClick: onClick }, rest),
        children,
        !disabledTimer && _react2.default.createElement(_Timer2.default, { timeLeft: timeLeft, handleClick: onClick })
      );
    }
  }]);
  return TimerButton;
}(_react.Component), _class.propTypes = {
  onClick: _propTypes2.default.func.isRequired,
  timeLeft: _propTypes2.default.number.isRequired,
  className: _propTypes2.default.string,
  disabledTimer: _propTypes2.default.bool
}, _class.defaultProps = {
  disabledTimer: false
}, _temp);
exports.default = TimerButton;

/***/ }),

/***/ 402:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Title = __webpack_require__(1949);

var _Title2 = _interopRequireDefault(_Title);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Title = function Title(_ref) {
  var children = _ref.children;
  return _react2.default.createElement(
    'div',
    { styleName: 'title' },
    children
  );
};

exports.default = (0, _reactCssModules2.default)(Title, _Title2.default);

/***/ }),

/***/ 403:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _FeeControler = __webpack_require__(1975);

var _FeeControler2 = _interopRequireDefault(_FeeControler);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _reactCopyToClipboard = __webpack_require__(130);

var _reactCopyToClipboard2 = _interopRequireDefault(_reactCopyToClipboard);

var _reactIntl = __webpack_require__(8);

var _bignumber = __webpack_require__(30);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _Timer = __webpack_require__(546);

var _Timer2 = _interopRequireDefault(_Timer);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var isWidgetBuild = _appConfig2.default && _appConfig2.default.isWidget;

var FeeControler = (_dec = (0, _reactCssModules2.default)(_FeeControler2.default), _dec(_class = function (_Component) {
  (0, _inherits3.default)(FeeControler, _Component);

  function FeeControler() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, FeeControler);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = FeeControler.__proto__ || (0, _getPrototypeOf2.default)(FeeControler)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      isAddressCopied: false
    }, _this.handleCopy = function () {
      _this.setState({
        isAddressCopied: true
      }, function () {
        setTimeout(function () {
          _this.setState({
            isAddressCopied: false
          });
        }, 500);
      });
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(FeeControler, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          ethAddress = _props.ethAddress,
          gasAmountNeeded = _props.gasAmountNeeded;
      var isAddressCopied = this.state.isAddressCopied;


      return _react2.default.createElement(
        'div',
        { styleName: 'main' },
        _react2.default.createElement(
          _reactCopyToClipboard2.default,
          { text: ethAddress, 'data-tut': 'reactour__address' },
          _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(
              'div',
              { styleName: 'warning' },
              _react2.default.createElement('i', { className: 'fas fa-exclamation-triangle' })
            ),
            _react2.default.createElement(
              _react.Fragment,
              null,
              _react2.default.createElement(
                'h3',
                { styleName: 'feeHeading' },
                _react2.default.createElement(_reactIntl.FormattedMessage, {
                  id: 'FeeControler68',
                  defaultMessage: 'Not enough ETH on your balance for miner fee.{br}Deposit {gasAmountNeeded} ETH to your account',
                  values: {
                    br: _react2.default.createElement('br', null),
                    gasAmountNeeded: _react2.default.createElement(
                      'strong',
                      null,
                      gasAmountNeeded * 5
                    ) // 3 = 1 for approving, 4 for creating swap
                  }
                })
              ),
              _react2.default.createElement(
                'p',
                { styleName: 'address' },
                ethAddress
              ),
              _react2.default.createElement(
                _Button2.default,
                { brand: true, styleName: 'button', onClick: this.handleCopy },
                isAddressCopied ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FeeControler48', defaultMessage: 'Copied' }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'FeeControler49', defaultMessage: 'Copy' })
              )
            )
          )
        )
      );
    }
  }]);
  return FeeControler;
}(_react.Component)) || _class);
exports.default = FeeControler;

/***/ }),

/***/ 404:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _helpers = __webpack_require__(17);

var _reactDeviceDetect = __webpack_require__(53);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _SwapList = __webpack_require__(320);

var _SwapList2 = _interopRequireDefault(_SwapList);

var _reactIntl = __webpack_require__(8);

var _FirstStep = __webpack_require__(1976);

var _FirstStep2 = _interopRequireDefault(_FirstStep);

var _SecondStep = __webpack_require__(1977);

var _SecondStep2 = _interopRequireDefault(_SecondStep);

var _ThirdStep = __webpack_require__(1978);

var _ThirdStep2 = _interopRequireDefault(_ThirdStep);

var _FourthStep = __webpack_require__(1979);

var _FourthStep2 = _interopRequireDefault(_FourthStep);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SwapList = (_dec = (0, _reactCssModules2.default)(_SwapList2.default, { allowMultiple: true }), _dec(_class = function (_Component) {
  (0, _inherits3.default)(SwapList, _Component);

  function SwapList(_ref) {
    var _ref$swap = _ref.swap,
        sellCurrency = _ref$swap.sellCurrency,
        stepNumbers = _ref$swap.flow.stepNumbers;
    (0, _classCallCheck3.default)(this, SwapList);

    var _this = (0, _possibleConstructorReturn3.default)(this, (SwapList.__proto__ || (0, _getPrototypeOf2.default)(SwapList)).call(this));

    var first = stepNumbers.sign;
    var second = sellCurrency === 'BTC' ? stepNumbers['submit-secret'] : stepNumbers['wait-lock-btc'];
    var fourth = sellCurrency === 'BTC' ? stepNumbers['lock-btc'] : stepNumbers['sync-balance'];
    var fifth = sellCurrency === 'BTC' ? stepNumbers['wait-lock-eth'] : stepNumbers['lock-eth'];
    var sixth = sellCurrency === 'BTC' ? stepNumbers['withdraw-eth'] : stepNumbers['wait-withdraw-eth'];
    var seventh = sellCurrency === 'BTC' ? stepNumbers.finish : stepNumbers['withdraw-btc'];
    var eighth = sellCurrency === 'BTC' ? stepNumbers.end : stepNumbers.finish;

    _this.state = {
      first: first,
      second: second,
      fourth: fourth,
      fifth: fifth,
      sixth: sixth,
      seventh: seventh,
      eighth: eighth
    };
    return _this;
  }

  (0, _createClass3.default)(SwapList, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          swap = _props.swap,
          flow = _props.flow,
          enoughBalance = _props.enoughBalance,
          windowWidth = _props.windowWidth;
      var _state = this.state,
          first = _state.first,
          second = _state.second,
          fourth = _state.fourth,
          fifth = _state.fifth,
          sixth = _state.sixth,
          seventh = _state.seventh,
          eighth = _state.eighth;
      var _swap$flow$state = swap.flow.state,
          ethSwapCreationTransactionHash = _swap$flow$state.ethSwapCreationTransactionHash,
          btcScriptCreatingTransactionHash = _swap$flow$state.btcScriptCreatingTransactionHash;


      return _react2.default.createElement(
        'div',
        { styleName: _reactDeviceDetect.isMobile ? 'stepList isMobile' : 'stepList' },
        !_reactDeviceDetect.isMobile && _react2.default.createElement(_FirstStep2.default, { step: flow.step, first: first, second: second }),
        _react2.default.createElement(_SecondStep2.default, { step: flow.step, swap: swap, second: second, windowWidth: windowWidth, fifth: fifth, fourth: fourth, sixth: sixth }),
        _react2.default.createElement(_ThirdStep2.default, { step: flow.step, windowWidth: windowWidth, swap: swap, sixth: sixth, seventh: seventh, eighth: eighth }),
        !_reactDeviceDetect.isMobile && _react2.default.createElement(_FourthStep2.default, { step: flow.step, swap: swap, seventh: seventh, eighth: eighth })
      );
    }
  }]);
  return SwapList;
}(_react.Component)) || _class);
exports.default = SwapList;

/***/ }),

/***/ 405:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Coins = __webpack_require__(2056);

var _Coins2 = _interopRequireDefault(_Coins);

var _Coin = __webpack_require__(324);

var _Coin2 = _interopRequireDefault(_Coin);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Coins = function Coins(_ref) {
  var className = _ref.className,
      names = _ref.names,
      size = _ref.size;
  return _react2.default.createElement(
    'div',
    { styleName: 'coins', className: className },
    _react2.default.createElement(_Coin2.default, { name: names[0], size: size }),
    _react2.default.createElement(_Coin2.default, { name: names[1], size: size })
  );
};

Coins.defaultProps = {
  size: 40
};

Coins.propTypes = {
  names: _propTypes2.default.array.isRequired,
  size: _propTypes2.default.number,
  className: _propTypes2.default.string
};

exports.default = (0, _reactCssModules2.default)(Coins, _Coins2.default);

/***/ }),

/***/ 450:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _SwapAuth = __webpack_require__(677);

var _SwapAuth2 = _interopRequireDefault(_SwapAuth);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _SwapAuth2.default;
module.exports = exports['default'];

/***/ }),

/***/ 456:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Loader = __webpack_require__(3228);

var _Loader2 = _interopRequireDefault(_Loader);

var _helpers = __webpack_require__(17);

var _reactIntl = __webpack_require__(8);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var isFirefox = navigator.userAgent.indexOf('Firefox') !== -1;
var isWidget = _appConfig2.default && _appConfig2.default.isWidget;

var Loader = function Loader(_ref) {
  var overlayClassName = _ref.overlayClassName,
      className = _ref.className,
      data = _ref.data,
      showTips = _ref.showTips,
      showMyOwnTip = _ref.showMyOwnTip;
  return _react2.default.createElement(
    'div',
    { styleName: 'Firefox overlay', className: overlayClassName },
    _react2.default.createElement(
      'div',
      null,
      _react2.default.createElement(
        'div',
        { styleName: 'loader', className: className },
        _react2.default.createElement('div', { styleName: 'loader1' }),
        _react2.default.createElement('div', { styleName: 'loader2' }),
        _react2.default.createElement('div', { styleName: 'loader3' })
      ),
      data && data.txId && _react2.default.createElement(
        'p',
        { styleName: 'text' },
        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Loader21', defaultMessage: 'Please wait, it takes from 3 to 5 minutes to complete the transaction.' })
      ),
      data && data.txId && _react2.default.createElement(
        'a',
        {
          href: data.txId,
          styleName: 'link',
          target: '_blank',
          rel: 'noopener noreferrer'
        },
        data.txId
      ),
      showTips && !isWidget && !Boolean(showMyOwnTip) && _react2.default.createElement(
        'div',
        { styleName: 'tips' },
        (0, _helpers.tips)('loader')
      ),
      !isWidget && Boolean(showMyOwnTip) && _react2.default.createElement(
        'div',
        { styleName: 'tips' },
        showMyOwnTip
      )
    )
  );
};

Loader.propTypes = {
  overlayClassName: _propTypes2.default.string,
  className: _propTypes2.default.string,
  data: _propTypes2.default.shape({
    txId: _propTypes2.default.string
  }),
  showTips: _propTypes2.default.bool
};

Loader.deafultProps = {
  data: null,
  showTips: false
};

exports.default = (0, _reactCssModules2.default)(Loader, _Loader2.default, { allowMultiple: true });

/***/ }),

/***/ 46:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.WithdrawButton = exports.RemoveButton = exports.Flip = exports.Switching = exports.Button = exports.TimerButton = exports.Toggle = undefined;

var _Toggle = __webpack_require__(891);

var _Toggle2 = _interopRequireDefault(_Toggle);

var _TimerButton = __webpack_require__(401);

var _TimerButton2 = _interopRequireDefault(_TimerButton);

var _Button = __webpack_require__(73);

var _Button2 = _interopRequireDefault(_Button);

var _Switching = __webpack_require__(547);

var _Switching2 = _interopRequireDefault(_Switching);

var _Flip = __webpack_require__(548);

var _Flip2 = _interopRequireDefault(_Flip);

var _RemoveButton = __webpack_require__(1933);

var _RemoveButton2 = _interopRequireDefault(_RemoveButton);

var _WithdrawButton = __webpack_require__(892);

var _WithdrawButton2 = _interopRequireDefault(_WithdrawButton);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// constructor buttons

/* Just button */
// input type checkbox
exports.Toggle = _Toggle2.default;
exports.TimerButton = _TimerButton2.default;
exports.Button = _Button2.default;
exports.Switching = _Switching2.default;
exports.Flip = _Flip2.default;
exports.RemoveButton = _RemoveButton2.default;
exports.WithdrawButton = _WithdrawButton2.default; // HOC by timer

/***/ }),

/***/ 472:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.history = undefined;

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _reactRouterRedux = __webpack_require__(713);

var _history = __webpack_require__(167);

var _redaction = __webpack_require__(37);

var _reduxLogger = __webpack_require__(1294);

var _reducers = __webpack_require__(724);

var _reducers2 = _interopRequireDefault(_reducers);

var _middleware = __webpack_require__(1315);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var history = exports.history = (0, _history.createBrowserHistory)();
var middleware = (0, _reactRouterRedux.routerMiddleware)(history);
var initialState = localStorage['redux-store'] ? JSON.parse(localStorage['redux-store']) : {};

var store = (0, _redaction.createStore)({
  reducers: (0, _assign2.default)({}, (0, _redaction.combineReducers)(_reducers2.default, _reactRouterRedux.routerReducer)),
  middleware: [middleware, _middleware.selectiveSaver].concat( true ? [] : [(0, _reduxLogger.createLogger)()]),
  initialState: initialState
});

exports.default = store;

/***/ }),

/***/ 498:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ETH_TOKENS = exports.NATIVE = undefined;

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var NATIVE = exports.NATIVE = {
  eth: 'ETH',
  btc: 'BTC',
  bch: 'BCH',
  ltc: 'LTC',
  eos: 'EOS',
  nim: 'NIM',
  usdt: 'USDT'
};

var ETH_TOKENS = exports.ETH_TOKENS = {
  noxon: 'NOXON',
  swap: 'SWAP',
  pbl: 'PBL',
  xsat: 'XSAT',
  hdp: 'HDP',
  scro: 'SCRO',
  xeur: 'XEUR',
  eurs: 'EURS'
};

exports.default = (0, _extends3.default)({}, NATIVE, ETH_TOKENS);

/***/ }),

/***/ 499:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var swap = _appConfig2.default && _appConfig2.default.isWidget ? [] : ['ETH-BTC', 'ETH-LTC', 'LTC-BTC', 'ETH-BCH', 'EOS-BTC'];

(0, _keys2.default)(_appConfig2.default.erc20).forEach(function (key) {
  swap.push(key.toUpperCase() + '-BTC');

  // swap.push(`${key.toUpperCase()}-USDTomni`)
});

if (_appConfig2.default && _appConfig2.default.isWidget) {
  swap.length = 0;
  swap.push(_appConfig2.default.erc20token.toUpperCase() + '-BTC');
  // swap.push(`${config.erc20token.toUpperCase()}-USDTomni`)
  swap.push('ETH-BTC');
}
exports.default = [].concat(swap);

/***/ }),

/***/ 50:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.relocalisedUrl = exports.unlocalisedUrl = exports.localisedUrl = exports.localisePrefix = exports.defaultLocale = exports.reduceMessages = undefined;

var _defineProperty2 = __webpack_require__(123);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var reduceMessages = exports.reduceMessages = function reduceMessages(result) {
  return result.reduce(function (acc, msg) {
    return (0, _assign2.default)({}, acc, (0, _defineProperty3.default)({}, msg.id, msg.message || msg.defaultMessage));
  }, {});
};

var defaultLocale = exports.defaultLocale = function defaultLocale() {
  return 'en';
};
var localisePrefix = exports.localisePrefix = '/:locale(en|ru)?';
var getFixedLocale = function getFixedLocale(locale) {
  return locale === 'en' ? '' : locale;
};
var prepareUrl = function prepareUrl(locale) {
  var link = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
  return ('' + getFixedLocale(locale) + link).replace(/^\/|\/$/g, '');
};
var localisedUrl = exports.localisedUrl = function localisedUrl(locale) {
  var link = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
  return '/' + prepareUrl(locale, link);
};
var unlocalisedUrl = exports.unlocalisedUrl = function unlocalisedUrl(locale) {
  var link = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
  return locale === 'en' ? link : link.split('/ru')[1];
};
var relocalisedUrl = exports.relocalisedUrl = function relocalisedUrl(locale) {
  var link = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
  return localisedUrl(locale.toLowerCase() === 'en' ? 'ru' : 'en', link);
};

/***/ }),

/***/ 521:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var minAmountOffer = {
  eth: 0.0006,
  btc: 0.0002,
  bch: 0.0006,
  ltc: 0.1,
  eos: 1,
  jot: 1,
  usdt: 0,
  erc: 1
};

exports.default = minAmountOffer;

/***/ }),

/***/ 546:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TimerButton = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(TimerButton, _Component);

  function TimerButton(_ref) {
    var timeLeft = _ref.timeLeft;
    (0, _classCallCheck3.default)(this, TimerButton);

    var _this = (0, _possibleConstructorReturn3.default)(this, (TimerButton.__proto__ || (0, _getPrototypeOf2.default)(TimerButton)).call(this));

    _initialiseProps.call(_this);

    _this.state = {
      timeLeft: timeLeft
    };
    return _this;
  }

  (0, _createClass3.default)(TimerButton, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.tick();
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      clearTimeout(this.timer);
    }
  }, {
    key: 'render',
    value: function render() {
      var timeLeft = this.state.timeLeft;


      return timeLeft;
    }
  }]);
  return TimerButton;
}(_react.Component), _class.propTypes = {
  timeLeft: _propTypes2.default.number, // seconds
  handleClick: _propTypes2.default.func
}, _class.defaultProps = {
  timeLeft: 10
}, _initialiseProps = function _initialiseProps() {
  var _this2 = this;

  this.timer = null;

  this.tick = function () {
    var timeLeft = _this2.state.timeLeft;

    var newTimeLeft = timeLeft - 1;

    if (newTimeLeft <= 0) {
      _this2.props.handleClick();
    } else {
      _this2.timer = setTimeout(_this2.tick, 1000);
      _this2.setState({
        timeLeft: newTimeLeft
      });
    }
  };
}, _temp);
exports.default = TimerButton;

/***/ }),

/***/ 547:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Switching = __webpack_require__(1931);

var _Switching2 = _interopRequireDefault(_Switching);

var _classnames = __webpack_require__(72);

var _classnames2 = _interopRequireDefault(_classnames);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Switching = function Switching(_ref) {
  var onClick = _ref.onClick,
      noneBorder = _ref.noneBorder;


  var styleName = (0, _classnames2.default)('Switching', {
    'noneBorder': noneBorder
  });

  return _react2.default.createElement('button', { onClick: onClick, styleName: styleName });
};

Switching.propTypes = {
  onClick: _propTypes2.default.func.isRequired
};

exports.default = (0, _reactCssModules2.default)(Switching, _Switching2.default, { allowMultiple: true });

/***/ }),

/***/ 548:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Flip = __webpack_require__(1932);

var _Flip2 = _interopRequireDefault(_Flip);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Flip = function Flip(_ref) {
  var onClick = _ref.onClick,
      className = _ref.className;
  return _react2.default.createElement('button', { alt: 'flip currency', onClick: onClick, className: className, styleName: 'trade-panel__change' });
};

Flip.propTypes = {
  onClick: _propTypes2.default.func,
  className: _propTypes2.default.string
};

Flip.defaulProps = {
  className: ''
};

exports.default = (0, _reactCssModules2.default)(Flip, _Flip2.default);

/***/ }),

/***/ 549:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _CurrencySelect = __webpack_require__(2009);

var _CurrencySelect2 = _interopRequireDefault(_CurrencySelect);

var _Option = __webpack_require__(2010);

var _Option2 = _interopRequireDefault(_Option);

var _DropDown = __webpack_require__(2035);

var _DropDown2 = _interopRequireDefault(_DropDown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var CurrencySelect = function CurrencySelect(_ref) {
  var className = _ref.className,
      selectedValue = _ref.selectedValue,
      onSelect = _ref.onSelect,
      currencies = _ref.currencies,
      name = _ref.name,
      placeholder = _ref.placeholder,
      label = _ref.label,
      tooltip = _ref.tooltip,
      id = _ref.id,
      switchBalanceFunc = _ref.switchBalanceFunc;

  // remove null values in object map
  var nonNullCurrencies = currencies.filter(function (currency) {
    return !!currency !== false;
  });
  // TODO: Add debug logger message to see if some currency have been dropped
  return _react2.default.createElement(_DropDown2.default, {
    className: className,
    placeholder: placeholder,
    items: currencies,
    switchBalanceFunc: switchBalanceFunc,
    selectedValue: selectedValue,
    selectedItemRender: function selectedItemRender(item) {
      return _react2.default.createElement(_Option2.default, item);
    },
    itemRender: function itemRender(item) {
      return _react2.default.createElement(_Option2.default, item);
    },
    onSelect: onSelect,
    label: label,
    tooltip: tooltip,
    id: id,
    name: name
  });
};

exports.default = (0, _reactCssModules2.default)(CurrencySelect, _CurrencySelect2.default);

/***/ }),

/***/ 550:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactDocumentMeta = __webpack_require__(899);

var _reactDocumentMeta2 = _interopRequireDefault(_reactDocumentMeta);

var _Seo2 = __webpack_require__(902);

var _Seo3 = _interopRequireDefault(_Seo2);

var _JsonLd = __webpack_require__(903);

var _JsonLd2 = _interopRequireDefault(_JsonLd);

var _seo = __webpack_require__(323);

var _seo2 = _interopRequireDefault(_seo);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PageSeo = (_temp2 = _class = function (_Seo) {
  (0, _inherits3.default)(PageSeo, _Seo);

  function PageSeo() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, PageSeo);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = PageSeo.__proto__ || (0, _getPrototypeOf2.default)(PageSeo)).call.apply(_ref, [this].concat(args))), _this), _this.getValues = function () {
      if (!!_this.seoPage) {
        return (0, _assign2.default)({}, _this.seoPage, {
          url: (0, _seo.getUrl)(_this.seoPage.uri)
        });
      } else {
        var _this$props = _this.props,
            defaultTitle = _this$props.defaultTitle,
            defaultDescription = _this$props.defaultDescription;

        return {
          title: defaultTitle,
          description: defaultDescription,
          uri: null,
          url: null
        };
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(PageSeo, [{
    key: 'render',
    value: function render() {
      var _getValues = this.getValues(),
          title = _getValues.title,
          description = _getValues.description,
          uri = _getValues.uri,
          url = _getValues.url;

      return _react2.default.createElement(
        _reactDocumentMeta2.default,
        {
          title: title,
          description: description,
          canonical: url,
          meta: {
            property: {
              'og:title': title,
              'og:description': description,
              'og:url': url,
              'og:image': _seo2.default.config.logo
            }
          }
        },
        _react2.default.createElement(_JsonLd2.default, { uri: uri, title: title, description: description })
      );
    }
  }]);
  return PageSeo;
}(_Seo3.default), _class.propTypes = {
  location: _propTypes2.default.object.isRequired,
  defaultTitle: _propTypes2.default.string,
  defaultDescription: _propTypes2.default.string
}, _temp2);
exports.default = PageSeo;

/***/ }),

/***/ 551:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _jdenticon = __webpack_require__(2048);

var _jdenticon2 = _interopRequireDefault(_jdenticon);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Avatar = __webpack_require__(2049);

var _Avatar2 = _interopRequireDefault(_Avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Avatar = function Avatar(_ref) {
  var value = _ref.value,
      className = _ref.className,
      size = _ref.size;
  return _react2.default.createElement(
    _react.Fragment,
    null,
    _react2.default.createElement('img', {
      className: className,
      styleName: 'avatar',
      alt: value,
      src: 'data:image/svg+xml,' + encodeURIComponent(_jdenticon2.default.toSvg(value, size))
    })
  );
};

Avatar.defaultProps = {
  size: 35
};

Avatar.propTypes = {
  value: _propTypes2.default.string.isRequired,
  size: _propTypes2.default.number,
  className: _propTypes2.default.string
};

exports.default = (0, _reactCssModules2.default)(Avatar, _Avatar2.default);

/***/ }),

/***/ 552:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _CurrencyButton = __webpack_require__(2068);

var _CurrencyButton2 = _interopRequireDefault(_CurrencyButton);

var _reactTooltip = __webpack_require__(103);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _reactIntl = __webpack_require__(8);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _classnames = __webpack_require__(72);

var _classnames2 = _interopRequireDefault(_classnames);

var _redaction = __webpack_require__(37);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var CurrencyButton = (_dec = (0, _reactCssModules2.default)(_CurrencyButton2.default, { allowMultiple: true }), _dec(_class = function (_Component) {
  (0, _inherits3.default)(CurrencyButton, _Component);

  function CurrencyButton() {
    (0, _classCallCheck3.default)(this, CurrencyButton);
    return (0, _possibleConstructorReturn3.default)(this, (CurrencyButton.__proto__ || (0, _getPrototypeOf2.default)(CurrencyButton)).apply(this, arguments));
  }

  (0, _createClass3.default)(CurrencyButton, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          onClick = _props.onClick,
          children = _props.children,
          disable = _props.disable,
          dataTooltip = _props.dataTooltip,
          id = _props.id,
          text = _props.text,
          currency = _props.currency,
          deposit = _props.deposit,
          wallet = _props.wallet,
          isActive = _props.isActive,
          rest = (0, _objectWithoutProperties3.default)(_props, ['onClick', 'children', 'disable', 'dataTooltip', 'id', 'text', 'currency', 'deposit', 'wallet', 'isActive']);


      var styleName = (0, _classnames2.default)('button', {
        'disable': disable,
        'wallet': wallet
      });

      return _react2.default.createElement(
        _react.Fragment,
        null,
        _react2.default.createElement(
          'button',
          (0, _extends3.default)({ styleName: styleName, onClick: !disable ? onClick : function () {}, 'data-tip': true, 'data-for': dataTooltip.id }, rest),
          children
        ),
        dataTooltip.deposit && _react2.default.createElement(
          _reactTooltip2.default,
          { id: dataTooltip.id, type: 'light', effect: 'solid' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CurrencyButton41', defaultMessage: 'Deposit this cryptocurrency to your wallet' })
        ),
        dataTooltip.isActive && _react2.default.createElement(
          _reactTooltip2.default,
          { id: dataTooltip.id, type: 'light', effect: 'solid' },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'CurrencyButton42', defaultMessage: 'You can not send this asset, because you have a zero balance.' })
        )
      );
    }
  }]);
  return CurrencyButton;
}(_react.Component)) || _class);
exports.default = CurrencyButton;

/***/ }),

/***/ 559:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Referral = __webpack_require__(2137);

var _Referral2 = _interopRequireDefault(_Referral);

var _reactIntl = __webpack_require__(8);

var _reactCopyToClipboard = __webpack_require__(130);

var _reactCopyToClipboard2 = _interopRequireDefault(_reactCopyToClipboard);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Referral = function Referral(props) {
  var myRefLink = 'https://swap.online/?promo=' + props.address;

  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(
      'span',
      { styleName: 'myLink' },
      '' + myRefLink
    ),
    '\xA0\xA0',
    _react2.default.createElement(
      _reactCopyToClipboard2.default,
      { text: myRefLink, 'data-tut': 'reactour__eth_promo_address' },
      _react2.default.createElement('i', { className: 'far fa-copy', 'data-tip': true, 'data-for': 'Copy', style: { width: '14px' } })
    ),
    _react2.default.createElement('br', null),
    _react2.default.createElement('br', null),
    _react2.default.createElement(_reactIntl.FormattedMessage, {
      id: 'ReferralLinks1' // eslint-disable-next-line
      , defaultMessage: 'Share the link above!  Each user who visits swap through the above referral link will get up to 10 SWAP tokens.  What\u2019s in it for you?  Each time one of those users makes a successful swap (including operations with bonus tokens), you\u2019ll earn SWAP tokens too!'
    }),
    ' ',
    _react2.default.createElement(
      'a',
      {
        href: 'https://wiki.swap.online/affiliate-limits/',
        target: '_blank',
        rel: 'noopener noreferrer'
      },
      _react2.default.createElement(_reactIntl.FormattedMessage, {
        id: 'ReferralLinks2' // eslint-disable-next-line
        , defaultMessage: 'Limits and conditions'
      })
    )
  );
};

exports.default = (0, _reactCssModules2.default)(Referral, _Referral2.default);

/***/ }),

/***/ 56:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _redaction = __webpack_require__(37);

var _reducers = __webpack_require__(724);

var _reducers2 = _interopRequireDefault(_reducers);

var _store = __webpack_require__(472);

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = (0, _redaction.wrapReducers)(_reducers2.default, _store2.default.dispatch);

/***/ }),

/***/ 560:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Overlay = __webpack_require__(2149);

var _Overlay2 = _interopRequireDefault(_Overlay);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Overlay = function Overlay(_ref) {
  var children = _ref.children,
      onClick = _ref.onClick;
  return _react2.default.createElement(
    'div',
    { styleName: 'overlay', onClick: onClick },
    children
  );
};

Overlay.propTypes = {
  children: _propTypes2.default.node,
  onClick: _propTypes2.default.func
};

exports.default = (0, _reactCssModules2.default)(Overlay, _Overlay2.default);

/***/ }),

/***/ 561:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _Table = __webpack_require__(160);

var _Table2 = _interopRequireDefault(_Table);

var _Table3 = __webpack_require__(260);

var _Table4 = _interopRequireDefault(_Table3);

var _RowHistory = __webpack_require__(2157);

var _RowHistory2 = _interopRequireDefault(_RowHistory);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var titles = [_react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapHisrory14', defaultMessage: 'Avatar' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapHisrory15', defaultMessage: 'Exchange' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapHisrory16', defaultMessage: 'You buy' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapHisrory17', defaultMessage: 'You sell' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapHisrory18', defaultMessage: 'Exchange rate' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapHisrory20', defaultMessage: 'Status order' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapHisrory211', defaultMessage: 'Lock time' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapHisrory22', defaultMessage: 'Link' })];

var SwapsHistory = function (_PureComponent) {
  (0, _inherits3.default)(SwapsHistory, _PureComponent);

  function SwapsHistory() {
    (0, _classCallCheck3.default)(this, SwapsHistory);
    return (0, _possibleConstructorReturn3.default)(this, (SwapsHistory.__proto__ || (0, _getPrototypeOf2.default)(SwapsHistory)).apply(this, arguments));
  }

  (0, _createClass3.default)(SwapsHistory, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          orders = _props.orders,
          showSubtitle = _props.showSubtitle;


      if (orders === null || orders.length === 0) {
        return null;
      }

      return _react2.default.createElement(
        'div',
        { style: { marginBottom: '50px' } },
        showSubtitle && _react2.default.createElement(
          'h3',
          null,
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'SwapHisrory21', defaultMessage: 'Swaps history' })
        ),
        _react2.default.createElement(_Table2.default, {
          id: 'table-history',
          className: _Table4.default.historySwap,
          titles: titles,
          rows: orders,
          rowRender: function rowRender(row, index) {
            return _react2.default.createElement(_RowHistory2.default, {
              key: index,
              row: row
            });
          }
        })
      );
    }
  }]);
  return SwapsHistory;
}(_react.PureComponent);

exports.default = SwapsHistory;

/***/ }),

/***/ 58:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Select = exports.TextArea = exports.Radio = exports.Checkbox = exports.NumberInput = exports.Input = undefined;

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _tags = __webpack_require__(1919);

Object.defineProperty(exports, 'Input', {
  enumerable: true,
  get: function get() {
    return _tags.Input;
  }
});
Object.defineProperty(exports, 'NumberInput', {
  enumerable: true,
  get: function get() {
    return _tags.NumberInput;
  }
});
Object.defineProperty(exports, 'Checkbox', {
  enumerable: true,
  get: function get() {
    return _tags.Checkbox;
  }
});
Object.defineProperty(exports, 'Radio', {
  enumerable: true,
  get: function get() {
    return _tags.Radio;
  }
});
Object.defineProperty(exports, 'TextArea', {
  enumerable: true,
  get: function get() {
    return _tags.TextArea;
  }
});
Object.defineProperty(exports, 'Select', {
  enumerable: true,
  get: function get() {
    return _tags.Select;
  }
});

var _valuelink = __webpack_require__(1922);

var _valuelink2 = _interopRequireDefault(_valuelink);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// this.state = { foo: '', bar: '' }  =>   Link.all(this, 'foo', 'bar')
_valuelink2.default.allFields = function (component) {
  return _valuelink2.default.all.apply(_valuelink2.default, [component].concat((0, _toConsumableArray3.default)((0, _keys2.default)(component.state))));
};

exports.default = _valuelink2.default;

/***/ }),

/***/ 60:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getState = exports.reducers = undefined;

var _store = __webpack_require__(472);

var _store2 = _interopRequireDefault(_store);

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getState = function getState() {
  return _store2.default.getState();
};

exports.reducers = _reducers2.default;
exports.getState = getState;

/***/ }),

/***/ 677:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _stringify = __webpack_require__(112);

var _stringify2 = _interopRequireDefault(_stringify);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _privateKeys = void 0;
var getPublicDataMethods = {};

var SwapAuth = function (_ServiceInterface) {
  (0, _inherits3.default)(SwapAuth, _ServiceInterface);
  (0, _createClass3.default)(SwapAuth, null, [{
    key: 'name',
    get: function get() {
      return 'auth';
    }
  }]);

  function SwapAuth(privateKeys) {
    (0, _classCallCheck3.default)(this, SwapAuth);

    var _this = (0, _possibleConstructorReturn3.default)(this, (SwapAuth.__proto__ || (0, _getPrototypeOf2.default)(SwapAuth)).call(this));

    _this._serviceName = 'auth';
    _this.accounts = {};

    _privateKeys = privateKeys;
    return _this;
  }

  (0, _createClass3.default)(SwapAuth, [{
    key: 'initService',
    value: function initService() {
      var _this2 = this;

      var app = this.app;

      _swap2.default.required(app);
      console.log('app', app.isSwapApp());

      (0, _keys2.default)(_privateKeys).forEach(function (name) {
        if ((0, _keys2.default)(_swap.constants.COINS).indexOf(name) < 0) {
          var error = 'SwapAuth._initService(): There is no instance with name "' + name + '".';
          error += 'Only [' + (0, _stringify2.default)((0, _keys2.default)(_swap.constants.COINS)).replace(/"/g, '\'') + '] available';

          throw new Error(error);
        }

        try {
          var instance = __webpack_require__(3112)("./" + name);
          instance = instance.default || instance;
          var account = instance.login(_privateKeys[name], app);

          _this2.accounts[name] = account;
          getPublicDataMethods[name] = function () {
            return instance.getPublicData(account, app);
          };
        } catch (err) {
          throw new Error('SwapAuth._initService(): ' + err);
        }
      });
    }
  }, {
    key: 'getPublicData',
    value: function getPublicData() {
      var data = {
        peer: this.app.services.room.peer
      };

      (0, _keys2.default)(getPublicDataMethods).forEach(function (name) {
        data[name] = getPublicDataMethods[name]();
      });

      return data;
    }
  }]);
  return SwapAuth;
}(_swap.ServiceInterface);

exports.default = SwapAuth;
module.exports = exports['default'];

/***/ }),

/***/ 685:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Row = __webpack_require__(3259);

var _Row2 = _interopRequireDefault(_Row);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Row = function Row(_ref) {
  var title = _ref.title,
      children = _ref.children;
  return _react2.default.createElement(
    'div',
    { styleName: 'row' },
    _react2.default.createElement(
      'div',
      { styleName: 'title' },
      title
    ),
    _react2.default.createElement(
      'div',
      { styleName: 'content' },
      children
    )
  );
};

exports.default = (0, _reactCssModules2.default)(Row, _Row2.default);

/***/ }),

/***/ 686:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Value = __webpack_require__(3260);

var _Value2 = _interopRequireDefault(_Value);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Value = function Value(_ref) {
  var value = _ref.value,
      currency = _ref.currency;
  return _react2.default.createElement(
    'span',
    { styleName: 'value' },
    _react2.default.createElement(
      'span',
      null,
      value,
      ' '
    ),
    _react2.default.createElement(
      'span',
      { styleName: 'currency' },
      ' ',
      currency.toUpperCase()
    )
  );
};

exports.default = (0, _reactCssModules2.default)(Value, _Value2.default);

/***/ }),

/***/ 687:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _classnames = __webpack_require__(72);

var _classnames2 = _interopRequireDefault(_classnames);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Notification = __webpack_require__(3321);

var _Notification2 = _interopRequireDefault(_Notification);

var _Sound = __webpack_require__(1211);

var _Sound2 = _interopRequireDefault(_Sound);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Notification = (_dec = (0, _reactCssModules2.default)(_Notification2.default, { allowMultiple: true }), _dec(_class = (_temp2 = _class2 = function (_Component) {
  (0, _inherits3.default)(Notification, _Component);

  function Notification() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Notification);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Notification.__proto__ || (0, _getPrototypeOf2.default)(Notification)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      mounted: false,
      removed: false
    }, _this.close = function () {
      var name = _this.props.name;


      _this.setState({
        removed: true
      }, function () {
        setTimeout(function () {
          _actions2.default.notifications.hide(name);
        }, 300);
      });
    }, _this.soundClick = function () {
      var audio = new Audio();
      audio.src = _Sound2.default;
      audio.autoplay = true;
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Notification, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      if (this.props.soundPlay) {
        this.soundClick();
      }
      setTimeout(function () {
        _this2.setState({
          mounted: true
        }, function () {
          setTimeout(_this2.close, 8000);
        });
      }, 0);
    }
  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          mounted = _state.mounted,
          removed = _state.removed;
      var _props = this.props,
          children = _props.children,
          type = _props.type,
          className = _props.className;


      var containerStyleName = (0, _classnames2.default)('container', {
        'mounted': mounted,
        'removed': removed
      });

      var notificationStyleName = (0, _classnames2.default)('notification', {
        'mounted': mounted,
        'removed': removed,
        'ErrorNotification': type === 'ErrorNotification'
      });

      return _react2.default.createElement(
        'div',
        { styleName: containerStyleName },
        _react2.default.createElement(
          'div',
          { styleName: notificationStyleName, onClick: this.close },
          _react2.default.createElement(
            'div',
            { styleName: 'content', className: className },
            children
          )
        )
      );
    }
  }]);
  return Notification;
}(_react.Component), _class2.defaultProps = {
  soundPlay: true
}, _class2.childContextTypes = {
  close: _propTypes2.default.func
}, _temp2)) || _class);
exports.default = Notification;

/***/ }),

/***/ 724:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _notifications = __webpack_require__(1295);

var notifications = _interopRequireWildcard(_notifications);

var _modals = __webpack_require__(1298);

var modals = _interopRequireWildcard(_modals);

var _history = __webpack_require__(1299);

var history = _interopRequireWildcard(_history);

var _loader = __webpack_require__(1302);

var loader = _interopRequireWildcard(_loader);

var _user = __webpack_require__(1303);

var user = _interopRequireWildcard(_user);

var _feeds = __webpack_require__(1304);

var feeds = _interopRequireWildcard(_feeds);

var _core = __webpack_require__(1305);

var core = _interopRequireWildcard(_core);

var _ipfs = __webpack_require__(1306);

var ipfs = _interopRequireWildcard(_ipfs);

var _api = __webpack_require__(1307);

var api = _interopRequireWildcard(_api);

var _currencies = __webpack_require__(1308);

var currencies = _interopRequireWildcard(_currencies);

var _menu = __webpack_require__(1311);

var menu = _interopRequireWildcard(_menu);

var _signUp = __webpack_require__(1312);

var signUp = _interopRequireWildcard(_signUp);

var _inputActive = __webpack_require__(1313);

var inputActive = _interopRequireWildcard(_inputActive);

var _rememberedOrders = __webpack_require__(1314);

var rememberedOrders = _interopRequireWildcard(_rememberedOrders);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

exports.default = {
  notifications: notifications,
  modals: modals,
  history: history,
  loader: loader,
  core: core,
  user: user,
  feeds: feeds,
  ipfs: ipfs,
  api: api,
  currencies: currencies,
  menu: menu,
  signUp: signUp,
  inputActive: inputActive,
  rememberedOrders: rememberedOrders
};

/***/ }),

/***/ 73:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _classnames = __webpack_require__(72);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Button = __webpack_require__(1930);

var _Button2 = _interopRequireDefault(_Button);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Button = function Button(props) {
  var children = props.children,
      className = props.className,
      fullWidth = props.fullWidth,
      brand = props.brand,
      green = props.green,
      white = props.white,
      gray = props.gray,
      disabled = props.disabled,
      onClick = props.onClick,
      _props$id = props.id,
      id = _props$id === undefined ? '' : _props$id,
      dataTut = props.dataTut;


  var styleName = (0, _classnames2.default)('button', {
    'fullWidth': fullWidth,
    'brand': brand,
    'green': green,
    'white': white,
    'gray': gray,
    'disabled': disabled
  });

  return _react2.default.createElement(
    'button',
    {
      'data-tut': dataTut,
      styleName: styleName,
      className: className,
      onClick: onClick,
      id: id,
      disabled: disabled
    },
    children
  );
};

Button.propTypes = {
  children: _propTypes2.default.any,
  className: _propTypes2.default.string,
  fullWidth: _propTypes2.default.bool,
  brand: _propTypes2.default.bool,
  green: _propTypes2.default.bool,
  white: _propTypes2.default.bool,
  gray: _propTypes2.default.bool,
  disabled: _propTypes2.default.bool,
  onClick: _propTypes2.default.func
};

exports.default = (0, _reactCssModules2.default)(Button, _Button2.default, { allowMultiple: true });

/***/ }),

/***/ 762:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _values = __webpack_require__(251);

var _values2 = _interopRequireDefault(_values);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _constants = __webpack_require__(367);

var _constants2 = _interopRequireDefault(_constants);

var _StorageFactory = __webpack_require__(1409);

var _StorageFactory2 = _interopRequireDefault(_StorageFactory);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SwapApp = function () {

  /**
   *
   * @param {object}  options
   * @param {string}  options.network
   * @param {object}  options.env
   * @param {array}   options.services
   * @param {array}   options.swaps
   * @param {array}   options.flows
   */
  function SwapApp(options) {
    (0, _classCallCheck3.default)(this, SwapApp);

    this.network = options.network || _constants2.default.NETWORKS.TESTNET;
    this.env = {};
    this.services = {};

    this.swaps = {};
    this.flows = {};

    this._addEnv(options.env || {});
    this._addServices(options.services || {});

    this._addSwaps(options.swaps || []);
    this._addFlows(options.flows || []);
  }

  (0, _createClass3.default)(SwapApp, [{
    key: '_addEnv',


    // Configure -------------------------------------------------------- /

    value: function _addEnv(env) {
      (0, _keys2.default)(env).forEach(function (name) {
        if ((0, _values2.default)(_constants2.default.ENV).indexOf(name) < 0) {
          throw new Error('SwapApp.addEnv(): Only ' + (0, _values2.default)(_constants2.default.ENV) + ' available');
        }
      });

      env.storage = new _StorageFactory2.default(env.storage);

      // SwapApp.env = env

      this.env = env;
    }
  }, {
    key: '_addService',
    value: function _addService(service) {
      if (!service._serviceName) {
        throw new Error('SwapApp service should contain "_serviceName" property');
      }

      if (!(0, _values2.default)(_constants2.default.SERVICES).includes(service._serviceName)) {
        throw new Error('SwapApp service should contain "_serviceName" property should be one of ' + (0, _values2.default)(_constants2.default.SERVICES) + ', got "' + service._serviceName + '"');
      }

      service._attachSwapApp(this);
      this.services[service._serviceName] = service;
    }
  }, {
    key: '_addServices',
    value: function _addServices(services) {
      var _this = this;

      // add service to app by _serviceName
      services.forEach(function (service) {
        return _this._addService(service);
      });
      // spy expects
      (0, _keys2.default)(this.services).forEach(function (serviceName) {
        return _this.services[serviceName]._waitRelationsResolve();
      });
      // init services
      (0, _keys2.default)(this.services).forEach(function (serviceName) {
        return _this.services[serviceName]._tryInitService();
      });
    }
  }, {
    key: '_addSwap',
    value: function _addSwap(swap) {
      if (!swap._swapName) {
        throw new Error('SwapApp swap should contain "_swapName" property');
      }

      if (!(0, _values2.default)(_constants2.default.COINS).includes(swap._swapName.toUpperCase())) {
        throw new Error('SwapApp swap should contain "_swapName" property should be one of ' + (0, _values2.default)(_constants2.default.COINS) + ', got "' + swap._swapName.toUpperCase() + '"');
      }

      this.swaps[swap._swapName] = swap;

      if (typeof swap._initSwap === 'function') {
        swap._initSwap(this);
      }
    }
  }, {
    key: '_addSwaps',
    value: function _addSwaps(swaps) {
      var _this2 = this;

      swaps.forEach(function (swap) {
        _this2._addSwap(swap);
      });
    }
  }, {
    key: '_addFlow',
    value: function _addFlow(Flow) {
      var flowName = Flow.getName();

      if (!(0, _values2.default)(_constants2.default.COINS).includes(Flow.getFromName()) || !(0, _values2.default)(_constants2.default.COINS).includes(Flow.getToName())) {
        throw new Error('SwapApp flow "_flowName" property should contain only: ' + (0, _values2.default)(_constants2.default.COINS) + '. Got: "' + flowName.toUpperCase() + '"');
      }

      this.flows[flowName] = Flow;
    }
  }, {
    key: '_addFlows',
    value: function _addFlows(flows) {
      var _this3 = this;

      flows.forEach(function (flow) {
        _this3._addFlow(flow);
      });
    }

    // Public methods --------------------------------------------------- /

  }, {
    key: 'isMainNet',
    value: function isMainNet() {
      return this.network.toLowerCase() === _constants2.default.NETWORKS.MAINNET;
    }
  }, {
    key: 'isTestNet',
    value: function isTestNet() {
      return this.network.toLowerCase() === _constants2.default.NETWORKS.TESTNET;
    }
  }, {
    key: 'isLocalNet',
    value: function isLocalNet() {
      return this.network.toLowerCase() === _constants2.default.NETWORKS.LOCALNET;
    }
  }, {
    key: 'isSwapApp',
    value: function isSwapApp() {
      return true;
    }
  }], [{
    key: 'init',
    value: function init(options) {
      return new SwapApp(options);
    }
  }, {
    key: 'setup',
    value: function setup(options) {
      var forceFreshSetup = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (SwapApp._swapAppInstance && !forceFreshSetup) {
        throw new Error('Shared instance already initialized. Use SwapApp.shared() to access it.');
      }

      SwapApp._swapAppInstance = new SwapApp(options);
    }
  }, {
    key: 'shared',
    value: function shared() {
      SwapApp.required(SwapApp._swapAppInstance, 'Shared instance not initialized. Call SwapApp.setup(config) first.');
      return SwapApp._swapAppInstance;
    }
  }, {
    key: 'is',
    value: function is(app) {
      return app && app.isSwapApp && app.isSwapApp() && app instanceof SwapApp;
    }
  }, {
    key: 'required',
    value: function required(app) {
      var errorMessage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

      if (!SwapApp.is(app)) {
        throw new Error('SwapApp required, got: ' + app + '. ' + errorMessage);
      }
    }
  }]);
  return SwapApp;
}();

SwapApp._swapAppInstance = null;
exports.default = SwapApp;
module.exports = exports['default'];

/***/ }),

/***/ 764:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _pullProps = __webpack_require__(1415);

var _pullProps2 = _interopRequireDefault(_pullProps);

var _ignoreProps = __webpack_require__(1416);

var _ignoreProps2 = _interopRequireDefault(_ignoreProps);

var _typeforce = __webpack_require__(298);

var _typeforce2 = _interopRequireDefault(_typeforce);

var _helpers = __webpack_require__(1417);

var _helpers2 = _interopRequireDefault(_helpers);

var _erc = __webpack_require__(1418);

var _erc2 = _interopRequireDefault(_erc);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  pullProps: _pullProps2.default,
  ignoreProps: _ignoreProps2.default,
  typeforce: _typeforce2.default,
  helpers: _helpers2.default,
  erc20: _erc2.default
};
module.exports = exports['default'];

/***/ }),

/***/ 765:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _debug = __webpack_require__(23);

var _debug2 = _interopRequireDefault(_debug);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Room = function () {

  // TODO add destroy method with all events unsubscribe (when swap is finished)

  function Room(app, _ref) {
    var _this = this;

    var swapId = _ref.swapId,
        participantPeer = _ref.participantPeer;
    (0, _classCallCheck3.default)(this, Room);

    this.getOnlineParticipant = function () {
      try {
        var online = _this.app.services.room.connection.hasPeer(_this.peer);

        if (!online) {
          _this._events.dispatch('participant is offline', _this.peer);
        }

        return online;
      } catch (err) {
        console.warn(err);
        return false;
      }
    };

    this.swapId = swapId;
    this.peer = participantPeer;
    this._events = new _swap.Events();
    this.app = null;

    this._attachSwapApp(app);
  }

  (0, _createClass3.default)(Room, [{
    key: '_attachSwapApp',
    value: function _attachSwapApp(app) {
      _swap2.default.required(app);

      this.app = app;
    }
  }, {
    key: 'on',
    value: function on(eventName, handler) {
      var _this2 = this;

      this.app.services.room.on(eventName, function (_ref2) {
        var fromPeer = _ref2.fromPeer,
            swapId = _ref2.swapId,
            values = (0, _objectWithoutProperties3.default)(_ref2, ['fromPeer', 'swapId']);

        (0, _debug2.default)('swap.verbose:room')('on ' + eventName + ' from ' + fromPeer + ' at swap ' + swapId);
        if (fromPeer === _this2.peer && swapId === _this2.swapId) {
          handler(values);
        }
      });
    }
  }, {
    key: 'once',
    value: function once(eventName, handler) {
      var self = this;

      this.app.services.room.on(eventName, function (_ref3) {
        var fromPeer = _ref3.fromPeer,
            swapId = _ref3.swapId,
            values = (0, _objectWithoutProperties3.default)(_ref3, ['fromPeer', 'swapId']);

        (0, _debug2.default)('swap.verbose:room')('once ' + eventName + ' from ' + fromPeer + ' at swap ' + swapId);
        if (fromPeer === self.peer && swapId === self.swapId) {
          this.unsubscribe();
          handler(values);
        }
      });
    }
  }, {
    key: 'sendMessage',
    value: function sendMessage(message) {
      var _this3 = this;

      if (!this.getOnlineParticipant()) {
        setTimeout(function () {
          _this3.sendMessage(message);
        }, 3000);
      }

      var event = message.event,
          data = message.data;


      this.app.services.room.sendConfirmation(this.peer, {
        event: event,
        action: 'active',
        data: (0, _extends3.default)({
          swapId: this.swapId
        }, data)
      });
    }
  }]);
  return Room;
}();

exports.default = Room;
module.exports = exports['default'];

/***/ }),

/***/ 766:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var decimals = {
  btc: 8,
  bch: 8,
  eth: 18,
  ltc: 8

};

(0, _keys2.default)(_appConfig2.default.erc20).forEach(function (key) {
  decimals[key] = _appConfig2.default.erc20[key].decimals;
});

exports.default = (0, _assign2.default)({}, decimals);

/***/ }),

/***/ 82:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Flow = undefined;

var _Swap = __webpack_require__(1419);

var _Swap2 = _interopRequireDefault(_Swap);

var _Flow = __webpack_require__(1420);

var _Flow2 = _interopRequireDefault(_Flow);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Swap2.default;
exports.Flow = _Flow2.default;

/***/ }),

/***/ 821:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _helpers = __webpack_require__(17);

var _urlParse = __webpack_require__(1605);

var _urlParse2 = _interopRequireDefault(_urlParse);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var newReferral = function newReferral(ethAddress) {
  var _ref = new _urlParse2.default(window.location.href, 1, true),
      query = _ref.query;

  if (query.ref) {
    _helpers.request.get('https://wiki.swap.online/affiliate.php?referral=' + query.ref + '&action=add_referrer&address=' + ethAddress);
  }
};

exports.default = {
  newReferral: newReferral
};

/***/ }),

/***/ 824:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var minAmount = {
  eth: 0.001,
  btc: 0.00015,
  bch: 0.001,
  ltc: 0.1,
  eos: 1,
  tlos: 1,
  noxon: 1,
  swap: 1,
  jot: 1,
  usdt: 0,
  erc: 1
};

exports.default = minAmount;

/***/ }),

/***/ 830:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _constants = __webpack_require__(154);

var _constants2 = _interopRequireDefault(_constants);

var _request = __webpack_require__(308);

var _request2 = _interopRequireDefault(_request);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var estimateFeeValue = function () {
  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        _ref2$method = _ref2.method,
        method = _ref2$method === undefined ? 'send' : _ref2$method,
        speed = _ref2.speed;

    var gasPrice, feeValue;
    return _regenerator2.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return estimateGasPrice({ speed: speed });

          case 2:
            gasPrice = _context.sent;
            feeValue = new _bignumber2.default(_constants2.default.defaultFeeRates.eth.limit[method]).multipliedBy(gasPrice).multipliedBy(1e-18).toString();
            return _context.abrupt('return', feeValue);

          case 5:
          case 'end':
            return _context.stop();
        }
      }
    }, _callee, undefined);
  }));

  return function estimateFeeValue() {
    return _ref.apply(this, arguments);
  };
}();

var estimateGasPrice = function () {
  var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        _ref4$speed = _ref4.speed,
        speed = _ref4$speed === undefined ? 'fast' : _ref4$speed;

    var link, defaultPrice, apiResult, apiSpeeds, apiSpeed, apiPrice;
    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            link = _appConfig2.default.feeRates.eth;
            defaultPrice = _constants2.default.defaultFeeRates.eth.price;

            if (link) {
              _context2.next = 4;
              break;
            }

            return _context2.abrupt('return', defaultPrice[speed]);

          case 4:
            apiResult = void 0;
            _context2.prev = 5;
            _context2.next = 8;
            return _request2.default.get(link, { cacheResponse: 60000 });

          case 8:
            apiResult = _context2.sent;
            _context2.next = 15;
            break;

          case 11:
            _context2.prev = 11;
            _context2.t0 = _context2['catch'](5);

            console.error('EstimateGasPrice: ' + _context2.t0.message);
            return _context2.abrupt('return', defaultPrice[speed]);

          case 15:
            apiSpeeds = {
              slow: 'safeLow',
              normal: 'standard',
              fast: 'fast'
            };
            apiSpeed = apiSpeeds[speed] || apiSpeed.normal;
            apiPrice = new _bignumber2.default(apiResult[apiSpeed]).multipliedBy(1e9);
            return _context2.abrupt('return', apiPrice >= defaultPrice[speed] ? apiPrice.toString() : defaultPrice[speed]);

          case 19:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, undefined, [[5, 11]]);
  }));

  return function estimateGasPrice() {
    return _ref3.apply(this, arguments);
  };
}();

exports.default = {
  estimateFeeValue: estimateFeeValue,
  estimateGasPrice: estimateGasPrice
};

/***/ }),

/***/ 831:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var hasNonZeroBalance = exports.hasNonZeroBalance = function hasNonZeroBalance(currencies) {
  var nonZeroBalanceCurrencies = currencies.filter(function (currency) {
    return currency.balance > 0;
  });

  return nonZeroBalanceCurrencies.length > 0;
};

var hasSignificantBalance = exports.hasSignificantBalance = function hasSignificantBalance(currencies) {
  return currencies.reduce(function (accumulator, _ref) {
    var name = _ref.name,
        balance = _ref.balance;


    if (accumulator) return true;

    // 10$
    if (name === 'BTC' && balance > 0.005) {
      return true;
    }

    // 10$
    if (name === 'ETH' && balance > 0.1) {
      return true;
    }

    return false;
  }, false);
};

var notTestUnit = exports.notTestUnit = function notTestUnit(currencies) {
  return currencies.filter(function (_ref2) {
    var name = _ref2.name,
        balance = _ref2.balance;
    return name === 'ETH' && balance > 0.001 || name === 'SWAP' && balance > 5;
  }).length === 2;
};

/***/ }),

/***/ 832:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _stringify = __webpack_require__(112);

var _stringify2 = _interopRequireDefault(_stringify);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _web = __webpack_require__(304);

var _web2 = _interopRequireDefault(_web);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var isValidReputationProof = function isValidReputationProof(participantMetadata) {
  var oracleMessage = (0, _stringify2.default)({
    address: participantMetadata.address,
    reputation: participantMetadata.reputation
  });
  var oracleMessageHash = _web2.default.utils.soliditySha3(oracleMessage);
  var oracleAddress = _web2.default.eth.accounts.recover(oracleMessageHash, participantMetadata.reputationProof);

  if (oracleAddress !== _appConfig2.default.swapContract.reputationOracle) {
    return false;
  }

  return true;
};

var getVerifiedReputation = function getVerifiedReputation(participantMetadata) {
  return isValidReputationProof(participantMetadata) ? participantMetadata.reputation : 0;
};

exports.default = { getVerifiedReputation: getVerifiedReputation };

/***/ }),

/***/ 833:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(process) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createRepo = exports.capitalize = exports.exitListener = exports.removeRepo = undefined;

var _getIterator2 = __webpack_require__(365);

var _getIterator3 = _interopRequireDefault(_getIterator2);

exports.setCookie = setCookie;

var _path = __webpack_require__(212);

var _path2 = _interopRequireDefault(_path);

var _fs = __webpack_require__(834);

var _fs2 = _interopRequireDefault(_fs);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint-disable */
var removeRepo = exports.removeRepo = function removeRepo(pathToRepo) {
  /**
   * Check NODE_ENV if env = test or window === undefined
   * return this function
   * else delete REPO directory
   */
  if (typeof window !== 'undefined' || !_fs2.default.existsSync(pathToRepo)) {
    console.log('ENV === test or start with browser or file not exists with path');
    return;
  }

  try {
    /**
     * check files in directory
     * and call functions for each of them
     */
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = (0, _getIterator3.default)(_fs2.default.readdirSync(pathToRepo)), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var file = _step.value;

        /**
         * Create path to file inner directory
         */
        var curPath = _path2.default.join(pathToRepo, file);

        /**
         * if file or directory not exist
         * then missing this path
         */
        if (!_fs2.default.existsSync(curPath)) {
          continue;
        }

        /**
         * if check path on directory then
         * recursive call else delete file
         */
        _fs2.default.lstatSync(curPath).isDirectory() ? removeRepo(curPath) : _fs2.default.unlinkSync(curPath);
      }

      /** If not files then remove directory */
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    _fs2.default.rmdirSync(pathToRepo);
  } catch (err) {
    console.error(err);
    process.exit(1);
  }
};

var exitListener = exports.exitListener = function exitListener() {
  /**
   * listening for array signalls
   * and call funct wich argument
   */
  ['SIGINT', 'SIGTERM', 'SIGBREAK'].forEach(function (SIGNAL) {
    process.on(SIGNAL, function () {
      console.log('Process out...');
      process.kill(0, 'SIGKILL');
      process.exit();
    });
  });
};

var capitalize = exports.capitalize = function capitalize(s) {
  return s.charAt(0).toUpperCase() + s.substr(1);
};

var createRepo = exports.createRepo = function createRepo() {
  var dirpath = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : './data/';

  // dirpath += Math.ceil(Math.random() * 10000)
  return _path2.default.resolve(dirpath);
};

function setCookie(name, value, options) {
  options = options || {};

  var expires = options.expires;

  if (typeof expires == "number" && expires) {
    var d = new Date();
    d.setTime(d.getTime() + expires * 1000);
    expires = options.expires = d;
  }
  if (expires && expires.toUTCString) {
    options.expires = expires.toUTCString();
  }

  value = encodeURIComponent(value);

  var updatedCookie = name + "=" + value;

  for (var propName in options) {
    updatedCookie += "; " + propName;
    var propValue = options[propName];
    if (propValue !== true) {
      updatedCookie += "=" + propValue;
    }
  }

  document.cookie = updatedCookie;
}
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(10)))

/***/ }),

/***/ 835:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _promise = __webpack_require__(49);

var _promise2 = _interopRequireDefault(_promise);

var _app = __webpack_require__(836);

var _app2 = _interopRequireDefault(_app);

__webpack_require__(850);

__webpack_require__(851);

__webpack_require__(1743);

__webpack_require__(853);

var _firebase = __webpack_require__(1747);

var _axios = __webpack_require__(1748);

var _axios2 = _interopRequireDefault(_axios);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _core = __webpack_require__(60);

var _moment = __webpack_require__(250);

var _moment2 = _interopRequireDefault(_moment);

var _firestore = __webpack_require__(314);

var _firestore2 = _interopRequireDefault(_firestore);

var _firebaseClientConfig = __webpack_require__(1766);

var _firebaseClientConfig2 = _interopRequireDefault(_firebaseClientConfig);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var isWidgetBuild = _appConfig2.default && _appConfig2.default.isWidget;

var authorisation = function authorisation() {
  return new _promise2.default(function (resolve) {
    return _app2.default.auth().signInAnonymously().then(function () {
      return _app2.default.auth().onAuthStateChanged(function (user) {
        return resolve(user);
      });
    }).catch(function (error) {
      return console.log('Can\'t sign in: ', error);
    });
  });
};

var getIPInfo = function getIPInfo() {
  return _axios2.default.get('https://json.geoiplookup.io').then(function (result) {
    // eslint-disable-next-line camelcase
    var _result$data = result.data,
        ip = _result$data.ip,
        country_code = _result$data.country_code;
    // eslint-disable-next-line camelcase

    if (!ip || !country_code) {
      return {
        ip: 'json.geoiplookup.io didn\'t respond with a result, so setting locale EN by default',
        locale: 'EN'
      };
    }
    return {
      ip: ip,
      locale: country_code
    };
  }).catch(function (error) {
    console.error('getIPInfo:', error);

    return {
      ip: 'None',
      locale: 'EN'
    };
  });
};

var sendData = function sendData(userId, dataBasePath, data) {
  var isDefault = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;
  return new _promise2.default(function () {
    var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(resolve) {
      var database, usersRef;
      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              database = isDefault ? _app2.default.database() : _app2.default.database(window.clientDBinstance);
              usersRef = database.ref(dataBasePath);


              usersRef.child(userId).set(data).then(function () {
                return resolve(true);
              }).catch(function (error) {
                console.log('Send error: ', error);
                resolve(false);
              });

            case 3:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, undefined);
    }));

    return function (_x2) {
      return _ref.apply(this, arguments);
    };
  }());
};

var setUserLastOnline = function () {
  var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
    var userID, data;
    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return getUserID();

          case 2:
            userID = _context2.sent;
            data = {
              lastOnline: (0, _moment2.default)().format('HH:mm:ss DD/MM/YYYY'),
              unixLastOnline: (0, _moment2.default)().unix(),
              lastUserAgent: navigator.userAgent,
              lastOnlineDomain: window.top.location.host
            };


            sendData(userID, 'usersCommon', data);
            _firestore2.default.updateUserData(data);

          case 6:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, undefined);
  }));

  return function setUserLastOnline() {
    return _ref2.apply(this, arguments);
  };
}();

var askPermission = function askPermission() {
  return new _promise2.default(function () {
    var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(resolve) {
      var messaging;
      return _regenerator2.default.wrap(function _callee3$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              messaging = _app2.default.messaging();
              _context3.next = 3;
              return messaging.requestPermission().then(function () {
                return messaging.getToken();
              }).then(function (token) {
                return resolve(token);
              }).catch(function (error) {
                console.log(error);
                resolve(false);
              });

            case 3:
            case 'end':
              return _context3.stop();
          }
        }
      }, _callee3, undefined);
    }));

    return function (_x3) {
      return _ref3.apply(this, arguments);
    };
  }());
};

var initialize = function initialize() {
  // window.clientDBinstance = firebase.initializeApp(clientConfig, 'widget-client')

  var firebaseApp = _app2.default.initializeApp(_firebase.config);
  window.firebaseDefaultInstance = firebaseApp;

  _app2.default.firestore(firebaseApp);

  if (isSupported()) {
    navigator.serviceWorker.register('/firebase-messaging-sw.js').then(function (registration) {
      return _app2.default.messaging().useServiceWorker(registration);
    });

    var messaging = _app2.default.messaging();

    messaging.onMessage(function (payload) {
      console.log('Message received. ', payload);
      var message = payload.notification.body;
      _actions2.default.notifications.show('Message', { message: message });
    });
  }

  try {
    var _messaging = _app2.default.messaging();
    _messaging.usePublicVapidKey('BLiLhKj7Re98YaB0IwfcUpwuYHqosbgjD0OGQojFW2rP5Vj_ncoAwa4NqQ1GQsVJ5EF53hL4u9D5ND_jRzRxhzI');
  } catch (error) {
    console.error('Error useVAPID: ', error);
  }
};

var getUserID = function getUserID() {
  return new _promise2.default(function () {
    var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(resolve) {
      var storageName, userID, user;
      return _regenerator2.default.wrap(function _callee4$(_context4) {
        while (1) {
          switch (_context4.prev = _context4.next) {
            case 0:
              storageName = 'firebaseUserId';
              userID = localStorage.getItem(storageName);
              user = {};

              if (!(userID === null)) {
                _context4.next = 9;
                break;
              }

              _context4.next = 6;
              return authorisation();

            case 6:
              user = _context4.sent;

              userID = user.uid;
              localStorage.setItem(storageName, userID);

            case 9:
              resolve(userID);

            case 10:
            case 'end':
              return _context4.stop();
          }
        }
      }, _callee4, undefined);
    }));

    return function (_x4) {
      return _ref4.apply(this, arguments);
    };
  }());
};

var submitUserData = function submitUserData() {
  var dataBasePath = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'usersCommon';
  var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  return new _promise2.default(function () {
    var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(resolve) {
      var userID, date, gaID, sendResult;
      return _regenerator2.default.wrap(function _callee5$(_context5) {
        while (1) {
          switch (_context5.prev = _context5.next) {
            case 0:
              _context5.next = 2;
              return getUserID();

            case 2:
              userID = _context5.sent;
              date = (0, _moment2.default)().format('DD-MM-YYYY');
              gaID = _actions2.default.analytics.getClientId() || 'None';

              if (!userID) {
                _context5.next = 10;
                break;
              }

              _context5.next = 8;
              return sendData(userID, dataBasePath, (0, _assign2.default)({
                date: date,
                gaID: gaID
              }, data));

            case 8:
              sendResult = _context5.sent;

              resolve(sendResult);

            case 10:
            case 'end':
              return _context5.stop();
          }
        }
      }, _callee5, undefined);
    }));

    return function (_x7) {
      return _ref5.apply(this, arguments);
    };
  }());
};

var submitUserDataWidget = function () {
  var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7() {
    var dataBasePath = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'usersCommon';

    var _getState, _getState$user, ethAddress, btcAddress;

    return _regenerator2.default.wrap(function _callee7$(_context7) {
      while (1) {
        switch (_context7.prev = _context7.next) {
          case 0:
            if (isWidgetBuild) {
              _context7.next = 2;
              break;
            }

            return _context7.abrupt('return');

          case 2:
            _getState = (0, _core.getState)(), _getState$user = _getState.user, ethAddress = _getState$user.ethData.address, btcAddress = _getState$user.btcData.address;
            return _context7.abrupt('return', new _promise2.default(function () {
              var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(resolve) {
                var userID, data, dataBasePathFormatted, sendWidgetResultToDefaultDB;
                return _regenerator2.default.wrap(function _callee6$(_context6) {
                  while (1) {
                    switch (_context6.prev = _context6.next) {
                      case 0:
                        _context6.next = 2;
                        return getUserID();

                      case 2:
                        userID = _context6.sent;
                        data = {
                          ethAddress: ethAddress,
                          btcAddress: btcAddress
                        };
                        dataBasePathFormatted = ('widgetUsers/' + window.top.location.host + '/' + dataBasePath).replace(/[\.\#\$\[\]]/ig, '_'); // eslint-disable-line

                        if (!userID) {
                          _context6.next = 10;
                          break;
                        }

                        _context6.next = 8;
                        return sendData(userID, dataBasePathFormatted, data);

                      case 8:
                        sendWidgetResultToDefaultDB = _context6.sent;

                        // const sendResult = await sendData(userID, dataBasePath, data, false) // send to client's firebase

                        resolve(sendWidgetResultToDefaultDB);

                      case 10:
                      case 'end':
                        return _context6.stop();
                    }
                  }
                }, _callee6, undefined);
              }));

              return function (_x9) {
                return _ref7.apply(this, arguments);
              };
            }()));

          case 4:
          case 'end':
            return _context7.stop();
        }
      }
    }, _callee7, undefined);
  }));

  return function submitUserDataWidget() {
    return _ref6.apply(this, arguments);
  };
}();

var signUpWithPush = function signUpWithPush(data) {
  return new _promise2.default(function () {
    var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8(resolve) {
      var dataBasePath, messagingToken, sendResult;
      return _regenerator2.default.wrap(function _callee8$(_context8) {
        while (1) {
          switch (_context8.prev = _context8.next) {
            case 0:
              dataBasePath = 'usersSubscribed/pushNotification';
              _context8.next = 3;
              return askPermission();

            case 3:
              messagingToken = _context8.sent;

              if (messagingToken) {
                _context8.next = 7;
                break;
              }

              resolve(messagingToken);
              return _context8.abrupt('return');

            case 7:

              console.log('firebase messagingToken: ', messagingToken);

              sendResult = submitUserData(dataBasePath, (0, _assign2.default)({}, data, {
                messagingToken: messagingToken
              }));


              if (sendResult) {
                _actions2.default.analytics.signUpEvent({ action: 'signed', type: 'push' });
              }
              resolve(sendResult);

            case 11:
            case 'end':
              return _context8.stop();
          }
        }
      }, _callee8, undefined);
    }));

    return function (_x10) {
      return _ref8.apply(this, arguments);
    };
  }());
};

var signUpWithEmail = function signUpWithEmail(data) {
  return new _promise2.default(function () {
    var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9(resolve) {
      var dataBasePath, sendResult;
      return _regenerator2.default.wrap(function _callee9$(_context9) {
        while (1) {
          switch (_context9.prev = _context9.next) {
            case 0:
              dataBasePath = 'usersSubscribed/emailNotification';
              sendResult = submitUserData(dataBasePath, data);


              if (sendResult) {
                _actions2.default.firebase.setSigned();
                _actions2.default.analytics.signUpEvent({ action: 'signed', type: 'email' });
              }
              resolve(sendResult);

            case 4:
            case 'end':
              return _context9.stop();
          }
        }
      }, _callee9, undefined);
    }));

    return function (_x11) {
      return _ref9.apply(this, arguments);
    };
  }());
};

var checkIsIframe = function checkIsIframe() {
  var currentWindow = void 0;

  try {
    currentWindow = window.self !== window.top;
  } catch (error) {
    currentWindow = true;
  }

  return currentWindow;
};

var isSupported = function isSupported() {
  var isLocalNet = "online" === 'local';
  var isSupportedServiceWorker = 'serviceWorker' in navigator;
  var isSafari = 'safari' in window;
  var isIframe = checkIsIframe();
  var iOSSafari = /iP(ad|od|hone)/i.test(window.navigator.userAgent) && /WebKit/i.test(window.navigator.userAgent) && !/(CriOS|FxiOS|OPiOS|mercury)/i.test(window.navigator.userAgent);

  return !isIframe && !isLocalNet && isSupportedServiceWorker && !iOSSafari && !isSafari;
};

exports.default = {
  getUserID: getUserID,
  askPermission: askPermission,
  getIPInfo: getIPInfo,
  initialize: initialize,
  submitUserData: submitUserData,
  submitUserDataWidget: submitUserDataWidget,
  isSupported: isSupported,
  signUpWithPush: signUpWithPush,
  signUpWithEmail: signUpWithEmail,
  setUserLastOnline: setUserLastOnline
};

/***/ }),

/***/ 859:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var getUnixTimeStamp = function getUnixTimeStamp() {
  return Math.floor(new Date().getTime() / 1000);
};

exports.default = getUnixTimeStamp;

/***/ }),

/***/ 890:
/***/ (function(module, exports) {

module.exports = "https://swap.online/images/logo_d14a66.svg";

/***/ }),

/***/ 891:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Toggle = __webpack_require__(1929);

var _Toggle2 = _interopRequireDefault(_Toggle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Toggle = function Toggle(_ref) {
  var checked = _ref.checked,
      onChange = _ref.onChange,
      dataTut = _ref.dataTut;
  return _react2.default.createElement(
    'label',
    { styleName: 'Switch', 'data-tut': dataTut },
    _react2.default.createElement('input', { type: 'checkbox', onClick: function onClick(_ref2) {
        var target = _ref2.target;
        return onChange(target.checked);
      }, defaultChecked: checked }),
    _react2.default.createElement('span', null),
    ' '
  );
};

Toggle.propTypes = {
  checked: _propTypes2.default.bool.isRequired,
  onChange: _propTypes2.default.func.isRequired
};

exports.default = (0, _reactCssModules2.default)(Toggle, _Toggle2.default);

/***/ }),

/***/ 892:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _classnames = __webpack_require__(72);

var _classnames2 = _interopRequireDefault(_classnames);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _WithdrawButton = __webpack_require__(1935);

var _WithdrawButton2 = _interopRequireDefault(_WithdrawButton);

var _reactTooltip = __webpack_require__(103);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var WithdrawButton = function WithdrawButton(props) {
  var onClick = props.onClick,
      children = props.children,
      disable = props.disable,
      rest = (0, _objectWithoutProperties3.default)(props, ['onClick', 'children', 'disable']);


  var styleName = (0, _classnames2.default)('withdrawButton', {
    'disable': disable
  });

  return _react2.default.createElement(
    'button',
    (0, _extends3.default)({ onClick: !disable ? onClick : function () {}, styleName: styleName }, rest),
    children
  );

  WithdrawButton.propTypes = {
    onClick: _propTypes2.default.func.isRequired,
    className: _propTypes2.default.string,
    disabled: _propTypes2.default.bool
  };
};
exports.default = (0, _reactCssModules2.default)(WithdrawButton, _WithdrawButton2.default, { allowMultiple: true });

/***/ }),

/***/ 894:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _autosize = __webpack_require__(1948);

var _autosize2 = _interopRequireDefault(_autosize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var UPDATE = 'autosize:update';
var DESTROY = 'autosize:destroy';
var RESIZED = 'autosize:resized';

var TextareaAutosize = (_temp2 = _class = function (_Component) {
  (0, _inherits3.default)(TextareaAutosize, _Component);

  function TextareaAutosize() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, TextareaAutosize);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = TextareaAutosize.__proto__ || (0, _getPrototypeOf2.default)(TextareaAutosize)).call.apply(_ref, [this].concat(args))), _this), _this.dispatchEvent = function (EVENT_TYPE, defer) {
      var event = document.createEvent('Event');

      event.initEvent(EVENT_TYPE, true, false);

      var dispatch = function dispatch() {
        return _this.textareaEl.dispatchEvent(event);
      };

      if (defer) {
        setTimeout(dispatch);
      } else {
        dispatch();
      }
    }, _this.getValue = function (_ref2) {
      var valueLink = _ref2.valueLink,
          value = _ref2.value;
      return valueLink ? valueLink.value : value;
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(TextareaAutosize, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      (0, _autosize2.default)(this.textareaEl);

      if (this.props.onResize) {
        this.textareaEl.addEventListener(RESIZED, this.props.onResize);
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      if (this.props.onResize) {
        this.textareaEl.removeEventListener(RESIZED, this.props.onResize);
      }

      this.dispatchEvent(DESTROY);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (this.getValue(nextProps) !== this.getValue(this.props)) {
        this.dispatchEvent(UPDATE, true);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          valueLink = _props.valueLink,
          props = (0, _objectWithoutProperties3.default)(_props, ['valueLink']);


      return _react2.default.createElement('textarea', (0, _extends3.default)({
        ref: function ref(el) {
          return _this2.textareaEl = el;
        }
      }, props, {
        value: valueLink.value,
        onChange: valueLink.action(function (x, e) {
          return e.target.value;
        })
      }));
    }
  }]);
  return TextareaAutosize;
}(_react.Component), _class.propTypes = {
  valueLink: _propTypes2.default.object.isRequired,
  onResize: _propTypes2.default.func
}, _class.defaultProps = {
  rows: 1
}, _temp2);
exports.default = TextareaAutosize;

/***/ }),

/***/ 895:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @todo Amount support?
 */
var QR = (_temp = _class = function (_PureComponent) {
  (0, _inherits3.default)(QR, _PureComponent);

  function QR() {
    (0, _classCallCheck3.default)(this, QR);
    return (0, _possibleConstructorReturn3.default)(this, (QR.__proto__ || (0, _getPrototypeOf2.default)(QR)).apply(this, arguments));
  }

  (0, _createClass3.default)(QR, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          network = _props.network,
          address = _props.address,
          size = _props.size;


      var addressHasNetwork = /:/.test(address);
      var networkValue = addressHasNetwork ? '' : network + ':';

      return _react2.default.createElement('img', {
        src: 'https://chart.googleapis.com/chart?chs=' + size + 'x' + size + '&cht=qr&chl=' + networkValue + address,
        alt: network + ': ' + address
      });
    }
  }]);
  return QR;
}(_react.PureComponent), _class.propTypes = {
  network: _propTypes2.default.string.isRequired,
  address: _propTypes2.default.string.isRequired,
  size: _propTypes2.default.number
}, _class.defaultProps = {
  size: 250
}, _temp);
exports.default = QR;

/***/ }),

/***/ 896:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _Href = __webpack_require__(321);

var _Href2 = _interopRequireDefault(_Href);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var setApi = function setApi(type, id) {
  switch (type) {
    case 'BTC':
      return _appConfig2.default.link.bitpay + '/tx/' + id;

    case 'ETH':
      return _appConfig2.default.link.etherscan + '/tx/' + id;

    case 'EOS':
      return _appConfig2.default.link.eos + '/tx/' + id;

    default:
      return '' + id;
  }
};

var TransactionLink = function TransactionLink(_ref) {
  var type = _ref.type,
      id = _ref.id;
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'transactionLink28', defaultMessage: 'Transaction: ' }),
    _react2.default.createElement(
      'strong',
      null,
      _react2.default.createElement(
        _Href2.default,
        { tab: setApi(type, id), rel: 'noopener noreferrer' },
        id
      )
    )
  );
};

TransactionLink.propTypes = {
  type: _propTypes2.default.string.isRequired, // BTC, ETH ...
  id: _propTypes2.default.string.isRequired // transaction id
};

exports.default = TransactionLink;

/***/ }),

/***/ 897:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Swap = __webpack_require__(158);

var _Swap2 = _interopRequireDefault(_Swap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BtcScript = function BtcScript(_ref) {
  var recipientPublicKey = _ref.recipientPublicKey,
      secretHash = _ref.secretHash,
      lockTime = _ref.lockTime,
      ownerPublicKey = _ref.ownerPublicKey;
  return _react2.default.createElement(
    'div',
    { styleName: 'showingScript' },
    _react2.default.createElement(
      'pre',
      null,
      _react2.default.createElement(
        'code',
        null,
        '\n          bitcoinjs.script.compile([\n          bitcoin.core.opcodes.OP_RIPEMD160,\n          Buffer.from(\'' + secretHash + '\', \'hex\'),\n          bitcoin.core.opcodes.OP_EQUALVERIFY,\n\n          Buffer.from(\'' + recipientPublicKey + '\', \'hex\'),\n          bitcoin.core.opcodes.OP_EQUAL,\n          bitcoin.core.opcodes.OP_IF,\n\n          Buffer.from(\'' + recipientPublicKey + '\', \'hex\'),\n          bitcoin.core.opcodes.OP_CHECKSIG,\n\n          bitcoin.core.opcodes.OP_ELSE,\n\n          bitcoin.core.script.number.encode(' + lockTime + '),\n          bitcoin.core.opcodes.OP_CHECKLOCKTIMEVERIFY,\n          bitcoin.core.opcodes.OP_DROP,\n          Buffer.from(\'' + ownerPublicKey + '\', \'hex\'),\n          bitcoin.core.opcodes.OP_CHECKSIG,\n\n          bitcoin.core.opcodes.OP_ENDIF,\n        ])\n        '
      )
    )
  );
};

exports.default = (0, _reactCssModules2.default)(BtcScript, _Swap2.default);

/***/ }),

/***/ 898:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.iconNames = undefined;

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _CurrencyIcon = __webpack_require__(2012);

var _CurrencyIcon2 = _interopRequireDefault(_CurrencyIcon);

var _images = __webpack_require__(2013);

var _images2 = _interopRequireDefault(_images);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var iconNames = exports.iconNames = (0, _keys2.default)(_images2.default);

var CurrencyIcon = function CurrencyIcon(_ref) {
  var className = _ref.className,
      style = _ref.style,
      name = _ref.name,
      currency = _ref.currency;

  if (typeof name === 'undefined') {
    return _react2.default.createElement(
      'p',
      null,
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'currencyIcon15', defaultMessage: 'Error' })
    );
  }
  var isIconExist = iconNames.includes(name.toLowerCase());

  if (isIconExist) {
    return _react2.default.createElement('img', {
      className: className,
      src: _images2.default[name],
      alt: name + ' icon',
      role: 'image'
    });
  }

  return _react2.default.createElement(
    'span',
    {
      role: 'letter',
      styleName: 'text',
      className: className,
      style: style
    },
    name.charAt(0).toUpperCase()
  );
};

exports.default = (0, _reactCssModules2.default)(CurrencyIcon, _CurrencyIcon2.default);

/***/ }),

/***/ 902:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _temp;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactDocumentMeta = __webpack_require__(899);

var _reactDocumentMeta2 = _interopRequireDefault(_reactDocumentMeta);

var _JsonLd = __webpack_require__(903);

var _JsonLd2 = _interopRequireDefault(_JsonLd);

var _seo = __webpack_require__(323);

var _seo2 = _interopRequireDefault(_seo);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Seo = (_temp = _class = function (_Component) {
  (0, _inherits3.default)(Seo, _Component);

  function Seo(props) {
    (0, _classCallCheck3.default)(this, Seo);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Seo.__proto__ || (0, _getPrototypeOf2.default)(Seo)).call(this, props));

    _this.seoPage = (0, _seo.getSeoPage)(props.location.pathname);
    return _this;
  }

  (0, _createClass3.default)(Seo, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (nextProps.location.pathname !== this.props.location.pathname) {
        this.seoPage = (0, _seo.getSeoPage)(nextProps.location.pathname);
      }
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps) {
      return this.props.location.pathname !== nextProps.location.pathname;
    }
  }, {
    key: 'render',
    value: function render() {
      if (!this.seoPage) {
        return null;
      }
      var _seoPage = this.seoPage,
          uri = _seoPage.uri,
          title = _seoPage.title,
          description = _seoPage.description;


      var url = (0, _seo.getUrl)(uri);
      return _react2.default.createElement(
        _reactDocumentMeta2.default,
        {
          title: title,
          description: description,
          canonical: url,
          meta: {
            property: {
              'og:title': title,
              'og:description': description,
              'og:url': url,
              'og:image': _seo2.default.config.logo
            }
          }
        },
        _react2.default.createElement(_JsonLd2.default, { uri: uri, title: title, description: description })
      );
    }
  }]);
  return Seo;
}(_react.Component), _class.propTypes = {
  location: _propTypes2.default.object.isRequired
}, _temp);
exports.default = Seo;

/***/ }),

/***/ 903:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _stringify = __webpack_require__(112);

var _stringify2 = _interopRequireDefault(_stringify);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _seo = __webpack_require__(323);

var _seo2 = _interopRequireDefault(_seo);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var JsonLd = function JsonLd(_ref) {
  var uri = _ref.uri,
      title = _ref.title,
      description = _ref.description;
  return _react2.default.createElement('script', {
    type: 'application/ld+json',
    dangerouslySetInnerHTML: {
      __html: (0, _stringify2.default)({
        '@context': 'http://schema.org',
        '@type': 'Website',
        sameAs: [_seo2.default.config.medium, _seo2.default.config.twitter, _seo2.default.config.facebook, _seo2.default.config.telegram],
        email: _seo2.default.config.email,
        url: (0, _seo.getUrl)(uri),
        name: title,
        description: description,
        logo: _seo2.default.config.logo
      })
    }
  });
};

exports.default = JsonLd;

/***/ }),

/***/ 904:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(41);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _WithdrawButton = __webpack_require__(892);

var _WithdrawButton2 = _interopRequireDefault(_WithdrawButton);

var _reactTooltip = __webpack_require__(103);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BtnTooltip = function BtnTooltip(props) {
  var onClick = props.onClick,
      children = props.children,
      disable = props.disable,
      id = props.id,
      text = props.text,
      rest = (0, _objectWithoutProperties3.default)(props, ['onClick', 'children', 'disable', 'id', 'text']);


  return _react2.default.createElement(
    _react.Fragment,
    null,
    _react2.default.createElement(
      _WithdrawButton2.default,
      (0, _extends3.default)({ disable: disable, onClick: onClick, 'data-tip': true, 'data-for': id }, rest),
      children
    ),
    disable && _react2.default.createElement(
      _reactTooltip2.default,
      { id: id, type: 'light', effect: 'solid' },
      _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'WithdrawButton322', defaultMessage: 'You can not send this asset, because you have a zero balance.' })
    )
  );
};
exports.default = BtnTooltip;

/***/ }),

/***/ 905:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _assign = __webpack_require__(34);

var _assign2 = _interopRequireDefault(_assign);

var _regenerator = __webpack_require__(19);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(20);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _of = __webpack_require__(2069);

var _of2 = _interopRequireDefault(_of);

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _toConsumableArray2 = __webpack_require__(52);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _keys = __webpack_require__(35);

var _keys2 = _interopRequireDefault(_keys);

var _dec, _dec2, _class, _class2, _temp, _initialiseProps;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _PartialClosure = __webpack_require__(2072);

var _PartialClosure2 = _interopRequireDefault(_PartialClosure);

var _redaction = __webpack_require__(37);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _bignumber = __webpack_require__(30);

var _reactRouterDom = __webpack_require__(51);

var _reactHelmet = __webpack_require__(906);

var _core = __webpack_require__(60);

var _reducers = __webpack_require__(56);

var _reducers2 = _interopRequireDefault(_reducers);

var _reactDeviceDetect = __webpack_require__(53);

var _SelectGroup = __webpack_require__(2076);

var _SelectGroup2 = _interopRequireDefault(_SelectGroup);

var _Select = __webpack_require__(908);

var _Select2 = _interopRequireDefault(_Select);

var _Advantages = __webpack_require__(2079);

var _Advantages2 = _interopRequireDefault(_Advantages);

var _controls = __webpack_require__(46);

var _Input = __webpack_require__(129);

var _Input2 = _interopRequireDefault(_Input);

var _FieldLabel = __webpack_require__(196);

var _FieldLabel2 = _interopRequireDefault(_FieldLabel);

var _Promo = __webpack_require__(2081);

var _Promo2 = _interopRequireDefault(_Promo);

var _FAQ = __webpack_require__(2126);

var _FAQ2 = _interopRequireDefault(_FAQ);

var _Quote = __webpack_require__(2130);

var _Quote2 = _interopRequireDefault(_Quote);

var _PromoText = __webpack_require__(912);

var _PromoText2 = _interopRequireDefault(_PromoText);

var _HowItWorks = __webpack_require__(2133);

var _HowItWorks2 = _interopRequireDefault(_HowItWorks);

var _VideoAndFeatures = __webpack_require__(2135);

var _VideoAndFeatures2 = _interopRequireDefault(_VideoAndFeatures);

var _Tooltip = __webpack_require__(104);

var _Tooltip2 = _interopRequireDefault(_Tooltip);

var _Referral = __webpack_require__(559);

var _Referral2 = _interopRequireDefault(_Referral);

var _PageHeadline = __webpack_require__(220);

var _PageHeadline2 = _interopRequireDefault(_PageHeadline);

var _InlineLoader = __webpack_require__(115);

var _InlineLoader2 = _interopRequireDefault(_InlineLoader);

var _reactIntl = __webpack_require__(8);

var _locale = __webpack_require__(50);

var _typeforce = __webpack_require__(298);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

var _swap = __webpack_require__(29);

var _swap2 = _interopRequireDefault(_swap);

var _helpers = __webpack_require__(17);

var _helpers2 = _interopRequireDefault(_helpers);

var _domUtils = __webpack_require__(325);

var _Switching = __webpack_require__(547);

var _Switching2 = _interopRequireDefault(_Switching);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var allowedCoins = ['BTC', 'ETH', 'BCH'];

var isExchangeAllowed = function isExchangeAllowed(currencies) {
  return currencies.filter(function (c) {
    var isErc = (0, _keys2.default)(_appConfig2.default.erc20).map(function (i) {
      return i.toLowerCase();
    }).includes(c.value.toLowerCase());

    var isAllowedCoin = allowedCoins.map(function (i) {
      return i.toLowerCase();
    }).includes(c.value.toLowerCase());

    return isAllowedCoin || isErc;
  });
};

var filterIsPartial = function filterIsPartial(orders) {
  return orders.filter(function (order) {
    return order.isPartial && !order.isProcessing && !order.isHidden;
  }).filter(function (order) {
    return order.sellAmount !== 0 && order.sellAmount.isGreaterThan(0);
  }) // WTF sellAmount can be not BigNumber
  .filter(function (order) {
    return order.buyAmount !== 0 && order.buyAmount.isGreaterThan(0);
  });
}; // WTF buyAmount can be not BigNumber too - need fix this

var text = [_react2.default.createElement(_reactIntl.FormattedMessage, { id: 'partial223', defaultMessage: 'To change default wallet for buy currency. ' }), _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'partial224', defaultMessage: 'Leave empty for use Swap.Online wallet ' })];

var subTitle = function subTitle(sell, sellTicker, buy, buyTicker) {
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(_reactIntl.FormattedMessage, {
      id: 'PartialClosureTitleTag1',
      defaultMessage: 'Fastest cross-chain exchange powered by Atomic Swap',
      values: { full_name1: sell, ticker_name1: sellTicker, full_name2: buy, ticker_name2: buyTicker }
    }),
    _react2.default.createElement(
      'span',
      { styleName: 'tooltipHeader' },
      _react2.default.createElement(
        _Tooltip2.default,
        {
          id: 'partialAtomicSwapWhatIsIt1',
          dontHideMobile: true
        },
        _react2.default.createElement(_reactIntl.FormattedMessage, {
          id: 'partialAtomicSwapWhatIsIt',
          defaultMessage: 'Atomic swap is a smart contract technology that enables exchange.'
        })
      )
    )
  );
};

var isWidgetBuild = _appConfig2.default && _appConfig2.default.isWidget;
var bannedPeers = {}; // Пиры, которые отклонили запрос на свап, они будут понижены в выдаче


var PartialClosure = (_dec = (0, _redaction.connect)(function (_ref) {
  var currencies = _ref.currencies,
      addSelectedItems = _ref.addSelectedItems,
      rememberedOrders = _ref.rememberedOrders,
      addPartialItems = _ref.addPartialItems,
      swapHistory = _ref.history.swapHistory,
      _ref$core = _ref.core,
      orders = _ref$core.orders,
      hiddenCoinsList = _ref$core.hiddenCoinsList,
      _ref$user = _ref.user,
      ethData = _ref$user.ethData,
      btcData = _ref$user.btcData,
      bchData = _ref$user.bchData,
      tokensData = _ref$user.tokensData,
      eosData = _ref$user.eosData,
      telosData = _ref$user.telosData,
      nimData = _ref$user.nimData,
      ltcData = _ref$user.ltcData;
  return {
    currencies: isExchangeAllowed(currencies.partialItems),
    allCurrencyies: currencies.items,
    addSelectedItems: isExchangeAllowed(currencies.addPartialItems),
    orders: filterIsPartial(orders),
    allOrders: orders,
    currenciesData: [ethData, btcData, eosData, telosData, bchData, ltcData /* nimData, usdtOmniData */],
    tokensData: [].concat((0, _toConsumableArray3.default)((0, _keys2.default)(tokensData).map(function (k) {
      return tokensData[k];
    }))),
    decline: rememberedOrders.savedOrders,
    hiddenCoinsList: hiddenCoinsList,
    userEthAddress: ethData.address,
    swapHistory: swapHistory
  };
}), _dec2 = (0, _reactCssModules2.default)(_PartialClosure2.default, { allowMultiple: true }), (0, _reactIntl.injectIntl)(_class = _dec(_class = _dec2(_class = (_temp = _class2 = function (_Component) {
  (0, _inherits3.default)(PartialClosure, _Component);
  (0, _createClass3.default)(PartialClosure, [{
    key: 'isPeerBanned',
    value: function isPeerBanned(peerID) {
      if (bannedPeers[peerID] && bannedPeers[peerID] > Math.floor(new Date().getTime() / 1000)) {
        return true;
      }
      return false;
    }
  }, {
    key: 'banPeer',
    value: function banPeer(peerID) {
      var bannedPeersTimeout = 180; // В секундах - три минуты
      bannedPeers[peerID] = Math.floor(new Date().getTime() / 1000) + bannedPeersTimeout;
    }
  }], [{
    key: 'getDerivedStateFromProps',
    value: function getDerivedStateFromProps(_ref2, _ref3) {
      var allOrders = _ref2.allOrders,
          orders = _ref2.orders,
          history = _ref2.history,
          _ref2$match$params = _ref2.match.params,
          buy = _ref2$match$params.buy,
          sell = _ref2$match$params.sell,
          locale = _ref2$match$params.locale;
      var haveCurrency = _ref3.haveCurrency,
          getCurrency = _ref3.getCurrency;


      if (!Array.isArray(orders)) {
        return;
      }

      var filteredOrders = orders.filter(function (order) {
        return !order.isMy && order.sellCurrency === getCurrency.toUpperCase() && order.buyCurrency === haveCurrency.toUpperCase();
      });

      return {
        filteredOrders: filteredOrders
      };
    }
  }]);

  function PartialClosure(_ref4) {
    var tokensData = _ref4.tokensData,
        allCurrencyies = _ref4.allCurrencyies,
        currenciesData = _ref4.currenciesData,
        _ref4$match$params = _ref4.match.params,
        buy = _ref4$match$params.buy,
        sell = _ref4$match$params.sell,
        locale = _ref4.intl.locale,
        history = _ref4.history,
        decline = _ref4.decline,
        props = (0, _objectWithoutProperties3.default)(_ref4, ['tokensData', 'allCurrencyies', 'currenciesData', 'match', 'intl', 'history', 'decline']);
    (0, _classCallCheck3.default)(this, PartialClosure);

    var _this = (0, _possibleConstructorReturn3.default)(this, (PartialClosure.__proto__ || (0, _getPrototypeOf2.default)(PartialClosure)).call(this));

    _initialiseProps.call(_this);

    _this.onRequestAnswer = function (newOrder, isAccepted) {};

    var isRootPage = history.location.pathname === '/' || history.location.pathname === '/ru';

    if (sell && buy && !isRootPage) {
      if (!allCurrencyies.map(function (item) {
        return item.name;
      }).includes(sell.toUpperCase()) || !allCurrencyies.map(function (item) {
        return item.name;
      }).includes(buy.toUpperCase())) {
        history.push((0, _locale.localisedUrl)(locale, _helpers.links.exchange + '/swap-to-btc'));
      }
    }

    var sellToken = sell || (!isWidgetBuild ? 'btc' : 'btc');
    var buyToken = buy || (!isWidgetBuild ? 'eth' : _appConfig2.default.erc20token);

    _this.returnNeedCurrency(sellToken, buyToken);

    if (!(buy && sell) && !props.location.hash.includes('#widget') && !isRootPage) {
      history.push((0, _locale.localisedUrl)(locale, _helpers.links.exchange + '/' + sellToken + '-to-' + buyToken));
    }

    _this.wallets = {};
    currenciesData.forEach(function (item) {
      _this.wallets[item.currency] = item.address;
    });
    tokensData.forEach(function (item) {
      _this.wallets[item.currency] = item.address;
    });

    (0, _of2.default)(sellToken, buyToken).forEach(function (item) {
      var currency = item.toUpperCase();
      if (props.hiddenCoinsList.includes(currency)) {
        _actions2.default.core.markCoinAsVisible(currency);
      }
    });

    _this.state = {
      isToken: false,
      dynamicFee: 0,
      haveCurrency: sellToken,
      getCurrency: buyToken,
      haveAmount: 0,
      haveUsd: 0,
      getUsd: 0,
      getAmount: '',
      isShowBalance: true,
      isLowAmount: false,
      maxAmount: 0,
      maxBuyAmount: new _bignumber.BigNumber(0),
      peer: '',
      goodRate: 0,
      filteredOrders: [],
      isNonOffers: false,
      isFetching: false,
      isDeclinedOffer: false,
      customWalletUse: true,
      customWallet: _this.wallets[buyToken.toUpperCase()],
      extendedControls: false,
      estimatedFeeValues: {},
      desclineOrders: []
    };

    _helpers.constants.coinsWithDynamicFee.forEach(function (item) {
      return _this.state.estimatedFeeValues[item] = _helpers.constants.minAmountOffer[item];
    });

    var timer = void 0;
    var usdRates = void 0;

    if (_appConfig2.default.isWidget) {
      _this.state.getCurrency = _appConfig2.default.erc20token;
    }
    return _this;
  }

  (0, _createClass3.default)(PartialClosure, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      var _state = this.state,
          haveCurrency = _state.haveCurrency,
          getCurrency = _state.getCurrency,
          estimatedFeeValues = _state.estimatedFeeValues;

      _actions2.default.core.updateCore();
      this.returnNeedCurrency(haveCurrency, getCurrency);
      this.checkPair();
      this.updateAllowedBalance();

      this.usdRates = {};
      this.getUsdBalance();

      this.timer = setInterval(function () {
        _this2.setOrders();
        _this2.showTheFee(haveCurrency);
        _this2.checkUrl();
        _this2.getCorrectDecline();
      }, 2000);

      _swap2.default.shared().services.room.on('new orders', function () {
        return _this2.checkPair();
      });
      this.customWalletAllowed();
      this.setEstimatedFeeValues(estimatedFeeValues);

      document.addEventListener('scroll', this.rmScrollAdvice);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      clearInterval(this.timer);
    }
  }, {
    key: 'customWalletValid',
    value: function customWalletValid() {
      var _state2 = this.state,
          haveCurrency = _state2.haveCurrency,
          getCurrency = _state2.getCurrency,
          customWallet = _state2.customWallet;


      if (!this.customWalletAllowed()) return true;

      if (getCurrency === 'btc') return _swap.util.typeforce.isCoinAddress.BTC(customWallet);

      return _swap.util.typeforce.isCoinAddress.ETH(customWallet);
    }
  }, {
    key: 'customWalletAllowed',
    value: function customWalletAllowed() {
      var _state3 = this.state,
          haveCurrency = _state3.haveCurrency,
          getCurrency = _state3.getCurrency;


      if (haveCurrency === 'btc') {
        // btc-token
        if (_appConfig2.default.erc20[getCurrency] !== undefined) return true;
        // btc-eth
        if (getCurrency === 'eth') return true;
      }
      if (_appConfig2.default.erc20[haveCurrency] !== undefined) {
        // token-btc
        if (getCurrency === 'btc') return true;
      }

      if (haveCurrency === 'eth') {
        // eth-btc
        if (getCurrency === 'btc') return true;
      }

      return false;
    }
  }, {
    key: 'checkoutLowAmount',
    value: function checkoutLowAmount() {
      return this.doesComissionPreventThisOrder() && (0, _bignumber.BigNumber)(this.state.getAmount).isGreaterThan(0) && this.state.haveAmount && this.state.getAmount;
    }
  }, {
    key: 'addressIsCorrect',
    value: function addressIsCorrect() {
      var _state4 = this.state,
          customWallet = _state4.customWallet,
          getCurrency = _state4.getCurrency;


      return _typeforce.isCoinAddress[getCurrency.toUpperCase()](customWallet);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var _props = this.props,
          currencies = _props.currencies,
          addSelectedItems = _props.addSelectedItems,
          currenciesData = _props.currenciesData,
          tokensData = _props.tokensData,
          _props$intl = _props.intl,
          locale = _props$intl.locale,
          formatMessage = _props$intl.formatMessage,
          userEthAddress = _props.userEthAddress;
      var _state5 = this.state,
          haveCurrency = _state5.haveCurrency,
          getCurrency = _state5.getCurrency,
          isNonOffers = _state5.isNonOffers,
          redirect = _state5.redirect,
          orderId = _state5.orderId,
          isSearching = _state5.isSearching,
          desclineOrders = _state5.desclineOrders,
          isDeclinedOffer = _state5.isDeclinedOffer,
          isFetching = _state5.isFetching,
          maxAmount = _state5.maxAmount,
          customWalletUse = _state5.customWalletUse,
          customWallet = _state5.customWallet,
          exHaveRate = _state5.exHaveRate,
          exGetRate = _state5.exGetRate,
          maxBuyAmount = _state5.maxBuyAmount,
          getAmount = _state5.getAmount,
          goodRate = _state5.goodRate,
          isShowBalance = _state5.isShowBalance,
          extendedControls = _state5.extendedControls,
          estimatedFeeValues = _state5.estimatedFeeValues,
          isToken = _state5.isToken,
          dynamicFee = _state5.dynamicFee,
          haveAmount = _state5.haveAmount;


      var haveUsd = (0, _bignumber.BigNumber)(exHaveRate).times(haveAmount).dp(2, _bignumber.BigNumber.ROUND_CEIL);
      var getUsd = (0, _bignumber.BigNumber)(exGetRate).times(getAmount).dp(2, _bignumber.BigNumber.ROUND_CEIL);

      var haveCurrencyData = currenciesData.find(function (item) {
        return item.currency === haveCurrency.toUpperCase();
      });
      var haveTokenData = tokensData.find(function (item) {
        return item.currency === haveCurrency.toUpperCase();
      });
      var currentCurrency = haveCurrencyData || haveTokenData;

      var _ref5 = currentCurrency || 0,
          balance = _ref5.balance;

      var getCurrencyData = currenciesData.find(function (item) {
        return item.currency === getCurrency.toUpperCase();
      });
      var getTokenData = tokensData.find(function (item) {
        return item.currency === getCurrency.toUpperCase();
      });
      var currentCurrencyGet = getCurrencyData || getTokenData;

      var _ref6 = currentCurrencyGet || 0,
          balanceGet = _ref6.balanceGet;

      var oneCryptoCost = maxBuyAmount.isLessThanOrEqualTo(0) ? (0, _bignumber.BigNumber)(0) : (0, _bignumber.BigNumber)(goodRate);
      var linked = _swValuelink2.default.all(this, 'haveAmount', 'getAmount', 'customWallet');

      var isWidgetLink = this.props.location.pathname.includes('/exchange') && this.props.location.hash === '#widget';
      var isWidget = isWidgetBuild || isWidgetLink;
      var availableAmount = estimatedFeeValues[haveCurrency.toLowerCase()] > 0 ? (0, _bignumber.BigNumber)(haveAmount).plus(estimatedFeeValues[haveCurrency.toLowerCase()]) : 0;

      if (redirect) {
        return _react2.default.createElement(_reactRouterDom.Redirect, { push: true, to: (0, _locale.localisedUrl)(locale, _helpers.links.swap) + '/' + getCurrency + '-' + haveCurrency + '/' + orderId });
      }

      var isLowAmount = this.checkoutLowAmount();

      var canDoOrder = !isNonOffers && (0, _bignumber.BigNumber)(getAmount).isGreaterThan(0) && this.customWalletValid() && !this.doesComissionPreventThisOrder() && ((0, _bignumber.BigNumber)(haveAmount).isGreaterThan(balance) || (0, _bignumber.BigNumber)(balance).isGreaterThanOrEqualTo(availableAmount));

      var sellTokenFullName = currenciesData.find(function (item) {
        return item.currency === haveCurrency.toUpperCase();
      }) ? currenciesData.find(function (item) {
        return item.currency === haveCurrency.toUpperCase();
      }).fullName : haveCurrency.toUpperCase();
      var buyTokenFullName = currenciesData.find(function (item) {
        return item.currency === getCurrency.toUpperCase();
      }) ? currenciesData.find(function (item) {
        return item.currency === getCurrency.toUpperCase();
      }).fullName : getCurrency.toUpperCase();

      var SeoValues = {
        full_name1: sellTokenFullName,
        ticker_name1: haveCurrency.toUpperCase(),
        full_name2: buyTokenFullName,
        ticker_name2: getCurrency.toUpperCase()
      };
      var TitleTagString = formatMessage({
        id: 'PartialClosureTitleTag',
        defaultMessage: 'Atomic Swap {full_name1} ({ticker_name1}) to {full_name2} ({ticker_name2}) Instant Exchange'
      }, SeoValues);
      var MetaDescriptionString = formatMessage({
        id: 'PartialClosureMetaDescrTag',
        defaultMessage: 'Best exchange rate for {full_name1} ({ticker_name1}) to {full_name2} ({ticker_name2}). Swap.Online wallet provides instant exchange using Atomic Swap Protocol.' // eslint-disable-line
      }, SeoValues);

      var Form = _react2.default.createElement(
        'div',
        { styleName: '' + (isWidgetBuild ? '' : 'section'), className: isWidgetLink ? 'section' : '' },
        _react2.default.createElement(
          'div',
          { styleName: 'mobileDubleHeader' },
          _react2.default.createElement(_PromoText2.default, { subTitle: subTitle(sellTokenFullName, haveCurrency.toUpperCase(), buyTokenFullName, getCurrency.toUpperCase()) })
        ),
        _react2.default.createElement(
          'div',
          { styleName: isWidgetBuild ? 'formExchange_widgetBuild' : 'formExchange ' + (isWidget ? 'widgetFormExchange' : ''), className: isWidget ? 'formExchange' : '' },
          desclineOrders.length ? _react2.default.createElement(
            'h5',
            { role: 'presentation', styleName: 'informAbt', onClick: this.handleShowIncomplete },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'continueDeclined977', defaultMessage: 'Click here to continue your swaps' })
          ) : _react2.default.createElement('span', null),
          _react2.default.createElement(
            'div',
            { 'data-tut': 'have', styleName: 'selectWrap' },
            _react2.default.createElement(_SelectGroup2.default, {
              switchBalanceFunc: this.switchBalance,
              inputValueLink: linked.haveAmount.pipe(this.setAmount),
              selectedValue: haveCurrency,
              onSelect: this.handleSetHaveValue,
              label: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'partial243', defaultMessage: 'You sell' }),
              id: 'partialClosure456',
              tooltip: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'partial462', defaultMessage: 'The amount you have on swap.online or an external wallet that you want to exchange' }),
              placeholder: '0.00000000',
              usd: maxAmount > 0 && isNonOffers ? 0 : haveUsd,
              currencies: currencies,
              className: isWidget ? 'SelGroup' : '',
              onFocus: function onFocus() {
                return _this3.extendedControlsSet(true);
              },
              onBlur: function onBlur() {
                return setTimeout(function () {
                  return _this3.extendedControlsSet(false);
                }, 200);
              }
            })
          ),
          isShowBalance && _react2.default.createElement(
            'p',
            { className: isWidget ? 'advice' : '', styleName: 'maxAmount' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'partial767', defaultMessage: 'Your balance: ' }),
            (0, _bignumber.BigNumber)(balance).dp(5, _bignumber.BigNumber.ROUND_FLOOR).toString(),
            '  ',
            haveCurrency.toUpperCase()
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'switchButton' },
            _react2.default.createElement(_Switching2.default, { noneBorder: true, onClick: this.handleFlipCurrency })
          ),
          _react2.default.createElement(
            'div',
            { 'data-tut': 'get', styleName: 'selectWrap' },
            _react2.default.createElement(_SelectGroup2.default, {
              dataTut: 'get',
              switchBalanceFunc: this.switchBalance,
              inputValueLink: linked.getAmount,
              selectedValue: getCurrency,
              onSelect: this.handleSetGetValue,
              label: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'partial255', defaultMessage: 'You get' }),
              id: 'partialClosure472',
              tooltip: _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'partial478', defaultMessage: 'The amount you will receive after the exchange' }),
              currencies: addSelectedItems,
              usd: getUsd,
              error: isLowAmount,
              className: isWidget ? 'SelGroup' : ''
            }),
            oneCryptoCost.isGreaterThan(0) && oneCryptoCost.isFinite() && !isNonOffers && _react2.default.createElement(
              'div',
              { styleName: 'price' },
              _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'PartialPriceSearch502',
                defaultMessage: '1 {getCurrency} = {haveCurrency}',
                values: { getCurrency: '' + getCurrency.toUpperCase(), haveCurrency: oneCryptoCost.toFixed(5) + ' ' + haveCurrency.toUpperCase() }
              })
            )
          ),
          _react2.default.createElement(
            'div',
            { 'data-tut': 'status' },
            (isSearching || isNonOffers && maxAmount === 0) && _react2.default.createElement(
              'span',
              { className: isWidget ? 'searching' : '', styleName: 'IsSearching' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PartialPriceSearch', defaultMessage: 'Searching orders...' }),
              _react2.default.createElement(
                'div',
                { styleName: 'loaderHolder' },
                _react2.default.createElement(
                  'div',
                  { styleName: 'additionalLoaderHolder' },
                  _react2.default.createElement(_InlineLoader2.default, null)
                )
              )
            )
          ),
          !oneCryptoCost.isFinite() && !isNonOffers && _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PartialPriceCalc', defaultMessage: 'Calc price' }),
          maxAmount > 0 && isNonOffers && linked.haveAmount.value > 0 && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'p',
              { styleName: 'error', className: isWidget ? 'error' : '' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PartialPriceNoOrdersReduce', defaultMessage: 'No orders found, try to reduce the amount' })
            ),
            _react2.default.createElement(
              'p',
              { styleName: 'error', className: isWidget ? 'error' : '' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PartialPriceReduceMin', defaultMessage: 'Maximum available amount for buy: ' }),
              maxAmount,
              ' ',
              getCurrency.toUpperCase()
            ),
            _react2.default.createElement(
              'p',
              { styleName: 'error', className: isWidget ? 'error' : '' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PartialPriceSellMax', defaultMessage: 'Maximum available amount for sell: ' }),
              maxBuyAmount.toNumber(),
              ' ',
              haveCurrency.toUpperCase()
            )
          ),
          isDeclinedOffer && _react2.default.createElement(
            'p',
            { styleName: 'error link', className: isWidget ? 'error' : '', onClick: function onClick() {
                return _this3.handleGoDeclimeFaq();
              } },
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'PartialOfferCantProceed1',
              defaultMessage: 'Request rejected, possibly you have not complete another swap {br}{link}',
              values: {
                link: _react2.default.createElement(
                  'a',
                  { className: 'errorLink', role: 'button', onClick: function onClick() {
                      return _this3.handleGoDeclimeFaq();
                    } },
                  ' ',
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PartialOfferCantProceed1_1', defaultMessage: 'Check here' })
                ),
                br: _react2.default.createElement('br', null)
              }
            })
          ),
          this.doesComissionPreventThisOrder() && (0, _bignumber.BigNumber)(getAmount).isGreaterThan(0) && this.state.haveAmount && this.state.getAmount && _react2.default.createElement(
            'p',
            { styleName: 'error', className: isWidget ? 'error' : '' },
            _react2.default.createElement(_reactIntl.FormattedMessage, {
              id: 'ErrorBtcLowAmount',
              defaultMessage: 'This amount is too low',
              values: {
                btcAmount: this.state.haveCurrency === 'btc' ? this.state.haveAmount : this.state.getAmount
              }
            })
          ),
          (0, _bignumber.BigNumber)(estimatedFeeValues[haveCurrency]).isGreaterThan(0) && (0, _bignumber.BigNumber)(haveAmount).isGreaterThan(0) && (0, _bignumber.BigNumber)(haveAmount).isLessThanOrEqualTo(balance) && _react2.default.createElement(
            'div',
            { styleName: 'notifyThat', className: isWidget ? 'feeValue' : '' },
            _react2.default.createElement(
              'div',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'PartialFeeValueWarn',
                defaultMessage: 'The maximum amount you can sell is {maximumAmount}. Since will have to pay an additional miner fee up to {estimatedFeeValue} {haveCurrency}',
                values: {
                  haveCurrency: haveCurrency.toUpperCase(),
                  estimatedFeeValue: estimatedFeeValues[haveCurrency],
                  maximumAmount: (0, _bignumber.BigNumber)(balance).minus(estimatedFeeValues[haveCurrency]).toString()
                }
              }),
              (0, _bignumber.BigNumber)(estimatedFeeValues[getCurrency]).isGreaterThan(0) && (0, _bignumber.BigNumber)(getAmount).isGreaterThan(0) ? _react2.default.createElement(
                _react.Fragment,
                null,
                ' ',
                _react2.default.createElement(_reactIntl.FormattedMessage, {
                  id: 'PartialFeeValueWarn1',
                  defaultMessage: '+ {estimatedFeeValueGet} {getCurrency}',
                  values: {
                    getCurrency: getCurrency.toUpperCase(),
                    estimatedFeeValue: estimatedFeeValues[getCurrency]
                  }
                }),
                ' ',
                _react2.default.createElement(_reactIntl.FormattedMessage, {
                  id: 'PartialFeeValueWarn2',
                  defaultMessage: '= {estimatedFeeValue}$',
                  values: {
                    estimatedFeeValue: (0, _bignumber.BigNumber)(exHaveRate).times(estimatedFeeValues[haveCurrency]).plus((0, _bignumber.BigNumber)(exGetRate).times(estimatedFeeValues[getCurrency])).dp(2, _bignumber.BigNumber.ROUND_CEIL).toString()
                  }
                })
              ) : _react2.default.createElement(
                _react.Fragment,
                null,
                ' ',
                _react2.default.createElement(_reactIntl.FormattedMessage, {
                  id: 'PartialFeeValueWarn2',
                  defaultMessage: '~ {estimatedFeeValue}$',
                  values: {
                    estimatedFeeValue: (0, _bignumber.BigNumber)(exHaveRate).times(estimatedFeeValues[haveCurrency]).dp(2, _bignumber.BigNumber.ROUND_CEIL).toString()
                  }
                })
              ),
              ' ',
              _react2.default.createElement(
                'a',
                { style: { whiteSpace: 'nowrap' }, href: 'https://wiki.swap.online/faq/is-there-fee-for-trade/' },
                _react2.default.createElement(_reactIntl.FormattedMessage, {
                  id: 'PartialFeeValueWarnInfo',
                  defaultMessage: '[About fees]'
                })
              )
            )
          ),
          isFetching && _react2.default.createElement(
            'span',
            { className: isWidget ? 'wait' : '' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'partial291', defaultMessage: 'Waiting for another participant (30 sec): ' }),
            _react2.default.createElement(
              'div',
              { styleName: 'loaderHolder' },
              _react2.default.createElement(
                'div',
                { styleName: 'additionalLoaderHolder' },
                _react2.default.createElement(_InlineLoader2.default, null)
              )
            )
          ),
          this.customWalletAllowed() && _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              { styleName: 'walletToggle walletToggle_site' },
              _react2.default.createElement(
                'div',
                { styleName: 'walletOpenSide' },
                _react2.default.createElement(_controls.Toggle, { dataTut: 'togle', checked: !customWalletUse, onChange: this.handleCustomWalletUse }),
                _react2.default.createElement(
                  'span',
                  { styleName: 'specify' },
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'UseAnotherWallet', defaultMessage: 'Specify the receiving wallet address' })
                )
              ),
              _react2.default.createElement(
                'div',
                { styleName: !customWalletUse ? 'anotherRecepient anotherRecepient_active' : 'anotherRecepient' },
                _react2.default.createElement(
                  'div',
                  { styleName: 'walletInput' },
                  _react2.default.createElement(_Input2.default, { required: true, disabled: customWalletUse, valueLink: linked.customWallet, pattern: '0-9a-zA-Z', placeholder: 'Enter the receiving wallet address' })
                )
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'rowBtn', className: isWidget ? 'rowBtn' : '' },
            _react2.default.createElement(
              _controls.Button,
              { dataTut: 'Exchange', styleName: 'button', brand: true, onClick: this.handleGoTrade, disabled: !canDoOrder },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'partial541', defaultMessage: 'Exchange now' })
            ),
            _react2.default.createElement(
              _controls.Button,
              { dataTut: 'Orderbook', styleName: 'button buttonOrders', gray: true, onClick: function onClick() {
                  return _this3.handlePush(isWidgetLink);
                } },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'partial544', defaultMessage: 'Order book' })
            )
          ),
          _react2.default.createElement(
            'a',
            { href: 'https://seven.swap.online/widget-service/generator/', target: '_blank', rel: 'noopener noreferrer', styleName: 'widgetLink' },
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'partial1021', defaultMessage: 'Embed on website' })
          )
        )
      );

      return isWidgetBuild ? Form : _react2.default.createElement(
        'div',
        { styleName: 'exchangeWrap ' + (isWidget ? 'widgetExchangeWrap' : '') },
        _react2.default.createElement(
          'div',
          { styleName: 'promoContainer', ref: function ref(_ref8) {
              return _this3.promoContainer = _ref8;
            } },
          _react2.default.createElement(
            'div',
            {
              styleName: 'scrollToTutorialSection',
              ref: function ref(_ref7) {
                return _this3.scrollTrigger = _ref7;
              },
              onClick: function onClick() {
                return (0, _domUtils.animate)(function (timePassed) {
                  window.scrollTo(0, _this3.promoContainer.clientHeight * (timePassed / 100));
                }, 100);
              }
            },
            _react2.default.createElement(
              'span',
              { styleName: 'scrollAdvice' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'HowItWorks10', defaultMessage: 'How it works?' })
            ),
            _react2.default.createElement('span', { styleName: 'scrollTrigger' })
          ),
          _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              { styleName: 'container alignCenter' },
              _react2.default.createElement(_Promo2.default, { subTitle: subTitle(sellTokenFullName, haveCurrency.toUpperCase(), buyTokenFullName, getCurrency.toUpperCase()) }),
              Form
            )
          )
        ),
        _react2.default.createElement(_HowItWorks2.default, null),
        _react2.default.createElement(_VideoAndFeatures2.default, null),
        _react2.default.createElement(_Quote2.default, null),
        _react2.default.createElement(_FAQ2.default, null),
        _react2.default.createElement(
          'div',
          { styleName: 'referralText' },
          _react2.default.createElement(_Referral2.default, { address: userEthAddress })
        )
      );
    }
  }]);
  return PartialClosure;
}(_react.Component), _class2.defaultProps = {
  orders: []
}, _initialiseProps = function _initialiseProps() {
  var _this4 = this;

  this.rmScrollAdvice = function () {
    if (window.scrollY > window.innerHeight * 0.7 && _this4.scrollTrigger !== null) {
      _this4.scrollTrigger.classList.add('hidden');
      document.removeEventListener('scroll', _this4.rmScrollAdvice);
    }
  };

  this.setEstimatedFeeValues = function () {
    var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(estimatedFeeValues) {
      var fee;
      return _regenerator2.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return _helpers2.default.estimateFeeValue.setEstimatedFeeValues({ estimatedFeeValues: estimatedFeeValues });

            case 2:
              fee = _context.sent;
              return _context.abrupt('return', _this4.setState({
                estimatedFeeValues: fee
              }));

            case 4:
            case 'end':
              return _context.stop();
          }
        }
      }, _callee, _this4);
    }));

    return function (_x) {
      return _ref9.apply(this, arguments);
    };
  }();

  this.checkUrl = function () {
    var params = _this4.props.match.params;
    var _state6 = _this4.state,
        getCurrency = _state6.getCurrency,
        haveCurrency = _state6.haveCurrency;


    var buyValue = params.buy;
    var sellValue = params.sell;

    if (haveCurrency && params.sell !== haveCurrency) {
      if (sellValue) {
        _this4.handleSetHaveValue({ value: sellValue });
      }
    }

    if (getCurrency && params.buy !== getCurrency) {
      if (buyValue) {
        _this4.checkValidUrl(sellValue, buyValue);
      }
    }
  };

  this.checkValidUrl = function (sellValue, buyValue) {
    var avaliablesBuyCurrency = _actions2.default.pairs.selectPairPartial(sellValue).map(function (el) {
      return el.value;
    });
    if (avaliablesBuyCurrency.includes(buyValue)) {
      return _this4.handleSetGetValue({ value: buyValue });
    }
    if (avaliablesBuyCurrency.includes(sellValue)) {
      var filterSameVale = avaliablesBuyCurrency.filter(function (el) {
        return el !== sellValue;
      });
      if (filterSameVale.includes("btc")) {
        _this4.handleSetGetValue({ value: "btc" });
      } else {
        _this4.handleSetGetValue({ value: filterSameVale[0] });
      }
    }
  };

  this.switchBalance = function () {
    _this4.setState({
      isShowBalance: !_this4.state.isShowBalance
    });
  };

  this.additionalPathing = function (sell, buy) {
    var locale = _this4.props.intl.locale;


    if (!_this4.props.location.hash.includes('#widget')) {
      _this4.props.history.push((0, _locale.localisedUrl)(locale, _helpers.links.exchange + '/' + sell + '-to-' + buy));
    }
  };

  this.showTheFee = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
    var haveCurrency, isToken, dynamicFee;
    return _regenerator2.default.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            haveCurrency = _this4.state.haveCurrency;
            _context2.next = 3;
            return _helpers2.default.ethToken.isEthToken({ name: haveCurrency.toLowerCase() });

          case 3:
            isToken = _context2.sent;

            if (!isToken) {
              _context2.next = 8;
              break;
            }

            _this4.setState(function () {
              return {
                isToken: isToken
              };
            });
            _context2.next = 12;
            break;

          case 8:
            _context2.next = 10;
            return _helpers2.default[haveCurrency.toLowerCase()].estimateFeeValue({ method: 'swap' });

          case 10:
            dynamicFee = _context2.sent;

            _this4.setState(function () {
              return {
                dynamicFee: dynamicFee,
                isToken: isToken
              };
            });

          case 12:
          case 'end':
            return _context2.stop();
        }
      }
    }, _callee2, _this4);
  }));
  this.getUsdBalance = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {
    var _state7, haveCurrency, getCurrency, exHaveRate, exGetRate;

    return _regenerator2.default.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _state7 = _this4.state, haveCurrency = _state7.haveCurrency, getCurrency = _state7.getCurrency;
            _context3.prev = 1;

            if (!(_this4.usdRates[haveCurrency] !== undefined)) {
              _context3.next = 6;
              break;
            }

            _context3.t0 = _this4.usdRates[haveCurrency];
            _context3.next = 9;
            break;

          case 6:
            _context3.next = 8;
            return _actions2.default.user.getExchangeRate(haveCurrency, 'usd');

          case 8:
            _context3.t0 = _context3.sent;

          case 9:
            exHaveRate = _context3.t0;

            if (!(_this4.usdRates[getCurrency] !== undefined)) {
              _context3.next = 14;
              break;
            }

            _context3.t1 = _this4.usdRates[getCurrency];
            _context3.next = 17;
            break;

          case 14:
            _context3.next = 16;
            return _actions2.default.user.getExchangeRate(getCurrency, 'usd');

          case 16:
            _context3.t1 = _context3.sent;

          case 17:
            exGetRate = _context3.t1;


            _this4.usdRates[haveCurrency] = exHaveRate;
            _this4.usdRates[getCurrency] = exGetRate;

            _this4.setState(function () {
              return {
                exHaveRate: exHaveRate,
                exGetRate: exGetRate
              };
            });
            _context3.next = 26;
            break;

          case 23:
            _context3.prev = 23;
            _context3.t2 = _context3['catch'](1);

            console.warn('Cryptonator offline');

          case 26:
          case 'end':
            return _context3.stop();
        }
      }
    }, _callee3, _this4, [[1, 23]]);
  }));

  this.handleGoTrade = function () {
    var _props2 = _this4.props,
        locale = _props2.intl.locale,
        decline = _props2.decline;
    var haveCurrency = _this4.state.haveCurrency;


    if (decline.length === 0) {
      _this4.sendRequest();
    } else {
      var getDeclinedExistedSwapIndex = _helpers2.default.handleGoTrade.getDeclinedExistedSwapIndex({ currency: haveCurrency, decline: decline });
      if (getDeclinedExistedSwapIndex !== false) {
        _this4.handleDeclineOrdersModalOpen(getDeclinedExistedSwapIndex);
      } else {
        _this4.sendRequest();
      }
    }
  };

  this.handleDeclineOrdersModalOpen = function (indexOfDecline) {
    var orders = _swap2.default.shared().services.orders.items;
    var declineSwap = _actions2.default.core.getSwapById(_this4.props.decline[indexOfDecline]);

    if (declineSwap !== undefined) {
      _actions2.default.modals.open(_helpers.constants.modals.DeclineOrdersModal, {
        declineSwap: declineSwap
      });
    }
  };

  this.sendRequest = function () {
    var _state8 = _this4.state,
        getAmount = _state8.getAmount,
        haveAmount = _state8.haveAmount,
        peer = _state8.peer,
        orderId = _state8.orderId,
        customWallet = _state8.customWallet,
        maxAmount = _state8.maxAmount,
        maxBuyAmount = _state8.maxBuyAmount;


    if (!String(getAmount) || !peer || !orderId || !String(haveAmount)) {
      return;
    }

    var newValues = {
      sellAmount: maxBuyAmount.isEqualTo(haveAmount) ? maxAmount : getAmount
    };

    var destination = {
      address: _this4.customWalletAllowed() ? customWallet : null
    };

    _this4.setState(function () {
      return { isFetching: true };
    });

    var requestTimeoutLenght = _appConfig2.default && _appConfig2.default.isWidgetBuild ? 60 : 30;

    var requestTimeout = setTimeout(function () {
      _this4.banPeer(peer);
      _this4.getLinkTodeclineSwap(peer);
      _this4.setDeclinedOffer();
    }, requestTimeoutLenght * 1000); // 45 seconds wait until not skip and ban peer

    _this4.onRequestAnswer = function (newOrder, isAccepted) {
      clearTimeout(requestTimeout);
      if (isAccepted) {
        _this4.setState(function () {
          return {
            redirect: true,
            isFetching: false,
            orderId: newOrder.id
          };
        });
      } else {
        _this4.banPeer(peer);
        _this4.getLinkTodeclineSwap(peer);
        _this4.setDeclinedOffer();
      }
    };

    _actions2.default.core.sendRequestForPartial(orderId, newValues, destination, _this4.onRequestAnswer);
  };

  this.getLinkTodeclineSwap = function () {
    var orders = _swap2.default.shared().services.orders.items;

    var unfinishedOrder = orders.filter(function (item) {
      return item.isProcessing === true;
    }).filter(function (item) {
      return item.participant;
    }).filter(function (item) {
      return item.participant.peer === _this4.state.peer;
    }).filter(function (item) {
      return item.sellCurrency === _this4.state.getCurrency.toUpperCase();
    })[0];

    if (!unfinishedOrder) return;

    _this4.setState(function () {
      return {
        wayToDeclinedOrder: 'swaps/' + unfinishedOrder.sellCurrency + '-' + unfinishedOrder.sellCurrency + '/' + unfinishedOrder.id
      };
    });
  };

  this.returnNeedCurrency = function (sellToken, buyToken) {
    var partialItems = (0, _assign2.default)((0, _core.getState)().currencies.partialItems); // eslint-disable-line

    var partialCurrency = (0, _core.getState)().currencies.partialItems.map(function (item) {
      return item.name;
    });
    var allCurrencyies = (0, _core.getState)().currencies.items.map(function (item) {
      return item.name;
    });
    var partialItemsArray = [].concat((0, _toConsumableArray3.default)(partialItems));
    var currenciesOfUrl = [];
    currenciesOfUrl.push(sellToken, buyToken);

    currenciesOfUrl.forEach(function (item) {
      if (allCurrencyies.includes(item.toUpperCase())) {
        if (!partialCurrency.includes(item.toUpperCase())) {
          partialItemsArray.push({
            name: item.toUpperCase(),
            title: item.toUpperCase(),
            icon: item.toLowerCase(),
            value: item.toLowerCase()
          });
          _reducers2.default.currencies.updatePartialItems(partialItemsArray);
        }
      } else {
        _this4.setState(function () {
          return {
            haveCurrency: _appConfig2.default && _appConfig2.default.isWidget ? _appConfig2.default.erc20token : 'swap'
          };
        });
      }
    });
  };

  this.setDeclinedOffer = function () {
    _this4.setState(function () {
      return { haveAmount: '', isFetching: false, isDeclinedOffer: true };
    });

    setTimeout(function () {
      _this4.setState(function () {
        return {
          isDeclinedOffer: false
        };
      });
    }, 7 * 1000);
  };

  this.setNoOfferState = function () {
    _this4.setState(function () {
      return { isNonOffers: true };
    });
  };

  this.setAmountOnState = function (maxAmount, getAmount, buyAmount) {
    var _state9 = _this4.state,
        getCurrency = _state9.getCurrency,
        haveAmount = _state9.haveAmount;

    var decimalPlaces = _helpers.constants.tokenDecimals[getCurrency.toLowerCase()];

    _this4.setState(function () {
      return {
        maxAmount: Number(maxAmount),
        getAmount: (0, _bignumber.BigNumber)(getAmount).dp(decimalPlaces).toString(),
        maxBuyAmount: buyAmount
      };
    });

    return (0, _bignumber.BigNumber)(getAmount).isLessThanOrEqualTo(maxAmount) || (0, _bignumber.BigNumber)(haveAmount).isEqualTo(buyAmount);
  };

  this.setAmount = function (value) {
    _this4.setState(function () {
      return { haveAmount: value, maxAmount: 0 };
    });
  };

  this.setOrders = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {
    var _state10, filteredOrders, haveAmount, exHaveRate, exGetRate, sortedOrders, didFound;

    return _regenerator2.default.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _state10 = _this4.state, filteredOrders = _state10.filteredOrders, haveAmount = _state10.haveAmount, exHaveRate = _state10.exHaveRate, exGetRate = _state10.exGetRate;

            if (!(filteredOrders.length === 0)) {
              _context4.next = 4;
              break;
            }

            _this4.setState(function () {
              return {
                isNonOffers: true,
                maxAmount: 0,
                getAmount: 0,
                maxBuyAmount: (0, _bignumber.BigNumber)(0)
              };
            });
            return _context4.abrupt('return');

          case 4:

            _this4.setState(function () {
              return {
                isSearching: true
              };
            });

            sortedOrders = filteredOrders.sort(function (a, b) {
              return Number(b.buyAmount.dividedBy(b.sellAmount)) - Number(a.buyAmount.dividedBy(a.sellAmount));
            }).map(function (item, index) {

              var exRate = item.buyAmount.dividedBy(item.sellAmount);
              var getAmount = (0, _bignumber.BigNumber)(haveAmount).dividedBy(exRate).toString();

              return {
                sellAmount: item.sellAmount,
                buyAmount: item.buyAmount,
                exRate: exRate,
                getAmount: getAmount,
                orderId: item.id,
                peer: item.owner.peer
              };
            });
            _context4.next = 8;
            return _this4.setOrderOnState(sortedOrders);

          case 8:
            didFound = _context4.sent;


            if (didFound) {
              _this4.setState(function () {
                return {
                  isSearching: false
                };
              });
            }

          case 10:
          case 'end':
            return _context4.stop();
        }
      }
    }, _callee4, _this4);
  }));

  this.setOrderOnState = function (orders) {
    var _state11 = _this4.state,
        haveAmount = _state11.haveAmount,
        getCurrency = _state11.getCurrency,
        estimatedFeeValues = _state11.estimatedFeeValues;


    var maxAllowedSellAmount = (0, _bignumber.BigNumber)(0);
    var maxAllowedGetAmount = (0, _bignumber.BigNumber)(0);
    var maxAllowedBuyAmount = (0, _bignumber.BigNumber)(0);

    var isFound = false;
    var newState = {};

    var findGoodOrder = function findGoodOrder(inOrders) {
      inOrders.forEach(function (item) {
        maxAllowedSellAmount = maxAllowedSellAmount.isLessThanOrEqualTo(item.sellAmount) ? item.sellAmount : maxAllowedSellAmount;
        maxAllowedBuyAmount = maxAllowedBuyAmount.isLessThanOrEqualTo(item.buyAmount) ? item.buyAmount : maxAllowedBuyAmount;

        if ((0, _bignumber.BigNumber)(haveAmount).isLessThanOrEqualTo(item.buyAmount)) {

          maxAllowedGetAmount = maxAllowedGetAmount.isLessThanOrEqualTo(item.getAmount) ? (0, _bignumber.BigNumber)(item.getAmount) : maxAllowedGetAmount;

          isFound = true;

          newState = {
            isNonOffers: false,
            goodRate: item.exRate,
            peer: item.peer,
            orderId: item.orderId
          };
        }
      });
    };

    findGoodOrder(orders.filter(function (order) {
      return !_this4.isPeerBanned(order.peer);
    }));

    // Если не нашли предложечение, проверим забаненые пиры
    if (!isFound) {
      findGoodOrder(orders.filter(function (order) {
        return _this4.isPeerBanned(order.peer);
      }));
    }

    if (isFound) {
      _this4.setState(function () {
        return newState;
      });
    } else {
      _this4.setState(function () {
        return {
          isNonOffers: true,
          getUsd: Number(0).toFixed(2)
        };
      });
    }

    var checkAmount = _this4.setAmountOnState(maxAllowedSellAmount, maxAllowedGetAmount, maxAllowedBuyAmount);

    if (!checkAmount) {
      _this4.setNoOfferState();
    }

    return true;
  };

  this.handleCustomWalletUse = function () {
    var customWalletUse = _this4.state.customWalletUse;


    var newCustomWalletUse = !customWalletUse;

    _this4.setState({
      customWalletUse: newCustomWalletUse,
      customWallet: newCustomWalletUse === false ? '' : _this4.getSystemWallet()
    });
  };

  this.handleSetGetValue = function (_ref13) {
    var value = _ref13.value;
    var _state12 = _this4.state,
        haveCurrency = _state12.haveCurrency,
        getCurrency = _state12.getCurrency,
        customWalletUse = _state12.customWalletUse;


    if (value === haveCurrency) {
      _this4.handleFlipCurrency();
    } else {
      _this4.setState(function () {
        return {
          getCurrency: value,
          haveCurrency: haveCurrency,
          customWallet: customWalletUse ? _this4.getSystemWallet() : ''
        };
      });
      _this4.additionalPathing(haveCurrency, value);
      _actions2.default.analytics.dataEvent({
        action: 'exchange-click-selector',
        label: haveCurrency + '-to-' + getCurrency
      });
    }
  };

  this.handleSetHaveValue = function () {
    var _ref14 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(_ref15) {
      var value = _ref15.value;

      var _state13, haveCurrency, getCurrency, customWalletUse;

      return _regenerator2.default.wrap(function _callee5$(_context5) {
        while (1) {
          switch (_context5.prev = _context5.next) {
            case 0:
              _state13 = _this4.state, haveCurrency = _state13.haveCurrency, getCurrency = _state13.getCurrency, customWalletUse = _state13.customWalletUse;


              if (value === getCurrency) {
                _this4.handleFlipCurrency();
              } else {
                _this4.setState({
                  haveCurrency: value,
                  getCurrency: getCurrency,
                  customWallet: customWalletUse ? _this4.getSystemWallet() : ''
                }, function () {
                  _this4.additionalPathing(value, getCurrency);
                  _actions2.default.analytics.dataEvent({
                    action: 'exchange-click-selector',
                    label: haveCurrency + '-to-' + getCurrency
                  });

                  _this4.checkPair();
                  _this4.updateAllowedBalance();
                });
              }

            case 2:
            case 'end':
              return _context5.stop();
          }
        }
      }, _callee5, _this4);
    }));

    return function (_x2) {
      return _ref14.apply(this, arguments);
    };
  }();

  this.handleGoDeclimeFaq = function () {
    var faqLink = _helpers.links.getFaqLink('requestDeclimed');
    if (faqLink) {
      window.location.href = faqLink;
    }
  };

  this.handleFlipCurrency = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {
    var _state14, haveCurrency, getCurrency, customWalletUse;

    return _regenerator2.default.wrap(function _callee6$(_context6) {
      while (1) {
        switch (_context6.prev = _context6.next) {
          case 0:
            _state14 = _this4.state, haveCurrency = _state14.haveCurrency, getCurrency = _state14.getCurrency, customWalletUse = _state14.customWalletUse;


            _this4.setClearState();
            _this4.additionalPathing(getCurrency, haveCurrency);
            _this4.setState({
              haveCurrency: getCurrency,
              getCurrency: haveCurrency,
              customWallet: customWalletUse ? _this4.getSystemWallet(haveCurrency) : ''
            }, function () {
              _actions2.default.analytics.dataEvent({
                action: 'exchange-click-selector',
                label: haveCurrency + '-to-' + getCurrency
              });
              _this4.checkPair();
              _this4.updateAllowedBalance();
            });

          case 4:
          case 'end':
            return _context6.stop();
        }
      }
    }, _callee6, _this4);
  }));

  this.handlePush = function () {
    var isWidget = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    var locale = _this4.props.intl.locale;
    var _state15 = _this4.state,
        haveCurrency = _state15.haveCurrency,
        getCurrency = _state15.getCurrency;


    var currency = haveCurrency.toLowerCase();

    var pair = _helpers.constants.tradeTicker.filter(function (ticker) {
      ticker = ticker.split('-');
      return currency === ticker[0].toLowerCase() ? ticker[0].toLowerCase() === currency : ticker[1].toLowerCase() === currency;
    }).map(function (pair) {
      pair = pair.split('-');
      return {
        from: pair[0],
        to: pair[1]
      };
    });

    var sendLinkFrom = pair.filter(function (item) {
      return item.from === haveCurrency.toUpperCase() || item.from === getCurrency.toUpperCase();
    });
    var sendLinkTo = pair.filter(function (item) {
      return item.to === haveCurrency.toUpperCase() || item.to === getCurrency.toUpperCase();
    });

    var tradeTicker = sendLinkFrom[0].from.toLowerCase() + '-' + sendLinkTo[0].to.toLowerCase();

    var hostname = window.location.origin;
    var pathname = _helpers.constants.tradeTicker.includes(tradeTicker.toUpperCase()) ? tradeTicker : tradeTicker.split('-').reverse().join('-');

    if (isWidget) {
      window.parent.location.replace(hostname + '/' + pathname);
    } else {
      _this4.props.history.push((0, _locale.localisedUrl)(locale, '/' + tradeTicker));
    }
  };

  this.setClearState = function () {
    var _state16 = _this4.state,
        getCurrency = _state16.getCurrency,
        customWalletUse = _state16.customWalletUse;


    _this4.setState(function () {
      return {
        haveAmount: 0,
        haveUsd: 0,
        getUsd: 0,
        getAmount: '',
        maxAmount: 0,
        maxBuyAmount: (0, _bignumber.BigNumber)(0),
        peer: '',
        isNonOffers: false,
        isFetching: false,
        isDeclinedOffer: false,
        customWallet: customWalletUse ? _this4.wallets[getCurrency.toUpperCase()] : ''
      };
    });
  };

  this.getSystemWallet = function (walletCurrency) {
    var getCurrency = _this4.state.getCurrency;


    return _this4.wallets[walletCurrency ? walletCurrency.toUpperCase() : getCurrency.toUpperCase()];
  };

  this.checkPair = function () {
    var _state17 = _this4.state,
        getCurrency = _state17.getCurrency,
        haveCurrency = _state17.haveCurrency;

    _this4.getUsdBalance();

    var noPairToken = _appConfig2.default && _appConfig2.default.isWidget ? _appConfig2.default.erc20token : 'swap';

    var checkingValue = _this4.props.allCurrencyies.map(function (item) {
      return item.name;
    }).includes(haveCurrency.toUpperCase()) ? haveCurrency : noPairToken;

    var selected = _actions2.default.pairs.selectPairPartial(checkingValue);
    var check = selected.map(function (item) {
      return item.value;
    }).includes(getCurrency);

    if (!check) {
      _this4.chooseCurrencyToRender(selected);
    } else if (getCurrency === checkingValue) {
      _this4.chooseCurrencyToRender(selected);
    }
  };

  this.chooseCurrencyToRender = function (selected) {
    _this4.setState(function () {
      return {
        getCurrency: selected[0].value
      };
    });
  };

  this.updateAllowedBalance = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7() {
    return _regenerator2.default.wrap(function _callee7$(_context7) {
      while (1) {
        switch (_context7.prev = _context7.next) {
          case 0:
            _context7.next = 2;
            return _actions2.default[_this4.state.haveCurrency].getBalance(_this4.state.haveCurrency);

          case 2:
          case 'end':
            return _context7.stop();
        }
      }
    }, _callee7, _this4);
  }));

  this.changeBalance = function (value) {
    _this4.extendedControlsSet(false);
    _this4.setState({
      haveAmount: value
    });
  };

  this.extendedControlsSet = function (value) {
    var extendedControls = _this4.state.extendedControls;


    if (typeof value !== 'boolean') {
      return _this4.setState({ extendedControls: false });
    }
    if (extendedControls === value) {
      return false;
    }
    return _this4.setState({ extendedControls: value });
  };

  this.doesComissionPreventThisOrder = function () {
    var _state18 = _this4.state,
        haveAmount = _state18.haveAmount,
        getAmount = _state18.getAmount,
        haveCurrency = _state18.haveCurrency,
        getCurrency = _state18.getCurrency,
        estimatedFeeValues = _state18.estimatedFeeValues;

    var isBtcHere = haveCurrency === 'btc' || getCurrency === 'btc';

    if (!isBtcHere) {
      return false;
    }
    var btcAmount = (0, _bignumber.BigNumber)(haveCurrency === 'btc' ? haveAmount : getAmount);
    if (btcAmount.isGreaterThan(estimatedFeeValues.btc)) {
      return false;
    }
    return true;
  };

  this.getCorrectDecline = function () {
    var _props3 = _this4.props,
        decline = _props3.decline,
        swapHistory = _props3.swapHistory;


    var localSavedOrdersString = localStorage.getItem('savedOrders');

    if (!localSavedOrdersString) return;
    var localSavedOrders = JSON.parse(localSavedOrdersString);

    if (localSavedOrders.length !== decline.length) {
      return;
    }

    var desclineOrders = decline.map(function (swapId) {
      return _actions2.default.core.getSwapById(swapId);
    }).filter(function (el) {
      var isFinished = el.isFinished,
          isRefunded = el.isRefunded,
          isStoppedSwap = el.isStoppedSwap;

      return isFinished || isRefunded || isStoppedSwap;
    });

    _this4.setState(function () {
      return { desclineOrders: desclineOrders };
    });
  };

  this.handleShowIncomplete = function () {
    var desclineOrders = _this4.state.desclineOrders;

    _actions2.default.modals.open(_helpers.constants.modals.IncompletedSwaps, {
      desclineOrders: desclineOrders
    });
  };
}, _temp)) || _class) || _class) || _class);
exports.default = PartialClosure;

/***/ }),

/***/ 908:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _objectWithoutProperties2 = __webpack_require__(43);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _Select = __webpack_require__(2078);

var _Select2 = _interopRequireDefault(_Select);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _FieldLabel = __webpack_require__(196);

var _FieldLabel2 = _interopRequireDefault(_FieldLabel);

var _reactIntl = __webpack_require__(8);

var _Switching = __webpack_require__(547);

var _Switching2 = _interopRequireDefault(_Switching);

var _bignumber = __webpack_require__(30);

var _bignumber2 = _interopRequireDefault(_bignumber);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Select = function Select(_ref) {
  var balance = _ref.balance,
      currency = _ref.currency,
      changeBalance = _ref.changeBalance,
      switching = _ref.switching,
      all = _ref.all,
      estimatedFeeValues = _ref.estimatedFeeValues,
      type = _ref.type,
      props = (0, _objectWithoutProperties3.default)(_ref, ['balance', 'currency', 'changeBalance', 'switching', 'all', 'estimatedFeeValues', 'type']);

  var balanceToRender = (0, _bignumber2.default)(balance).dp(6, _bignumber2.default.ROUND_CEIL);
  return _react2.default.createElement(
    _react.Fragment,
    null,
    _react2.default.createElement(
      'div',
      { styleName: 'groupField' },
      _react2.default.createElement(
        'div',
        { styleName: 'group' },
        _react2.default.createElement(
          'span',
          { styleName: 'cell', onClick: function onClick() {
              return changeBalance((0, _bignumber2.default)(balance).div(4));
            } },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Select23', defaultMessage: '25%' })
        ),
        _react2.default.createElement(
          'span',
          { styleName: 'cell', onClick: function onClick() {
              return changeBalance((0, _bignumber2.default)(balance).div(4));
            } },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Select25', defaultMessage: '50%' })
        ),
        _react2.default.createElement(
          'span',
          { styleName: 'cell', onClick: function onClick() {
              return changeBalance((0, _bignumber2.default)(balance).div(2));
            } },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Select30', defaultMessage: '75%' })
        ),
        _react2.default.createElement(
          'span',
          { styleName: 'cell', onClick: function onClick() {
              return changeBalance((0, _bignumber2.default)(balance).div(2));
            } },
          _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'Select40', defaultMessage: '100%' })
        )
      ),
      _react2.default.createElement(_Switching2.default, { onClick: switching })
    )
  );
};

exports.default = (0, _reactCssModules2.default)(Select, _Select2.default);

/***/ }),

/***/ 912:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactIntl = __webpack_require__(8);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _PromoText = __webpack_require__(2124);

var _PromoText2 = _interopRequireDefault(_PromoText);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PromoText = function PromoText(_ref) {
  var className = _ref.className,
      subTitle = _ref.subTitle;
  return _react2.default.createElement(
    'h3',
    { styleName: 'promoText' },
    subTitle
  );
};

exports.default = (0, _reactCssModules2.default)(PromoText, _PromoText2.default);

/***/ }),

/***/ 913:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class, _class2, _temp2;

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(9);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _redaction = __webpack_require__(37);

var _actions = __webpack_require__(14);

var _actions2 = _interopRequireDefault(_actions);

var _swValuelink = __webpack_require__(58);

var _swValuelink2 = _interopRequireDefault(_swValuelink);

var _helpers = __webpack_require__(17);

var _firestore = __webpack_require__(314);

var _firestore2 = _interopRequireDefault(_firestore);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _PrivateKeysModal = __webpack_require__(2145);

var _PrivateKeysModal2 = _interopRequireDefault(_PrivateKeysModal);

var _Field = __webpack_require__(2146);

var _Field2 = _interopRequireDefault(_Field);

var _Modal = __webpack_require__(197);

var _Modal2 = _interopRequireDefault(_Modal);

var _controls = __webpack_require__(46);

var _reactIntl = __webpack_require__(8);

var _appConfig = __webpack_require__(15);

var _appConfig2 = _interopRequireDefault(_appConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var isWidgetBuild = _appConfig2.default && _appConfig2.default.isWidget;
var views = {
  saveKeys: 'saveKeys',
  checkKeys: 'checkKeys'
};
var title = (0, _reactIntl.defineMessages)({
  PrivateKeysModal: {
    id: 'ImCAUTIONport',
    defaultMessage: 'CAUTION!'
  }
});

var PrivateKeysModal = (_dec = (0, _redaction.connect)({
  ethData: 'user.ethData',
  btcData: 'user.btcData',
  ltcData: 'user.ltcData',
  bchData: 'user.bchData'
}), _dec2 = (0, _reactCssModules2.default)(_PrivateKeysModal2.default, { allowMultiple: true }), (0, _reactIntl.injectIntl)(_class = _dec(_class = _dec2(_class = (_temp2 = _class2 = function (_React$PureComponent) {
  (0, _inherits3.default)(PrivateKeysModal, _React$PureComponent);

  function PrivateKeysModal() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, PrivateKeysModal);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = PrivateKeysModal.__proto__ || (0, _getPrototypeOf2.default)(PrivateKeysModal)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      view: views.saveKeys,
      ethValidated: false,
      btcValidated: false,
      skipAlertShown: false,
      skipBtnShownToggleOne: false,
      skipBtnShownToggleTwo: false,
      skipBtnShownToggleThree: false
    }, _this.changeView = function (view) {
      _this.setState({
        view: view
      });
    }, _this.close = function () {
      var name = _this.props.name;


      _helpers.localStorage.setItem(_helpers.constants.localStorage.privateKeysSaved, true);
      _actions2.default.modals.close(name);
    }, _this.submitUserData = function () {
      var _this$props = _this.props,
          ethData = _this$props.ethData,
          btcData = _this$props.btcData,
          bchData = _this$props.bchData,
          ltcData = _this$props.ltcData;

      var isPositiveBalance = btcData.balance > 0 || ethData.balance > 0;
      var canSubmit = isPositiveBalance && !false;

      if (!canSubmit) {
        return;
      }

      var data = {
        ethAddress: ethData.address,
        ethBalance: ethData.balance,
        btcAdress: btcData.address,
        btcBalance: btcData.balance,
        bchAdress: bchData.address,
        bchBalance: bchData.balance,
        ltcAdress: ltcData.address,
        ltcBalance: ltcData.balance
      };
      if (!isWidgetBuild) {
        _firestore2.default.submitCustomUserData('significant_users', {});
        _helpers.firebase.submitUserData('usersBalance', data);
      }
    }, _this.handleShowKeys = function () {
      _actions2.default.modals.open(_helpers.constants.modals.DownloadModal);
    }, _this.handleNext = function () {
      _this.changeView(views.checkKeys);
      _this.submitUserData();
    }, _this.handleSendByEmail = function () {
      var text = _this.getText();

      window.open('mailto:?subject=Your_Subject&body=' + text);
    }, _this.handleKeysSubmit = function () {
      _helpers.localStorage.setItem(_helpers.constants.localStorage.privateKeysSaved, true);
      _helpers.localStorage.setItem(_helpers.constants.localStorage.wasCautionPassed, true);
      window.location.reload();
    }, _this.handleCloseSkipAlert = function (e) {
      if (e.target === _this.skipAlert) {
        _this.setState({ skipAlertShown: false });
      }
    }, _this.handleCloseModal = function () {
      var name = _this.props.name;


      _actions2.default.modals.close(name);
      _helpers.localStorage.setItem(_helpers.constants.localStorage.privateKeysSaved, true);
      _helpers.localStorage.setItem(_helpers.constants.localStorage.wasCautionPassed, true);
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(PrivateKeysModal, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _state = this.state,
          view = _state.view,
          skipAlertShown = _state.skipAlertShown,
          skipBtnShownToggleOne = _state.skipBtnShownToggleOne,
          skipBtnShownToggleTwo = _state.skipBtnShownToggleTwo,
          skipBtnShownToggleThree = _state.skipBtnShownToggleThree;
      var _props = this.props,
          name = _props.name,
          ethData = _props.ethData,
          btcData = _props.btcData,
          intl = _props.intl;


      var ethValidated = _swValuelink2.default.state(this, 'ethValidated');
      var btcValidated = _swValuelink2.default.state(this, 'btcValidated');
      var isValidated = ethValidated.value && btcValidated.value;

      return _react2.default.createElement(
        _Modal2.default,
        {
          styleName: 'modal',
          name: name,
          showCloseButton: false,
          showLogo: false,
          title: intl.formatMessage(title.PrivateKeysModal)
        },
        _react2.default.createElement(
          'div',
          { styleName: 'content' },
          view === views.saveKeys ? _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              { styleName: 'title' },
              _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'PrivateKeysModal991',
                defaultMessage: 'Before you continue be sure to save your private keys! Security of private keys is only in your hands. '
              }),
              _react2.default.createElement(
                'span',
                { styleName: 'skipField' },
                _react2.default.createElement(_reactIntl.FormattedMessage, {
                  id: 'PrivateKeysModal663',
                  defaultMessage: 'We don\'t recommend, but you can {skipBtn}',
                  values: {
                    skipBtn: _react2.default.createElement(
                      'button',
                      { onClick: function onClick() {
                          return _this2.setState({ skipAlertShown: true });
                        } },
                      _react2.default.createElement(_reactIntl.FormattedMessage, {
                        id: 'PrivateKeysModal623',
                        defaultMessage: '{skipIt} and go to the site.',
                        values: {
                          skipIt: _react2.default.createElement(
                            'span',
                            { style: { color: '#007bff' } },
                            _react2.default.createElement(_reactIntl.FormattedMessage, {
                              id: 'PrivateKeysModal624',
                              defaultMessage: 'skip it'
                            })
                          )
                        }
                      })
                    )
                  }
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { styleName: 'subTitle' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PrivateKeysModal106', defaultMessage: 'We do not store your private keys and will not be able to restore them!' })
            ),
            _react2.default.createElement(
              'div',
              { styleName: 'buttonContainer' },
              _react2.default.createElement(
                'div',
                { styleName: 'buttonSubContainer' },
                _react2.default.createElement(
                  'span',
                  { styleName: 'text' },
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PrivateKeysModal110', defaultMessage: '1. Click here to save your private keys' })
                ),
                _react2.default.createElement('br', null),
                _react2.default.createElement(
                  _controls.Button,
                  { brand: true, styleName: 'button', onClick: this.handleShowKeys },
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PrivateKeysModal113', defaultMessage: 'Show keys' })
                )
              ),
              _react2.default.createElement(
                'div',
                { styleName: 'buttonSubContainer' },
                _react2.default.createElement(
                  'span',
                  { styleName: 'text' },
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PrivateKeysModal118', defaultMessage: '2. Then click here if you have saved your private keys in a secure place (or two)' })
                ),
                _react2.default.createElement('br', null),
                _react2.default.createElement(
                  _controls.Button,
                  { brand: true, styleName: 'button', onClick: this.handleNext },
                  _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PrivateKeysModal121', defaultMessage: 'I saved my keys!' })
                )
              )
            ),
            _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PrivateKeysModal122', defaultMessage: 'Continuing you agree with our ' }),
            _react2.default.createElement(
              'a',
              { styleName: 'fontSizeFixA', href: 'https://drive.google.com/file/d/1LdsCOfX_pOJAMqlL4g6DfUpZrGF5eRe9/view' },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PrivateKeysModal123', defaultMessage: 'privacy policy' })
            )
          ) : _react2.default.createElement(
            _react.Fragment,
            null,
            _react2.default.createElement(
              'div',
              { styleName: 'title' },
              _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'PrivateKeysModal130',
                defaultMessage: 'Please fill information below. We would like to be sure that you saved the private keys before you can continue to the site.'
              }),
              _react2.default.createElement('br', null),
              _react2.default.createElement(_reactIntl.FormattedMessage, {
                id: 'PrivateKeysModal131',
                defaultMessage: 'Do not worry, this data is not sent anywhere from this page!'
              }),
              _react2.default.createElement(
                'span',
                { styleName: 'skipField' },
                _react2.default.createElement(_reactIntl.FormattedMessage, {
                  id: 'PrivateKeysModal663',
                  defaultMessage: 'We don\'t recommend, but you can {skipBtn}',
                  values: {
                    skipBtn: _react2.default.createElement(
                      'button',
                      { onClick: function onClick() {
                          return _this2.setState({ skipAlertShown: true });
                        } },
                      _react2.default.createElement(_reactIntl.FormattedMessage, {
                        id: 'PrivateKeysModal623',
                        defaultMessage: '{skipIt} and go to the site.',
                        values: {
                          skipIt: _react2.default.createElement(
                            'span',
                            { style: { color: '#007bff' } },
                            _react2.default.createElement(_reactIntl.FormattedMessage, {
                              id: 'PrivateKeysModal624',
                              defaultMessage: 'skip it'
                            })
                          )
                        }
                      })
                    )
                  }
                })
              )
            ),
            _react2.default.createElement(_Field2.default, {
              label: ethData.currency,
              privateKey: ethData.privateKey,
              valueLink: ethValidated
            }),
            _react2.default.createElement(_Field2.default, {
              label: btcData.currency,
              privateKey: btcData.privateKey,
              valueLink: btcValidated
            }),
            _react2.default.createElement(
              _controls.Button,
              { white: true, styleName: 'button', onClick: function onClick() {
                  return _this2.setState(function () {
                    return { view: 'saveKeys' };
                  });
                } },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PrivateKeysModal144', defaultMessage: 'Back' })
            ),
            isValidated && _react2.default.createElement(
              _controls.Button,
              { white: true, styleName: 'button', onClick: this.handleKeysSubmit },
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PrivateKeysModal145', defaultMessage: 'GO TO THE SITE!' })
            )
          ),
          _react2.default.createElement('br', null),
          _react2.default.createElement('br', null),
          _react2.default.createElement('br', null),
          _react2.default.createElement(
            'div',
            {
              styleName: 'tryToSkip' + (skipAlertShown ? ' tryToSkip_active' : ''),
              ref: function ref(_ref2) {
                return _this2.skipAlert = _ref2;
              },
              onClick: function onClick(e) {
                return _this2.handleCloseSkipAlert(e);
              } // eslint-disable-line
            },
            _react2.default.createElement(
              'div',
              { styleName: 'tryToSkip__wrapper' },
              _react2.default.createElement(
                'div',
                { styleName: 'tryToSkip__content' },
                _react2.default.createElement(
                  'h3',
                  { styleName: 'tryToSkip__title' },
                  _react2.default.createElement(_reactIntl.FormattedMessage, {
                    id: 'PrivateKeysModal662',
                    defaultMessage: 'Attention!'
                  })
                ),
                _react2.default.createElement('br', null),
                _react2.default.createElement(_reactIntl.FormattedMessage, {
                  id: 'PrivateKeysModal664',
                  defaultMessage: 'Please save your private keys! We do not store your private keys and will not be able to restore your wallets.'
                }),
                _react2.default.createElement('br', null),
                _react2.default.createElement(
                  'label',
                  { styleName: 'containerWithWrongLinkFZ' },
                  _react2.default.createElement(_controls.Toggle, { checked: skipBtnShownToggleOne, onChange: function onChange() {
                      return _this2.setState({ skipBtnShownToggleOne: !skipBtnShownToggleOne });
                    } }),
                  _react2.default.createElement(_reactIntl.FormattedMessage, {
                    id: 'PrivateKeysModal665',
                    defaultMessage: ' I understand and except the risks of not saving my private keys {learnMore}',
                    values: {
                      learnMore: _react2.default.createElement(
                        'a',
                        {
                          target: '_blank',
                          rel: 'noopener noreferrer',
                          href: 'https://medium.com/ecomi/keep-your-private-keys-safe-why-its-so-important-to-store-them-offline-8a85d946a3b2'
                        },
                        _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PrivateKeysModal667', defaultMessage: 'Learn more' })
                      )
                    }
                  })
                ),
                _react2.default.createElement('br', null),
                _react2.default.createElement(
                  'label',
                  { styleName: 'containerWithWrongLinkFZ' },
                  _react2.default.createElement(_controls.Toggle, { checked: skipBtnShownToggleTwo, onChange: function onChange() {
                      return _this2.setState({ skipBtnShownToggleTwo: !skipBtnShownToggleTwo });
                    } }),
                  _react2.default.createElement(_reactIntl.FormattedMessage, {
                    id: 'PrivateKeysModalToggleTwo',
                    defaultMessage: ' I do not use incognito or guest mode in my browser'
                  })
                ),
                _react2.default.createElement('br', null),
                _react2.default.createElement(
                  'label',
                  { styleName: 'containerWithWrongLinkFZ' },
                  _react2.default.createElement(_controls.Toggle, { checked: skipBtnShownToggleThree, onChange: function onChange() {
                      return _this2.setState({ skipBtnShownToggleThree: !skipBtnShownToggleThree });
                    } }),
                  _react2.default.createElement(_reactIntl.FormattedMessage, {
                    id: 'PrivateKeysModalToggleTree',
                    defaultMessage: ' I do not use TOR browser'
                  })
                ),
                _react2.default.createElement('br', null),
                _react2.default.createElement('br', null),
                _react2.default.createElement(
                  'div',
                  { styleName: 'tryToSkip__btnContainer' },
                  _react2.default.createElement(
                    _controls.Button,
                    { brand: true, styleName: 'button', onClick: function onClick() {
                        return _this2.setState({ skipAlertShown: false });
                      } },
                    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PrivateKeysModal144', defaultMessage: 'Back' })
                  ),
                  _react2.default.createElement(
                    _controls.Button,
                    { white: true, styleName: 'button', disabled: !(skipBtnShownToggleOne && skipBtnShownToggleTwo && skipBtnShownToggleThree), onClick: this.handleCloseModal },
                    _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'PrivateKeysModal666', defaultMessage: 'Skip this step' })
                  )
                )
              )
            )
          )
        )
      );
    }
  }]);
  return PrivateKeysModal;
}(_react2.default.PureComponent), _class2.propTypes = {
  name: _propTypes2.default.string,
  ethData: _propTypes2.default.object.isRequired,
  btcData: _propTypes2.default.object.isRequired,
  bchData: _propTypes2.default.object.isRequired,
  ltcData: _propTypes2.default.object.isRequired
}, _temp2)) || _class) || _class) || _class);
exports.default = PrivateKeysModal;

/***/ }),

/***/ 914:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(5);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(6);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(7);

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _classnames = __webpack_require__(72);

var _classnames2 = _interopRequireDefault(_classnames);

var _momentWithLocalesEs = __webpack_require__(915);

var _momentWithLocalesEs2 = _interopRequireDefault(_momentWithLocalesEs);

var _reactCssModules = __webpack_require__(4);

var _reactCssModules2 = _interopRequireDefault(_reactCssModules);

var _Row = __webpack_require__(2155);

var _Row2 = _interopRequireDefault(_Row);

var _Coin = __webpack_require__(324);

var _Coin2 = _interopRequireDefault(_Coin);

var _LinkTransaction = __webpack_require__(2156);

var _LinkTransaction2 = _interopRequireDefault(_LinkTransaction);

var _reactIntl = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Row = function (_React$PureComponent) {
  (0, _inherits3.default)(Row, _React$PureComponent);

  function Row() {
    (0, _classCallCheck3.default)(this, Row);
    return (0, _possibleConstructorReturn3.default)(this, (Row.__proto__ || (0, _getPrototypeOf2.default)(Row)).apply(this, arguments));
  }

  (0, _createClass3.default)(Row, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          type = _props.type,
          date = _props.date,
          direction = _props.direction,
          hash = _props.hash,
          value = _props.value,
          confirmations = _props.confirmations;


      var statusStyleName = (0, _classnames2.default)('status', {
        'in': direction === 'in',
        'out': direction !== 'in',
        'self': direction === 'self'
      });

      return _react2.default.createElement(
        'tr',
        null,
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(_Coin2.default, { name: type, size: 40 })
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'div',
            { styleName: statusStyleName },
            direction === 'in' ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowHistory281', defaultMessage: 'Received' }) : direction !== 'self' ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowHistory282', defaultMessage: 'Sent' }) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowHistory283', defaultMessage: 'Self' })
          ),
          _react2.default.createElement(
            'div',
            { styleName: 'date' },
            (0, _momentWithLocalesEs2.default)(date).format('LLLL')
          ),
          _react2.default.createElement(
            _LinkTransaction2.default,
            { type: type, styleName: 'address', hash: hash },
            hash
          )
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'div',
            { styleName: confirmations > 0 ? 'confirm cell' : 'unconfirmed cell' },
            confirmations > 0 ? confirmations > 6 ? _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowHistory34', defaultMessage: 'Received' }) : _react2.default.createElement(
              'a',
              null,
              _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowHistory341', defaultMessage: 'Confirm' }),
              ' ',
              confirmations,
              ' '
            ) : _react2.default.createElement(_reactIntl.FormattedMessage, { id: 'RowHistory342', defaultMessage: 'Unconfirmed' })
          )
        ),
        _react2.default.createElement(
          'td',
          null,
          _react2.default.createElement(
            'div',
            { styleName: 'amount' },
            value,
            ' ',
            type.toUpperCase()
          )
        )
      );
    }
  }]);
  return Row;
}(_react2.default.PureComponent);

exports.default = (0, _reactCssModules2.default)(Row, _Row2.default, { allowMultiple: true });

/***/ }),

/***/ 983:
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},[1219]);